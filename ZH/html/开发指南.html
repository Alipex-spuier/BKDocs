
    <html lang="zh-cn">
    <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <link href="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/default.css" rel="stylesheet">
    </head>
    <body>
    <h1 id="_1">开发简介</h1>
<p>腾讯蓝鲸智云提供了丰富的开发教程，促进运维开发社区的发展，授人以鱼更授人以渔，帮助社区伙伴自主构建更适合企业的研运一体化解决方案。</p>
<p>开发指南分为四部分：</p>
<h2 id="saas">一、SaaS 开发</h2>
<p>SaaS 开发是“运维开发”的基础技能，是<a href="https://bk.tencent.com/training_exam/">“腾讯蓝鲸智云-运维开发工程师”</a>认证考试的核心技能。基于 PaaS 平台“开发者中心”的服务，帮助运维同学低成本构建运营系统/工具。</p>
<p>一个 SaaS 的研发由两部分组成，一部分是前端，蓝鲸提供了可拖拽的<a href="https://magicbox.bk.tencent.com/">前端魔盒 MagicBox</a>，可以生成前端的 UI 组件和代码；另一部分是后台，蓝鲸提供了<a href="../SaaS开发/开发基础/framework2.md">“开发框架”</a>，集成了公共的后台模块，如登录、API 调用等。</p>
<p>建议学习路径：
-  <a href="../开发规范/前端开发规范/README.md">“开发规范”</a>：了解基础的开发注意事项
-  <a href="../SaaS开发/新手入门/macOS.md">“新手入门”</a>：搭建本地开发环境，输出“hello world”
-  <a href="../SaaS开发/开发基础/README.md">“开发基础”</a>：从前端 MagicBox，到后台开发框架，整体了解 SaaS 开发的基础技能
-  <a href="../SaaS开发/开发进阶/python_framework_advanced_usage.md">“开发进阶”</a>：根据难点，逐个提升运维开发技能
-  <a href="../SaaS开发/移动端开发/Mobile_development.md">“移动端开发”</a>：根据企业场景需要进行，不仅可以进行运维/运营工具研发，也可以进行行政类工具研发</p>
<h2 id="_2">二、开源共建</h2>
<p>腾讯蓝鲸智云体系的产品采用先“开放”再“开源”的策略。先将产品以“社区版”中产品的模式推出，交由社区用户体验，社区反馈良好后，再逐步走开源流程。开源后，统一放在 GitHub 和码云供下载和改造。</p>
<p>说明：由于社区版中的产品服务较多，为了保证社区版中产品和开源项目中产品的一致性，社区版若有更新，则对应开源项目中产品的 releases 就会发布一个包，以便社区用户可以随时用开源项目中的产品替换社区版中的产品，进行二次开发。</p>
<p>建议学习路径：
- <a href="../开源共建/README.md">了解开源项目本身</a>
- 学习开源项目与社区版的关系
- 进行二次开发，参与开源贡献</p>
<h2 id="_3">三、拓展开发</h2>
<p>为了让腾讯蓝鲸软件更适合企业的个性化需求，蓝鲸体系内的每个产品尽可能地通过提供 API 、开放协议等方式来使用户方便进行二次开发。其中最常用的是“API 网关”的研发，可以将企业内已有系统方便的接入到蓝鲸体系中，便于上层的 SaaS 来使用。</p>
<p>建议学习路径：
- <a href="../扩展开发/API网关/README.md">“API 网关”</a>
- <a href="../扩展开发/sops.md">“标准运维插件”</a>
- <a href="../扩展开发/对接企业登录体系/flow_chart.md">“对接企业登录体系”</a>
- <a href="../扩展开发/monitor.md">“蓝鲸监控采集插件”</a></p>
<h2 id="_4">四、基础信息</h2>
<p>基础信息是腾讯蓝鲸体系内通用的一些内容。
- <a href="../蓝鲸错误码/README.md">“蓝鲸错误码”</a>:帮助研发/运维同学快速定位和解决问题
- <a href="../../API文档/README.md">“API 文档”</a>:用来查询蓝鲸所有的 API 信息</p><h1 id="_1">术语解释</h1>
<ul>
<li>
<p><a href="./开发基础/README.md"><strong>蓝鲸开发框架 2.0</strong></a> : 快速在蓝鲸 PaaS 平台上开发 SaaS 的 <code>Python 框架</code> 。该开发框架基于 <code>Django 框架</code> 架构，并在此基础上进行扩展，增加蓝鲸系统的特有功能，例如：<code>身份验证</code>、<code>ESB 调用</code> 及 <code>模板渲染</code> 等功能，以便开发者可以更专注于 SaaS 的 <code>逻辑开发</code> 。</p>
</li>
<li>
<p><strong>蓝鲸 PaaS 访问地址</strong> : 例如 <code>paas.blueking.com</code>，<a href="../../部署指南/产品白皮书/基础包安装/多机部署/quick_install.md">部署蓝鲸私有化版本</a>成功后的访问蓝鲸的地址</p>
</li>
<li>
<p><strong>应用 ID</strong> : {APP_CODE} , 在蓝鲸开发者中心（ <code>蓝鲸 PaaS 访问地址</code> 中可找到）创建应用后生成的<code>唯一 ID</code></p>
</li>
<li>
<p><strong>应用 TOKEN</strong> : {SECRET_KEY} , 在蓝鲸开发者中心创建应用后生成和 <code>应用 ID</code> 匹配的 <code>安全秘钥</code></p>
</li>
</ul><h1 id="macos-helloworld">macOS 下输出 Hello,World</h1>
<p>基于 <code>蓝鲸开发框架 2.0</code> 上输出 <code>Hello,World!</code></p>
<blockquote>
<p>开发语言：<code>Python 3.6.X</code></p>
<p>操作系统：<code>macOS</code></p>
</blockquote>
<h2 id="_1">环境准备</h2>
<p>安装 Python 3.6.X、准备数据库、创建应用和准备代码仓库地址、虚拟环境（可选）</p>
<h3 id="python-36x">安装 Python 3.6.X</h3>
<p>下载并安装 <a href="https://www.python.org/downloads/">Python 3.6.X</a></p>
<h3 id="mysql">部署 MySQL</h3>
<ul>
<li><a href="https://dev.mysql.com/downloads/mysql/">官网下载 MySQL</a></li>
<li>修改用户环境变量和 MySQL 密码</li>
</ul>
<pre class="codehilite"><code class="language-bash">export PATH=$PATH:/Users/{YOUR_USERNAME}/Library/Python/3.7/bin:/usr/local/mysql/bin/
mysqladmin -uroot -p password {new_password}</code></pre>


<h3 id="_2">创建应用</h3>
<p>创建应用前，需提前准备代码仓库 (Git/SVN) ，推荐 <code>Git</code></p>
<ul>
<li>
<p>创建代码仓库</p>
<p>例如 <code>GitHub</code> 或 <code>GitLab</code></p>
</li>
<li>
<p>开发者中心创建应用</p>
<p>进入 <code>开发者中心</code> - <code>应用创建</code> ，填写上一步获取的 <code>git</code> 仓库地址和账号，创建成功后会获取 <code>应用 ID:{APP_CODE}</code>、<code>应用 TOKEN:{SECRET_KEY}</code> ，这两个变量后续会用到。</p>
</li>
</ul>
<h3 id="_3">准备虚拟环境</h3>
<ul>
<li><a href="https://pip.pypa.io/en/stable/user_guide/#config-file">修改 pip 源</a> (国内镜像)</li>
</ul>
<pre class="codehilite"><code class="language-bash">vim ~/.pip/pip.conf</code></pre>


<pre class="codehilite"><code class="language-bash">[global]
trusted-host = pypi.tuna.tsinghua.edu.cn
index-url = https://pypi.tuna.tsinghua.edu.cn/simple/
 ```

- 安装 [pipenv](https://zhuanlan.zhihu.com/p/37581807)

```bash
pip3 install pipenv</code></pre>


<ul>
<li>创建虚拟环境</li>
</ul>
<pre class="codehilite"><code class="language-bash">pipenv install</code></pre>


<ul>
<li>激活虚拟环境</li>
</ul>
<pre class="codehilite"><code class="language-bash">pipenv shell</code></pre>


<h2 id="_4">初始化开发框架</h2>
<h3 id="_5">下载开发框架</h3>
<ul>
<li>下载开发框架 <code>http://{PAAS_URL}/guide/newbie/#step3</code></li>
</ul>
<blockquote>
<p><code>{PAAS_URL}</code> 为蓝鲸 PaaS 访问地址，例如 <code>paas.blueking.com</code></p>
</blockquote>
<ul>
<li>安装框架依赖包</li>
</ul>
<pre class="codehilite"><code class="language-bash">pip3 install -r requirements.txt</code></pre>


<h3 id="_6">修改配置</h3>
<ul>
<li>
<p>修改应用(SaaS)配置</p>
<p>修改 config/__init__.py 中的 <code>APP_CODE</code> 和 <code>SECRET_KEY</code></p>
</li>
<li>
<p>修改 PaaS 地址</p>
<p>修改 config/__init__.py 中的 <code>BK_URL</code> 为 <code>{PAAS_URL}</code></p>
</li>
</ul>
<h3 id="_7">创建和初始化数据库</h3>
<p>打开 <code>MySQL</code> 命令行执行</p>
<pre class="codehilite"><code class="language-bash">CREATE DATABASE `{APP_CODE}` default charset utf8 COLLATE utf8_general_ci;</code></pre>


<blockquote>
<p>如果{APP_CODE}中包含连接符(-)，需要使用反引号( ` )转译，否则会报错</p>
<p><code>ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-blueking' at line 1</code></p>
</blockquote>
<p>并修改 <code>config/dev.py</code> 中 <code>DATABASES</code> 配置项</p>
<ul>
<li>初始化本地数据库(在工程根目录下)</li>
</ul>
<pre class="codehilite"><code class="language-bash">python manage.py migrate</code></pre>


<h3 id="_8">启动本地项目</h3>
<ul>
<li>先修改本地 hosts</li>
</ul>
<p><code>127.0.0.1 appdev.{PAAS_URL}</code></p>
<ul>
<li>启动项目</li>
</ul>
<pre class="codehilite"><code class="language-bash">python manage.py runserver appdev.{PAAS_URL}:8000</code></pre>


<ul>
<li>本地访问</li>
</ul>
<p>用浏览器访问 <code>http://appdev.{PAAS_URL}:8000</code> , 就可以看到开发框架</p>
<p><img alt="开发框架首页" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/assets/usage-index.png" /></p>
<h2 id="helloworld">Hello,World</h2>
<ul>
<li>修改视图 home_application/views.py</li>
</ul>
<pre class="codehilite"><code class="language-python">from django.http import HttpResponse
def hello(request):
    return HttpResponse('Hello World!')</code></pre>


<ul>
<li>添加路由 home_application/urls.py</li>
</ul>
<pre class="codehilite"><code class="language-python">url(r'^$', views.hello),</code></pre>


<ul>
<li>重新 <code>runserver</code> ,或在 <code>Visio Studio Code</code> 中保存会自动重新运行</li>
</ul>
<p><img alt="-w964" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/assets/15585122671345.jpg" /></p><h1 id="windows-helloworld">Windows 下输出 Hello,World</h1>
<p>基于 <code>蓝鲸开发框架 2.0</code> 上输出 <code>Hello,World!</code></p>
<blockquote>
<p>开发语言：<code>Python 3.6.X</code></p>
<p>操作系统：<code>Windows 10</code></p>
</blockquote>
<h2 id="_1">环境准备</h2>
<p>安装 Python 3.6.X、准备数据库、创建应用和准备代码仓库地址、虚拟环境（可选）</p>
<h3 id="python-36x">安装 Python 3.6.X</h3>
<p>下载 Python 3.6.X 的 <a href="https://www.python.org/downloads/">Windows x86-64 executable installer</a>（现在一般都是 64 位系统）</p>
<p>勾选 <code>Add Python 3.6 to PATH</code>，按提示安装即可。</p>
<p><img alt="安装Python3.6.X" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/assets/installPyhton3.6.x.png" /></p>
<p>安装包会自动安装 <code>pip</code></p>
<p><img alt="Python3.6.X安装完校验" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/assets/Python3.6.x校验.png" /></p>
<h3 id="mysql">部署 MySQL</h3>
<ul>
<li><a href="https://dev.mysql.com/downloads/mysql/">官网下载 MySQL</a> ,选择<code>.msi</code>文件进行下载 ，按提示安装即可。</li>
</ul>
<h3 id="git">创建应用和准备 git 仓库地址</h3>
<p>创建应用前，需提前准备代码仓库(Git/SVN)，推荐 <code>Git</code></p>
<ul>
<li>
<p>创建代码仓库</p>
<p>例如 <code>GitHub</code> 或 <code>GitLab</code></p>
</li>
<li>
<p>开发者中心创建应用</p>
<p>进入 <code>开发者中心</code> - <code>应用创建</code> ，填写上一步获取的 <code>git</code> 仓库地址和账号，创建成功后会获取 <code>应用 ID:{APP_CODE}</code>、<code>应用 TOKEN:{SECRET_KEY}</code> ，这两个变量后续会用到。</p>
</li>
</ul>
<h3 id="_2">准备虚拟环境 (可选：只有一个开发项目的可忽略)</h3>
<ul>
<li>
<p><a href="https://pip.pypa.io/en/stable/user_guide/#config-file">修改 pip 源</a> (国内镜像)</p>
<p>在 <code>C:\Users\{YOUR_USERNAME}\AppData\Roaming</code> (Windows 10 默认隐藏 <code>AppData</code> 目录，需先去掉隐藏)目录中创建 <code>pip</code> 文件夹，在 pip 文件夹下创建 <code>pip.ini</code></p>
<p><code>bash
[global]
trusted-host = pypi.tuna.tsinghua.edu.cn
index-url = https://pypi.tuna.tsinghua.edu.cn/simple/</code></p>
</li>
<li>
<p>安装 <a href="https://zhuanlan.zhihu.com/p/37581807">pipenv</a></p>
</li>
</ul>
<pre class="codehilite"><code class="language-bash">pip3 install pipenv</code></pre>


<ul>
<li>创建虚拟环境</li>
</ul>
<pre class="codehilite"><code class="language-bash">pipenv install</code></pre>


<ul>
<li>激活虚拟环境</li>
</ul>
<pre class="codehilite"><code class="language-bash">pipenv shell</code></pre>


<h2 id="_3">初始化开发框架</h2>
<h3 id="_4">下载开发框架</h3>
<ul>
<li>下载开发框架 <code>http://{PAAS_URL}/guide/newbie/#step3</code></li>
</ul>
<blockquote>
<p><code>{PAAS_URL}</code>为蓝鲸 PaaS 访问地址，例如 <code>paas.blueking.com</code></p>
</blockquote>
<ul>
<li>安装框架依赖包</li>
</ul>
<pre class="codehilite"><code class="language-bash">pip3 install -r requirements.txt</code></pre>


<h3 id="_5">修改配置</h3>
<p>修改 config/__init__.py 中的 <code>APP_CODE</code> 和 <code>SECRET_KEY</code>(应用 TOKEN)</p>
<ul>
<li>修改 PaaS 地址</li>
</ul>
<p>修改 config/__init__.py 中的 <code>BK_URL</code> 为 <code>{PAAS_URL}</code></p>
<h3 id="_6">创建和初始化数据库</h3>
<p>打开 <code>MySQL</code> 命令行执行</p>
<pre class="codehilite"><code class="language-bash">CREATE DATABASE `{APP_CODE}` default charset utf8 COLLATE utf8_general_ci;</code></pre>


<blockquote>
<p>如果 {APP_CODE} 中包含连接符 (-)，需要使用反引号( ` )转译，否则会报错</p>
<p><code>ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-blueking' at line 1</code></p>
</blockquote>
<p>并修改 <code>config/dev.py</code> 中 <code>DATABASES</code> 配置项</p>
<ul>
<li>初始化本地数据库(在工程根目录下)</li>
</ul>
<pre class="codehilite"><code class="language-bash">python manage.py migrate</code></pre>


<h3 id="_7">启动本地项目</h3>
<ul>
<li>先修改本地 hosts</li>
</ul>
<p><code>127.0.0.1 appdev.{PAAS_URL}</code></p>
<ul>
<li>启动项目</li>
</ul>
<pre class="codehilite"><code class="language-bash">python manage.py runserver appdev.{PAAS_URL}:8000</code></pre>


<ul>
<li>本地访问
用浏览器访问 <code>http://appdev.{PAAS_URL}:8000</code> , 就可以看到开发框架</li>
</ul>
<p><img alt="开发框架首页" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/assets/usage-index.png" /></p>
<h2 id="helloworld">Hello,World</h2>
<ul>
<li>修改视图 home_application/views.py</li>
</ul>
<pre class="codehilite"><code class="language-python">from django.http import HttpResponse
def hello(request):
    return HttpResponse('Hello World!')</code></pre>


<ul>
<li>添加路由 home_application/urls.py</li>
</ul>
<pre class="codehilite"><code class="language-bash">url(r'^$', views.hello),</code></pre>


<ul>
<li>重新 <code>runserver</code> ,或在 <code>Visio Studio Code</code> 中保存会自动重新运行
<img alt="-w2020" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/assets/15585122671345.jpg" /></li>
</ul><h1 id="saas">部署 SaaS 到测试/正式环境</h1>
<h2 id="_1">创建测试环境和正式环境数据库</h2>
<p>准备 MySQL Server，创建测试环境和正式环境数据库，确保 <code>install.config</code> 中配置的 <code>appt</code> 和 <code>appt</code> 服务器可访问该 DB</p>
<p>并修改 <code>config/prod.py</code> 和 <code>stag.py</code></p>
<h2 id="_2">提交代码到仓库</h2>
<ul>
<li>
<p>安装 <a href="https://www.git-scm.com/download/win">Git</a></p>
</li>
<li>
<p>使用 <code>Git Bash</code> 右键打开项目根目录</p>
<p><img alt="使用git打开目录" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/assets/%E4%BD%BF%E7%94%A8git%E6%89%93%E5%BC%80%E7%9B%AE%E5%BD%95.png" /></p>
</li>
<li>
<p>提交项目到仓库</p>
</li>
</ul>
<pre class="codehilite"><code class="language-bash">git init
git remote add origin {GIT_Repository_URL}
git add .
git commit -m &quot;add blueking framework2.0&quot;
git push -u origin master</code></pre>


<h2 id="_3">在开发者中心部署至测试环境和正式环境</h2>
<ul>
<li>测试环境部署</li>
</ul>
<p><code>开发者中心</code> - <code>我的应用</code> - <code>部署</code> - <code>测试环境一键部署</code></p>
<ul>
<li>正式环境部署</li>
</ul>
<p><code>开发者中心</code> - <code>我的应用</code> - <code>部署</code> - <code>正式环境一键部署</code></p><h1 id="_1">常见问题</h1>
<h2 id="ide">IDE 有哪些推荐</h2>
<p>比如 <code>Visio Studio Code</code>
<img alt="Visio_Studio_Code" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/assets/Visio_Studio_Code.png" /></p>
<ul>
<li>
<p>语言设置为中文</p>
<ul>
<li>macOS: <code>Command+Shift+P</code> 选择 <code>Configure Display Language</code></li>
<li>Windows: <code>Ctrl+Shift+P</code> 选择 <code>Configure Display Language</code></li>
</ul>
</li>
<li>
<p>记住 git 账号</p>
</li>
</ul>
<pre class="codehilite"><code class="language-bash">git config --global credential.helper store</code></pre>


<h2 id="_2">如何隔离多套开发环境</h2>
<p>通过<a href="https://zhuanlan.zhihu.com/p/37581807">pipenv</a>，在本地隔离多套开发环境
<img alt="pipenv" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/assets/pipenv.png" /></p>
<ul>
<li>
<p>进入 <code>pipenv</code> 环境没有加载用户环境变量如何处理？</p>
<p>可以修改通过 <code>pipenv shell</code> 进入虚拟环境时提示的 <code>activate</code> 文件，在该文件中追加对应的命令即可</p>
<p>例如新增如下一行，可以使用 <code>ll</code> 查看文件列表.</p>
<p><code>bash
alias ll="ls -lh"</code></p>
</li>
</ul>
<p>详细方案可参考<a href="../开发基础/PYTHON2_3.md">python 多环境开发方案</a>。</p><h1 id="python">Python 开发框架简介</h1>
<p>Python 开发框架是集成了蓝鲸系统功能，方便开发者可以快速在蓝鲸 PaaS 平台上开发 SaaS 的 Python 框架。</p>
<p>该开发框架基于 Django 框架架构，并在此基础上进行扩展，增加蓝鲸系统的特有功能，</p>
<p>例如：身份验证、ESB 调用及模板渲染等功能，以便开发者可以更专注于 SaaS 的逻辑开发。</p><h1 id="_1">应用内登陆弹窗适配方案</h1>
<h2 id="_2">整体实现思路</h2>
<p>方案主要解决在登陆态失效时，ajax 请求不会触发页面整体刷新，而是在页面内弹出登陆小窗，使得用户可以保留当前页面的未保存内容。主要流程如下：
<img alt="login_plain_usage.png" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/assets/LOGIN_PLAIN_USAGE.png" /></p>
<h2 id="python">样例代码(Python 项目为例)</h2>
<ul>
<li>login.js</li>
<li>用途：在 ajax 请求返回 401 时，可以识别请求返回的内容并打开弹窗</li>
</ul>
<pre class="codehilite"><code class="language-javascript">/**
* 登录相关 JS，其中 remote_static_url &amp; static_url 来源于全局变量
*/

document.write(&quot; &lt;script lanague=\&quot;javascript\&quot; src=\&quot;&quot;+remote_static_url+&quot;artdialog/jquery.artDialog.js?skin=simple\&quot;&gt; &lt;\/script&gt;&quot;);

/**
* 对 AJAX 请求做一些统一公共处理，目前主要是对登录页面做处理
*/
$.ajaxSetup({
    statusCode: {
        401: function(xhr) {
            var response = JSON.parse(xhr.responseText);
             // 确认当前版本是否支持 Iframe 登录方式
            if (!response.has_plain) {
                window.location.reload();
            }

            try{
                window.top.BLUEKING.corefunc.open_login_dialog(response['login_url']);
            }catch(err){
                open_login_dialog(
                    response['login_url'], response['width'], response['height']);
                }
        }
    }
});

/**
* 打开登录窗口
*/
function open_login_dialog(src, width, height){
    var login_html = '&lt;div class=&quot;mod_login&quot; id=&quot;loginbox&quot; style=&quot;padding: 0px 0px; visibility: visible;&quot; align=&quot;center&quot;&gt;' +
                     '&lt;iframe name=&quot;login_frame&quot; id=&quot;login_frame&quot;  width=&quot;100%&quot; height=&quot;100%&quot; frameborder=&quot;0&quot; allowtransparency=&quot;yes&quot;  src=&quot;'+src+
                     '&quot; style=&quot;width:'+width+'px;height:'+height+'px;&quot;&gt;&lt;/iframe&gt;' +
                     '&lt;/div&gt;';
    art.dialog({
        id:&quot;401_dialog&quot;,
        fixed: true,
        lock: true,
        padding: &quot;0px 0px&quot;,
        content: login_html
    });
}

/**
* 关闭登录框
*/
function close_login_dialog(){
    art.dialog({id: '401_dialog'}).close();

    try {
        window.close_login_dialog_after();
    } catch(err){}
}</code></pre>


<ul>
<li>Login_success.html</li>
<li>用途：在用户登录成功后，触发关闭登录弹窗</li>
</ul>
<pre class="codehilite"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;登录成功&lt;/title&gt;
        &lt;script src=&quot;{{ REMOTE_STATIC_URL }}jquery/jquery-1.7.2.min.js&quot;&gt;&lt;/script&gt;
        &lt;script src=&quot;{{ REMOTE_STATIC_URL }}jquery/jquery.json-2.3.min.js&quot;&gt;&lt;/script&gt;
        &lt;link href=&quot;{{ REMOTE_STATIC_URL }}bk/bk.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div class=&quot;errors-login-failure-wrap box&quot;&gt;
            &lt;div class=&quot;errors-login-fialure-con clearfix&quot; style=&quot;border: none;&quot;&gt;
                &lt;img src=&quot;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/开发基础/{{ REMOTE_STATIC_URL }}bk/style_custom/images/expre_login.jpg&quot; width=&quot;183&quot; height=&quot;112&quot; /&gt;
                &lt;h1&gt;登录成功&lt;/h1&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/body&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        $(document).ready(function () {
            // 关闭登录弹出框
            try{
                window.top.BLUEKING.corefunc.close_login_dialog();
            }catch(err){
                try{
                    window.parent.close_login_dialog();
                }catch(err){}
            }
        });
    &lt;/script&gt;
&lt;/html&gt;</code></pre>


<ul>
<li>登录失效 401 返回格式</li>
<li>用途：告知浏览器登录弹窗需要打开的 URL 以及弹窗大小</li>
</ul>
<pre class="codehilite"><code class="language-json">{
  &quot;login_url&quot;: &quot;https://{PaaS_URL}:443/login/plain/?c_url=https%3A//{PaaS_URL}/t/framework-login/account/login_success/&amp;app_code=framework-login&quot;,
  &quot;width&quot;: 460,
  &quot;height&quot;: 490,
  &quot;has_plain&quot;: true
}</code></pre>


<blockquote>
<p><strong>注意</strong>：其中，c_url 是告知平台登录成功后，应该让用户重定向到何页面。此处，我们让用户浏览器重定向到上方的 login_success.html 关闭弹窗</p>
</blockquote>
<h2 id="_3">注意事项</h2>
<ul>
<li>
<p>对于使用 Python 开发框架的开发者，可以更新至最新的开发框架，并将<code>IS_AJAX_PLAIN_MODE</code>配置改为<code>True</code>即可以完成适配</p>
</li>
<li>
<p>上述的 js 样例是按照 ajax 使用 jquery 发送的配置样例，各项目应该按需调整</p>
</li>
<li>
<p>注意测试需要在同样的域名或有允许跨域头的情况下进行操作，否则关闭弹窗时会有跨域的问题</p>
</li>
</ul><h1 id="20">开发框架 2.0 使用说明</h1>
<h2 id="_1">目录结构说明</h2>
<h3 id="_2">项目目录结构</h3>
<pre class="codehilite"><code class="language-bash">- blueapps                    # Python开发框架模块
- blueking                    # ESB调用模块
- config                      # 应用配置目录
  - __init__.py               # 应用 RUN_VER(社区版为open)、APP_CODE 和 SECRET_KEY 等配置
  - dev.py                    # 本地开发配置(开发团队共享)
  - default.py                # 全局配置
  - prod.py                   # 生产环境配置
  - stag.py                   # 预发布环境配置
- home_application            # Django 模板应用样例
  - __init__.py
  - admin.py
  - urls.py
  - models.py
  - tests.py
  - views.py
  - templates                 # Django 模板
    - home_application
      - contact.html          # 联系我们页面
      - dev_guide.html        # 开发指引
      - index_home.html       # 首页
- mako_templates              # mako 公共模板文件
  - base.mako                 # mako 模板基础文件，其他的页面可以从这里继承
- mako_application            # mako 模板应用样例
  - __init__.py
  - admin.py
  - urls.py
  - models.py
  - tests.py
  - views.py
  - mako_templates            # 模板
    - mako_application
      - contact.html          # 联系我们页面
      - dev_guide.html        # 开发指引
      - index_home.html       # 首页
- static                      # 公共静态文件
  - js                        # 公共 js
    - csrftoken.js            # CSRFTOKEN
    - settings.js             # 异常处理
- templates                   # 公共模板文件
  - admin                     # admin 模板文件
    - base_site.html
    - login.html
  - base.html                 # Django 模板基础文件，其他的页面可以从这里继承
- manage.py                   # Django 工程 manage
- requirements.txt            # 依赖的 python 包列表
- settings.py                 # Django 工程 settings
- urls.py                     # Django 工程主路由 URL 配置
- wsgi.py                     # WSGI配置
- runtime.txt                 # Python 版本配置文件，默认指向 Python 3.6.2版本</code></pre>


<h3 id="_3">常用配置说明</h3>
<ul>
<li>App 基本信息</li>
</ul>
<p>在 config/_<em>init_</em>.py 可以查看 App 基本信息，请修改：APP_CODE、SECRET_KEY (用于 App 认证)和 BK_URL(蓝鲸 SaaS 平台的 URL)。RUN_VER 是当前 App 运行的 PaaS 版本，请不要修改。</p>
<ul>
<li>App 运行环境</li>
</ul>
<p>在 config/dev.py、config/stag.py、config/prod.py 中都有一个 RUN_MODE 的变量，用来标记 App 运营环境(DEVELOP：本地环境，STAGING：预发布环境，PRODUCT：正式环境)，请不要修改。</p>
<ul>
<li>日志级别和路径</li>
</ul>
<p>开发框架默认配置的日志级别是 INFO，你可以在 config/default.py 修改 LOG_LEVEL 变量，会对所有运行环境生效，你也可以单独修改 config/dev.py、config/stag.py、config/prod.py 文件，详情请参考“<a href="./framework2.md#日志使用">日志使用</a>”。</p>
<p>你不需要关心线上运行环境的日志路径，这些开发框架已经自动帮你配置了；</p>
<p>本地的日志放在和项目根目录同一级的 logs 目录下，以 APP_CODE 命名的文件夹中，其中 {APP_CODE}-django.log 是应用日志，{APP_CODE}-celery.log 是 celery 日志，{APP_CODE}-component.log 是组件日志，{APP_CODE}-mysql.log 是数据库日志。</p>
<ul>
<li>数据库配置</li>
</ul>
<p>本地数据库配置请在 config/dev.py 修改 DATABASES 变量；多人合作开发建议在根目录下新建 local_settings.py 文件，并配置 DATABASES 变量，并且在版本控制中忽略 local_settings.py，这样的好处是防止多人合作开发时本地配置不一致导致代码冲突。</p>
<h2 id="python">开发环境搭建(Python)</h2>
<h3 id="python36">安装 Python(3.6)</h3>
<p>如果系统中已经安装有 Python2 版本，可以参考 Python 版本切换了解<a href="PYTHON2_3.md">Python3 与 Python2 并存的处理方案</a></p>
<h3 id="mysql55">安装 MySQL(5.5 以上)</h3>
<h3 id="setuptoolspip">安装 setuptools、pip 和项目依赖</h3>
<pre class="codehilite"><code class="language-bash">pip3 install -r requirements.txt</code></pre>


<blockquote>
<p>注意：由于依赖中存在 mysqlclient，该模块存在对 C 环境的依赖，开发者可以参考<a href="https://github.com/PyMySQL/mysqlclient-python#install">项目主页</a>安装说明</p>
<p>此处不使用 PyMySQL 原因是该模块与 Django2.2 存在兼容<a href="https://github.com/PyMySQL/PyMySQL/issues/790">问题</a></p>
</blockquote>
<h3 id="_4">安装本地开发工具</h3>
<p>推荐使用 <a href="https://www.jetbrains.com/pycharm/download">pycharm</a> 进行代码开发，使用 <a href="https://tortoisesvn.net/index.zh.html">TortoiseSVN</a> 管理 SVN，使用 <a href="https://www.sourcetreeapp.com/">SourceTree</a> 管理 GIT。</p>
<h3 id="celery">安装 celery(需要使用后台任务的项目)</h3>
<p>安装项目依赖时会自动安装 celery==3.1.25 和 django-celery==3.2.1。目前 celery 支持 redis、rabbitmq 作为任务的消息队列，推荐使用 redis。</p>
<ul>
<li>mac 系统 redis 使用指南：</li>
</ul>
<p>安装指令 <code>brew install redis</code>；</p>
<p>启动指令 <code>redis-server</code>；</p>
<p>测试 redis 服务是否正常启动，<code>redis-cli</code> 尝试连接本地的 redis 服务。</p>
<ul>
<li>windows 系统 redis 使用指南</li>
</ul>
<p>下载安装地址：<a href="https://github.com/MicrosoftArchive/redis/releases">https://github.com/MicrosoftArchive/redis/releases</a></p>
<p>点击安装目录下的 redis-server.exe 启动 redis 服务。</p>
<ul>
<li>配置项(在 config/dev.py 文件中修改消息队列配置)</li>
</ul>
<pre class="codehilite"><code class="language-python"># Celery 消息队列设置 RabbitMQ
# BROKER_URL = 'amqp://guest:guest@localhost:5672//'

# Celery 消息队列设置 Redis
BROKER_URL = 'redis://localhost:6379/0'</code></pre>


<blockquote>
<p>注意：由于 redis-3.0 及以后模块存在兼容问题，所以在安装 redis 模块是，请增加上版本控制要求<code>redis&gt;=2.10.6,&lt;3</code></p>
</blockquote>
<h3 id="hosts">配置 hosts</h3>
<p>本地需要修改 hosts 文件，添加如下内容：</p>
<blockquote>
<p><strong>注意</strong>： domain_name 应该修改为 PaaS 平台的域名</p>
</blockquote>
<pre class="codehilite"><code class="language-bash">127.0.0.1 appdev.`{domain_name}`</code></pre>


<h3 id="_5">配置本地数据库</h3>
<p>首先在 MySQL 命令行下创建数据库：</p>
<pre class="codehilite"><code class="language-bash">CREATE DATABASE  `{APP_CODE}` default charset utf8 COLLATE utf8_general_ci;</code></pre>


<p>然后配置本地数据库账号密码，需要找到 config/dev.py 中的 DATABASES 配置项，修改 USER 和 PASSWORD。</p>
<h3 id="_6">初始化本地数据库</h3>
<p>在项目根目录下执行如下命令初始化本地数据库：</p>
<pre class="codehilite"><code class="language-bash">python manage.py migrate</code></pre>


<p>如果遇到错误，请先注释掉 config/default.py 的 INSTALLED_APPS 中的 APP 列表，执行命令后再去掉注释。</p>
<h3 id="_7">启动项目</h3>
<p>在项目根目录下执行如下命令启动项目：</p>
<pre class="codehilite"><code class="language-bash">python manage.py runserver</code></pre>


<p>接着在浏览器访问 appdev.<code>{domain_name}</code> 就可以访问到项目首页了。</p>
<p><img alt="image-20190505204958140" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/assets/usage-index.png" /></p>
<h2 id="application">新建 application</h2>
<h3 id="django-admin-startapp-yourappname">在根目录下执行 django-admin startapp yourappname</h3>
<h3 id="yourappname-urlspy">进入 yourappname 目录，新增 urls.py</h3>
<h3 id="_8">编写逻辑代码和路由配置代码</h3>
<h3 id="yourappname-configdefaultpy-installed_apps">把 yourappname 加入 config/default.py 的 INSTALLED_APPS 中</h3>
<h2 id="model">定义 model</h2>
<h3 id="application-modelspy-model">在新建的 application 中 models.py 定义 model</h3>
<p>官方文档：<a href="https://docs.djangoproject.com/en/2.2/topics/db/models/">Django Models</a></p>
<h3 id="_9">生成数据库变更文件</h3>
<p>在项目根目录下执行如下命令：</p>
<pre class="codehilite"><code class="language-bash">python manage.py makemigrations yourappname</code></pre>


<p>执行成功后就会生成数据库变更文件，文件位于新建 APP 的 migrations 目录中。</p>
<h3 id="_10">生效数据库变更</h3>
<p>在项目根目录下执行如下命令：</p>
<pre class="codehilite"><code class="language-bash">python manage.py migrate yourappname</code></pre>


<blockquote>
<p><strong>注意</strong>：在把 yourappname 加入 config/default.py 的 INSTALLED_APPS 中之前，请先执行 python manage.py migrate 初始化数据库。</p>
</blockquote>
<h2 id="_11">使用模板</h2>
<p>开发框架支持 Django、 Mako 两种模板渲染引擎，在 Django 工程下每个 App 维护自身的模板文件，以下以 APP_NAME 代表 Django APP 名称。</p>
<h3 id="django">Django 模板文件使用方式</h3>
<p>请将你的 Django 模板文件 xxx.html 放在 <code>PROJECT_ROOT/APP_NAME/templates/</code> 目录底下，建议在 templates 底下在加上一层目录，取名为 APP_NAME，即最终模板文件存放路径为 <code>PROJECT_ROOT/APP_NAME/templates/APP_NAME</code>，这是为了避免在寻找模板文件的时候，出现覆盖的情况。</p>
<p>使用 Django 原生支持的 render 方法进行模板渲染。</p>
<pre class="codehilite"><code class="language-python">from django.shortcuts import render

def index(request):
    return render(request, 'APP_NAME/index.html', {})</code></pre>


<p>render 函数接受三个参数：
* 第一个参数 request 对象。
* 第二个参数 模板路径，从 APP templates 目录开始写起，此处对应的完整路径为 <code>PROJECT_ROOT/APP_NAME/templates/APP_NAME/index.html</code>，注意不要在前面加 '/'，否则会被识别为绝对路径，找不到对应的模板。
* 第三个参数 传入的模板上下文，用于替换模板中的变量。</p>
<blockquote>
<p>为什么 templates 目录底下还需要再加一层以 APP_NAME 命名的目录？
假设 settings INSTALLED_APPS = ('app1', 'app2')，工程目录如下
<code>bash
PROJCET_ROOT
|__ app1
|__ __ templates
|__ __ __ index.html
...
|__ app2
|__ __ templates
|__ __ __ index.html</code></p>
<p>当我们在 app2.views 里使用 <code>render(request, 'index.html', {})</code> 语句进行渲染时，Django 框架默认以 INSTALLED_APPS 安装次序进行模板文件查找，这时候会匹配到 <code>app1/templates/index.html</code> 文件进行渲染，导致得到非预期的结果。所以推荐  <code>PROJECT_ROOT/APP_NAME/templates/APP_NAME</code> 这样的目录设计
</p>
</blockquote>
<h3 id="mako">Mako 模板文件使用方式</h3>
<p>Mako 模板文件使用方式大致与 Django 模板文件相同，唯一的区别就是是 Mako 模板文件放在 <code>PROJECT_ROOT/APP_NAME/mako_templates/</code> 目录底下，同样建议在 mako 底下在加上一层目录，取名为 APP_NAME，最终模板文件存放路径为 <code>PROJECT_ROOT/APP_NAME/mako_templates/APP_NAME</code>。</p>
<blockquote>
<p><strong>注意</strong>：出于安全原因，强烈建议用户使用 Django 模板替代 Mako 进行渲染，防止 XSS 攻击。</p>
</blockquote>
<h3 id="template-context">Template-Context 平台框架提供的模板变量</h3>
<p>这里列举的模板变量，不需要用户在 render 模板时传入，可直接在模板文件中访问到，直接使用。</p>
<pre class="codehilite"><code class="language-python">context = {
    'STATIC_URL': settings.STATIC_URL,                    # 本地静态文件访问
    'APP_PATH': request.get_full_path(),                  # 当前页面，主要为了 login_required 做跳转用
    'RUN_MODE': settings.RUN_MODE,                        # 运行模式
    'APP_CODE': settings.APP_CODE,                        # 在蓝鲸系统中注册的 &quot;应用编码&quot;
    'SITE_URL': settings.SITE_URL,                        # URL前缀
    'REMOTE_STATIC_URL': settings.REMOTE_STATIC_URL,      # 远程静态资源 url
    'STATIC_VERSION': settings.STATIC_VERSION,            # 静态资源版本号,用于指示浏览器更新缓存
    'BK_URL': settings.BK_URL,                            # 蓝鲸平台 URL
    'USERNAME': username,                                 # 用户名
    'NICKNAME': nickname,                                 # 用户昵称
    'AVATAR_URL': avatar_url,                             # 用户头像
}</code></pre>


<h2 id="_12">静态资源使用规范</h2>
<ul>
<li>静态文件按模块划分，分别放在 Django 工程中每个对应 APP 的 static 目录下</li>
</ul>
<p>请将你的 Django 静态文件 xxx.js 和 xxx.css 放在 PROJECT_ROOT/APP_NAME/static/ 目录底下，建议在 static 底下在加上一层目录，取名为 APP_NAME，即最终模板文件存放路径为 PROJECT_ROOT/APP_NAME/static/APP_NAME[/js 或者/css]，这是为了避免在寻找静态文件的时候，出现覆盖的情况。</p>
<ul>
<li>
<p>修改静态文件后要手动运行 python manage.py collectstatic 命令来收集静态文件到根目录的 static 文件夹中。</p>
</li>
<li>
<p>settings 需要包含 STATIC_ROOT 配置。</p>
</li>
</ul>
<pre class="codehilite"><code class="language-python">STATIC_ROOT = os.path.join(BASE_DIR, 'staticfiles')</code></pre>


<ul>
<li>框架已配置全局有效的静态目录，可以将所有公共使用的静态资源放置于此。</li>
</ul>
<pre class="codehilite"><code class="language-python">STATICFILES_DIRS = (
    os.path.join(BASE_DIR, 'static'),
)</code></pre>


<p>其中 BASE_DIR 是工程根目录路径。</p>
<h2 id="celery_1">celery 使用</h2>
<p>celery 是一个简单、灵活且可靠的，处理大量消息的分布式系统，并且提供维护这样一个系统的必需工具。
它是一个专注于实时处理的任务队列，同时也支持任务调度。</p>
<h3 id="celery_2">打开 Celery 配置</h3>
<p>在 config/default.py 中修改配置：</p>
<pre class="codehilite"><code class="language-python">IS_USE_CELERY = True</code></pre>


<h3 id="celery_3">添加 Celery 任务</h3>
<p>在 app 底下创建 tasks.py 文件，添加 @task 任务：</p>
<pre class="codehilite"><code class="language-python">from celery import task

@task
def mul(x, y):
    return x * y</code></pre>


<p>如果 @task 任务函数不在 app/tasks.py 文件中，需要在 config/default.py 中添加配置：</p>
<pre class="codehilite"><code class="language-python">CELERY_IMPORTS = (
    'testapp.tasks'
)</code></pre>


<h3 id="celery-worker">启动异步任务服务 celery worker</h3>
<p>在根目录执行：</p>
<pre class="codehilite"><code class="language-bash">python manage.py celery worker -l info</code></pre>


<h3 id="celery-beat">启动周期性任务服务 celery beat</h3>
<p>在根目录执行：</p>
<pre class="codehilite"><code class="language-bash">python manage.py celery beat -l info</code></pre>


<h3 id="_13">添加周期任务</h3>
<p>进入 admin，在 DJCELERY-&gt;Periodic_tasks 表中添加一条记录。</p>
<h3 id="celery_4">如何在平台部署时，自动启动 celery 进程</h3>
<p>修改 IS_USE_CELERY = True，并在提测发布 SaaS 的时候，勾选使用 Celery 任务</p>
<h3 id="celery-worker_1">调整 celery worker 并发数</h3>
<ul>
<li>
<p>CELERYD_CONCURRENCY 参数官方说明：<a href="http://docs.celeryproject.org/en/v2.2.4/configuration.html#celeryd-prefetch-multiplier">官方文档</a></p>
</li>
<li>
<p>目前开发框架设置的 celery 并发数是 2，如需调整，有 2 种方法：</p>
</li>
</ul>
<p>1)在蓝鲸平台的 APP 环境变量新增 KEY 为 CELERYD_CONCURRENCY 的变量，并设置对应的值(调大前建议咨询平台维护同事)。</p>
<p>2)直接修改 APP 中的配置，即修改 config/default.py 文件中如下配置的默认值 2 为你想要设置的值。</p>
<pre class="codehilite"><code class="language-python">CELERYD_CONCURRENCY = os.getenv('BK_CELERYD_CONCURRENCY', 2)</code></pre>


<h3 id="celery-rabbitmq">调整 celery 与 RabbitMQ 心跳包发送时间</h3>
<ul>
<li>
<p>BROKER_HEARTBEAT 参数官方说明：<a href="https://docs.celeryproject.org/en/3.1/configuration.html?#std:setting-BROKER_HEARTBEAT">官方文档</a></p>
</li>
<li>
<p>目前开发框架设置的 BROKER_HEARTBEAT 发送时间是 60，即每 60 秒发送一个心跳包，如需调整，有以下方法：</p>
</li>
</ul>
<p>直接修改 APP 中的配置，即在 config/default.py 文件中添加相应配置，框架默认的配置会被覆盖。</p>
<pre class="codehilite"><code class="language-python"># CELERY与RabbitMQ增加60秒心跳设置项
BROKER_HEARTBEAT = 60</code></pre>


<h2 id="_14">日志使用</h2>
<ul>
<li>日志相关配置方式复用 Django 的配置方式：<a href="https://docs.djangoproject.com/en/2.2/topics/logging/#using-logging">官方文档</a></li>
</ul>
<pre class="codehilite"><code class="language-python">import logging
logger = logging.getLogger('app')       # 普通日志
logger_celery = logging.getLogger('celery')   # celery日志
logger.error('log your info here.')

# 第二种方式
from blueapps.util.logger import logger         # 普通日志
from blueapps.util.logger import logger_celery  # celery日志
logger.error('log your info here.')</code></pre>


<ul>
<li>日志输出路径：</li>
</ul>
<p>本地输出路径在和项目根目录平级的 logs 目录下。</p>
<pre class="codehilite"><code class="language-bash">- PROJCET_ROOT
- logs
    - APP_CODE
        - APP_CODE-celery.log
        - APP_CODE-component.log
        - APP_CODE-django.log
        - APP_CODE-mysql.log</code></pre>


<ul>
<li>日志级别配置：</li>
</ul>
<p>日志级别默认是 INFO，如需修改： </p>
<ol>
<li>
<p>所有环境下的日志级别，请在 config/default.py 对应位置修改日志级别：
   <code>python
   LOG_LEVEL = "DEBUG"
   # load logging settings
   LOGGING = get_logging_config_dict(locals())</code></p>
</li>
<li>
<p>如果只希望针对特定环境进行日志级别设置，则在对应环境配置文件（ config/prod.py（只影响生产环境）、config/stag.py（只影响预发布环境）、config/dev.py（只影响预本地开发环境））中取消对应代码注释并修改日志级别：
   <code>python
   # 自定义本地环境日志级别
   from blueapps.conf.log import set_log_level # noqa
   LOG_LEVEL = "DEBUG"
   LOGGING = set_log_level(locals())</code>
    <strong>注意</strong>: 这种修改方式依赖 blueapps 版本 &gt;= 3.3.1。</p>
</li>
</ol>
<p>其中，不同配置的含义如下：
1. DEBUG：用于调试目的的底层系统信息
2. INFO：普通的系统信息
3. WARNING：表示出现一个较小的问题。
4. ERROR：表示出现一个较大的问题。
5. CRITICAL：表示出现一个致命的问题。</p>
<h2 id="_15">异常处理</h2>
<p>为了减少代码中判断函数调用的判断逻辑，蓝鲸开发框架提出，开发者应该在异常处直接抛出异常，通过 Django 中间件特性来处理该异常。</p>
<h3 id="_16">使用样例</h3>
<pre class="codehilite"><code class="language-python">from blueapps.core.exceptions import ParamValidationError
def your_view_func(request):
  form = your_form(request.POST)
  if not form.is_valid():
    raise ParamValidationError(u'参数验证失败,请确认后重试')
  # do something you want</code></pre>


<blockquote>
<p><strong>注意</strong>：此处只是一个简单的示例。我们强烈的建议开发者应该在任何有错误的地方直接抛出异常，而非返回错误，由上层逻辑处理。</p>
</blockquote>
<h3 id="_17">异常类型介绍</h3>
<p>蓝鲸开发框架异常类主要分为两类：客户端异常及服务端异常，分别对应由于客户端请求引起的错误和后台服务引起的错误。开发者可以根据引起错误的场景来选择需要抛出的异常。</p>
<ul>
<li>
<p>异常类所在命名空间</p>
<ul>
<li>blueapps.core.exceptions</li>
</ul>
</li>
<li>
<p>服务端异常</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>错误类</th>
<th>说明</th>
<th>http 状态码</th>
<th>返回错误码</th>
<th>场景举例</th>
</tr>
</thead>
<tbody>
<tr>
<td>DatabaseError</td>
<td>数据库异常</td>
<td>501</td>
<td>50110</td>
<td>更新数据库记录失败</td>
</tr>
<tr>
<td>ApiNetworkError</td>
<td>网络异常导致远程服务失效</td>
<td>503</td>
<td>50301</td>
<td>请求第三方接口由于网络连接问题导致失败</td>
</tr>
<tr>
<td>ApiResultError</td>
<td>远程服务请求结果异常</td>
<td>503</td>
<td>50302</td>
<td>请求第三方结果返回 result 结果是 false</td>
</tr>
<tr>
<td>ApiNotAcceptable</td>
<td>远程服务返回结果格式异常</td>
<td>503</td>
<td>50303</td>
<td>第三方接口返回 xml 格式结果，但预期返回 json 格式</td>
</tr>
</tbody>
</table>
<ul>
<li>客户端异常</li>
</ul>
<table>
<thead>
<tr>
<th>错误类</th>
<th>说明</th>
<th>http 状态码</th>
<th>返回错误码</th>
<th>场景举例</th>
</tr>
</thead>
<tbody>
<tr>
<td>ParamValidationError</td>
<td>参数验证失败</td>
<td>400</td>
<td>40000</td>
<td>期待为整形的参数，用户提供了一个字符参数</td>
</tr>
<tr>
<td>ParamRequired</td>
<td>请求参数缺失</td>
<td>400</td>
<td>40001</td>
<td>期待的参数找不到</td>
</tr>
<tr>
<td>RioVerifyError</td>
<td>登陆请求经智能网关检测失败</td>
<td>401</td>
<td>40101</td>
<td>用户登录验证</td>
</tr>
<tr>
<td>BkJwtVerifyError</td>
<td>登陆请求经 JWT 检测失败</td>
<td>401</td>
<td>40102</td>
<td>用户登录验证</td>
</tr>
<tr>
<td>AccessForbidden</td>
<td>登陆失败</td>
<td>403</td>
<td>40301</td>
<td>用户身份验证失败</td>
</tr>
<tr>
<td>RequestForbidden</td>
<td>请求拒绝</td>
<td>403</td>
<td>40320</td>
<td>用户企图操作没有权限的任务</td>
</tr>
<tr>
<td>ResourceLock</td>
<td>请求资源被锁定</td>
<td>403</td>
<td>40330</td>
<td>用户企图操作一个已经锁定的任务</td>
</tr>
<tr>
<td>ResourceNotFound</td>
<td>找不到请求的资源</td>
<td>404</td>
<td>40400</td>
<td>找不到用户请求的某个指定 ID 的 model</td>
</tr>
<tr>
<td>MethodError</td>
<td>请求方法不支持</td>
<td>405</td>
<td>40501</td>
<td>用户发送的请求不在预期范围内</td>
</tr>
</tbody>
</table><h1 id="20">开发框架 2.0 常见问题</h1>
<ol>
<li>
<p>Q: 如何调整 Python 版本使用 Python2.x 版本？</p>
</li>
<li>
<p>A：由于 Python2 即将停止维护，我们强烈的建议使用 Python3.x 的版本。如果必须使用，只需要将项目根路径下的 <code>runtime.txt</code> 文件删掉，即可将运行环境降级到 Python 2.7.9。</p>
</li>
<li>
<p>Q: SaaS 的配置信息在哪个文件填写？</p>
</li>
<li>
<p>A：<code>config/__init__.py</code> 文件中填写 APP 信息及 PaaS 平台信息。</p>
</li>
<li>
<p>Q: 如何使用 mako 引擎对文件进行渲染？</p>
</li>
<li>
<p>A：出于安全及社区生态考虑，开发框架推荐使用 Django 模板替换 mako 模板。如果必须使用，请参考 <a href="./framework2.md#使用模板">开发框架 2.0 使用说明-使用模板</a> 章节。</p>
<blockquote>
<p><strong>开发框架 1.0 切换提示</strong>：</p>
<p>开发框架 2.0 不再提供内置的渲染方法，需要更改为 django 内置的渲染方式，例如
```python</p>
<h1 id="10">框架 1.0 代码</h1>
<p>from common.mymako import render_json, render_mako</p>
<h1 id="20_1">框架 2.0 代码</h1>
<p>from django.shortcut import render   # 对应 render_mako 使用
from django.http import JsonResponse # 对应 render_json 使用
```</p>
</blockquote>
</li>
<li>
<p>Q: 如何打印日志？</p>
</li>
<li>
<p>A：对于日志打印，开发框架使用 Django 推荐的日志打印方式，具体请参考 <a href="./framework2.md#日志使用">开发框架 2.0 使用说明-日志使用</a> 章节。</p>
<blockquote>
<p><strong>开发框架 1.0 切换提示</strong>：</p>
<p>开发框架 2.0 不再提供内置的日志句柄，需要通过 logging 模块获取，例如：</p>
<p>```python</p>
<h1 id="10_1">框架 1.0 代码</h1>
<p>from common.log import logger
logger.info ('log something')</p>
<h1 id="20_2">框架 2.0 代码</h1>
<p>import logging
logger = logging.getLogger ('app')
logger.info ('log something')
```</p>
</blockquote>
</li>
<li>
<p>Q: 为何异常都没有被打印出来？</p>
</li>
<li>
<p>A：为了避免异常未捕获，导致堆栈信息的泄露，开发框架提供了统一异常处理的中间件。各类异常都会被统一转换为标准的 JSON 格式返回给客户端，并将异常信息打印日志。如需扩展使用，具体请参阅 <a href="./framework2.md#异常类型介绍">开发框架 2.0 使用说明-异常类型介绍)</a> 。</p>
</li>
</ol><h3 id="saas">创建 SaaS 管理员方法</h3>
<ol>
<li>背景说明</li>
</ol>
<p>蓝鲸企业版 SaaS 开发框架在 3.1.0.75 版本后，默认是将 SaaS 管理员的权限与 PaaS 平台管理员权限接触绑定，两者可以独立配置。文章主要说明已有的 SaaS 如何升级使用该特性，并注入新的管理员权限。</p>
<ol>
<li>
<p>环境准备</p>
</li>
<li>
<p>Python 开发框架: 版本 &gt;= 3.1.0.75 <a href="https://docs.bk.tencent.com/download/">点我下载</a></p>
</li>
<li>
<p>将开发框架 blueapps 模块替换已有 SaaS 的 blueapps 模块</p>
<blockquote>
<p>注意：如果对开发框架有自定义修改，请注意备份</p>
</blockquote>
</li>
<li>
<p>注入新管理员方法</p>
</li>
<li>
<p>修改 INIT_SUPERUSER 配置</p>
<p>打开 config/default.py 配置文件，找到 INIT_SUPERUSER 配置，添加上需要注入的管理员账号名。</p>
<p><code>python
 INIT_SUPERUSER = ["admin", "other_admin"]</code></p>
</li>
<li>
<p>添加 migration</p>
<p>找到项目下任意一个 django app，进入到对应的 migrations 文件夹下，添加一个新的 migration，样例内容如下</p>
<p><code>python
 from django.db import migrations
 from django.conf import settings
 def load_data(apps, schema_editor):
     """
     添加用户为管理员
     """
     User = apps.get_model("account", "User")
     for name in settings.INIT_SUPERUSER:
         User.objects.update_or_create(
             username=name,
             defaults={'is_staff': True, 'is_active': True, 'is_superuser': True}
         )
 class Migration(migrations.Migration):
     dependencies = [
         # 分别修改为django app名及最后一个migration文件名
        # 例如：('home_application', '0001_initial')
         ('your_app_name', 'last_migration_name')
     ]
     operations = [
         migrations.RunPython(load_data)
     ]</code>
    &gt; 注意：需要修改其中<code>dependencies</code>中的<code>your_app_name</code>和<code>last_migration_name</code>。</p>
</li>
<li>
<p>重新提测</p>
<p>代码提交到仓库后，重新提测或上线后，将会通过 migration 自动注入新的管理员配置。</p>
</li>
<li>
<p>FAQ</p>
</li>
<li>Q：是否必须通过 migrations 注入新管理员？</li>
<li>A：不是，这只是一个建议的用法。开发者也可以通过其他手段进行修改。例如，通过一个中间件确保每次请求时，都可以判断用户的身份是否需要提升为管理员。</li>
<li>Q：为什么后面增加 INIT_SUPERUSER 不再生效？</li>
<li>A：上面的方案是通过 migrations 注入管理员信息，是一个<strong>一次性</strong>的注入操作。我们预期是先给一批用户提供了管理员权限，其他用户的权限后续可以由第一批管理员通过 django admin 页面进行操作</li>
</ol><h3 id="_1">方案总体介绍</h3>
<p>为了方便开发者使用利用已有的环境配置，下面的方案利用了 Python 的 virtualenv 模块可以创建多个独立 Python 环境的能力，解决了 Python2 与 Python3 开发环境之间的相互独立的问题。</p>
<p>同时，为了降低我们使用 virtualenv 的门槛，方案中也使用了 virtualenvwrapper 模块，方便我们创建、复制和删除各个虚拟环境。</p>
<p><img alt="1543555724_8_w844_h418.png" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/assets/python2_3-struct.png" /></p>
<p>当然，Python 生态中也有其他的解决方案，各位开发者可以参考使用：</p>
<ul>
<li>
<p><a href="https://github.com/pyenv/pyenv">pyenv</a></p>
</li>
<li>
<p><a href="https://github.com/pypa/pipenv">pipenv</a></p>
</li>
</ul>
<h3 id="python3-virtualenvwrapper">安装 Python3 &amp; virtualenvwrapper</h3>
<ul>
<li>【MacOS 环境】</li>
</ul>
<p>首先，我们去到 Python 官网下载最新的 Python 安装包：<a href="https://www.python.org/downloads/">Python 下载地址</a>。</p>
<p>这里强烈建议大家使用安装器(Installer)的方式安装。因为如果使用源码安装时，会遇到 openssl 开发依赖环境及 macOS 系统限制，给你带来各种麻烦。</p>
<ul>
<li>【Linux 环境】</li>
</ul>
<p>建议大家可以使用 Python 的源码包进行安装，这样的好处在于我们可以指定 Python 的安装路径，确保新安装的 Python3 不会影响已有的系统工具，例如 yum 等。</p>
<p>这里，建议各位读者使用 Python 3.6.3 的源码安装，原因是 Python3.7 后对 openssl 的版本会有要求限制，但是公司内网 yum 源提供的 openssl 版本并不能满足要求，会导致安装 Python3.7 时 openssl 模块缺失，从而影响 pip 的使用。</p>
<p>源码安装命令如下:</p>
<pre class="codehilite"><code class="language-bash">tar -zxf Python-3.6.3.tgz
cd Python-3.6.3
# 自定义配置安装路径为/opt/python36
./configure --prefix=/opt/python36
# 编译并安装
make -j 4
make install
export PATH=/opt/python36/bin:$PATH</code></pre>


<ul>
<li>【Windows 环境】</li>
</ul>
<p>Windows 安装的时候需要注意使用自定义的安装路径，可以参考以下视频：<a href="https://www.youtube.com/watch?v=V_ACbv4329E">windows 安装说明</a>。</p>
<blockquote>
<p>各位读者需要注意，安装后需要修改 PATH 环境变量。</p>
</blockquote>
<ul>
<li>【virtualevnwrapper 安装】</li>
</ul>
<p>安装完成后，大家可以发现自己本地新增了一个【python3】的命令。当然，不用担心系统自身的 Python2 环境丢掉了，安装器会将这个 Python2 的保留下来。如下图所示：</p>
<p><img alt="1543556228_89_w1440_h628.png" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/assets/python2_3-which.png" /></p>
<p>接下来，我们需要安装 virtualenvwrapper 来协助我们创建独立的虚拟环境。Windows 用户需要注意安装的是 virtualenvwrapper-win。</p>
<pre class="codehilite"><code class="language-bash"># 安装virtualenvwrapper
# windows用户注意，安装 virtualwrapper-win
$ sudo pip install virtualenvwrapper
...
# 指定虚拟环境放置的目录，可以按需调整
$ export WORKON_HOME=~/Envs
# 创建好路径
$ mkdir -p $WORKON_HOME
# 添加virtualenvwrapper命令及环境准备，建议这个命令可以放置到~/.bash_profile中
$ source /usr/local/bin/virtualenvwrapper.sh</code></pre>


<h3 id="_2">分割环境</h3>
<p>安装后，我们可以先看一下 virtualenv 的帮助菜单，如下图所示：</p>
<p><img alt="1543626174_42_w1780_h1820.png" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/assets/python2_3-option.png" /></p>
<p>-p 这个参数是整个方案实施的关键。我们可以通过这个参数，来指定虚拟环境使用的 Python 解释器路径，而默认情况下，参数使用的是 /usr/bin/python 这个解释器。</p>
<p>因此，我们可以指定不同的解释器路径，创建 Py2 和 Py3 不同的虚拟环境。操作如下：</p>
<pre class="codehilite"><code class="language-bash">$ mkvirtualenv test_python2_env
New python executable in /Users/.virtualenvs/test_python2_env/bin/python
Installing setuptools, pip, wheel...done.
virtualenvwrapper.user_scripts creating /Users/.virtualenvs/test_python2_env/bin/predeactivate
virtualenvwrapper.user_scripts creating /Users/.virtualenvs/test_python2_env/bin/postdeactivate
virtualenvwrapper.user_scripts creating /Users/.virtualenvs/test_python2_env/bin/preactivate
virtualenvwrapper.user_scripts creating /Users/.virtualenvs/test_python2_env/bin/postactivate
virtualenvwrapper.user_scripts creating /Users/.virtualenvs/test_python2_env/bin/get_env_details
(test_python2_env) $ python
Python 2.7.10 (default, Aug 17 2018, 17:41:52)
[GCC 4.2.1 Compatible Apple LLVM 10.0.0 (clang-1000.0.42)] on darwin
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; ^D
(test_python2_env) $ mkvirtualenv test_python3_env -p /usr/local/bin/python3
Running virtualenv with interpreter /usr/local/bin/python3
Using base prefix '/Library/Frameworks/Python.framework/Versions/3.6'
New python executable in /Users/.virtualenvs/test_python3_env/bin/python3
Also creating executable in /Users/.virtualenvs/test_python3_env/bin/python
Installing setuptools, pip, wheel...done.
virtualenvwrapper.user_scripts creating /Users/.virtualenvs/test_python3_env/bin/predeactivate
virtualenvwrapper.user_scripts creating /Users/.virtualenvs/test_python3_env/bin/postdeactivate
virtualenvwrapper.user_scripts creating /Users/.virtualenvs/test_python3_env/bin/preactivate
virtualenvwrapper.user_scripts creating /Users/.virtualenvs/test_python3_env/bin/postactivate
virtualenvwrapper.user_scripts creating /Users/.virtualenvs/test_python3_env/bin/get_env_details
(test_python3_env) $ python
Python 3.6.6 (v3.6.6:4cf1f54eb7, Jun 26 2018, 19:50:54)
[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)] on darwin
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt;</code></pre>


<p>上面的操作中，我们首先创建了一个使用默认 Python 解释器的虚拟环境。</p>
<p>创建完成后，我们进入 Python 可以观察到，对应的版本是 2.7.x。</p>
<p>紧接着，笔者再创建了一个使用指定 Python 解释器路径的虚拟环境，创建完成后我们进入 Python 可以观察到，对应的版本是 3.6.x。</p>
<p>至此，两个独立、互不干扰的 Py2 和 Py3 环境创建完成。</p>
<p>如果需要不同的环境切换，使用 workon 命令切换即可。</p><h1 id="magicbox">MagicBox</h1>
<ul>
<li>前端开发工具集(<a href="https://magicbox.bk.tencent.com/static_api/v3/main/index.html">MagicBox</a>)</li>
</ul>
<p>蓝鲸 MagicBox 提供丰富的 PC 端、移动端前端 UI 组件，更有样例套餐助您快速搭建前端页面。同时蓝鲸 MagicBox 提供可视化开发服务，支持在线拖拽页面，所见即所得。</p>
<ul>
<li>
<p><a href="https://magicbox.bk.tencent.com/static_api/v3/index.html#build/show">可视化开发平台</a>：支持在线拖拽，使用 MagicBox 提供的组件，自由布局页面进行二次开发。 </p>
</li>
<li>
<p><a href="https://magicbox.bk.tencent.com/static_api/v3/index.html#index?isPro=1">前端 jQuery 组件库</a>：提供表单、表格、富文本、按钮等丰富的 UI 组件，包括 PC 版、移动版。  </p>
</li>
<li>
<p><a href="https://magicbox.bk.tencent.com/static_api/v3/index.html#plugin">前端 jQuery 组件包下载</a>：提供 PC 版 JQuery 组件包下载服务。</p>
</li>
<li>
<p><a href="https://magicbox.bk.tencent.com/static_api/v3/components_vue/2.0/example/index.html#/">前端 Vue 组件库</a>：基于 Vue 2.0，提供按钮、下拉选框、日期选择器、对话框等常用组件。</p>
</li>
<li>
<p><a href="https://magicbox.bk.tencent.com/static_api/v3/index.html#templates">前端套餐样例库</a>：提供成套的样例页面，即拿即用。</p>
</li>
<li>
<p><a href="../开发进阶/bkui/bkui.md">蓝鲸前端开发脚手架(BKUI_CLI)</a>：基于 Vue.js 研发的一键构建蓝鲸体系前端工程的脚手架工具，包括了基础工程化能力、基础 mock 服务、蓝鲸前端 Vue 组件库等。</p>
</li>
</ul><h1 id="_1">学习视频</h1>
<ul>
<li>
<p><a href="https://cloud.tencent.com/edu/learning/major-100008">腾讯云大学-Python 运维开发实战</a></p>
</li>
<li>
<p><a href="https://bk.tencent.com/docs/video/6.0">蓝鲸智云视频教程</a></p>
</li>
<li>
<p><a href="https://ke.qq.com/course/452904?taid=3992885066656040">蓝鲸高校 SaaS 开发公开课</a></p>
</li>
</ul><h2 id="_1">升级总体方案</h2>
<ul>
<li>去除 blueapps 包中的 celery 中的依赖</li>
<li>由于 djcelery 仅支持到 celery3x 版本，升级 celery4x 版本，使用 django-celery-beat 和 django-celery-result 包代替 djcelery 功能</li>
<li>升级主要存在的问题在于 celery4x 的时间流转与 celery3x 的不同，导致定时任务和异步任务执行异常，后续章节会详细介绍，<a href="#老用户升级注意事项">老用户升级</a>和<a href="#新用户使用注意事项">新用户的使用注意事项</a></li>
<li>celery4x 解决了与 async 关键字的冲突，升级后可以使用 python3.7 及以上版本（目前仅测试到 3.7.4）</li>
</ul>
<h2 id="_2">升级后配置文件更改</h2>
<ul>
<li>升级后默认<code>USE_TZ=True</code></li>
<li>替换 djcelery 依赖为 django_celery_beat 和 django_celery_results</li>
</ul>
<p>升级前：conf/default.py</p>
<pre class="codehilite"><code class="language-python">...
# 国际化配置
LOCALE_PATHS = (os.path.join(BASE_DIR, 'locale'),)  # noqa

TIME_ZONE = 'Asia/Shanghai'
LANGUAGE_CODE = 'zh-hans'
....

if IS_USE_CELERY:
    INSTALLED_APPS = locals().get('INSTALLED_APPS', [])
    import djcelery
    INSTALLED_APPS += (
        'djcelery',
    )
    djcelery.setup_loader()
    CELERY_ENABLE_UTC = False
    CELERYBEAT_SCHEDULER = &quot;djcelery.schedulers.DatabaseScheduler&quot;</code></pre>


<p>升级后：conf/default.py</p>
<pre class="codehilite"><code class="language-python">...
# 国际化配置
LOCALE_PATHS = (os.path.join(BASE_DIR, 'locale'),)  # noqa

USE_TZ = True
TIME_ZONE = 'Asia/Shanghai'
LANGUAGE_CODE = 'zh-hans'
....

if IS_USE_CELERY:
    INSTALLED_APPS = locals().get('INSTALLED_APPS', [])
    INSTALLED_APPS += (
        'django_celery_beat',
        'django_celery_results'
    )
    CELERY_ENABLE_UTC = False
    CELERYBEAT_SCHEDULER = &quot;django_celery_beat.schedulers.DatabaseScheduler&quot;</code></pre>


<h2 id="celery4">celery4 新特性</h2>
<h3 id="_3">系统级别的更新</h3>
<ol>
<li>
<p>不再对 windows 平台提供支持。windows 平台目前主要发现两个主要的问题，其他的基本功能都是正常的。</p>
</li>
<li>
<p>一个是需要加入 eventlet 才可以使用。</p>
</li>
<li>
<p>windows 平台下无法同时启动多个 worker，主要原因是启动多个 worker 依赖 resource 这个库，这个库只支持 linux 和 unix 平台。</p>
</li>
<li>
<p>不再支持 Python 2.6 以及 python 3.3</p>
</li>
<li>
<p>不再支持 Jpython。</p>
</li>
<li>
<p><strong>celery4.x 支持的最低 Django 版本为 1.8,官方建议从 1.9 开始。</strong></p>
</li>
<li>
<p>celery4 将会是最后一个支持 python2 的版本，celery5 最低支持的 python 版本为 python3.5</p>
</li>
</ol>
<p>### 功能级别的更新</p>
<ol>
<li>使用了全新的设置名</li>
</ol>
<p>，具体表现在 celery4.x 版本的配置缩写全都为小写，但是为了考虑到对于 celery3.x 版本的支持，所以大写的配置名仍然是可以使用的.例如:</p>
<p><code>bash
   CELERY_TIMEZONE = 'Asia/Shanghai' # 默认时区是UTC 旧
   timezone = 'Asia/Shanghai' #默认时区是UTC 新</code></p>
<p>关于 celery 大小写的升级，celery 提供了全新的命令来批量去迁移配置：</p>
<p><code>bash
   celery upgrade settings [filename]</code></p>
<p>具体的映射内容官方文档中有说明：
   https://docs.celeryproject.org/en/4.0/userguide/configuration.html#conf-old-settings-map</p>
<ol>
<li>json 现在作为默认的序列化器。</li>
</ol>
<p>日常使用会出现使用 json 无法序列化的情况，如果仍然需要使用 pickle 作为序列化器，需要增加如下配置:</p>
<p><code>python
   task_serializer = 'pickle'
   result_serializer = 'pickle'
   accept_content = {'pickle'}</code></p>
<ol>
<li>使用 Task 作为基类的任务不会被自动注册了</li>
</ol>
<p>，新版本的 celery4.x 需要使用装饰器装饰 Task 才会被自动注册。</p>
<p><code>python
   # 创建普通任务
   @app.task()
   def add(x, y):
       print("计算2个值的和: %s %s" % (x, y))
       return x + y</code></p>
<ol>
<li>
<p><strong>优先级发生了改变，现在优先级的顺序为 0-9 依次升高</strong>。主要是为了与 AMQP 中的工作方式保持一致。</p>
</li>
<li>
<p><strong>命令行参数发生了改变</strong>。celeryd -&gt; celery worker , celerybeat-&gt; celery beat,celeryd-multi-&gt; celery multi</p>
</li>
<li>
<p>Auto-discover 目前支持 Django app 配置</p>
</li>
<li>
<p>支持 RabbitMQ 优先级.</p>
</li>
<li>
<p>新增了 broker_read_url 和 broker_write_url 设置选项，这样就可以为用于消费/发布的连接提供单独的代理 url。</p>
</li>
<li>
<p>增加了对 RabbitMQ 扩展的支持.</p>
<p>```python</p>
<h1 id="_4">以浮动秒为单位设置队列过期时间。</h1>
<p>Queue(expires=20.0)</p>
<h1 id="_5">设置队列消息实时浮动秒。</h1>
<p>Queue(message_ttl=30.0)</p>
<h1 id="int">将队列最大长度（消息数）设置为 int。</h1>
<p>Queue(max_length=1000)</p>
<h1 id="int_1">将队列最大长度（消息大小总计（以字节为单位）设置为 int。</h1>
<p>Queue(max_length_bytes=1000)</p>
<h1 id="priority">将队列声明为基于消息字段路由消息的优先级队列。priority</h1>
<p>Queue(max_priority=10)
```</p>
</li>
<li>
<p>对<code>Amazon SQS transport</code> <code>Apache QPid transport</code> 提供了支持。</p>
</li>
<li>
<p>对 redis 哨兵提供了支持。</p>
<p><code>bash
sentinel://0.0.0.0:26379;sentinel://0.0.0.0:26380/...</code></p>
</li>
<li>
<p>新的定时任务写法。</p>
<p>```python
from blueapps.core.celery.celery import app
from django_celery_beat.tzcrontab import TzAwareCrontab</p>
<p>@app.on_after_configure.connect
def setup_periodic_tasks(sender, **kwargs):
    # Calls test('hello') every 10 seconds.
    sender.add_periodic_task(10.0, test.s('hello'), name='add every 10')</p>
<pre class="codehilite"><code># Calls test('world') every 30 seconds
sender.add_periodic_task(30.0, test.s('world'), expires=10)

# Executes every Monday morning at 7:30 a.m.
sender.add_periodic_task(
    crontab(hour=7, minute=30, day_of_week=1,tz=timezone.get_current_timezone()),
    test.s('Happy Mondays!'),
)</code></pre>


<p>@app.task
def test(arg):
    print(arg)
```</p>
</li>
<li>
<p>AsyncResult 新增回调方法 then ，需要结合 gevent 模块使用。</p>
<p>```python
import gevent.monkey
monkey.patch_all()</p>
<p>import time
from blueapps.core.celery.celery import app</p>
<p>@app.task
def add(x, y):
    return x + y</p>
<p>def on_result_ready(result):
    print('Received result for id %r: %r' % (result.id, result.result,))</p>
<p>add.delay(2, 2).then(on_result_ready)</p>
<p>time.sleep(3)  # run gevent event loop for a while.
```</p>
</li>
<li>
<p>支持 redis ssl 链接方式</p>
</li>
</ol>
<h3 id="_6">不再支持的部分</h3>
<ol>
<li>移除了 celery.task.http，emails.app.mail_admins 和 celery.contrib.batches</li>
<li>不再支持使用 Django ORM, SQLAlchemy, CouchDB, IronMQ, Beanstalk 作为 broker。</li>
<li><strong>不再支持 rabbitMQ 作为 backend 储存结果。</strong></li>
</ol>
<h2 id="_7">老用户升级注意事项</h2>
<ul>
<li><code>USE_TZ=False</code>的老用户升级后，使用 MysSQL backend 时，会存在 DB 中无法写入带有时区的配置内容，具体报错为<code>ValueError: MySQL backend does not support timezone-aware datetimes when USE_TZ is False</code></li>
</ul>
<p>解决方案：</p>
<ul>
<li>方案 1（推荐）：在 config/default.py 文件中添加<code>USE_TZ = True</code>开启 django 时区</li>
<li>
<p>方案 2：在 config/default.py 中添加<code>DJANGO_CELERY_BEAT_TZ_AWARE = False</code>关闭 celery 时区感知</p>
</li>
<li>
<p>Windows 老用户来说，celery4.4 已经不支持 Windows 平台，无法启动多 worker，只能通过<code>-p eventlet</code>启动单 worker，evenlet 包需通过 pip 安装后使用</p>
</li>
</ul>
<p><code>python
  # eventlet安装命令
  pip install eventlet==0.26.1
  # windows用户启动worker命令
  celery -A blueapps.core.celery worker -l info -P eventlet</code></p>
<ul>
<li>djcelery 不支持 celery4.4，升级后通过 django-celery-beat 和 django-celery-result 代替 djcelery 的功能，因此 djcelery 提供的 celery 启动命令已经不支持，新的 beat，worker 启动命令为</li>
</ul>
<p><code>python
  # beat启动命令
  celery -A blueapps.core.celery beat -l info
  # worker启动命令，windows用户请加上 -P eventlet参数
  celery -A blueapps.core.celery worker -l info</code></p>
<blockquote>
<p>注意：这里<code>-A blueapps.core.celery</code>用于指定使用开发框架内部封装好的 celery app，可用于加载/conf/default.py 中的配置等功能，如果配置使用其他 app，会导致无法加载配置及 task 的自动发现</p>
</blockquote>
<h3 id="_8">升级后异步任务需要修改的配置</h3>
<ul>
<li>
<p><code>T.delay(arg, kwarg=value)</code>配置：升级后无影响</p>
</li>
<li>
<p><code>apply_async</code>中的<code>eta</code>参数中使用<code>datetime.datetime.now()</code>配置的异步任务，由于没有时区在新版本中会视作 UTC 时间执行，同理<code>datetime()</code>生成的时间对象如果没有时区信息，也会被当作 UTC 时间执行</p>
</li>
</ul>
<p>例如，所在时区为 Asia/Shanghai，当前时间为 12:00+0800，会被当作成 12:00+00:00 执行，即延迟 8 小时候执行
  解决方案：</p>
<ul>
<li>
<p>使用<code>django.utils.timezone.now()</code>代替<code>datetime.datetime.now()</code>获取当前时间</p>
</li>
<li>
<p>使用<code>django.utils.timezone.make_aware()</code>使得<code>datetime</code>生成时间对象携带时区信息</p>
</li>
</ul>
<p>```python
  # 配置用户当前时间12:00+08:00，延迟当前时间2s执行，
  # 错误配置：由于没有时区，使用UTC时区，实际会到12:00+00：00，延迟2s执行
  T.apply_async(eta=datetime.datetime.now() + timedelta(seconds=2))
  # 正确配置：
  T.apply_async(eta=django.utils.timezone.now() + timedelta(seconds=2))</p>
<p># 配置用户2020年9月21日12:02+08:00执行
  # 错误配置：由于没有时区，使用UTC时区，实际会在2020年9月21日12:02+00:00执行
  T.apply_async(eta=datetime.datetime(2020, 9, 21, 12, 0) + timedelta(seconds=2))
  # 正确配置：
  T.apply_async(eta=django.utils.timezone.make_aware(datetime.datetime(2020, 9, 16, 17, 38)) + timedelta(seconds=2))
  ```</p>
<h3 id="_9">定时任务配置</h3>
<ul>
<li>使用<code>crontab</code>配置的定时任务，由于没有时区，会按照<code>CELERY_TIMEZONE</code>配置的时区（默认配置 UTC）指定定时任务，</li>
</ul>
<p>解决方案：使用<code>TzAwareCrontab</code>配置，添加<code>tz=timezone.get_current_timezone()</code>参数，即可以用户所在时区执行定时任务</p>
<p>```python
  from celery.task import periodic_task
  from django.utils import timezone
  from celery.schedules import crontab
  from django_celery_beat.tzcrontab import TzAwareCrontab</p>
<p># 配置用户所在时区每天10:00执行定时任务
  # 错误配置：由于没有配置定时任务时区，使用UTC时区，实际会在10:00+00:00执行
  @periodic_task(run_every=celery.schedule.crontab(minute="0", hour="10",tz=timezone.get_current_timezone()))
  def crontab_timezone():
      logger.info("test timezone")
      return True</p>
<p># 正确配置
  @periodic_task(run_every=django_celery_beat.tzcrontab.TzAwareCrontab(minute="0", hour="10",tz=timezone.get_current_timezone()))
  def crontab_timezone():
      logger.info("test timezone")
      return True
  ```</p>
<ul>
<li>升级后定时任务<code>CrontabSchedule</code>表新增<code>timezone</code>字段，创建定时任务时，可以通过指定<code>timezone</code>字段的时区来配置定时任务执行所在的时区</li>
</ul>
<p>示例代码：home_application/celery_utils.py</p>
<p>```python
  from django.utils import timezone
  from django_celery_beat.models import CrontabSchedule, PeriodicTask
  # 用户实时添加定时任务
  def add_period_task(task, name=None, minute='<em>', hour='</em>',
                      day_of_week='<em>', day_of_month='</em>',
                      month_of_year='*', args="[]", kwargs="{}", tz=None):
      """
      @summary: 添加一个周期任务
      @param task: 该task任务的模块路径名, 例如celery_sample.crontab_task
      @param name: 用户定义的任务名称, 具有唯一性
      @note: PeriodicTask有很多参数可以设置，这里只提供简单常用的
      """
      cron_param = {
          'minute': minute,
          'hour': hour,
          'day_of_week': day_of_week,
          'day_of_month': day_of_month,
          'month_of_year': month_of_year,
          'timezone': timezone.get_current_timezone() if tz is None else tz
      }
      if not name:
          name = task
      try:
          cron_schedule = CrontabSchedule.objects.get(<strong>cron_param)
      except CrontabSchedule.DoesNotExist:
          cron_schedule = CrontabSchedule(</strong>cron_param)
          cron_schedule.save()
      try:
          PeriodicTask.objects.create(
              name=name,
              task=task,
              crontab=cron_schedule,
              args=args,
              kwargs=kwargs,
          )
      except Exception as e:
          return False, '%s' % e
      else:
          return True, ''</p>
<p># 用户通过定时任务id编辑定时任务
  def edit_period_task_by_id(task_id, minute='<em>', hour='</em>',
                             day_of_week='<em>', day_of_month='</em>',
                             month_of_year='*', args="[]", kwargs="{}", tz=None):
      """
      @summary: 更新一个周期任务
      @param name: 用户定义的任务名称, 具有唯一性
      """
      try:
          period_task = PeriodicTask.objects.get(id=task_id)
      except PeriodicTask.DoesNotExist:
          return False, 'PeriodicTask.DoesNotExist'
      cron_param = {
          'minute': minute,
          'hour': hour,
          'day_of_week': day_of_week,
          'day_of_month': day_of_month,
          'month_of_year': month_of_year,
          'timezone': timezone.get_current_timezone() if tz is None else tz
      }
      try:
          cron_schedule = CrontabSchedule.objects.get(<strong>cron_param)
      except CrontabSchedule.DoesNotExist:
          cron_schedule = CrontabSchedule(</strong>cron_param)
          cron_schedule.save()
      period_task.crontab = cron_schedule
      period_task.args = args
      period_task.kwargs = kwargs
      period_task.save()
      return True, ''
  ```</p>
<p>hoeme_application/views.py</p>
<p>```python</p>
<p>def save_task(request):
      """
      创建/编辑周期性任务 并 运行
      """
      tz = request.POST.get('tz')
      if tz:
          timezone.activate(tz)
      periodic_task_id = request.POST.get('periodic_task_id', '0')
      params = request.POST.get('params', {})
      try:
          params = json.loads(params)
          add_param = params.get('add_task', {})
      except Exception:
          msg = u"参数解析出错"
          logger.error(msg)
          result = {'result': False, 'message': msg}
          return JsonResponse(result)
      task_args1 = add_param.get('task_args1', '0')
      task_args2 = add_param.get('task_args2', '0')
      # 任务参数
      try:
          task_args1 = int(task_args1)
          task_args2 = int(task_args2)
          task_args_list = [task_args1, task_args2]
          task_args = json.dumps(task_args_list)
      except Exception:
          task_args = '[0,0]'
          logger.error(u"解析任务参数出错")
      #  周期参数
      minute = add_param.get('minute', '<em>')
      hour = add_param.get('hour', '</em>')
      day_of_week = add_param.get('day_of_week', '<em>')
      day_of_month = add_param.get('day_of_month', '</em>')
      month_of_year = add_param.get('month_of_year', '*')
      # 创建周期任务时，任务名必须唯一
      now = int(time.time())
      task_name = "{}_{}".format(TASK, now)
      if periodic_task_id == '0':
          # 创建任务并运行
          res, msg = add_period_task(TASK, task_name, minute, hour,
                                     day_of_week, day_of_month,
                                     month_of_year, task_args)
      else:
          # 修改任务
          res, msg = edit_period_task_by_id(periodic_task_id, minute, hour,
                                            day_of_week, day_of_month,
                                            month_of_year, task_args)
      return JsonResponse({'result': res, 'message': msg})</p>
<p>```</p>
<h3 id="db">DB 数据迁移</h3>
<p>注意：</p>
<ul>
<li>由于升级后 djcelery 被废弃，使用 django-celery-beat 和 django-celery-results 代替，因此需要数据表迁移</li>
<li>升级后无法迁移的表说明</li>
<li>djcelery 包中 TaskState 表仅用于记录 tasks 任务状态的，不影响 task 任务的执行，由于 django-celery-beat 包中该表结构变动过大，因此无法迁移</li>
<li>djcelery 包中 WorkerState 表用于记录 celery worker 状态，在 django-celery-beat 包中被移除</li>
<li>迁移命令的执行时机应该在 celery4，django-celery-beat，django-celery-results 包安装并配置好，并且执行 migrate 命令之后，例如，配置到 bin/postcompile 中</li>
<li>迁移前会检查目标数据库是否为空，不为空则迁移失败</li>
<li>如果是带时区迁移，旧的 crontab 配置依然为无时区时间，如<code>crontab(minute="57", hour="10")</code>，beat 重启后会以<code>CELERY_TIMEZONE</code>配置的时区刷新 crontab 表中的 timezone，可能会导致定时任务时区执行问题，因此需要修改 crontab 为 TzAwareCrontab，示例代码<a href="#定时任务配置">见定时任务配置小节</a></li>
</ul>
<p>迁移命令</p>
<pre class="codehilite"><code class="language-python">python manage.py migrate_from_djcelery 
# 可选参数: -tz  指定之前celery运行的时区，不指定默认使用UTC时区 例如：-tz Asia/Shanghai</code></pre>


<p><strong>社区版和企业版用户注意</strong>，请使用如下 migrations 文件在迁移线上数据库</p>
<p>使用方法：</p>
<ol>
<li>将下面文件放到任意 app 的 migrations 文件夹下，如：home_application/migrations/</li>
<li>迁移命令：执行<code>python manage.py migrate</code>应用该 migration 文件即可</li>
<li>通过第 11 行 handle 函数的 tz 参数指定指定之前 celery 运行的时区</li>
</ol>
<pre class="codehilite"><code class="language-python"># migrations文件
# -*- coding: utf-8 -*-
from django.db import migrations

from blueapps.contrib.bk_commands.management.commands import migrate_from_djcelery


def migrate_db_from_djcelery(*arg, **kwargs):
    migrate_command = migrate_from_djcelery.Command()
    #修改tz指定时区参数
    migrate_command.handle(tz='Asia/Shanghai')


class Migration(migrations.Migration):
    # dependencies中填写最后一个执行的migrations
    dependencies = []

    operations = [
        migrations.RunPython(migrate_db_from_djcelery),
    ]</code></pre>


<h2 id="_10">新用户使用注意事项</h2>
<ul>
<li>默认的时区配置</li>
</ul>
<p><code>python
  # default.py
  TIME_ZONE = 'Asia/Shanghai'
  USE_TZ=True
  CELERY_ENABLE_UTC = False</code></p>
<ul>
<li>beat 和 worker 启动命令</li>
</ul>
<p><code>python
  # beat启动命令
  celery -A blueapps.core.celery beat -l info
  # worker启动命令，windows用户请加上 -P eventlet参数
  celery -A blueapps.core.celery worker -l info</code></p>
<blockquote>
<p>注意：</p>
<ol>
<li>这里<code>-A blueapps.core.celery</code>用于指定使用开发框架内部封装好的 celery app，可用于加载/conf/default.py 中的配置等功能，如果配置使用其他 app，会导致无法加载配置及 task 的自动发现</li>
</ol>
</blockquote>
<p><strong>社区版和企业版用户注意</strong>，由于 PaaS 平台的限制，只能使用下面的启动方式</p>
<p><code>python
  # worker启动命令
  python manage.py celery worker -l info
  # worker启动命令
  python manage.py celery beat -l info</code></p>
<blockquote>
<p>注意：</p>
<ol>
<li>这种启动命令是从 djcelery 中迁移过来，</li>
<li>由于 django orm 只能允许单线程操作数据库句柄，通过<code>python manage.py</code>启动的 worker 与 django 不是同一线程因此无法修改</li>
<li>使用了<code>patch_thread_ident</code>的猴子补丁，用于 patch 掉 django 校验 orm 多线程操作数据的逻辑，会将 worker 的线程 ID</li>
</ol>
</blockquote>
<ul>
<li>异步任务配置</li>
</ul>
<p>```python
  # 配置用户当前时间12:00+08:00，延迟当前时间2s执行，
  T.apply_async(eta=django.utils.timezone.now() + timedelta(seconds=2))</p>
<p># 配置用户2020年9月21日12:02+08:00执行
  T.apply_async(eta=django.utils.timezone.make_aware(datetime.datetime(2020, 9, 16, 17, 38)) + timedelta(seconds=2))
  ```</p>
<ul>
<li>定时任务配置</li>
</ul>
<p>```python
  from celery.task import periodic_task
  from django.utils import timezone
  from django_celery_beat.tzcrontab import TzAwareCrontab</p>
<p># 配置用户所在时区每天10:00执行定时任务
  @periodic_task(run_every=django_celery_beat.tzcrontab.TzAwareCrontab(minute="0", hour="10",tz=timezone.get_current_timezone()))
def crontab_timezone():
      logger.info("test timezone")
      return True
  ```</p><h1 id="20">开发框架 2.0 使用进阶</h1>
<h2 id="_1">登录模块</h2>
<h3 id="_2">豁免登录</h3>
<p>目前所有的 view 访问全部强制要求登录鉴权, 用户可以豁免一些 view 的登录限制，主要用于对外提供 API。</p>
<pre class="codehilite"><code class="language-python">from blueapps.account.decorators import login_exempt

@login_exempt
def myview(request):
    return &quot;hello world&quot;</code></pre>


<h2 id="user-model">User Model 获取 &amp; 使用方式</h2>
<h3 id="user-model_1">获取 User Model</h3>
<p>通过  <code>from blueapps.account import get_user_model</code> 可得到 User Model</p>
<h3 id="user">User 方法属性说明</h3>
<ul>
<li>username</li>
</ul>
<p>用户唯一标识，如 QQ 号</p>
<ul>
<li>nickname</li>
</ul>
<p>用于前端展示的用户名，如 QQ 昵称</p>
<ul>
<li>avatar_url</li>
</ul>
<p>用户头像 URL</p>
<ul>
<li>get_full_name</li>
</ul>
<p>用于前端展示的完整用户名，如 QQ 昵称</p>
<h3 id="user_1">User 扩展属性说明</h3>
<ul>
<li>get_property(key)</li>
</ul>
<p>用户获取水平扩展属性</p>
<pre class="codehilite"><code class="language-python">from blueapps.account import get_user_model

user = get_user_model().objects.get(username=xxx)
user.get_property(key)</code></pre>


<ul>
<li>set_property(key,value)</li>
</ul>
<p>用户设置水平扩展属性</p>
<pre class="codehilite"><code class="language-python">from blueapps.account import get_user_model

user = get_user_model().objects.get(username=xxx)
user.set_property(key, value)</code></pre>


<h3 id="user_2">在模板中使用 User 作为外键</h3>
<pre class="codehilite"><code class="language-python">from django.conf import settings
from django.db import models

class SomeModel(models.Model):
    person = models.ForeignKey(settings.AUTH_USER_MODEL, verbose_name=u&quot;用户&quot;)</code></pre>


<h3 id="django-app">Django APP 管理员设置</h3>
<p>修改 config/default.py 的 INIT_SUPERUSER 配置，填写用户名列表，默认值是应用创建人，列表中的人员将拥有预发布环境和正式环境的管理员权限。需要注意的是，该配置需要在首次提测和上线前修改，之后的修改将不会生效。
如果不小心将唯一的管理员权限去掉了，有两种方式新增管理员：</p>
<ul>
<li>通过 migrations 实现</li>
</ul>
<p>在你的 APP 目录下，找到 migrations 文件夹，新建文件 {INDEX}_init_superuser.py：</p>
<pre class="codehilite"><code class="language-python"># -*- coding: utf-8 -*-
from django.db import migrations
from django.conf import settings


def load_data(apps, schema_editor):
    &quot;&quot;&quot;
    添加用户为管理员
    &quot;&quot;&quot;
    User = apps.get_model(&quot;account&quot;, &quot;User&quot;)
    for name in settings.INIT_SUPERUSER:
        User.objects.update_or_create(
            username=name,
            defaults={'is_staff': True, 'is_active': True, 'is_superuser': True}
        )


class Migration(migrations.Migration):
    dependencies = [
        ('{APP}', '{APP_LAST_MIGRATION}')
    ]
    operations = [
        migrations.RunPython(load_data)
    ]</code></pre>


<p>其中，{APP} 表示你的当前 APP，{APP_LAST_MIGRATION} 表示当前 mirgations 文件中最新一个文件名（如 “0003_auto_20180301_1732”），{INDEX} 表示最新一个文件名的前缀数字加 1（如 “0003_auto_20180301_1732” 的前缀数字是 “0003”，那么 {INDEX} 设置为 “0004”）。</p>
<ul>
<li>通过 views 实现</li>
</ul>
<p>在你的 APP 目录的 views 文件中，添加如下代码：</p>
<pre class="codehilite"><code class="language-python">from django.conf import settings
from django.http import HttpResponse

from blueapps.account import get_user_model


def load_data(request):
    &quot;&quot;&quot;
    添加用户为管理员
    &quot;&quot;&quot;
    User = get_user_model()
    for name in settings.INIT_SUPERUSER:
        User.objects.update_or_create(
            username=name,
            defaults={'is_staff': True, 'is_active': True, 'is_superuser': True}
        )
    return HttpResponse('Success')</code></pre>


<p>然后配置一条 URL 路由规则到该 view，提测、上线后访问对应 URL 就可以初始化管理员了。</p>
<h2 id="_3">配置修改指引</h2>
<h3 id="settings">settings 主要配置</h3>
<p><strong>注意</strong>：不要修改 settings.py ，配置项修改请在 config 目录下的文件中进行。</p>
<p>其中，如果修改 config/default.py 配置项对所有的运行环境生效（正式环境、预发布环境、本地环境）；
修改 config/prod.py 配置项只会对正式环境生效；
修改 config/stag.py 配置项只会对预发布环境生效；
修改 config/dev.py 配置项只会对本地开发环境生效；
在多人开发时，为了避免 config/dev.py 中的配置互相影响，每个开发者都可以在项目根目录下新增 local_settings.py 文件，来添加各开发者不同的本地开发配置，如 DATABASES，并在提交代码时忽略 local_settings.py 文件。</p>
<ul>
<li>自定义 Django APP</li>
</ul>
<p>请修改 config/default.py 的 INSTALLED_APPS</p>
<ul>
<li>自定义中间件</li>
</ul>
<p>请修改 config/default.py 的 MIDDLEWARE</p>
<ul>
<li>自定义数据库</li>
</ul>
<p>如无必要请不要覆盖默认 default 数据库，正式环境和预发布环境分别修改 config/prod.py 和 config/stag.py，使用 DATABASES.update() 方法。
本地环境请修改 config/dev.py 的 DATABASES。</p>
<ul>
<li>自定义日志级别</li>
</ul>
<p>日志级别默认是 INFO，如需修改： </p>
<ol>
<li>
<p>所有环境下的日志级别，请在 config/default.py 对应位置修改日志级别：
   <code>python
   LOG_LEVEL = "DEBUG"
   # load logging settings
   LOGGING = get_logging_config_dict(locals())</code></p>
</li>
<li>
<p>如果只希望针对特定环境进行日志级别设置，则在对应环境配置文件（ config/prod.py（只影响生产环境）、config/stag.py（只影响预发布环境）、config/dev.py（只影响预本地开发环境））中取消对应代码注释并修改日志级别：
   <code>python
   # 自定义本地环境日志级别
   from blueapps.conf.log import set_log_level # noqa
   LOG_LEVEL = "DEBUG"
   LOGGING = set_log_level(locals())</code>
    <strong>注意</strong>: 这种修改方式依赖 blueapps 版本 &gt;= 3.3.1。</p>
</li>
</ol>
<p>其中，不同配置的含义如下：
1. DEBUG：用于调试目的的底层系统信息
2. INFO：普通的系统信息
3. WARNING：表示出现一个较小的问题。
4. ERROR：表示出现一个较大的问题。
5. CRITICAL：表示出现一个致命的问题。</p>
<ul>
<li>静态资源版本号更新</li>
</ul>
<p>修改 config/default.py 的 STATIC_VERSION。</p>
<ul>
<li>添加 celery 任务</li>
</ul>
<p>把 celery 任务模块加入 config/default.py 的 CELERY_IMPORTS。</p>
<ul>
<li>初始化管理员列表</li>
</ul>
<p>请修改 config/default.py 的 INIT_SUPERUSER，列表中的人员将拥有预发布环境和正式环境的管理员权限。请在首次提测和上线前修改，之后的修改将不会生效。</p>
<ul>
<li>自定义其他 Django 支持的配置</li>
</ul>
<p>请直接在 config/default.py 添加需要的配置覆盖默认值。</p>
<h3 id="settings_1">使用 settings 配置</h3>
<p>在 Django 应用中，可以通过导入 django.conf.settings 对象来使用设置。例如：</p>
<pre class="codehilite"><code class="language-python">from django.conf import settings

if settings.DEBUG:
    # Do something</code></pre>


<p><strong>注意</strong>：django.conf.settings 不是一个模块 —— 它是一个对象。所以不可以导入每个单独的设置</p>
<pre class="codehilite"><code class="language-python">from django.conf.settings import DEBUG  # This won't work.</code></pre>


<p><strong>注意</strong>：你的代码不应该从 config.default.py 或其他设置文件中导入。django.conf.settings 抽象出默认设置和站点特定设置的概念；它表示一个单一的接口。它还可以将代码从你的设置所在的位置解耦出来。</p>
<h2 id="middleware">自定义 middleware(中间件)</h2>
<ul>
<li>default.py 配置如下</li>
</ul>
<pre class="codehilite"><code class="language-python">MIDDLEWARE += (
# 你的中间件
)</code></pre>


<p><strong>注意</strong>：django1.10 开始，中间件配置项使用 <strong><code>MIDDLEWARE</code></strong> ，1.10 以下版本使用的 MIDDLEWARE_CLASSES 配置项会在 django2.0 后不再被支持。</p>
<ul>
<li>midlleware 开发</li>
</ul>
<p>使用 MIDDLEWARE 配置项开发你的 middleware。</p>
<pre class="codehilite"><code class="language-python">from django.utils.deprecation import MiddlewareMixin

class MyCustomMiddleware(MiddlewareMixin):
    # 中间件支持的方法依然不变
    def process_request(request):
        ...
    def process_view(request, callback, callback_args, callback_kwargs):
        ...
    def process_template_response(request, response):
        ...
    def process_response(request, response):
        ...
    def process_exception(request, exception):
        ...</code></pre>


<p><strong>注意</strong>： 你的 middleware 类必须继承 django 的 MiddlewareMixin，同时你的 middleware 尽量不要去重写 <code>__call__</code> 和 <code>__init__</code> 方法，参考<a href="https://docs.djangoproject.com/en/{{site.recommended_django_version}}/topics/http/middleware/">官方文档</a>。</p>
<h2 id="_4">公共方法</h2>
<h3 id="blueappsutilslogger">blueapps.utils.logger</h3>
<p>提供常用的 logger,logger_celery</p>
<pre class="codehilite"><code class="language-python">from blueapps.util.logger import logger         # 普通日志
from blueapps.util.logger import logger_celery  # celery日志
logger.error('log your info here.')</code></pre><h1 id="bkui-cli">蓝鲸前端开发脚手架（BKUI-CLI）简介</h1>
<p>欢迎使用蓝鲸前端开发脚手架 <a href="https://www.npmjs.com/package/bkui-cli">BKUI-CLI</a>，它是基于 <a href="https://vuejs.org/">Vue.js</a> 研发的一键构建蓝鲸体系前端工程的脚手架工具，包括了基础工程化能力（技术选型、结构搭建、逻辑划分、构建性能优化）、基础 mock 服务、蓝鲸前端/设计规范（代码管理、风格统一）、<a href="https://magicbox.bk.tencent.com/components_vue/2.0/example/index.html#/">bk-magic-vue 组件库</a>、蓝鲸前端通用逻辑、最佳实践以及开发示例等等，可以帮助您基于前后端分离协作的模式更方便、更快速的构建蓝鲸 SaaS。</p>
<p>在使用蓝鲸前端开发脚手架初始化的工程中，结合了目前最新的技术，<a href="https://cn.vuejs.org/">Vue.js 2.x</a>、<a href="https://router.vuejs.org/zh/">Vue Router 3.x</a>、<a href="https://vuex.vuejs.org/zh/guide/">Vuex 3.x</a>、<a href="https://webpack.js.org/">webpack 4.32.x</a>、<a href="https://babeljs.io/">@babel 7.4.x</a> 等等，同时也集成了我们日常开发过程中的最佳实践，包括基本的构建性能优化、mock 请求、常用组件、代码规范、ajax 封装等等，旨在让使用者能够专心致志的开发业务逻辑，无需为工程上其他的事情分心。</p>
<p>与蓝鲸 SaaS 开发框架结合使用，请参阅 <a href="../BKUI.md">结合 BKUI 使用指南</a>。</p>
<h2 id="_1">安装与使用</h2>
<h3 id="_2">安装</h3>
<p><code>BKUI-CLI</code> 已发布至 <a href="https://www.npmjs.com/package/bkui-cli">npm</a>，只需要在任意目录下执行以下命令便可以安装 <code>BKUI-CLI</code>。</p>
<pre class="codehilite"><code class="language-bash">npm install -g bkui-cli</code></pre>


<h3 id="_3">使用</h3>
<p><code>BKUI-CLI</code> 全局安装完毕后，即可输入 <code>bkui</code> 全局命令。</p>
<pre class="codehilite"><code class="language-bash">bkui</code></pre>


<p>会看到如下输出：</p>
<p><img alt="bkui-help" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/assets/bkui-help.png" /></p>
<h3 id="_4">帮助</h3>
<p>在 <code>BKUI-CLI</code> 的每条命令 <code>&lt;command&gt;</code> 后面加上 <code>-h</code> 或者 <code>--help</code> 参数 <code>[options]</code>，会显示当前命令的帮助。</p>
<p><strong>接下来我们详细介绍 <code>BKUI-CLI</code> 的每条命令以及参数</strong>。</p>
<h2 id="bkui-h">bkui -h 命令</h2>
<p>命令行输入 <code>bkui -h</code> 或者 <code>bkui --help</code> 均会输出 <code>BKUI-CLI</code> 的帮助信息。</p>
<pre class="codehilite"><code class="language-bash">$ bkui -h
$ bkui --help</code></pre>


<p><img alt="bkui-help" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/assets/bkui-help.png" /></p>
<h2 id="bkui-init">bkui init 命令</h2>
<p><code>bkui init</code> 是 <code>BKUI-CLI</code> 的重要命令之一。通过前面的章节我们知道，任何命令带 <code>-h</code> 或 <code>--help</code> 参数时，都会输出当前命令的帮助信息。命令行输入 <code>bkui init -h</code>，<code>bkui init</code> 命令的帮助信息如下图：</p>
<p><img alt="help-init" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/assets/bkui-help-init.png" /></p>
<p><code>bkui init</code> 命令支持一个可选参数 <code>DIRECTORY_NAME</code>，表示要创建项目的名称。</p>
<ul>
<li>如果不设置 <code>DIRECTORY_NAME</code> ，那么默认会在当前命令行执行目录下初始化项目，项目的名称就是当前目录的名称；</li>
<li>如果设置了 <code>DIRECTORY_NAME</code>，那么会在当前命令行执行目录下创建 <code>DIRECTORY_NAME</code> 并在 <code>DIRECTORY_NAME</code> 目录里生成项目模板，项目的名称就是 <code>DIRECTORY_NAME</code>。</li>
</ul>
<p><code>bkui init</code> 命令执行过程中，会采用交互问答的形式向使用者提出几个问题，获取答案作为初始化项目的参数，<strong>接下来我们分别解释这几个问题的作用</strong>。</p>
<h2 id="bkui-init_1">bkui init 命令行问题说明</h2>
<blockquote>
<p>蓝鲸前端开发脚手架是为了让开发者基于前后端分离协作的模式更方便、更快速的构建蓝鲸 SaaS。构建完整的蓝鲸 SaaS 应用，需要前后端协作。因此命令行问答交互中有几个问题例如 <code>AJAX_URL_PREFIX</code>, <code>LOGIN_URL</code>, <code>USER_INFO_URL</code> 需要和后端一起协商指定。</p>
<p>为了让前后端分离协作模式可行，这几个设置默认均为本地模拟地址（即 <code>http://localhost</code>），这么做一来可以使前端页面功能开发可以相对独立完成，二来当后端接口准备好之后，前端仅需要修改代码中对应的配置，即可进行功能联调。</p>
</blockquote>
<h3 id="generate-project-in-current-directory">Generate project in current directory</h3>
<p>是否在当前目录下初始化项目，<strong>直接在当前目录下运行 <code>bkui init</code> 并且当前目录为空时会出现这个问题</strong>。</p>
<h3 id="the-current-directory-is-not-empty-continue">The current directory is not empty. Continue</h3>
<p>是否在当前目录下初始化项目，<strong>直接在当前目录下运行 <code>bkui init</code> 并且当前目录不为空时会出现这个问题</strong>。</p>
<h3 id="target-directory-exists-will-create-a-new-directory-and-add-the-bak-suffix-to-the-existing-directory-continue">Target directory exists. Will create a new directory and add the <code>.bak</code> suffix to the existing directory. Continue</h3>
<p>是否在已存在的目录里初始化项目，<strong>运行 <code>bkui init DIRECTORY_NAME</code> 并且 <code>DIRECTORY_NAME</code> 已经存在时会出现这个问题</strong>，继续之后，会给已存在的目录添加一个时间戳后缀，同时新建 <code>DIRECTORY_NAME</code> 目录，并在 <code>DIRECTORY_NAME</code> 新目录里初始化项目。</p>
<h3 id="is-it-a-saas-application">Is it a SaaS Application</h3>
<p>是否是蓝鲸 SaaS 应用，默认为是。<strong>蓝鲸前端开发脚手架除了可以构建蓝鲸 SaaS 应用，也支持构建 Web 单页应用</strong>。</p>
<h3 id="project-name">Project name</h3>
<p>项目名称，默认为 <code>bkui init</code> 中设置的 <code>DIRECTORY_NAME</code>，如果没有 <code>DIRECTORY_NAME</code> 参数，那么就是当前目录的名称。</p>
<h3 id="project-description">Project description</h3>
<p>项目描述，默认为 <code>Project description</code> 字符串。</p>
<h3 id="author">Author</h3>
<p>作者，默认会取你工程下的 <code>git config --get user.name</code> 以及 <code>git config --get user.email</code> 以 <code>name &lt;email&gt;</code> 显示。如果当前工程下没有，那么会取全局 <code>git</code> 的配置。如果全局 <code>git</code> 没有获取到，那么 <code>name</code> 会被设置为 <code>os.hostname()</code> 即操作系统的主机名，<code>email</code> 会被设置为 <code>''</code>。</p>
<h3 id="postcss-or-scss">PostCSS or Scss</h3>
<p>css 的处理引擎，目前仅支持 <code>postcss</code>。</p>
<blockquote>
<p><a href="https://postcss.org/">postcss</a> 是一个用 js 工具和插件转换 css 代码的工具，这些插件可以支持使用变量，混入(mixin)，转换未来的 css 语法，内联图片等操作。相对于 scss，我们更推荐使用 postcss，因为 postcss 是利用 js 来转换 css 代码，基于 js 写的插件理论上来说可以完成任何操作，没有限制，只要能够想到，基本上都可以利用 js 来实现，而且 postcss 不会对 css 代码做任何修改，它只是为插件提供接口，方便他们完成各自的功能。如果需要结合 webpack 使用 scss，参见 <a href="https://webpack.js.org/loaders/postcss-loader/">postcss-loader</a>。</p>
</blockquote>
<h3 id="local_doc_url">LOCAL_DOC_URL</h3>
<p><code>bkui init</code> 初始化项目时，会在项目中自带一个文档示例工程，这个参数就是设置文档示例工程的本地访问 URL，默认为 <code>http://localhost</code>，如果需要自己设置，请输入绝对地址。<strong>（文档示例工程不会对实际的工程产生任何影响，打包构建时也不会把文档示例工程的内容打入到实际工程中）</strong>。</p>
<blockquote>
<p>文档示例工程只是本地运行，因此不会涉及到线上部署，通常使用默认设置 <code>http://localhost</code> 即可。如果需要把文档部署到线上，可运行 <code>npm run build:doc</code> 打包构建文档示例工程，然后自行部署。</p>
</blockquote>
<h5 id="_5">如何修改本配置</h5>
<ul>
<li><strong>本配置是 <code>${ROOT}/doc/build/config.js</code> 中的 <code>localDocUrl</code> 字段，可根据自己的需求修改。</strong></li>
</ul>
<h3 id="local_doc_port">LOCAL_DOC_PORT</h3>
<p>文档示例工程的本地访问端口，默认为 <code>8081</code>。</p>
<h5 id="_6">如何修改本配置</h5>
<ul>
<li><strong>本配置是 <code>${ROOT}/doc/build/config.js</code> 中的 <code>localDocPort</code> 字段，可根据自己的需求修改。</strong></li>
</ul>
<h3 id="local_dev_url">LOCAL_DEV_URL</h3>
<p>本地开发的地址，默认值为 <code>http://localhost</code>，如果需要自己设置，请输入绝对地址（本配置与线上部署无关）。</p>
<blockquote>
<p>我们推荐将 <code>LOCAL_DEV_URL</code> 设置为与您部署的蓝鲸社区版/企业版或非蓝鲸 SaaS 应用的线上域名一致，只是加上一个 <code>local-dev</code> 的子级前缀。</p>
<p>例如假设您部署的蓝鲸社区版/企业版对应域名是：<code>http://www.bking.com</code>，那么 <code>LOCAL_DEV_URL</code> 就设置为 <code>http://local-dev.bking.com</code>，然后配置 host，<code>127.0.0.1 local-dev.bking.com</code>，就可用 <code>http://local-dev.bking.com:${LOCAL_DOC_PORT}</code> 来进行本地开发了。</p>
</blockquote>
<h5 id="_7">如何修改本配置</h5>
<ul>
<li><strong>本配置是 <code>${ROOT}/build/dev.env.js</code> 中的 <code>LOCAL_DEV_URL</code> 字段，可根据自己的需求修改。</strong></li>
</ul>
<h3 id="local_dev_port">LOCAL_DEV_PORT</h3>
<p>本地开发的端口，默认值为 <code>8080</code>。</p>
<h5 id="_8">如何修改本配置</h5>
<ul>
<li><strong>本配置是 <code>${ROOT}/build/dev.env.js</code> 中的 <code>LOCAL_DEV_PORT</code> 字段，可根据自己的需求修改。</strong></li>
</ul>
<h3 id="ajax_url_prefix">AJAX_URL_PREFIX</h3>
<p>ajax 请求地址前缀，我们通过这个配置来拼接出 ajax 请求的前缀，设置为 <code>axios</code> 的 <code>baseURL</code>，如果需要自己设置，请输入绝对地址。通常情况下，这个值需要与后端协商指定。</p>
<p><strong>蓝鲸 SaaS 应用和非蓝鲸 SaaS 应用 ajax 请求前缀：</strong></p>
<ul>
<li>蓝鲸 SaaS 应用</li>
<li>此配置默认值为 <code>http://localhost:8080</code>（<code>${LOCAL_DEV_URL}:${LOCAL_DEV_PORT}</code>）</li>
<li>ajax 完整的请求地址前缀就是 <code>AJAX_URL_PREFIX</code></li>
<li>非蓝鲸 SaaS 应用</li>
<li>此配置默认值为 <code>http://localhost:8080/api</code>（<code>${LOCAL_DEV_URL}:${LOCAL_DEV_PORT}/api</code>）</li>
<li>ajax 完整的请求地址前缀就是 <code>AJAX_URL_PREFIX</code></li>
</ul>
<h5 id="_9">如何修改本配置</h5>
<ul>
<li><strong>本地开发中，本配置是 <code>${ROOT}/build/dev.env.js</code> 中的 <code>AJAX_URL_PREFIX</code> 字段，可根据自己的需求修改。</strong></li>
<li><strong>生产环境中，本配置是 <code>${ROOT}/build/prod.env.js</code> 中的 <code>AJAX_URL_PREFIX</code> 字段，可根据自己的需求修改。打包构建时，我们通常会把 <code>${ROOT}/build/prod.env.js</code> 中的 <code>AJAX_URL_PREFIX</code> 字段设置为 <code>''</code>，这么做的原因是，让 ajax 异步请求地址前缀直接和浏览器访问路径的域名信息一致。</strong></li>
</ul>
<h3 id="ajax_mock_param">AJAX_MOCK_PARAM</h3>
<p>我们集成了简单方便的 <code>mock</code> 功能，任何请求，只要在 url 参数中带有 <code>AJAX_MOCK_PARAM</code> 的值表示的 url 参数，那么就会进入 <code>mock</code> 的逻辑。这个 url 参数的值为 <code>/a/b/c</code> 这样的路径，对应的就是 <code>${ROOT}/mock/ajax</code> 文件夹下的文件，同时还有一个 <code>invoke</code> 参数，表示这个文件里的方法名。<code>AJAX_MOCK_PARAM</code> 的默认值为 <code>mock-file</code>。</p>
<p>示例如下：</p>
<ul>
<li>本参数设置为 <code>mock-file</code>，url 线上的请求为 <code>/app/project/list</code></li>
<li>需要 mock 这个请求，只需要将 url 设置为 <code>/app/project/list?mock-file=/app/project&amp;invoke=list</code></li>
<li>同时在 <code>${ROOT}/mock/ajax</code> 下创建 app 文件夹，文件夹中创建 project 文件，文件中判断 invoke 为 list 时，返回对应的 mock 数据即可</li>
<li>本地开发过程中，<code>AJAX_MOCK_PARAM</code> 有变化时，那么修改 <code>${ROOT}/build/dev.env.js</code> 文件中 <code>AJAX_MOCK_PARAM</code> 的值，然后重启本地 devserver 即可。</li>
</ul>
<h5 id="_10">如何修改本配置</h5>
<ul>
<li><strong>本配置是 <code>${ROOT}/build/dev.env.js</code> 中的 <code>AJAX_MOCK_PARAM</code> 字段，可根据自己的需求修改。</strong></li>
<li><strong>在 <code>${ROOT}/build/prod.env.js</code> 也有一个 <code>AJAX_MOCK_PARAM</code> 字段，正常来说，生产环境中不会使用 mock 的字段，不过为了防止在打包构建后的文件中直接出现 <code>AJAX_MOCK_PARAM</code> 变量，因此在 <code>${ROOT}/build/prod.env.js</code> 文件中我们也设置了 <code>AJAX_MOCK_PARAM</code> 字段。</strong></li>
</ul>
<h3 id="login_url-saas">LOGIN_URL（构建非蓝鲸 SaaS 应用时才会有此配置）</h3>
<p>登录的地址，默认值为 <code>${LOCAL_DEV_URL}:${LOCAL_DEV_PORT}/login</code>，如果需要自己设置，请输入绝对地址。在有登录逻辑的应用中，当<strong>刷新页面</strong>检测到未登录时，页面会自动跳转到这个值所表示的登录页面去。通常情况下，这个值需要与后端协商指定。</p>
<p>示例如下（<strong>假设您本地开发的地址为 http://local-dev.bking.com</strong>）：</p>
<table>
<thead>
<tr>
<th>生产环境配置</th>
<th>本地开发配置</th>
</tr>
</thead>
<tbody>
<tr>
<td>http://www.bking.com/login （与后端协商指定，然后在命令行问答中设置）</td>
<td>http://local-dev.bking.com:8080/login （由 <code>LOCAL_DEV_URL</code>, <code>LOCAL_DEV_PORT</code> 共同决定）</td>
</tr>
</tbody>
</table>
<ul>
<li>如果初始化项目的时候还没有确定 <code>LOGIN_URL</code>，直接使用默认值即可，当确定了 <code>LOGIN_URL</code> 之后，只需要修改 <code>${ROOT}/build/prod.env.js</code> 文件中 <code>LOGIN_URL</code> 的值即可。</li>
<li>本地开发我们一般很少会涉及到登录的逻辑（检测登录逻辑主要是后端验证）。如果我们在本地开发中需要对登录逻辑做一些验证，可以通过 mock httpStatusCode 为 401 来实现。此时，可以通过修改 <code>${ROOT}/build/dev.env.js</code> 文件中 <code>LOGIN_URL</code> 的值来改变本地开发的登录地址。</li>
</ul>
<h5 id="_11">如何修改本配置</h5>
<ul>
<li><strong>本配置是 <code>${ROOT}/build/dev.env.js</code> 中的 <code>LOGIN_URL</code> 字段，可根据自己的需求修改。</strong></li>
</ul>
<h3 id="user_info_url">USER_INFO_URL</h3>
<p>这个配置表示获取用户信息的接口，我们通过这个接口来判断当前用户是否登录，如果需要自己设置，请输入绝对地址。通常情况下，这个值需要与后端协商指定。</p>
<ul>
<li>蓝鲸 SaaS 应用</li>
<li>此配置默认值为 <code>account/get_user_info/</code></li>
<li>通过 index.html（线上）或 index-dev.html（本地开发） 中的 <code>SITE_URL</code> 拼出完整的获取用户信息异步接口。</li>
<li>示例工程中，这个配置使用的是本地的 mock 接口，如需在本地开发时从后端获取异步数据，只需要把 index-dev.html 中的 <code>SITE_URL</code> 改成后端提供的地址即可。</li>
<li>非蓝鲸 SaaS 应用</li>
<li>此配置默认值为 <code>user</code></li>
<li>本地开发时，通过 <code>AJAX_URL_PREFIX</code> 拼出完整的获取用户信息异步接口。</li>
<li>示例工程中，这个配置使用的是本地的 mock 接口，如需在本地开发时从后端获取异步数据，修改 <code>${ROOT}/build/dev.env.js</code> 中的 <code>AJAX_URL_PREFIX</code> 值，然后重启本地 devserver 即可。</li>
<li>如需修改此配置的值，修改 <code>${ROOT}/build/dev.env.js</code> 和 <code>${ROOT}/build/prod.env.js</code> 中的 <code>USER_INFO_URL</code> 值，然后重启本地 devserver 即可。</li>
</ul>
<h5 id="_12">如何修改本配置</h5>
<ul>
<li><strong>本地开发中，本配置是 <code>${ROOT}/build/dev.env.js</code> 中的 <code>USER_INFO_URL</code> 字段，可根据自己的需求修改。</strong></li>
<li><strong>生产环境中，本配置是 <code>${ROOT}/build/prod.env.js</code> 中的 <code>USER_INFO_URL</code> 字段，可根据自己的需求修改。</strong></li>
<li><strong>在后端接口准备后好之后，我们推荐无论是本地开发或者打包构建，即在 <code>${ROOT}/build/dev.env.js</code> 和 <code>${ROOT}/build/prod.env.js</code> 两个文件中，这个字段的配置都是一致的。</strong></li>
</ul>
<h2 id="webpack4">webpack4 类型项目目录结构</h2>
<p>使用 <code>BKUI-CLI</code> 初始化后，项目目录结构如下：</p>
<pre class="codehilite"><code class="language-bash">|-- ROOT/               # 项目根目录
    |-- .babelrc        # babel 配置
    |-- .eslintignore   # eslintignore 配置
    |-- .eslintrc.js    # eslint 配置
    |-- .gitignore      # gitignore 配置
    |-- README.md       # 工程的 README
    |-- index-dev.html  # 本地开发使用的 html
    |-- index.html      # 构建部署使用的 html
    |-- package-lock.json # package-lock file
    |-- package.json    # package.json，我们在提供了基本的 doc, dev, build 等 scripts，详细内容请参见文件
    |-- postcss.config.js # postcss 配置文件，我们提供了一些常用的 postcss 插件，详细内容请参见文件
    |-- build/            # 存放打包构建脚本、webpack 插件等等的目录
    |   |-- ajax-middleware.js # ajax mock 的实现
    |   |-- build-dll.js    # webpack 打包 dll
    |   |-- build.js        # webpack build
    |   |-- check-dll.js    # 检测 dll 是否存在，如果不存在，那么会自动打包，方便在 dev 的时候不用每次都打包 dll
    |   |-- check-versions.js   # 检测 node 和 npm 的版本，版本的限制在 package.json 文件中
    |   |-- config.js       # 本地开发以及 webpack 构建时的一些配置
    |   |-- dev-client.js   # webpack-hot-middleware 注入到页面的脚本，在 dev 时，文件改动，会自动刷新浏览器
    |   |-- dev-server.js   # 本地 dev server 的实现
    |   |-- dev.env.js      # 本地开发时的环境配置
    |   |-- prod.env.js     # webpack 构建时的环境配置
    |   |-- replace-css-static-url-plugin.js # webpack 插件，用于替换 asset css 中的 BK_STATIC_URL，__webpack_public_path__ 没法解决 asset 里静态资源的 url
    |   |-- util.js         # build 里的常用方法
    |   |-- webpack.base.conf.js # webpack base 配置，用于 dev 和构建
    |   |-- webpack.dev.conf.js  # webpack dev 配置
    |   |-- webpack.prod.conf.js # webpack 构建配置
    |-- doc/            # 蓝鲸前端开发脚手架的文档工程，这里的细节与实际工程无关，就不详细介绍了，如有兴趣，可自行查看（doc 里的内容不会影响到实际的工程）
    |   ......
    |-- mock/           # mock 数据存放的目录
    |   |-- ajax/       # mock 数据存放的目录
    |       |-- index.js    # index 模块的 mock 数据文件
    |       |-- util.js     # mock 数据存放模块的常用方法
    |-- src/            # 实际项目的源码目录
    |   |-- App.vue     # App 组件
    |   |-- main.js     # 主入口
    |   |-- public-path.js  # __webpack_public_path__ 设置
    |   |-- api/        # 对 axios 封装的目录
    |   |   |-- cached-promise.js # promise 缓存
    |   |   |-- index.js          # axios 封装
    |   |   |-- request-queue.js  # 请求队列
    |   |-- common/     # 项目中常用模块的目录
    |   |   |-- auth.js     # auth
    |   |   |-- bkmagic.js  # bk-magic-vue 组件的引入
    |   |   |-- bus.js      # 全局的 event bus
    |   |   |-- demand-import.js    # 按需引入 bk-magic-vue 的组件
    |   |   |-- fully-import.js     # 全量引入 bk-magic-vue 的组件
    |   |   |-- preload.js  # 页面公共请求即每次切换 router 时都必须要发送的请求
    |   |   |-- util.js     # 项目中的常用方法
    |   |-- components/     # 项目中组件的存放目录
    |   |   |-- auth/       # auth 组件
    |   |   |   |-- index.css   # auth 组件的样式
    |   |   |   |-- index.vue   # auth 组件
    |   |   |-- exception/      # exception 组件
    |   |       |-- index.vue   # exception 组件
    |   |-- css/            # 项目中通用的 css 的存放目录。各个组件的样式通常在组件各自的目录里。
    |   |   |-- app.css     # App.vue 使用的样式
    |   |   |-- reset.css   # 全局 reset 样式
    |   |   |-- variable.css    # 存放 css 变量的样式
    |   |   |-- mixins/     # mixins 存放目录
    |   |       |-- scroll.css  # scroll mixin
    |   |-- images/         # 项目中使用的图片存放目录
    |   |   |-- 403.png     # 403 错误的图片
    |   |   |-- 404.png     # 404 错误的图片
    |   |   |-- 500.png     # 500 错误的图片
    |   |   |-- building.png # 正在建设中的图片
    |   |-- router/         # 项目 router 存放目录
    |   |   |-- index.js    # index router
    |   |-- store/          # 项目 store 存放目录
    |   |   |-- index.js    # store 主模块
    |   |   |-- modules/    # 其他 store 模块存放目录
    |   |       |-- example.js  # example store 模块
    |   |-- views/          # 项目页面组件存放目录
    |       |-- 404.vue     # 404 页面组件
    |       |-- index.vue   # 主入口页面组件，我们在这里多使用了一层 router-view 来承载，方便之后的扩展
    |       |-- example1/   # example1 页面组件存放目录
    |       |   |-- index.css   # example1 页面组件样式
    |       |   |-- index.vue   # example1 页面组件
    |       |-- example2/   # example2 页面组件
    |       |   |-- index.css   # example2 页面组件样式
    |       |   |-- index.vue   # example2 页面组件
    |       |-- example3/   # example3 页面组件
    |           |-- index.css   # example3 页面组件样式
    |           |-- index.vue   # example3 页面组件
    |-- static/             # 静态资源存放目录，通常情况下， 这个目录不会人为去改变
    |   |-- lib-manifest.json   # webpack dll 插件生成的文件，运行 npm run dll 或者 npm run build 会自动生成
    |   |-- lib.bundle.js       # webpack dll 插件生成的文件，运行 npm run dll 或者 npm run build 会自动生成
    |   |-- images/         # 图片静态资源存放目录
    |       |-- favicon.ico # 网站 favicon</code></pre>


<h2 id="_13">配置说明</h2>
<p>这里给大家介绍一下初始化的工程中几个需要注意的地方</p>
<h3 id="indexhtml">index.html 配置说明</h3>
<p>蓝鲸前端开发脚手架是用来帮助我们构建蓝鲸社区版/企业版 SaaS 应用的，同时它也支持我们构建一般的 web 单页应用。</p>
<p>在初始化的工程里，有 <code>index-dev.html</code> 和 <code>index.html</code> 两个 html 文件。这两个 html 的差异点如下：</p>
<ul>
<li>index.html 用于生产环境，由后端服务器渲染</li>
<li>index-dev.html 用于本地开发，由本地 devserver 渲染</li>
</ul>
<p>html 文件中有几个变量（<code>SITE_URL</code>, <code>BK_STATIC_URL</code>, <code>REMOTE_STATIC_URL</code>），配置说明如下：</p>
<h4 id="site_url">SITE_URL</h4>
<p>前端使用的 router mode 是 <code>history</code>，因此前端路由需要根据这个变量的值来设置<strong>路由的根路径</strong>以及 <strong>ajax 异步请求地址前缀</strong>。</p>
<ul>
<li>在蓝鲸 SaaS 应用和非蓝鲸 SaaS 应用中，SITE_URL 的作用均是<strong>设置路由的根路径</strong>。</li>
</ul>
<p>下面看一个简单的例子理解一下（<strong>假设您部署的蓝鲸社区版/企业版对应域名是：http://www.bking.com ，本地开发的地址为 http://local-dev.bking.com</strong>）：</p>
<table>
<thead>
<tr>
<th></th>
<th>生产环境 SITE_URL 配置（index.html）</th>
<th>生产环境访问地址</th>
<th>本地开发 SITE_URL 配置（index-dev.html）</th>
<th>本地开发访问地址</th>
</tr>
</thead>
<tbody>
<tr>
<td>蓝鲸 SaaS 应用</td>
<td>/t/open-v214/（由后端服务注入页面）</td>
<td>http://www.bking.com/t/open-v214/</td>
<td>/（默认值为：/）</td>
<td>http://local-dev.bking.com</td>
</tr>
<tr>
<td>非蓝鲸 SaaS 应用</td>
<td>/（蓝鲸前端开发脚手架直接生成，非蓝鲸 SaaS 应用通常不会由后端服务注入页面）</td>
<td>http://www.bking.com</td>
<td>/（默认值为：/）</td>
<td>http://local-dev.bking.com</td>
</tr>
</tbody>
</table>
<h5 id="_14">如何修改本配置</h5>
<ul>
<li><strong>本地开发中，本配置是 <code>${ROOT}/index-dev.html</code> 中的 <code>SITE_URL</code> 的值，可根据自己的需求修改。</strong></li>
<li><strong>生产环境中，本配置是 <code>${ROOT}/index.html</code> 中的 <code>SITE_URL</code> 的值，可根据自己的需求修改。</strong></li>
</ul>
<p><strong>蓝鲸 SaaS 应用中，我们建议不要修改 <code>${ROOT}/index.html</code> 中 <code>SITE_URL</code> 的值，生产环境应该由后端注入到页面中。</strong></p>
<h4 id="bk_static_url">BK_STATIC_URL</h4>
<p>前端需要根据这个值来确定静态资源的路径（包括默认写在 html 上的 lib.bundle.js 以及 webpack 动态 inject 的 js 和 css）</p>
<p>还是看一个简单的例子（<strong>假设您部署的蓝鲸社区版/企业版对应域名是：http://www.bking.com ，本地开发的地址为 http://local-dev.bking.com</strong>）：</p>
<table>
<thead>
<tr>
<th></th>
<th>生产环境 BK_STATIC_URL 配置（index.html）</th>
<th>生产环境加载静态资源的路径前缀</th>
<th>本地开发 BK_STATIC_URL 配置（index-dev.html）</th>
<th>本地开发加载静态资源的路径前缀</th>
</tr>
</thead>
<tbody>
<tr>
<td>蓝鲸 SaaS 应用</td>
<td>/t/open-v214/static/dist/（由后端服务注入页面）</td>
<td>http://www.bking.com/t/open-v214/static/dist/</td>
<td>/（默认值为：/）</td>
<td>http://local-dev.bking.com/</td>
</tr>
<tr>
<td>非蓝鲸 SaaS 应用</td>
<td>/（蓝鲸前端开发脚手架直接生成，非蓝鲸 SaaS 应用通常不会由后端服务注入页面）</td>
<td>http://www.bking.com/</td>
<td>/ （默认值为：/）</td>
<td>http://local-dev.bking.com/</td>
</tr>
</tbody>
</table>
<h5 id="_15">如何修改本配置</h5>
<ul>
<li><strong>本地开发中，本配置是 <code>${ROOT}/index-dev.html</code> 中的 <code>BK_STATIC_URL</code> 的值，可根据自己的需求修改。</strong></li>
<li><strong>生产环境中，本配置是 <code>${ROOT}/index.html</code> 中的 <code>BK_STATIC_URL</code> 的值，可根据自己的需求修改。</strong></li>
</ul>
<p><strong>蓝鲸 SaaS 应用中，我们建议不要修改 <code>${ROOT}/index.html</code> 中 <code>BK_STATIC_URL</code> 的值，生产环境应该由后端注入到页面中。</strong></p>
<h4 id="remote_static_url">REMOTE_STATIC_URL</h4>
<p>在蓝鲸 SaaS 应用以及非蓝鲸 SaaS 应用中，有时候可能需要引入其他 CDN 的静态资源文件，这个值就是用来设置其他 CDN 的静态资源路径的。生产环境由后端服务注入页面，本地开发环境默认为空。</p>
<h5 id="_16">如何修改本配置</h5>
<ul>
<li><strong>本地开发中，本配置是 <code>${ROOT}/index-dev.html</code> 中的 <code>REMOTE_STATIC_URL</code> 的值，可根据自己的需求修改。</strong></li>
<li><strong>生产环境中，本配置是 <code>${ROOT}/index.html</code> 中的 <code>REMOTE_STATIC_URL</code> 的值，可根据自己的需求修改。</strong></li>
</ul>
<p><strong>蓝鲸 SaaS 应用中，我们建议不要修改 <code>${ROOT}/index.html</code> 中 <code>REMOTE_STATIC_URL</code> 的值，生产环境应该由后端注入到页面中。</strong></p>
<h3 id="_17">组件库按需和全量加载的切换</h3>
<p>蓝鲸前端开发脚手架集成了我们的 <a href="https://magicbox.bk.tencent.com/components_vue/2.0/example/index.html#/">bk-magic-vue</a> 组件库。组件库支持按需加载和全量加载，两种方式的写法不同，参见 <code>${ROOT}/src/common/demand-import.js</code>（按需加载）和 <code>${ROOT}/src/common/fully-import.js</code>（全量加载）。</p>
<p>我们是在 <code>${ROOT}/src/common/bkmagic.js</code> 中切换的，需要全量加载，就引入 <code>fully-import</code>，需要按需加载就引入 <code>demand-import</code>。</p>
<h3 id="mock">mock 的使用说明</h3>
<p>蓝鲸前端开发脚手架提供简单方便的异步请求 mock 功能，通过简单的配置（仅仅只需要添加 url 的参数）来模拟后端的数据返回，有助于前后端分离协作。简单的示例如下（<strong>假设您部署的蓝鲸社区版/企业版对应域名是：http://www.bking.com ，线上 ajax 异步请求的根路径为: http://www.bking.com/api ，获取用户信息的请求为 http://www.bking.com/api/user</strong>）：</p>
<ul>
<li>命令行问答 <code>AJAX_MOCK_PARAM</code> 设置为默认值 <code>mock-file</code>，如果初始化工程后需要改动，修改 <code>${ROOT}/build/dev.env.js</code> 中的 <code>AJAX_MOCK_PARAM</code> 值即可</li>
<li>同时在 <code>${ROOT}/mock/ajax</code> 目录下创建 app 文件夹，文件夹中创建 index 文件，参照文件中已存在内容的写法，判断 invoke 为 getUserInfo 时，返回对应的 mock 数据即可</li>
<li>mock <code>http://www.bking.com/api/user</code> 这个请求，只需在这个请求后加上这段参数即可 <code>?mock-file=/index&amp;invoke=getUserInfo</code>；去掉这段参数，就会真正请求后端数据</li>
</ul>
<p>::: info 如何修改本配置？
本配置是 <code>${ROOT}/build/dev.env.js</code> 中的 <code>AJAX_MOCK_PARAM</code> 字段，可根据自己的需求修改。</p>
<p>在 <code>${ROOT}/build/prod.env.js</code> 也有一个 <code>AJAX_MOCK_PARAM</code> 字段，正常来说，生产环境中不会使用 mock 的字段，不过为了防止在打包构建后的文件中直接出现 <code>AJAX_MOCK_PARAM</code> 变量，因此在 <code>${ROOT}/build/prod.env.js</code> 文件中我们也设置了 <code>AJAX_MOCK_PARAM</code> 字段。
:::</p>
<h3 id="_18">修改打包构建最终产物的生成目录</h3>
<p>通过修改 <code>${ROOT}/build/config.js</code> 中的 <code>build.assetsRoot</code> 字段，可以更改打包构建最终产物的生成目录。</p>
<table>
<thead>
<tr>
<th></th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>蓝鲸 SaaS 应用</td>
<td><code>path.resolve(__dirname, '../../static/dist')</code>（与当前工程目录同级的 static 目录下的 dist 目录，在当前工程目录外部）</td>
</tr>
<tr>
<td>非蓝鲸 SaaS 应用</td>
<td><code>path.resolve(__dirname, '../dist')</code>（当前工程目录下的 dist 目录，在当前工程目录内部）</td>
</tr>
</tbody>
</table><h1 id="python-bkui-cli">Python 开发框架结合 BKUI-CLI 使用指南</h1>
<h2 id="_1">整体说明</h2>
<p>蓝鲸 Python 开发框架 2.0 可以支持在简单的配置调整后，便可以实现前后端分离开发。本文将会分为两部分，带领读者进行相关的修改。</p>
<ul>
<li>
<p>第一部分主要说明前后端分离后，后端同学应如何配置后台，实现前端同学方便的本地调用后台测试环境接口验证。</p>
</li>
<li>
<p>第二部分主要说明如何合并前后端代码，将代码统一到一个项目仓库下并部署到线上运行。</p>
</li>
</ul>
<h2 id="_2">前端本地开发联调</h2>
<p>在前端开发脚手架（BKUI-CLI）的 <a href="./bkui/bkui.md">说明文档</a> 中，我们已经可以运行一个独立的前端的工程，这里我们会说明如何对前端工程进行调整，打通前端工程及后台接口。</p>
<h3 id="_3">后台修改</h3>
<p>由于前后端分离后，我们希望前端开发在本地运行一个测试服务，然后请求测试环境的接口获取数据进行调试。但由于本地服务的域名与测试环境域名不一致，部分浏览器会有阻止跨域访问的特性，导致请求失败。因此需要修改后台配置，运行跨域访问。</p>
<ol>
<li>
<p>增加 CORS 依赖</p>
<p>requirements.txt 文件中，增加新的组件依赖 <code>django-cors-headers==3.0.2</code> (具体版本，可以按照实际修改)</p>
</li>
<li>
<p>增加 CORS 配置</p>
<ol>
<li>
<p>增加中间件配置</p>
<p>在 config/default.py 文件中，在 54 行左右的位置，增加中间件的配置:</p>
<p><code>python
 # 自定义中间件
 MIDDLEWARE = ('corsheaders.middleware.CorsMiddleware', ) + MIDDLEWARE</code></p>
</li>
<li>
<p>增加测试环境配置</p>
<p>在 config/stag.py 文件中，追加下列的配置</p>
<p><code>python
 # 白名单, 域名请按照前段实际配置修改
 CORS_ORIGIN_WHITELIST = [
     'http://localhost:8080',
 ]
 # 允许跨域使用 cookie
 CORS_ALLOW_CREDENTIALS = True</code></p>
<blockquote>
<p>注意：强烈建议【不要】在 config/prod.py 文件中增加上述的配置。因为正式环境不应该作为联调测试环境，添加 CORS 配置很可能会引起不必要的安全风险。</p>
</blockquote>
</li>
</ol>
</li>
</ol>
<p>完成上述的修改后，本地的前端服务就可以正常的访问后台接口。</p>
<h2 id="_4">代码合并上线</h2>
<p>在前后端分别开发完成后，需要将两边的代码合并并部署到线上环境。在部署前，我们需要对框架中的部分内容进行修改。</p>
<h3 id="_5">增加首页搜索范围</h3>
<p>在 config/default.py 文件中，追加下列配置</p>
<p><code>python
   TEMPLATES[0]['DIRS'] += (
       os.path.join(BASE_DIR, 'static', 'dist'),
   )</code></p>
<blockquote>
<p>注意：</p>
<ol>
<li>此处讨论是未对 TEMPLATES 做修改的情况，如果有对 TEMPLATES 变量有调整会替换，请按照实际情况修改</li>
<li>此处预计前端打包文件输出路径为 {root_path}/static/dist，如果有变化请按照实际情况配置。但文件输出必须在 {root_path}/static/ 路径下，否则会导致线上环境找不到静态资源</li>
</ol>
</blockquote>
<h3 id="_6">修改首页返回</h3>
<p>在 home_application/views.py 文件中，修改 home 函数为</p>
<p><code>python
   def home(request):
       """
       首页
       """
       return render(request, 'index.html')</code></p>
<h3 id="url">增加前端静态 URL 配置</h3>
<p>在 config/prod.py、config/stag.py、config/dev.py 文件中，增加以下配置</p>
<p><code>python
   BK_STATIC_URL = STATIC_URL + '/dist/'</code></p>
<blockquote>
<p>注意：此处预计前端打包文件输出路径为 {root_path}/static/dist，如果有变化请按照实际情况配置。</p>
</blockquote>
<p>在 blueapps/template/context_processors.py 文件中，第 57 行附近，对 context 变量追加一个键值对</p>
<p><code>python
    # 前后端分离的静态 URL 配置
    'BK_STATIC_URL': settings.BK_STATIC_URL</code></p>
<p>完成上述的修改后，就可在本地及线上环境合并部署前后端代码。</p>
<h2 id="faq">FAQ</h2>
<ol>
<li>为什么 getUser 接口失效？</li>
</ol>
<p>A：请检查开发框架版本，该接口是在 2.2.0.x 以后的版本加入。但该接口只是作为简单的连通性验证，并不影响功能。</p>
<ol>
<li>如果前端使用了 history 模式，刷新页面返回 404 怎么办？</li>
</ol>
<p>A：开发框架为此准备了一个中间件及相关配置，只需打开中间件（默认关闭）及打开配置开关即可</p>
<ol>
<li>
<p>在 config/default.py 文件中，增加以下代码</p>
<p><code>python
  MIDDLEWARE += ('blueapps.middleware.bkui.middlewares.BkuiPageMiddleware', )</code></p>
</li>
<li>
<p>在 config/default.py 文件中，打开适配开关</p>
<p><code>python
  IS_BKUI_HISTORY_MODE = True</code></p>
</li>
</ol>
<blockquote>
<p>注意：</p>
<ol>
<li>在这种模式下，后台将会将所有 404 的返回统一改为返回首页('/' 路径)内容</li>
<li>404 页面内容，应该统一在前端处理</li>
</ol>
</blockquote><h1 id="django-vuejs">蓝鲸 Django 开发框结合 Vue.js 框架项目</h1>
<h2 id="_1">前言</h2>
<p>在看本篇教程之前，我们认为你已经有了一些 Django 和 Vue 基础，并且在自己电脑上已经安装好了 npm 和 Vue，因为接下来我们会用到它们去初始化一个 Vue 项目，</p>
<p>当然，如果你对 Vue 所知甚少的话，那么我们非常建议你看过 Vue 官方文档之后再来看本篇教程：</p>
<p><a href="https://cn.vuejs.org/v2/guide/">Vue 官方文档</a></p>
<p>在接下来的内容中，我们将从开发框架开始，一点一点的去完成我们 Django 开发框架和 Vue 进行前后端分离的目标，</p>
<p>同时，我们也会尽可能地标明大家在进行实践的过程中，可能会遇到的问题以及解决方案。</p>
<p>如果你已经准备好这些的话，那么接下来让我们开始吧。</p>
<p>注 本篇教程编写时的环境说明：</p>
<blockquote>
<p>操作系统：Windwos 10 </p>
<p>Python 版本：3.6.5</p>
<p>开发框架版本： 3.2.7.88</p>
<p>vue 版本：@vue/cli 4.4.1</p>
</blockquote>
<h2 id="_2">注意事项</h2>
<p>本篇文章所出现的地址 http://dev.paas-class.bktencent.com:8080 皆是本地测试地址， 大家可以根据你的 PaaS 地址灵活修改。</p>
<h2 id="_3">开发框架准备</h2>
<p>在进行前后端分离之前，我们首先要先准备好我们的后端环境，并编写一个非常简单的后端接口，这个后端接口将会接受一个 Get 或者 Post 请求，并返回如下 json 字符串：</p>
<pre class="codehilite"><code class="language-json">{&quot;hello&quot;: &quot;world&quot;}</code></pre>


<p>首先我们需要先初始化一下我们的蓝鲸开发框架，使之可以正常运行，之后我们需要在<code>home_application/views.py</code>文件中添加一个我们的路由，<code>/hello</code></p>
<p>当然，home_application 并不是强制的，如果你想的话，你可以将<code>/hello</code> 对应的函数定义在任何地方，只要我们通过一个特定的 url 访问<code>/hello</code>这个路由的时候，它可以返回我们所需要的字符串即可。</p>
<p>以下是代码：</p>
<pre class="codehilite"><code class="language-python"># views.py

def hello(request):
    return JsonResponse({&quot;hello&quot;: &quot;world&quot;})


# urls.py
urlpatterns = (
    url(r'^$', views.home),
    url(r'^dev-guide/$', views.dev_guide),
    url(r'^contact/$', views.contact),
    url(r'^hello/$', views.hello),
)</code></pre>


<p>当然，我们努力使一切变得足够简单，<strong>当我们解决了比如跨域，crsf 这些关键问题的时候</strong>，意味着你可以在现在的基础上添加任何复杂的处理逻辑。</p>
<p>现在让我们从浏览器访问我们刚刚创建的<code>hello</code> 路由, 输入网址：http://dev.paas-class.bktencent.com:8000/hello/ 按下回车，</p>
<p>很好，浏览器正确的显示出了<code>{"hello": "world"}</code> ，如果出现其他问题的话，你可能需要去检查你的本地配置是否正确。</p>
<p>到这里，我们开发框架的一个简单的准备就完成啦，当然这只是第一步，当我们遇到诸如跨域，csrf 这些问题的时候，这意味着我们还需要在开发框架中添加额外的配置。</p>
<h2 id="vue">前端 Vue 项目准备</h2>
<p>新建一个 Vue 项目非常简单，我们只需要在命令行输入：</p>
<pre class="codehilite"><code class="language-bash">vue create projectname</code></pre>


<blockquote>
<p>注：projectname 是你要起的项目名称。</p>
</blockquote>
<p>经过一些简单的配置之后，我们即可在本地创建一个标准的 Vue 项目，让我们打开该项目目录，在命令行输入:</p>
<pre class="codehilite"><code class="language-bash">npm run serve</code></pre>


<p>当控制台输出：</p>
<pre class="codehilite"><code class="language-bash">  App running at:
  - Local:   http://localhost:8080/
  - Network: http://192.168.255.10:8080/

  Note that the development build is not optimized.
  To create a production build, run npm run build.</code></pre>


<p>这意味着我们的 Vue 项目已经初始化成功了，现在让我们在浏览器中输入：http://localhost:8080/  看看我们的 Vue 项目是否真的启动成功了:</p>
<p><img alt="Vue" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/assets/Vue.png" /></p>
<p>Nice，这一切真的是出奇的顺利。</p>
<p>当然，到现在，我们的前后端分离之路才真正的算刚刚开始，因为现在我们的 Vue 项目 和我们的开发框架 就如同两个陌生人一样，没有任何交集，
为了将我们的 Vue 项目和 Django 开发框架联系起来，我们需要在 Vue 中写一个请求函数，这个函数会请求我们的<code>/hello</code> 接口, 
如果成功的话，那么我们的 Vue 项目应该收到后端返回过来的 <code>{"hello": "world"}</code> 数据。</p>
<h3 id="axios">安装 axios 库</h3>
<p>为了让我们的 Vue 项目具备向后端发起请求的能力，我们需要安装 axios 库，我们将会使用它，并用它编写一个简单的 Post 请求。</p>
<p>安装：</p>
<pre class="codehilite"><code class="language-shell">npm install --save axios vue-axios</code></pre>


<p>在 vue 项目 src/main.js 文件中添加如下配置：</p>
<pre class="codehilite"><code class="language-js">import Vue from 'vue'
import App from './App.vue'
import axios from 'axios'
import VueAxios from 'vue-axios'
Vue.use(VueAxios,axios); 
Vue.config.productionTip = false
axios.defaults.baseURL = 'http://dev.paas-class.bktencent.com:8000/' //axios 发起请求的前缀

new Vue({
  render: h =&gt; h(App),
}).$mount('#app')</code></pre>


<p>之后让我们点开 src/components/HelloWorld.vue 文件, 并加入以下内容：</p>
<pre class="codehilite"><code class="language-js">&lt;script&gt;
    export default {
        name: 'HelloWorld',
        props: {
            msg: String
        },
        mounted() {
            this.test()
        },
        methods: {
            test: function() {
                this.axios({
                    url: &quot;/hello/&quot;,
                    method: 'post',
                    responseType: 'json', // 默认的
                }).then(res =&gt; {
                    var jsondata = JSON.parse(JSON.stringify(res.data));
                    console.log(jsondata)
                })
            }
        }
    }
&lt;/script&gt;</code></pre>


<p>这段代码的含义是当我们的 HelloWorld.vue 界面初始化的时候，会调用我们的 test 方法，test 向后端<code>/hello/</code>的路由发送一个 Post 请求。并将后端返回的内容打印到控制台中。</p>
<p>现在让我们重新启动我们的 Vue 项目，并在浏览器访问 http://localhost:8080/  ， 并记得打开 <code>f12</code>，这样我们才能看到请求的详细信息。</p>
<p>显而易见的，这一切开始变得不那么顺利了起来，我们的请求失败了，控制台无情的输出了以下信息：</p>
<pre class="codehilite"><code class="language-js">localhost/:1 Access to XMLHttpRequest at 'http://dev.paas-class.bktencent.com:8000/test/' from origin 'http://localhost:8080' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.</code></pre>


<p>这是一个典型的跨域问题，那么接下来就让我们解决它。</p>
<h2 id="_4">解决跨域问题</h2>
<p>首先我们需要在我们的后台框架中安装针对于解决跨域问题的 Python 依赖：</p>
<pre class="codehilite"><code class="language-bash"> pip install django-cors-middleware</code></pre>


<p>看名字我们就知道了，现在我们需要去配置中添加我们相应的中间件配置, 在<code>/config/default.py</code> 文件中添加如下配置：</p>
<pre class="codehilite"><code class="language-python"># 将corsheaders添加为我们的django app
INSTALLED_APPS += (  # noqa
    'home_application',
    'mako_application',
    'corsheaders',
)

# 添加自定义中间件
MIDDLEWARE += (  # noqa
    'corsheaders.middleware.CorsMiddleware',
)</code></pre>


<p>之后我们需要在<code>config/stag.py</code> 文件中追加如下配置;</p>
<pre class="codehilite"><code class="language-python"># 白名单, 域名请按照前段实际配置修改
CORS_ORIGIN_WHITELIST = [
    'http://localhost:8080',
]
# 允许跨域使用 cookie
CORS_ALLOW_CREDENTIALS = True</code></pre>


<p>之后就是非常非常非常重要的一步了，在项目根目录下 setting.py 文件中添加我们的跨域配置：</p>
<pre class="codehilite"><code class="language-python">#在本地开发环境下开启跨域允许
if ENVIRONMENT == 'dev':
    # 跨域增加忽略
    CORS_ALLOW_CREDENTIALS = True
    CORS_ORIGIN_ALLOW_ALL = True
    CORS_ORIGIN_WHITELIST = [
        'http://localhost:8080',
    ]

    CORS_ALLOW_METHODS = (
        'DELETE',
        'GET',
        'OPTIONS',
        'PATCH',
        'POST',
        'PUT',
        'VIEW',
    )

    CORS_ALLOW_HEADERS = (
        'accept',
        'accept-encoding',
        'authorization',
        'content-type',
        'dnt',
        'origin',
        'user-agent',
        'x-csrftoken',
        'x-requested-with',
    )</code></pre>


<p>让我们刷新我们的前端项目，Nice！ 跨域的问题解决了，刚才的报错没有了，但是新的问题出现了，我们的 hello 请求依然没有请求成功，并出现了新的错误：</p>
<pre class="codehilite"><code class="language-txt">POST http://dev.paas-class.bktencent.com:8000/hello/ 403 (Forbidden)</code></pre>


<h2 id="403-csrf-token">解决 403 csrf token 认证问题</h2>
<p>大家都知道，Django 为了防止<code>CRSF</code>攻击，要求我们每一个 Post 请求都要求携带一个 crsftoken 来验明真身，
当然，如果你并不惧怕 CSRF 攻击，你可以简单粗暴的注释掉 CSRF 的中间件，解决不了问题，那就先解决发现问题的人，这当然没有什么问题，
但是我们非常不建议你这样做，因为大多数时候，CSRF 对于一个 web 应用是非常有必要的。</p>
<p>在 Django 应用中，csrftoken 就隐藏在我们应用的 cookie 中，只要拿到 cookie 解析出来 csrftoken 的值，然后每次请求的时候带上它，简直完美，
可是，我们知道，只有同域名下我们才是共享 cookie 的，而现在我们 Vue 项目的访问地址是 http://localhost:8080/ ，
而后端的访问地址却是 http://dev.paas-class.bktencent.com:8000 ，所以为了拿到我们的 cookie，
我们需要改变一下策略，那就是将我们的前端访问地址修改为： http://dev.paas-class.bktencent.com:8080 。</p>
<p>之后我们需要在我们 Vue 项目中<code>/src/main.js</code>中添加我们相关的配置就可以了：</p>
<pre class="codehilite"><code class="language-js">import Vue from 'vue'
import App from './App.vue'
import axios from 'axios'
import VueAxios from 'vue-axios'
Vue.config.productionTip = false
Vue.use(VueAxios,axios); 
// 这里是添加的部分
function getCsrftokenByCookie () {
    const cookie = document.cookie.split(';')
    // 获取csrftoken
    let csrftoken = ''
    for (const i in cookie) {
        if (cookie[i].indexOf('csrftoken') !== -1) {
            csrftoken = cookie[i].split('=')[1]
        }
    }
    return csrftoken
}
// 每次请求头都带上我们的X-CSRFToken 信息
axios.defaults.headers.common['X-CSRFToken'] = getCsrftokenByCookie();
axios.defaults.withCredentials = true;
Vue.config.productionTip = false
axios.defaults.baseURL = 'http://dev.paas-class.bktencent.com:8000/'

new Vue({
  render: h =&gt; h(App),
}).$mount('#app')</code></pre>


<p>现在让我们浏览器访问  http://dev.paas-class.bktencent.com:8080 ，发现，amazing！ 我们的 hello 请求竟然成功了。</p>
<p>当然，你也有可能面临失败，看到这样的字样<code>Invalid Host header</code></p>
<p>好在它解决起来足够简单，我们只需要在我们的 Vue 项目根目录新建一个 vue.config.js 项目文件，并添加如下配置：</p>
<pre class="codehilite"><code class="language-js">module.exports = {
    devServer: {
        disableHostCheck: true,
    }
}</code></pre>


<p>重启我们的 Vue 项目，发现一切已经恢复正常了，控制台如期打印出了 hello world 字样。</p>
<p>现在我们已经解决了前后端分离中最核心的两个问题，跨域和 403 认证，这意味着你现在可以做任何你想做的事情了，
比如编写一个接口，返回当前用户信息等等，这些都不会再有问题，因为现在前端可以任意请求后端的接口，并拿到后端接口返回的信息。</p>
<p>到这里一切理应结束了，但是并没有，我们还需要最后一步功能要做，不过好消息是，相较于前面的跨域 和 csrf 问题，后面我们遇到的问题都是相当简单。</p>
<p>因为我们最终要将应用部署到蓝鲸 pass 平台，这意味着我们需要将我们 Vue 项目合并到我们的开发框架中去。</p>
<h2 id="vue_1">vue 项目 和 开发框架 打包部署</h2>
<p>首先我们需要将我们的 Vue 项目编译成静态文件，执行:</p>
<pre class="codehilite"><code class="language-bash">npm run build</code></pre>


<p>之后我们会看到我们项目根目录生成了 dist 文件夹，这里面就是我们 vue 项目打包好的静态文件了, 将 dist 文件夹直接拷到我们蓝鲸开发框架的根目录下的<code>static</code>文件夹中.</p>
<p>之后我们需要重写设置我们的 django 静态路径，将我们的静态文件指向我们 static 文件夹下面的 dist 文件夹。</p>
<p>在 <code>config/default.py</code>文件中追加以下配置:</p>
<pre class="codehilite"><code class="language-python">TEMPLATES[0]['DIRS'] += (
    os.path.join(BASE_DIR, 'static', 'dist'),
)</code></pre>


<p>注意，如果你前端 Vue 项目中使用了 vue-router 并使用了<code>history</code>路由模式，那么你需要修改<code>config/default.py</code> 中的 <code>IS_BKUI_HISTORY_MODE</code> 字段为<code>True</code>.</p>
<p>之后在： <code>config/stag.py</code> \ <code>config/prod.py</code>两个文件都加上</p>
<pre class="codehilite"><code class="language-python">BK_STATIC_URL = STATIC_URL + 'dist/'</code></pre>


<p>最后一步： 修改我们的首页路径为 index.html</p>
<pre class="codehilite"><code class="language-python">def home(request):
    &quot;&quot;&quot;
    首页
    &quot;&quot;&quot;
    return render(request, 'index.html')</code></pre>


<h2 id="404">解决静态资源 404 问题</h2>
<p>之后，访问我们的后端项目， http://dev.paas-class.bktencent.com:8000 ，发现一片空白，打开控制台我们发现，我们的静态文件全部都是 404 了。</p>
<p><img alt="Vue404" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/SaaS开发/assets/Vue404.png" /></p>
<p>我们点进去看看这些静态文件请求的地址是什么：</p>
<pre class="codehilite"><code class="language-python">http://dev.paas-class.bktencent.com:8000/css/app.775a4d94.css</code></pre>


<p>嗯，我们的静态文件明明在 static/dist 文件夹中啊，这样请求肯定是请求不到的，所以我们正确的静态资源引用路径应该为：</p>
<pre class="codehilite"><code class="language-python">http://dev.paas-class.bktencent.com:8000/static/dist/css/app.775a4d94.css</code></pre>


<p>明白了问题的原因，我们就要去找如何配置我们的静态资源引用路径呢？</p>
<p>还记得我们的<code>vue.config.js</code>, 没错，就是它，我们只需要每次在<code>打包部署前</code>添加如下配置：</p>
<pre class="codehilite"><code class="language-python">module.exports = {
    devServer: {
        disableHostCheck: true,
    },
    publicPath: '/static/dist/'
}</code></pre>


<p>即可，为什么一定要是打包部署之前呢？因为你本地开发 Vue 项目的时候，如果也加上 publicPath 配置的话，那么你访问http://dev.paas-class.bktencent.com:8080<br />
Vue 项目的资源路径就会出问题了，所以一定要是部署之前，加上这个配置，然后 run build 。</p>
<p>重新编译我们的 Vue 项目，点开 dist 文件中的 index.html 文件，我们发现所有静态资源路径的引用已经正确修改为：/static/dist/ 了</p>
<pre class="codehilite"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=en&gt;
    &lt;head&gt;
        &lt;meta charset=utf-8&gt;
        &lt;meta http-equiv=X-UA-Compatible content=&quot;IE=edge&quot;&gt;
        &lt;meta name=viewport content=&quot;width=device-width,initial-scale=1&quot;&gt;
        &lt;link rel=icon href=/static/dist/favicon.ico&gt; &lt;title&gt;vuetest&lt;/title&gt;
        &lt;link href=/static/dist/css/app.775a4d94.css rel=preload as=style&gt;
        &lt;link href=/static/dist/js/app.6101c35b.js rel=preload as=script&gt;
        &lt;link href=/static/dist/js/chunk-vendors.9c9ac966.js rel=preload as=script&gt;
        &lt;link href=/static/dist/css/app.775a4d94.css rel=stylesheet&gt;
    &lt;/head&gt;
    &lt;body&gt;&lt;noscript&gt;&lt;strong&gt;We're sorry but vuetest doesn't work properly without JavaScript enabled. Please enable it to
                continue.&lt;/strong&gt;&lt;/noscript&gt;
        &lt;div id=app&gt;&lt;/div&gt;
        &lt;script src=/static/dist/js/chunk-vendors.9c9ac966.js&gt; &lt;/script&gt; &lt;script src=/static/dist/js/app.6101c35b.js&gt; &lt;/script&gt;
         &lt;/body&gt; &lt;/html&gt;</code></pre>


<p>将我们的 dist 文件再次复制到我们到我们蓝鲸开发框架的 static 目录下，注意别忘记先把之前的删了哦。</p>
<p>之后打开浏览访问 http://dev.paas-class.bktencent.com:8080， 发现一切 ok 了。</p>
<h2 id="_5">总结</h2>
<p>本篇我们从一个最最最简单的接口示例开始，复现并解决了我们在实际前后端分离的过程中遇到的常见问题，例子虽然简单，
但是道理是一样的，解决了这些问题之后，我们剩下的就是专心致志的去写我们的业务逻辑了，
如果你在使用过程中发现了其他我们没有注意到的问题，欢迎大家积极反馈，我们会努力维持我们本篇文章的一个最新状态。</p>
<p>那么，开始你的前后端分离之旅吧！</p><h1 id="_1">移动端开发</h1>
<h2 id="_2">预先准备</h2>
<ol>
<li>申请微信公众号<ul>
<li>公众号 AppID/AppSecret, 【“微信公众号 → 开发 → 基本配置 → 公众号开发信息”】</li>
<li>测试可先申请微信公众号测试号：<a href="https://mp.weixin.qq.com/debug/cgi-bin/sandboxinfo">https://mp.weixin.qq.com/debug/cgi-bin/sandboxinfo</a></li>
</ul>
</li>
<li>申请应用外网域名<ul>
<li>建议同时申请 https 证书，后续需配置为 https</li>
</ul>
</li>
<li>配置公众号<ul>
<li>网页授权域名配置为应用外网域名【“微信公众号 → 设置 → 公众号设置 → 功能设置”】</li>
<li>JS 接口安全域名添加应用外网域名【“微信公众号 → 设置 → 公众号设置 → 功能设置”】</li>
</ul>
</li>
</ol>
<h2 id="_3">创建蓝鲸应用</h2>
<ul>
<li>基本配置请参考 “蓝鲸智云开发者中心——》新手指南”</li>
</ul>
<h2 id="_4">开发配置</h2>
<h3 id="framework_weixin_packagetargz">获取 framework_weixin_package.tar.gz</h3>
<ul>
<li>蓝鲸文档中心 &gt; 下载资源 &gt; <a href="https://bk.tencent.com/docs/document/6.0/2/20?r=1">工具下载</a></li>
</ul>
<blockquote>
<p>framework_weixin_package.tar.gz 解压</p>
</blockquote>
<ul>
<li>确保开发框架版本为 1.1.0 及以上<ul>
<li>将 weixin 目录复制于工程目录下</li>
<li>将 static/weixin 的 weixin 目录复制到工程 static 目录下</li>
<li>将 templates/weixin 的 weixin 目录复制到工程 templates 目录下</li>
</ul>
</li>
<li>修改工程 /weixin/core/settings.py 配置<ul>
<li>USE_WEIXIN 为 True</li>
<li>WEIXIN_APP_ID 为申请的微信公众号的 AppID</li>
<li>WEIXIN_APP_SECRET 为申请的公众号的 AppSecret</li>
<li>WEIXIN_APP_EXTERNAL_HOST 为 申请的应用外网域名</li>
</ul>
</li>
</ul>
<h3 id="_5">修改工程配置文件</h3>
<ul>
<li>修改 conf/default.py 文件</li>
</ul>
<pre class="codehilite"><code class="language-python"># 中间件 （MIDDLEWARE_CLASSES变量）添加
    # 添加到最前面
    'weixin.core.middlewares.WeixinProxyPatchMiddleware',
    # 正常追加到后面即可
    'weixin.core.middlewares.WeixinAuthenticationMiddleware',
    'weixin.core.middlewares.WeixinLoginMiddleware',
# INSTALLED_APPS 添加
    'weixin.core',
    'weixin',
# TEMPLATES （OPTIONS.context_processors）添加 'weixin.core.context_processors.basic'
    TEMPLATES = [
        {
            ...
            'OPTIONS': {
                'context_processors': [
                    # the context to the templates
                    'django.contrib.auth.context_processors.auth',
                    ...
                    # =&gt; 微信端可用的mako上下文变量
                    'weixin.core.context_processors.basic'
                ],
            },
        },
    ]</code></pre>


<ul>
<li>修改 urls.py 文件</li>
</ul>
<pre class="codehilite"><code class="language-python"># urlpatterns 添加
    url(r'^weixin/login/', include('weixin.core.urls')),
    url(r'^weixin/', include('weixin.urls')),</code></pre>


<h2 id="_6">蓝鲸应用</h2>
<ul>
<li>部署蓝鲸应用</li>
</ul>
<h2 id="_7">运维配置</h2>
<ul>
<li>需要确保应用服务器能访问到微信 API （可以只设置微信 API 的代理）<ul>
<li>微信提供的 API 协议均为 https</li>
<li>域名为 api.weixin.qq.com</li>
</ul>
</li>
<li>反向代理，将应用外网域名的部分路径指向内网蓝鲸应用<ul>
<li>为了保证安全，必须只反方向代理部分路径</li>
<li>应用正式环境反向代理：/o/{bk_app_id}/weixin/和/o/{bk_app_id}/static/weixin/</li>
<li>应用测试环境反向代理：/t/{bk_app_id}/weixin/和/t/{bk_app_id}/static/weixin/</li>
<li>header 必需配置 X-Forwarded-Weixin-Host 为应用外网域名，Host 为蓝鲸内网域名</li>
<li>nginx 反向代理示例：</li>
</ul>
</li>
</ul>
<pre class="codehilite"><code class="language-json">server {
        listen              443；
        server_name        paas.external.bking.com; # 填写应用外网域名

        # https相关配置
        ssl                 on;
        ssl_certificate     demo.crt; # 配置对应crt
        ssl_certificate_key demo.key; # 配置对应key
        ssl_session_timeout  10m;
        ssl_session_cache shared:SSL:1m;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2; #按照这个协议配置
        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;#按照这个套件配置
        ssl_prefer_server_ciphers on;

        # 假设bk_app_id = test_app，且配置应用的正式环境
        location ^~ /o/test_app/weixin/ {
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header X-Forwarded-Host $http_host;
            proxy_set_header X-Forwarded-Weixin-Host $http_host;
            proxy_redirect off;
            proxy_read_timeout 180;
            proxy_pass http://paas.bking.com;
        }
        location ^~ /o/test_app/static/weixin/ {
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header X-Forwarded-Host $http_host;
            proxy_set_header X-Forwarded-Weixin-Host $http_host;
            proxy_redirect off;
            proxy_read_timeout 180;
            proxy_pass http://paas.bking.com;
        }
        # 其他不做任何代理，直接返回404即可
        location / {
            return 404;
        }
}</code></pre>


<h2 id="ok">测试是否 OK</h2>
<ul>
<li>直接手机微信访问  <code>https://外网域名/o/{bk_app_id}/weixin/</code></li>
</ul>
<h2 id="_8">基于微信公众号的移动端开发说明</h2>
<blockquote>
<p>测试 OK 后，接下来的开发与 PC 端的开发基本一致</p>
</blockquote>
<ul>
<li>微信端 CGI 请求都得以 <code>/o/{bk_app_id}/weixin/</code>（测试环境为：/o/{bk_app_id}/weixin/），若 Mako 模板渲染的页面，可直接使用 ${WEIXIN_SITE_URL}</li>
<li>微信端本地静态文件请求都得以 <code>/o/{bk_app_id}/static/weixin/</code>（测试环境为：/o/{bk_app_id}/static/weixin/），若 Mako 模板渲染的页面，可直接使用 ${WEIXIN_STATIC_URL}</li>
<li>若对于不需要微信登录认证的请求，可直接在对应的 View 函数添加装饰器 weixin_login_exempt（from weixin.core.decorators import weixin_login_exempt）</li>
<li>微信公众号登录的用户都存储在 BkWeixinUser 模型（from weixin.core.models import BkWeixinUser）中，即数据库表 bk_weixin_user</li>
<li>集成的微信登录默认是静默登录，只能获取用户 openid，其他信息需要设置为授权登录，可配置 weixin/core/settings.py 文件中的 WEIXIN_SCOPE 为 snsapi_userinfo</li>
<li>view 函数中获取登录的用户方式：request.weixin_user 即为登录的用户的 BkWeixinUser 对象，具体 weixin_user 的属性等的可以查看 weixin/core/models.py 中的 BkWeixinUser</li>
</ul>
<h2 id="magicbox">开箱即用的蓝鲸 MagicBox 组件（移动端版本）</h2>
<ul>
<li><a href="https://magicbox.bk.tencent.com/#mobile/show">Magic Box 移动端组件库</a></li>
</ul>
<h2 id="_9">小程序开发入门</h2>
<ul>
<li>教程地址：<a href="https://developers.weixin.qq.com/miniprogram/dev/index.html">https://developers.weixin.qq.com/miniprogram/dev/index.html</a></li>
<li>测试号： <a href="https://developers.weixin.qq.com/weloginpage">https://developers.weixin.qq.com/weloginpage</a></li>
</ul>
<h2 id="_10">小程序开发</h2>
<ul>
<li>一行代码制作将 H5 变为小程序</li>
</ul>
<pre class="codehilite"><code class="language-html">&lt;view&gt;
  &lt;web-view src=&quot;{{ url }}&quot;&gt;&lt;/web-view&gt;
&lt;/view&gt;</code></pre><h1 id="_1">说明</h1>
<ol>
<li>蓝鲸 SaaS 开发前端规范主要包括应用开发的代码，交互设计体验，安全和性能等的规范和建议</li>
<li>在以下章节中，将用 <code>【必须】</code> 标签来标记开发过程中必须遵守的规范，其他均为建议</li>
</ol>
<h1 id="_2">必须掌握的知识点</h1>
<table>
<thead>
<tr>
<th>知识点</th>
<th>基本要求</th>
<th>参考章节</th>
</tr>
</thead>
<tbody>
<tr>
<td>JavaScript 编码规范</td>
<td>遵循 <a href="https://github.com/standard/standard/blob/master/docs/README-zhcn.md">JavaScript Standard Style</a> 编码风格规范，以及学会使用 eslint 对代码进行静态检查</td>
<td><a href="./JS规范/编码规范.md">JS 规范-编码规范</a></td>
</tr>
<tr>
<td>Vuejs 编码规范</td>
<td>遵循 Vuejs 编码风格规范，以及学会使用 eslint 对代码进行静态检查</td>
<td><a href="./Vuejs规范/编码规范.md">Vuejs 规范</a></td>
</tr>
<tr>
<td>代码提交规范</td>
<td>提交代码前必须对进行自检，不允许提交调试代码；以及在每次提交时必须提供有效的提交备注</td>
<td><a href="./其它/代码提交规范.md">代码提交规范</a></td>
</tr>
<tr>
<td>表单数据校验</td>
<td>提交表单前，必须对表单数据进行校验，包括但不限于边界校验、注入校验、合法性校验</td>
<td><a href="./用户体验规范/PC端/表单类.md">用户体验规范</a></td>
</tr>
<tr>
<td>页面性能要求</td>
<td>页面必须在<strong>2 秒</strong>之内打开</td>
<td><a href="./性能优化/编码建议.md">性能优化</a></td>
</tr>
</tbody>
</table><h3 id="1-html5-doctype">1. 使用 HTML5 DOCTYPE</h3>
<pre class="codehilite"><code class="language-html">&lt;!DOCTYPE html&gt;</code></pre>


<h3 id="2-charset-utf-8">2. 必须设置文档的编辑<code>charset</code>，推荐使用 utf-8</h3>
<pre class="codehilite"><code class="language-html">&lt;meta charset=&quot;utf-8&quot;/&gt;</code></pre>


<h3 id="3-title">3. 必须填写页面的<code>title</code>，命名规则为</h3>
<pre class="codehilite"><code class="language-bash">主题标题 - 产品全称</code></pre>


<h3 id="4-meta-seo-keywords-description">4. 关于<code>meta</code> 如果为了 SEO，可以适当填写的 keywords 和 description</h3>
<p>整体基础结构如下</p>
<pre class="codehilite"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot; /&gt;
&lt;title&gt;蓝鲸智云&lt;/title&gt;
&lt;meta name=&quot;keywords&quot; content=&quot;&quot; /&gt;
&lt;meta name=&quot;description&quot; content=&quot;&quot; /&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;css/index.css&quot; /&gt;
&lt;link rel=&quot;icon&quot; href=&quot;favicon.ico?v=5&quot; &gt;
&lt;/head&gt;
&lt;body&gt;
hello world
&lt;/body&gt;
&lt;/html&gt; </code></pre><table class="table table-hover table-bordered table-header-bg f13"> 
    <caption>常见标签表</caption> 
    <thead> 
        <tr><th>标签</th><th>语义</th><th>嵌套常见错误</th><th>常用属性（加粗的为不可缺少的或建议属性）</th></tr> 
    </thead> 
    <tbody> 
        <tr><td>&lt;a&gt;&lt;/a&gt;</td><td>超链接/锚</td><td>a不可嵌套a</td><td>href,name,title,rel,target</td></tr> 
        <tr><td>&lt;br /&gt;</td><td>换行</td><td>&nbsp;</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;button&gt;&lt;/button&gt;</td><td>按钮</td><td>不可嵌套表单元素</td><td>type,disabled</td></tr> 
        <tr><td>&lt;dd&gt;&lt;/dd&gt;</td><td>定义列表中的定义（描述内容）</td><td>只能以dl为父容器，对应一个dt</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;del&gt;&lt;/del&gt;</td><td>文本删除</td><td>&nbsp;</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;div&gt;&lt;/div&gt;</td><td>块级容器</td><td>&nbsp;</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;dl&gt;&lt;/dl&gt;</td><td>定义列表</td><td>只能嵌套dt和dd</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;dt&gt;&lt;/dt&gt;</td><td>定义列表中的定义术语</td><td>只能以dl为父容器，对应多个dd</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;em&gt;&lt;/em&gt;</td><td>强调文本</td><td>&nbsp;</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;form&gt;&lt;/form&gt;</td><td>表单</td><td>&nbsp;</td><td><em>action</em>,target,method,name</td></tr> 
        <tr><td>&lt;h1&gt;&lt;/h1&gt;</td><td>标题</td><td>从h1到h6，不可嵌套块级元素</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;iframe&gt;&lt;/iframe&gt;</td><td>内嵌一个网页</td><td>&nbsp;</td><td>frameborder,width,height,src,scrolling,name</td></tr> 
        <tr><td>&lt;img /&gt;</td><td>图像</td><td>&nbsp;</td><td><em>alt</em>,src,width,height</td></tr> 
        <tr><td>&lt;input /&gt;</td><td>各种表单控件</td><td>&nbsp;</td><td><em>type</em>,name,value,checked,disabled,maxlength,readonly,accesskey</td></tr> 
        <tr><td>&lt;label&gt;&lt;/label&gt;</td><td>标签为input元素定义标注</td><td>&nbsp;</td><td>for</td></tr> 
        <tr><td>&lt;li&gt;&lt;/li&gt;</td><td>列表项</td><td>只能以ul或ol为父容器</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;link /&gt;</td><td>引用样式或icon</td><td>不可嵌套任何元素</td><td><em>type,rel</em>,href</td></tr> 
        <tr><td>&lt;meta /&gt;</td><td>文档信息</td><td>只用于head</td><td>content,http-equiv,name</td></tr> 
        <tr><td>&lt;ol&gt;&lt;/ol&gt;</td><td>有序列表</td><td>只能嵌套li</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;option&gt;&lt;/option&gt;</td><td>select中的一个选项</td><td>仅用于select</td><td><em>value</em>,selected,disabled</td></tr> 
        <tr><td>&lt;p&gt;&lt;/p&gt;</td><td>段落</td><td>不能嵌套块级元素</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;script&gt;&lt;/script&gt;</td><td>引用脚本</td><td>不可嵌套任何元素</td><td><em>type</em>,src</td></tr> 
        <tr><td>&lt;select&gt;&lt;/select&gt;</td><td>列表框或下拉框</td><td>只能嵌套option或optgroup</td><td>name,disabled,multiple</td></tr> 
        <tr><td>&lt;span&gt;&lt;/span&gt;</td><td>内联容器</td><td>&nbsp;</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;strong&gt;&lt;/strong&gt;</td><td>强调文本</td><td>&nbsp;</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;style&gt;&lt;/style&gt;</td><td>引用样式</td><td>不可嵌套任何元素</td><td><em>type</em>,media</td></tr> 
        <tr><td>&lt;sub&gt;&lt;/sub&gt;</td><td>下标</td><td>&nbsp;</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;sup&gt;&lt;/sup&gt;</td><td>上标</td><td>&nbsp;</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;table&gt;&lt;/table&gt;</td><td>表格</td><td>只可嵌套表格元素</td><td>width,align,background,cellpadding,cellspacing,summary,border</td></tr> 
        <tr><td>&lt;tbody&gt;&lt;/tbody&gt;</td><td>表格主体</td><td>只用于table</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;td&gt;&lt;/td&gt;</td><td>表格中的单元格</td><td>只用于tr</td><td>colspan,rowspan</td></tr> 
        <tr><td>&lt;textarea&gt;&lt;/textarea&gt;</td><td>多行文本输入控件</td><td>&nbsp;</td><td>name,accesskey,disabled,readonly,rows,cols</td></tr> 
        <tr><td>&lt;tfoot&gt;&lt;/tfoot&gt;</td><td>表格表尾</td><td>只用于table</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;th&gt;&lt;/th&gt;</td><td>表格中的标题单元格</td><td>只用于tr</td><td>colspan,rowspan</td></tr> 
        <tr><td>&lt;thead&gt;&lt;/thead&gt;</td><td>表格表头</td><td>只用于table</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;title&gt;&lt;/title&gt;</td><td>文档标题</td><td>只用于head</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;tr&gt;&lt;/tr&gt;</td><td>表格行</td><td>嵌套于table或thead、tbody、tfoot</td><td>&nbsp;</td></tr> 
        <tr><td>&lt;ul&gt;&lt;/ul&gt;</td><td>无序列表</td><td>只能嵌套li</td><td>&nbsp;</td></tr> 
    </tbody> 
</table><h3 id="1">1. 单行注释</h3>
<p>感叹号后面 2 个横线，结束时 2 个横线，建议横线和注释内容之间保留空格</p>
<pre class="codehilite"><code class="language-html">&lt;!-- 这里是注释内容 --&gt;</code></pre>


<h3 id="2">2. 建议加上开始注释和结束注释，方便查看标签闭合</h3>
<pre class="codehilite"><code class="language-html">&lt;!-- 容器 --&gt;
&lt;div class=&quot;container&quot;&gt;
    ...
    &lt;!-- 用户名 --&gt;
    &lt;div id=&quot;user_name&quot;&gt;
    ...
    &lt;/div&gt;
    &lt;!-- /用户名 --&gt;
    ...
&lt;/div&gt;
&lt;!-- /容器 --&gt;</code></pre><h3 id="1-html">1. HTML 标签的右括号之前必须有相同的间距</h3>
<pre class="codehilite"><code class="language-html">&lt;template&gt;
  &lt;!-- ✓ 推荐 --&gt;
  &lt;div&gt;
  &lt;div foo&gt;
  &lt;div foo=&quot;bar&quot;&gt;
  &lt;/div&gt;
  &lt;div /&gt;
  &lt;div foo /&gt;
  &lt;div foo=&quot;bar&quot; /&gt;

  &lt;!-- ✗ 不推荐 --&gt;
  &lt;div &gt;
  &lt;div foo &gt;
  &lt;div foo=&quot;bar&quot; &gt;
  &lt;/div &gt;
  &lt;div/&gt;
  &lt;div foo/&gt;
  &lt;div foo=&quot;bar&quot;/&gt;
&lt;/template&gt;</code></pre>


<h3 id="2-html">2. HTML 标签必须要有结束标签</h3>
<pre class="codehilite"><code class="language-html">&lt; template &gt;
  &lt;!-- ✓ 推荐 --&gt;
  &lt;div&gt;&lt;/div&gt;
  &lt;p&gt;&lt;/p&gt;
  &lt;p&gt;&lt;/p&gt;
  &lt;input&gt;
  &lt;br&gt;

  &lt;!-- ✗ 不推荐 --&gt;
  &lt;div&gt;
  &lt;p&gt;
&lt;/ template &gt;</code></pre>


<h3 id="3-lttemplategt">3. 在<code>&lt;template&gt;</code>中强制执行一致的缩进</h3>
<pre class="codehilite"><code class="language-html">&lt; template &gt;
   &lt;!-- ✓ 推荐 --&gt; 
  &lt; div id = “ ”
     class = “ ”
     some-attr = “ ”
  /&gt;

  &lt;!-- ✗ 不推荐 --&gt; 
  &lt; div  id = “ ”
        class = “ ”
        some-attr = “ ”
  /&gt;
&lt;/ template &gt;</code></pre>


<h3 id="4-html">4. HTML 属性的引号使用双引号</h3>
<pre class="codehilite"><code class="language-html">&lt; template &gt;
   &lt;!-- ✓ 推荐 --&gt; 
  &lt; IMG  SRC = “ ./logo.png ” &gt;

  &lt;!-- ✗ 不推荐 --&gt; 
  &lt; IMG  SRC = ' ./logo.png ' &gt;
  &lt; img  src =。/ logo。png &gt;
&lt;/ template &gt;</code></pre>


<h3 id="5-html">5. 删除 html 标签中连续多个不用于缩进的空格</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-html">&lt;div     class=&quot;foo&quot;
    :style =  &quot;bar&quot;         /&gt;
  &lt;i
    :class=&quot;{
      'fa-angle-up'   : isExpanded,
      'fa-angle-down' : !isExpanded,
    }&quot;
  /&gt;</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-html">  &lt;div
    class=&quot;foo&quot;
    :style=&quot;bar&quot; /&gt;
  &lt;i
    :class=&quot;{
      'fa-angle-up' : isExpanded,
      'fa-angle-down' : !isExpanded,
    }&quot;
  /&gt;</code></pre>


<h3 id="6">6. 属性之间空一格</h3>
<pre class="codehilite"><code class="language-html">&lt;!-- ✗ 不推荐 --&gt;
&lt;div id=&quot;demo&quot;  class=&quot;demo&quot;data-title=&quot;demo&quot;&gt;&lt;/div&gt;

&lt;!-- ✓ 推荐 --&gt;
&lt;div id=&quot;demo&quot; class=&quot;demo&quot; data-title=&quot;demo&quot;&gt;&lt;/div&gt;</code></pre><h3 id="1">1. 推荐采用竖向排版方式，便于选择器的寻找和阅读</h3>
<pre class="codehilite"><code class="language-html">.king-class1 .itm{
    height:17px;
    line-height:17px;
    font-size:12px;
}

/* 这是一个有嵌套定义的选择器 */
@media all and (max-width:600px) {
    .king-class1 .itm {
        height:17px;
        line-height:17px;
        font-size:12px;
    }
    .king-class2 .itm {
        width:100px;
        overflow:hidden;
    }
}</code></pre>


<h3 id="2-0">2. 省略值为 0 时的单位</h3>
<p>为节省不必要的字节同时也使阅读方便，我们将 0px、0em、0%等值缩写为 0。</p>
<pre class="codehilite"><code class="language-html">.king-tree-box {
    margin:0 10px;
    background-position:50% 0;
}</code></pre>


<h3 id="3">3. 使用单引号</h3>
<p>省略 url 引用中的引号，其他需要引号的地方使用单引号</p>
<pre class="codehilite"><code class="language-html">.magic-box {
    background:url(bg.png);
}
.magic-box:after {
    content:'.';
}</code></pre>


<h3 id="4">4. 根据属性的重要性按顺序书写</h3>
<p>只遵循横向顺序即可，先显示定位布局类属性，后盒模型等自身属性，最后是文本类及修饰类属性</p>
<ul>
<li>私有在前，标准在后
先写带有浏览器私有标志的，后写 W3C 标准的</li>
</ul>
<pre class="codehilite"><code class="language-html">.magic-box {
    -webkit-box-shadow:0 0 0 #000;
    -moz-box-shadow:0 0 0 #000;
    box-shadow:0 0 0 #000;
}</code></pre><p>注意：命名可以使用 class 选择器，也可以使用 id 选择器。但希望尽量使用 class 选择器</p>
<h3 id="1">1. 使用语义化命名，尽量不使用表现化的或没有语义的命名</h3>
<pre class="codehilite"><code class="language-css">/* ✓ 推荐 */
.magic-search-box{}
.king-btn{}
/* ✗ 不推荐 */
.text-left{}
.green-text{}
.abc{}</code></pre>


<h3 id="2-">2. 命名统一使用<code>-</code>来连接</h3>
<pre class="codehilite"><code class="language-css">/* ✓ 推荐 */
.magic-header .magic-footer .magic

/* ✗ 不推荐 */
.magic_header .magic_footer .magicHeader .magicFooter</code></pre>


<h3 id="3">3. 命名统一添加前缀</h3>
<p>使用前缀是让类名容易识别，同时避免和其它组件冲突。因为引用的 UI 库很多，如 bootstrap、kendoui，后面会接入更多 UI 库和组件，所以在 css 命名的时候能尽量使用前缀。</p>
<pre class="codehilite"><code class="language-css">/* ✓ 推荐 */
.magic-header .magic-content
/* 表格 table1为模块名 */
.king-table1-title .king-table1-header .king-table1-footer
/* ✗ 不推荐 */
.item-grid .item-table</code></pre>


<h3 id="4">4. 相同语义的不同类命名</h3>
<ul>
<li>方法：直接加数字或字母区分即可（如：.magic-list、.magic-list2、.magic-list3 等，都是列表模块，但是是完全不一样的模块）。</li>
<li>扩展类必须和其基类同时使用于同一个节点：class="g-xxx g-xxx-1" class="m-xxx m-xxx-1" class="u-yyy u-yyy-1" class="xxx xxx-yyy"。</li>
</ul>
<pre class="codehilite"><code class="language-html">.magic-logo2、.magic-logo3、.ling-btn、.ling-btn2</code></pre>


<h3 id="5-css">5. CSS 的分类，主要包括以下类型</h3>
<ul>
<li>布局样式（layout）：将页面分割为几个大块，通常有头部、主体、主栏、侧栏、尾部等！</li>
<li>模块样式（common）：通常是一个语义化的可以重复使用的较大的整体！比如导航、登录、注册、各种列表、评论、搜索等！</li>
<li>元件样式（unit）：通常是一个不可再分的较为小巧的个体，常被重复用于各种模块中！比如按钮、输入框、loading、图标等</li>
<li>辅助样式（fun）：将一原子样式独立出来，如清浮动，字体大小、padding、margin</li>
</ul>
<pre class="codehilite"><code class="language-css">/* 布局样式 */
.magic-header,.magic-footer a{
    background:url(images/sprite.png) no-repeat;
}
.king-table1-header{}
.king-form2-group{}

/* 模块样式 */
.magic-common-search{}
.king-common-nav{}

/* 元件样式 */
.magic-unit-btn{}
.magic-unit-loading{}

.king-table2-btn{}
.king-table2-loading{}

.king-fun-fl{float: left;}</code></pre><p>内容比较少时可以只在顶部加注释，内容比较多时在尾部加结束标签<code>/* 注释内容 end */</code></p>
<pre class="codehilite"><code class="language-css">/* 新建任务 start */

.new-task{}

/* 新建任务名 */
.task-name{color:\#333;}

/* 新建任务时间 */
.task-created-time{background:url(img/clock.png) no-repeat;}

/* 新建任务 end */</code></pre><h1 id="1">1. 布局</h1>
<table class="table table-hover table-bordered table-header-bg f13" style="width:400px;">
    <tr>
        <th>语义</th>
        <th>命名</th>
    </tr>
    <tr>
        <td>
            容器
        </td>
        <td>
            container
        </td>
    </tr>
    <tr>
        <td>
            头部
        </td>
        <td>
            header
        </td>
    </tr>
    <tr>
        <td>
            脚部
        </td>
        <td>
            footer
        </td>
    </tr>
    <tr>
        <td>
            侧栏
        </td>
        <td>
            sidebar
        </td>
    </tr>
    <tr>
        <td>
            盒容器
        </td>
        <td>
            wrap/box
        </td>
    </tr>
    <tr>
        <td>
            内容
        </td>
        <td>
            content
        </td>
    </tr>
</table>

<h1 id="2">2. 状态</h1>
<table class="table table-hover table-bordered table-header-bg f13" style="width:400px;">
    <tr>
        <th>语义</th>
        <th>命名</th>
    </tr>
    <tr>
        <td>
            成功
        </td>
        <td>
            success
        </td>
    </tr>
    <tr>
        <td>
            警告
        </td>
        <td>
            warning
        </td>
    </tr>
    <tr>
        <td>
            失败
        </td>
        <td>
            failure
        </td>
    </tr>
    <tr>
        <td>
            错误
        </td>
        <td>
            error
        </td>
    </tr>
    <tr>
        <td>
            失效
        </td>
        <td>
            disabled
        </td>
    </tr>
    <tr>
        <td>
            选中
        </td>
        <td>
            selected
        </td>
    </tr>
    <tr>
        <td>
            展开
        </td>
        <td>
            expand
        </td>
    </tr>
    <tr>
        <td>
            收起
        </td>
        <td>
            packup
        </td>
    </tr>
    <tr>
        <td>
            打开
        </td>
        <td>
            open
        </td>
    </tr>
    <tr>
        <td>
            关闭
        </td>
        <td>
            close
        </td>
    </tr>
</table>

<h1 id="3">3. 模块</h1>
<table class="table table-hover table-bordered table-header-bg f13" style="width:400px;">
    <tr>
        <th>语义</th>
        <th>命名</th>
    </tr>
    <tr>
        <td>
            导航
        </td>
        <td>
            nav
        </td>
    </tr>
    <tr>
        <td>
            菜单
        </td>
        <td>
            menu
        </td>
    </tr>
    <tr>
        <td>
            选项卡
        </td>
        <td>
            tab
        </td>
    </tr>
    <tr>
        <td>
            表格
        </td>
        <td>
            table
        </td>
    </tr>
    <tr>
        <td>
            列表
        </td>
        <td>
            list
        </td>
    </tr>
    <tr>
        <td>
            搜索
        </td>
        <td>
            search
        </td>
    </tr>
    <tr>
        <td>
            轮播图
        </td>
        <td>
            slide
        </td>
    </tr>
    <tr>
        <td>
            提示
        </td>
        <td>
            tip
        </td>
    </tr>
</table><h1 id="1">1. 颜色</h1>
<p><table class="table table-hover table-bordered table-header-bg f13" style="width:400px;">
    <tr>
        <th>颜色</th>
        <th>相应值</th>
        <th>效果</th>
    </tr>
    <tr>
        <td>
            info
        </td>
        <td>
            #88c3ff
        </td>
        <td>
            <span style="display:inline-block;width:12px;height:12px;" class="bg-info ml10" style="background:#88c3ff"></span>
        </td>
    </tr>
    <tr>
        <td>
            primary
        </td>
        <td>
            #57a3f1
        </td>
        <td>
            <span style="display:inline-block;width:12px;height:12px;" class="bg-primary ml10" style="background:#57a3f1"></span>
        </td>
    </tr>
    <tr>
        <td>
            warning
        </td>
        <td>
            #ffc349
        </td>
        <td>
            <span style="display:inline-block;width:12px;height:12px;" class="bg-warning ml10" style="background:#ffc349"></span>
        </td>
    </tr>
    <tr>
        <td>
            danger
        </td>
        <td>
            #ff7979 
        </td>
        <td>
            <span style="display:inline-block;width:12px;height:12px;" class="bg-danger ml10" style="background:#ff7979"></span>
        </td>
    </tr>
    <tr>
        <td>
            success
        </td>
        <td>
            #5bd18b
        </td>
        <td>
            <span style="display:inline-block;width:12px;height:12px;" class="bg-success ml10" style="background:#5bd18b"></span>
        </td>
    </tr></p>
</table>

<h1 id="2">2. 字体</h1>
<blockquote>
<p>常看到有些字体名称变成了乱码，这是由于编写者将中文字体的名字直接写成了中文，并且再上传或者拷贝复制的时候无意间变成了乱码。为了避免这种状况出现，在 CSS 文件中使用中文字体时，最好使用中文字体的英文名称，常用中文字体的英文名称对照表如下:</p>
</blockquote>
<table class="table table-hover table-bordered table-header-bg f13" style="width:400px;">
    <tr>
        <th>中文名</th>
        <th>英文名</th>
        <th>Unicode</th>
    </tr>
    <tr>
        <td>
            宋体
        </td>
        <td>
            #SimSun
        </td>
        <td>
            \5B8B\4F53
        </td>
    </tr>
    <tr>
        <td>
            微软雅黑
        </td>
        <td>
            Microsoft YaHei
        </td>
        <td>
            \5FAE\8F6F\96C5\9ED1
        </td>
    </tr>
    <tr>
        <td>
            黑体
        </td>
        <td>
            SimHei
        </td>
        <td>
            \9ED1\4F53
        </td>
    </tr>
</table>

<h1 id="3">3. 字体全局统一设置</h1>
<p>font-family: -apple-system,BlinkMacSystemFont,PingFang SC,Microsoft YaHei,Helvetica Neue,Arial;</p><h3 id="1">1.【强制】使用垂直排版</h3>
<pre class="codehilite"><code class="language-css">/* ✗ 不推荐 */
.demo {width: 100px; height: 100px; color: #666;}

/* ✓ 推荐 */
.demo {
    width: 100px; 
    height: 100px; 
    color: #666;
}</code></pre>


<h3 id="2">2.【强制】选择器和左<code>{</code>之间空一格，属性和值之间空一格</h3>
<pre class="codehilite"><code class="language-css">/* ✗ 不推荐 */
.demo{
    width:100px; 
    height:100px; 
    color:#666;
}

/* ✓ 推荐 */
.demo {
    width: 100px; 
    height: 100px; 
    color: #666;
}</code></pre>


<h3 id="3">3. 【强制】组合选择器不要在一行</h3>
<pre class="codehilite"><code class="language-css">/* ✗ 不推荐 */
.table&gt;tbody&gt;tr&gt;td,.table&gt;tbody&gt;tr&gt;th,.table&gt;tfoot&gt;tr&gt;td,.table&gt;tfoot&gt;tr&gt;th,.table&gt;thead&gt;tr&gt;td{
    vertical-align: middle;
}

/* ✓ 推荐 */
.table&gt;tbody&gt;tr&gt;td,
.table&gt;tbody&gt;tr&gt;th,
.table&gt;tfoot&gt;tr&gt;td,
.table&gt;tfoot&gt;tr&gt;th,
.table&gt;thead&gt;tr&gt;td {
    vertical-align: middle;
}</code></pre><p>本规范在 <a href="https://github.com/standard/standard/blob/master/docs/README-zhcn.md">JavaScript Standard Style</a> 的基础上，进行适配。</p>
<h1 id="1">1. 文件</h1>
<h3 id="11-javascript-bom-utf-8">1.1 【建议】 <code>JavaScript</code> 文件使用无 <code>BOM</code> 的 <code>UTF-8</code> 编码</h3>
<p>注解：UTF-8 编码具有更广泛的适应性。BOM 在使用程序或工具处理文件时可能造成不必要的干扰。</p>
<h1 id="2">2. 缩进</h1>
<h3 id="21-tab-sublime">2.1 【强制】使用四个空格代替 tab 做为一个缩进层级（如果用 sublime 编辑器默认已经设置好了，其它编辑器自行设置）</h3>
<h3 id="22-switch-case-default">2.2 【强制】switch 下的 case 和 default 必须增加一个缩进层级</h3>
<pre class="codehilite"><code class="language-javascript">// ✓ 推荐
switch (variable) {

    case '1':
        // do...
        break;

    case '2':
        // do...
        break;

    default:
        // do...

}

// ✗ 不推荐
switch (variable) {

case '1':
    // do...
    break;

case '2':
    // do...
    break;

default:
    // do...

}</code></pre>


<h1 id="3">3. 空格</h1>
<h3 id="31">3.1 【强制】二元运算符两侧必须有一个空格，一元运算符与操作对象之间不允许有空格</h3>
<pre class="codehilite"><code class="language-javascript">var a = !arr.length;
a++;
a = b + c;</code></pre>


<h3 id="32">3.2【强制】用作代码块起始的左花括号 { 前必须有一个空格</h3>
<pre class="codehilite"><code class="language-javascript">// ✓ 推荐
if (condition) {
}

while (condition) {
}

function funcName() {
}

// ✗ 不推荐
if (condition){
}

while (condition){
}

function funcName(){
}</code></pre>


<h3 id="33if-else-for-while-function-switch-do-try-catch-finally">3.3【强制】<code>if</code> / <code>else</code> / <code>for</code> / <code>while</code> / <code>function</code> / <code>switch</code> / <code>do</code> / <code>try</code> / <code>catch</code> / <code>finally</code> 关键字后，必须有一个空格</h3>
<pre class="codehilite"><code class="language-javascript">// ✓ 推荐
if (condition) {
}

while (condition) {
}

(function () {
})();

// ✗ 不推荐
if(condition) {
}

while(condition) {
}

(function() {
})();</code></pre>


<h3 id="34">3.4【强制】在对象创建时，属性中的 : 之后必须有空格，: 之前不允许有空格</h3>
<pre class="codehilite"><code class="language-javascript">// ✓ 推荐
var obj = {
    a: 1,
    b: 2,
    c: 3
};

// ✗ 不推荐
var obj = {
    a : 1,
    b:2,
    c :3
};</code></pre>


<h3 id="35">3.5【强制】函数声明、具名函数表达式、函数调用中，函数名和 ( 之间不允许有空格</h3>
<pre class="codehilite"><code class="language-javascript">// ✓ 推荐
function funcName() {
}

var funcName = function funcName() {
};

funcName();

// ✗ 不推荐
function funcName () {
}

var funcName = function funcName () {
};

funcName ();</code></pre>


<h3 id="36">3.6【强制】 , 和 ; 前不允许有空格</h3>
<pre class="codehilite"><code class="language-javascript">// ✓ 推荐
callFunc(a, b);

// ✗ 不推荐
callFunc(a , b) ;</code></pre>


<h3 id="37">3.7【强制】单行声明的数组与对象，如果包含元素，{} 和 [] 内紧贴括号部分不允许包含空格</h3>
<p>解释：</p>
<p>声明包含元素的数组与对象，只有当内部元素的形式较为简单时，才允许写在一行。元素复杂的情况，还是应该换行书写。</p>
<pre class="codehilite"><code class="language-javascript">// ✓ 推荐
var arr1 = [];
var arr2 = [1, 2, 3];
var obj1 = {};
var obj2 = {name: 'obj'};
var obj3 = {
    name: 'obj',
    age: 20,
    sex: 1
};

// ✗ 不推荐
var arr1 = [ ];
var arr2 = [ 1, 2, 3 ];
var obj1 = { };
var obj2 = { name: 'obj' };
var obj3 = {name: 'obj', age: 20, sex: 1};</code></pre>


<h3 id="38for">3.8【强制】在函数声明、函数表达式、函数调用、对象创建、数组创建、for 语句等场景中，不允许在 , 或 ; 前换行</h3>
<pre class="codehilite"><code class="language-javascript">// ✓ 推荐
var obj = {
    a: 1,
    b: 2,
    c: 3
};

foo(
    aVeryVeryLongArgument,
    anotherVeryLongArgument,
    callback
);


// ✗ 不推荐
var obj = {
    a: 1
    , b: 2
    , c: 3
};

foo(
    aVeryVeryLongArgument
    , anotherVeryLongArgument
    , callback
);</code></pre>


<h3 id="39">3.9【建议】不同行为或逻辑的语句集，使用空行隔开，更易阅读</h3>
<pre class="codehilite"><code class="language-javascript">// 仅为按逻辑换行的示例，不代表setStyle的最优实现
function setStyle(element, property, value) {
    if (element == null) {
        return;
    }

    element.style[property] = value;
}</code></pre><h3 id="1-camel">1. 【强制】变量使用 Camel 命名法</h3>
<pre class="codehilite"><code class="language-javascript">var loadingModules = {};</code></pre>


<h3 id="2">2. 【强制】常量使用全部字母大写，单词间下划线分隔 的命名方式</h3>
<pre class="codehilite"><code class="language-javascript">var HTML_ENTITY = {};</code></pre>


<h3 id="3-camel">3. 【强制】函数使用 Camel 命名法</h3>
<pre class="codehilite"><code class="language-javascript">function stringFormat(source) {
}</code></pre>


<h3 id="4-camel">4. 【强制】函数的参数使用 Camel 命名法</h3>
<pre class="codehilite"><code class="language-javascript">function hear(theBells) {
}</code></pre>


<h3 id="5-pascal">5. 【强制】类使用 Pascal 命名法</h3>
<pre class="codehilite"><code class="language-javascript">function TextNode(options) {
}</code></pre>


<h3 id="6-camel">6. 【强制】类的方法 / 属性使用 Camel 命名法</h3>
<pre class="codehilite"><code class="language-javascript">function TextNode(value, engine) {
    this.value = value;
    this.engine = engine;
}

TextNode.prototype.clone = function () {
    return this;
};</code></pre>


<h3 id="7-pascal">7. 【强制】枚举变量使用 Pascal 命名法，枚举的属性使用全部字母大写，单词间下划线分隔的命名方式</h3>
<pre class="codehilite"><code class="language-javascript">var TargetState = {
    READING: 1,
    READED: 2,
    APPLIED: 3,
    READY: 4
};</code></pre>


<h3 id="8">8. 【强制】由多个单词组成的缩写词，在命名中，根据当前命名法和出现的位置，所有字母的大小写与首字母的大小写保持一致</h3>
<pre class="codehilite"><code class="language-javascript">function XMLParser() {
}

function insertHTML(element, html) {
}

var httpRequest = new HTTPRequest();</code></pre>


<h3 id="9">9. 【强制】类名使用名词</h3>
<pre class="codehilite"><code class="language-javascript">function Engine(options) {
}</code></pre>


<h3 id="10">10. 【建议】函数名使用动宾短语</h3>
<pre class="codehilite"><code class="language-javascript">function getStyle(element) {
}</code></pre>


<h3 id="11-boolean-is-has">11. 【建议】boolean 类型的变量使用 is 或 has 开头</h3>
<pre class="codehilite"><code class="language-javascript">var isReady = false;
var hasMoreCommands = false;</code></pre><h3 id="1">1. 单行注释</h3>
<p>【强制】必须独占一行。// 后跟一个空格，缩进与下一行被注释说明的代码一致。</p>
<h3 id="2">2. 多行注释</h3>
<p>【建议】避免使用 /<em>...</em>/ 这样的多行注释。有多行注释内容时，使用多个单行注释。</p><h3 id="1">1. 大括号风格要求</h3>
<p>one true brace style 将大括号放在控制语句或声明语句同一行的位置, 不允许块的开括号和闭括号在同一行</p>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">function foo()
{
  return true
}

function nop() { return }</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">function foo() {
  return true
}

function nop() { 
    return
}</code></pre>


<h3 id="2-object-key">2. 使用驼峰命名法（Object key 除外）</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">// 包导入
import { no_camelcased } from &quot;external-module&quot;

// 变量定义
var my_favorite_color = &quot;#112C85&quot;;

// 函数定义
function do_something() {
    // ...
}</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">// 包导入
import { no_camelcased as camelCased } from &quot;external-module&quot;

// 变量定义
var myFavoriteColor = &quot;#112C85&quot;;

// 函数定义
function doSomething() {
    // ...
}

// Object key 允许非驼峰命名
var obj = {
    my_pref: 1
}</code></pre>


<h3 id="3-4-switch-case">3. 【建议】缩进使用 4 个空格，并且 switch 语句中的 Case 需要缩进</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">if (a) {
  var b = a
  function foo(c) {
    var d = c
  }
}</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">if (a) {
    var b = a
    function foo(c) {
        var d = c
    }
}</code></pre>


<h3 id="4">4. [建议]数组的括号内的前后禁止有空格</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">var arr = [ 'foo', 'bar' ];
var arr = ['foo', 'bar' ];
var arr = [ ['foo'], 'bar'];
var arr = [[ 'foo' ], 'bar'];
var arr = [ 'foo',
  'bar'
];
var [ x, y ] = z;
var [ x,y ] = z;
var [ x, ...y ] = z;
var [ ,,x, ] = z;</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">var arr = [];
var arr = ['foo', 'bar', 'baz'];
var arr = [['foo'], 'bar', 'baz'];
var arr = [
  'foo',
  'bar',
  'baz'
];
var arr = ['foo',
  'bar'
];
var arr = [
  'foo',
  'bar'];

var [x, y] = z;
var [x,y] = z;
var [x, ...y] = z;
var [,,x,] = z;</code></pre>


<h3 id="5">5. 换行时，操作符在前</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">foo = 1 +
      2;

foo =
    5;

if (someCondition ||
    otherCondition) {
}

answer = everything ?
  42 :
  foo;</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">foo = 1 + 2;

foo = 1
    + 2;

foo
    = 5;

if (someCondition
    || otherCondition) {
}

answer = everything
  ? 42
  : foo;</code></pre>


<h3 id="6-debugger">6. 生产环境不允许使用 debugger 语句</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">function isTruthy(x) {
    debugger
    return Boolean(x)
}</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">function isTruthy(x) {
    return Boolean(x)
}</code></pre>


<h3 id="7">7. 只有一个参数时，箭头函数体可以省略圆括号</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">(a) =&gt; {}</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">a =&gt; {}</code></pre>


<h3 id="8-catch">8. 禁止空语句（可在空语句写注释避免），允许空的 catch 语句</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">if (foo) {
}

while (foo) {
}

switch(foo) {
}

try {
    doSomething();
} catch(ex) {

} finally {

}</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">if (foo) {
    // empty
}

while (foo) {
    /* empty */
}

try {
    doSomething();
} catch (ex) {
    // continue regardless of error
}

try {
    doSomething();
} finally {
    /* continue regardless of error */
}</code></pre>


<h3 id="9">9. 禁止在语句末尾使用分号</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">var name = &quot;ESLint&quot;;

object.method = function() {
    // ...
};</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">var name = &quot;ESLint&quot;

object.method = function() {
    // ...
}

var name = &quot;ESLint&quot;

;(function() {
    // ...
})()

import a from &quot;a&quot;
(function() {
    // ...
})()

import b from &quot;b&quot;
;(function() {
    // ...
})()</code></pre>


<h3 id="10">10. 禁用不必要的分号</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">var x = 5;;

function foo() {
    // code
};</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">var x = 5;

var foo = function() {
    // code
};</code></pre>


<h3 id="11-generator">11. generator 的 * 前面禁止有空格，后面必须有空格</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">function *generator() {}

var anonymous = function *() {};

var shorthand = { *generator() {} };</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">function* generator() {}

var anonymous = function* () {};

var shorthand = { * generator() {} };</code></pre>


<h3 id="12">12. 函数圆括号之前有一个空格</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">function foo() {
    // ...
}

var bar = function() {
    // ...
};

var bar = function foo() {
    // ...
};

class Foo {
    constructor() {
        // ...
    }
}

var foo = {
    bar() {
        // ...
    }
};

var foo = async() =&gt; 1</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">function foo () {
    // ...
}

var bar = function () {
    // ...
};

var bar = function foo () {
    // ...
};

class Foo {
    constructor () {
        // ...
    }
}

var foo = {
    bar () {
        // ...
    }
};

var foo = async () =&gt; 1</code></pre>


<h3 id="13">13. 禁止行尾有空格</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">var foo = 0;//•••••
var baz = 5;//••</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">var foo = 0;
var baz = 5;
//•••••</code></pre>


<h3 id="14">14. 注释的斜线或 * 后必须有空格</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">/*eslint spaced-comment: [&quot;error&quot;, &quot;always&quot;]*/

//This is a comment with no whitespace at the beginning

/*This is a comment with no whitespace at the beginning */</code></pre>


<pre class="codehilite"><code class="language-js">/* eslint spaced-comment: [&quot;error&quot;, &quot;always&quot;, { &quot;block&quot;: { &quot;balanced&quot;: true } }] */
/* This is a comment with whitespace at the beginning but not the end*/</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">/* eslint spaced-comment: [&quot;error&quot;, &quot;always&quot;] */

// This is a comment with a whitespace at the beginning

/* This is a comment with a whitespace at the beginning */

/*
 * This is a comment with a whitespace at the beginning
 */

/*
This comment has a newline
*/</code></pre>


<pre class="codehilite"><code class="language-js">/* eslint spaced-comment: [&quot;error&quot;, &quot;always&quot;] */

/**
* I am jsdoc
*/</code></pre>


<h3 id="15-var">15. 禁止使用 var</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">var x = &quot;y&quot;;
var CONFIG = {};</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">let x = &quot;y&quot;;
const CONFIG = {};</code></pre>


<h3 id="16-const">16. 如果一个变量不会被重新赋值，必须使用 <code>const</code> 进行声明</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">let a = 3;
console.log(a);

let a;
a = 0;
console.log(a);

// `i` is redefined (not reassigned) on each loop step.
for (let i in [1, 2, 3]) {
    console.log(i);
}

// `a` is redefined (not reassigned) on each loop step.
for (let a of [1, 2, 3]) {
    console.log(a);
}</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">const a = 0;

// it's never initialized.
let a;
console.log(a);

// it's reassigned after initialized.
let a;
a = 0;
a = 1;
console.log(a);</code></pre>


<h3 id="17">17.  禁止在数组括号内[]使用空格</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">var arr = [ 'foo', 'bar' ];
var arr = ['foo', 'bar' ];
var arr = [ ['foo'], 'bar'];
var arr = [[ 'foo' ], 'bar'];
var arr = [ 'foo',
  'bar'
];
var [ x, y ] = z;
var [ x,y ] = z;
var [ x, ...y ] = z;
var [ ,,x, ] = z;</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">var arr = [];
var arr = ['foo', 'bar', 'baz'];
var arr = [['foo'], 'bar', 'baz'];
var arr = [
  'foo',
  'bar',
  'baz'
];
var arr = ['foo',
  'bar'
];
var arr = [
  'foo',
  'bar'];</code></pre>


<h3 id="18">18. 箭头函数前后必须加空格</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">()=&gt; {};
() =&gt;{};
(a)=&gt; {};
(a) =&gt;{};
a =&gt;a;
a=&gt; a;
()=&gt; {'\n'};
() =&gt;{'\n'};</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">() =&gt; {};
(a) =&gt; {};
a =&gt; a;
() =&gt; {'\n'};</code></pre>


<h3 id="19">19. 在成员表达式的点之前或之后放置新行</h3>
<p>// 默认的选项是对象时，要求点与对象位于同一行</p>
<pre class="codehilite"><code class="language-js">// ✓ 推荐
var foo = object.
property;
var bar = object.property;

// ✗ 不推荐
var foo = object
.property;</code></pre>


<p>// 默认的选项是属性时，要求点与属性位于同一行</p>
<pre class="codehilite"><code class="language-js">// ✓ 推荐
var foo = object
.property;
var bar = object.property;

// ✗ 不推荐
var foo = object.
property;</code></pre>


<h3 id="20">20. 要求使用 === 和 !== 代替常规的相等运算符 == 和 !=</h3>
<pre class="codehilite"><code class="language-js">  // ✓ 推荐 
  a === b
  foo === true
  bananas !== 1
  value === undefined

  // ✗ 不推荐
  a == b
  foo == true
  bananas != 1
  value == undefined</code></pre>


<h3 id="21-html">21. 禁止语法错误，此规则会报告指令、HTML 标签、结束标签的属性、无效的结束标签等语法错误</h3>
<pre class="codehilite"><code class="language-html">&lt;template&gt;
  &lt;!-- ✗ 不推荐 --&gt;
  {{ . }}
  {{ foo bar }}
  &lt;div :class=&quot;*abc*&quot; / @click=&quot;def(&quot;&gt;
    &lt;/span&gt;
  &lt;/div id=&quot;ghi&quot;&gt;
&lt;/template&gt;</code></pre>


<h3 id="22">22. 禁止在外部作用域中重复声明隐藏变量</h3>
<pre class="codehilite"><code class="language-html">&lt;template&gt;
  &lt;!-- ✓ 推荐 --&gt;
  &lt;div v-for=&quot;i in 5&quot;&gt;&lt;/div&gt;
  &lt;div v-for=&quot;j in 5&quot;&gt;&lt;/div&gt;

  &lt;!-- ✗ 不推荐 --&gt;
  &lt;div&gt;
    &lt;div v-for=&quot;k in 5&quot;&gt;
      &lt;div v-for=&quot;k in 10&quot;&gt;&lt;/div&gt;
      &lt;div slot-scope=&quot;{ k }&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div v-for=&quot;l in 5&quot;&gt;&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  export default {
    data () {
      return {
        l: false
      }
    }
  }
&lt;/script&gt;</code></pre>


<h3 id="23">23. 对象写在一行时，大括号里旁边不需要空格</h3>
<pre class="codehilite"><code class="language-html">&lt;script&gt;
  // ✓ 推荐
  var obj = {'foo': 'bar'};
  var obj = {'foo': {'bar': 'baz'}, 'qux': 'quxx'};
  var obj = {
  'foo': 'bar'
};

  // ✗ 不推荐
  var obj = { 'foo': 'bar' };
  var obj = {'foo': 'bar' };
  var obj = { baz: {'foo': 'qux'}, bar};
&lt;/script&gt;</code></pre>


<h3 id="24">24. 二元操作符两边要有空格</h3>
<pre class="codehilite"><code class="language-html">&lt;script&gt;
/* ✓ 推荐 */
a + b

a ? b : c

const a = {b:1};

var {a = 0} = bar;

function foo(a = 0) { }

 /* ✗ 不推荐 */
a+b

a+ b

a +b

a?b:c

const a={b:1};

var {a=0}=bar;

function foo(a=0) { }
&lt;/script&gt;</code></pre>


<h3 id="25-new-delete-typeof-void-yield-">25. new, delete, typeof, void, yield 等后面必须有空格，一元操作符 -, +, --, ++, !, !! 禁止有空格</h3>
<pre class="codehilite"><code class="language-html">&lt;script&gt;
/* ✓ 推荐 */
delete foo.bar;

new Foo;

void 0;

++foo;

foo--;

-foo;

+&quot;3&quot;;

 /* ✗ 不推荐 */
typeof!foo;

void{foo:0};

new[foo][0];

delete(foo.bar);

++ foo;

foo --;

- foo;

+ &quot;3&quot;;
&lt;/script&gt;</code></pre><ul>
<li>
<p>在页面中引用 css 和 js、或配置 url 路径时，必须使用“绝对路径”，而不要使用 <code>../</code>，<code>./</code> 等相对路径的引用方式</p>
</li>
<li>
<p>发布上线之前，需要检查相应的环境是否存在引用的静态资源，不同环境之间不能交叉引用。</p>
</li>
<li>
<p>在页面中引用开发者编写的静态文件时，需要在资源路径后面增加版本号。如：</p>
<p><code>&lt;link rel="stylesheet" href="${STATIC_URL}index.css?v=${STATIC_VERSION}"&gt;</code></p>
<p><code>&lt;script src="${STATIC_URL}index.js?v=${STATIC_VERSION}"&gt;&lt;/script&gt;</code></p>
<p>发布上线前，需检查静态文件是否有改动。若有改动，则需要更新 settings 中 <code>STATIC_VERSION</code> 的值，以避免用户加载缓存的旧版本静态文件。</p>
</li>
</ul><h1 id="vue">Vue 官方编码风格建议</h1>
<p>https://cn.vuejs.org/v2/style-guide/index.html</p><h3 id="1-vue">1. Vue 模板中，必须使用带连字符的属性</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-html">&lt;template&gt;
  &lt;MyComponent myProp=&quot;prop&quot; /&gt;
&lt;/template&gt;</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-html">&lt;template&gt;
  &lt;MyComponent my-prop=&quot;prop&quot; /&gt;
&lt;/template&gt;</code></pre>


<h3 id="2-vue">2. Vue 的模板中，大括号内必须使用空格</h3>
<p>规则与<code>block-spacing</code>类似，这里举 block-spacing 的例子</p>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">function foo() {return true;}
if (foo) { bar = 0;}
function baz() {let i = 0;
    return i;
}</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">function foo() { return true; }
if (foo) { bar = 0; }</code></pre>


<h3 id="3-vue-brace">3. Vue 模板中使用 brace 风格代码</h3>
<p>brace 风格代码，前花括号放在同一行，后花括号放在下一行，且不允许函数全部写在一行内</p>
<blockquote>
<p>此规范与 brace-style 相同，只是适用于 Vue 的 templete 中</p>
</blockquote>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">function foo()
{
  return true;
}

if (foo)
{
  bar();
}

function nop() { return; }</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">function foo() {
  return true;
}

if (foo) {
  bar();
}

if (foo) {
  bar();
} else {
  baz();
}

try {
  somethingRisky();
} catch(e) {
  handleError();
}

// when there are no braces, there are no problems
if (foo) bar();
else if (baz) boom();</code></pre>


<h3 id="4">4. 禁止使用拖尾逗号</h3>
<blockquote>
<p>此规范与 comma-dangle 相同，只是适用于 Vue 的 templete 中</p>
</blockquote>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">var foo = {
    bar: &quot;baz&quot;,
    qux: &quot;quux&quot;,
};

var arr = [1,2,];

foo({
  bar: &quot;baz&quot;,
  qux: &quot;quux&quot;,
});</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">var foo = {
    bar: &quot;baz&quot;,
    qux: &quot;quux&quot;
};

var arr = [1,2];

foo({
  bar: &quot;baz&quot;,
  qux: &quot;quux&quot;
});</code></pre>


<h3 id="5-vue-template-eslint-disable-eslint-enable">5. vue 文件 template 中允许 eslint-disable eslint-enable</h3>
<p>这个主要为了支持在 vue 的 template 中，提供<code>eslint-disable</code>功能</p>
<blockquote>
<p>行内注释启用/禁用某些规则，配置为 1 即允许
    'vue/comment-directive': 1,</p>
</blockquote>
<p>使用样例, 注释的下一行即不受 eslint 的检查</p>
<pre class="codehilite"><code class="language-html">&lt;template&gt;
  &lt;!-- eslint-disable-next-line vue/max-attributes-per-line --&gt;
  &lt;div a=&quot;1&quot; b=&quot;2&quot; c=&quot;3&quot; d=&quot;4&quot;&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>


<h3 id="6">6. 组件标签使用统一的命名规范</h3>
<p>// 驼峰表示</p>
<pre class="codehilite"><code class="language-js">&lt;template&gt;
  &lt;!-- ✓ GOOD --&gt;
  &lt;CoolComponent /&gt;

  &lt;!-- ✗ BAD --&gt;
  &lt;cool-component /&gt;
  &lt;coolComponent /&gt;
  &lt;Cool-component /&gt;

  &lt;!-- ignore --&gt;
  &lt;UnregisteredComponent /&gt;
  &lt;unregistered-component /&gt;

  &lt;registered-in-kebab-case /&gt;
  &lt;registeredInCamelCase /&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  components: {
    CoolComponent,
    'registered-in-kebab-case': VueComponent1,
    'registeredInCamelCase': VueComponent2
  }
}
&lt;/script&gt;</code></pre>


<p>// 短横线表示</p>
<pre class="codehilite"><code class="language-js">&lt;template&gt;
  &lt;!-- ✓ GOOD --&gt;
  &lt;cool-component /&gt;

  &lt;!-- ✗ BAD --&gt;
  &lt;CoolComponent /&gt;
  &lt;coolComponent /&gt;
  &lt;Cool-component /&gt;

  &lt;!-- ignore --&gt;
  &lt;unregistered-component /&gt;
  &lt;UnregisteredComponent /&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  components: {
    CoolComponent
  }
}
&lt;/script&gt;</code></pre>


<h3 id="7-vue-keyvalue">7. 在 vue 模板中，对象键(key)与值(value)之间的空格</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">var obj = { &quot;foo&quot;: 42 };
var obj = { &quot;foo&quot;:42 };</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">var obj = { &quot;foo&quot;: 42 };</code></pre>


<h3 id="8-vue">8. vue 模板的关键字空格</h3>
<p>比如<code>if()...else{}</code>的空格</p>
<p>要求关键字前后都必须有空格，推荐格式如下：</p>
<pre class="codehilite"><code class="language-js">if (foo) {
    //...
} else if (bar) {
    //...
} else {
    //...
}</code></pre>


<h3 id="9">9. 计算属性中不允许有异步方法</h3>
<p>示例</p>
<pre class="codehilite"><code class="language-js">&lt;script&gt;
export default {
  computed: {
    /* ✓ GOOD */
    foo () {
      var bar = 0
      try {
        bar = bar / this.a
      } catch (e) {
        return 0
      } finally {
        return bar
      }
    },

    /* ✗ BAD */
    pro () {
      return Promise.all([new Promise((resolve, reject) =&gt; {})])
    },
    foo1: async function () {
      return await someFunc()
    },
    bar () {
      return fetch(url).then(response =&gt; {})
    },
    tim () {
      setTimeout(() =&gt; { }, 0)
    },
    inter () {
      setInterval(() =&gt; { }, 0)
    },
    anim () {
      requestAnimationFrame(() =&gt; {})
    }
  }
}
&lt;/script&gt;</code></pre>


<h3 id="10-v-ifv-for">10. 不允许同时使用<code>v-if</code>和<code>v-for</code></h3>
<p>在需要的场景下，<code>v-if</code>应该写在外层的 wrapper 元素上</p>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-html">&lt;TodoItem
    v-if=&quot;complete&quot;
    v-for=&quot;todo in todos&quot;
    :todo=&quot;todo&quot;
  /&gt;</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">  &lt;ul v-if=&quot;shown&quot;&gt;
    &lt;TodoItem
      v-for=&quot;todo in todos&quot;
      :todo=&quot;todo&quot;
    /&gt;
  &lt;/ul&gt;</code></pre>


<h3 id="11">11. 禁止属性重复命名</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">&lt;script&gt;
export default {
  props: {
    foo: String
  },
  computed: {
    foo: {
      get () {}
    }
  },
  data: {
    foo: null
  },
  methods: {
    foo () {}
  }
}
&lt;/script&gt;</code></pre>


<h3 id="12-html">12. 禁止 html 元素中出现重复的属性</h3>
<ul>
<li>✗ 不推荐</li>
</ul>
<pre class="codehilite"><code class="language-html">&lt;MyComponent :foo=&quot;abc&quot; foo=&quot;def&quot; /&gt;
  &lt;MyComponent foo=&quot;abc&quot; :foo=&quot;def&quot; /&gt;
  &lt;MyComponent foo=&quot;abc&quot; foo=&quot;def&quot; /&gt;
  &lt;MyComponent :foo.a=&quot;abc&quot; :foo.b=&quot;def&quot; /&gt;
  &lt;MyComponent class=&quot;abc&quot; class=&quot;def&quot; /&gt;</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-html">&lt;MyComponent :foo=&quot;abc&quot; /&gt;
  &lt;MyComponent foo=&quot;abc&quot; /&gt;
  &lt;MyComponent class=&quot;abc&quot; :class=&quot;def&quot; /&gt;</code></pre>


<h3 id="13-vue">13. vue 模板中禁止结构中出现{}或[]</h3>
<blockquote>
<p>此条规则等待 merge
- ✗ 不推荐</p>
</blockquote>
<pre class="codehilite"><code class="language-js">var {a: {}} = foo;
var {a: []} = foo;</code></pre>


<ul>
<li>✓ 推荐</li>
</ul>
<pre class="codehilite"><code class="language-js">var {a = {}} = foo;
var {a = []} = foo;
function foo({a = {}}) {}
function foo({a = []}) {}</code></pre>


<h3 id="14">14. 禁止使用保留字</h3>
<pre class="codehilite"><code class="language-html">&lt;script&gt;
/* ✗ BAD */
export default {
  props: {
    $el: String
  },
  computed: {
    $on: {
      get () {}
    }
  },
  data: {
    _foo: null
  },
  methods: {
    $nextTick () {}
  }
}
&lt;/script&gt;</code></pre>


<h3 id="15">15. 禁止使用特定的语法</h3>
<pre class="codehilite"><code class="language-html">&lt;template&gt;
  &lt;!-- ✔ GOOD --&gt;
  &lt;div&gt; {{ foo }} &lt;/div&gt;
  &lt;div&gt; {{ foo.bar }} &lt;/div&gt;

  &lt;!-- ✘ BAD --&gt;
  &lt;div&gt; {{ foo() }} &lt;/div&gt;
  &lt;div&gt; {{ foo.bar() }} &lt;/div&gt;
  &lt;div&gt; {{ foo().bar }} &lt;/div&gt;
&lt;/template&gt;</code></pre>


<h3 id="16-vue-data">16. vue 的 data 属性必须是函数</h3>
<pre class="codehilite"><code class="language-js">&lt;script&gt;
/* ✓ GOOD */
Vue.component('some-comp', {
  data: function () {
    return {
      foo: 'bar'
    }
  }
})

export default {
  data () {
    return {
      foo: 'bar'
    }
  }
}
&lt;/script&gt;

&lt;script&gt;
/* ✗ BAD */
Vue.component('some-comp', {
  data: {
    foo: 'bar'
  }
})

export default {
  data: {
    foo: 'bar'
  }
}
&lt;/script&gt;</code></pre>


<h3 id="17-vue">17. vue 模板的属性里，" = " 两端禁止空格</h3>
<pre class="codehilite"><code class="language-js">&lt;template&gt;
  &lt;!-- ✗ BAD --&gt;
  &lt;div class = &quot;item&quot;&gt;&lt;/div&gt;
  &lt;!-- ✓ GOOD --&gt;
  &lt;div class=&quot;item&quot;&gt;&lt;/div&gt;
&lt;/template&gt;</code></pre>


<h3 id="18-textarea-v-model">18. 禁止在 textarea 标签内插值，应该使用 v-model</h3>
<pre class="codehilite"><code class="language-html">&lt;template&gt;
  &lt;!-- ✓ GOOD --&gt;
  &lt;textarea v-model=&quot;message&quot; /&gt;

  &lt;!-- ✗ BAD --&gt;
  &lt;textarea&gt;{{ message }}&lt;/textarea&gt;
&lt;/template&gt;</code></pre>


<h3 id="19-components-template">19. 禁止 components 中声明的组件在 template 中没有使用</h3>
<pre class="codehilite"><code class="language-html">&lt;!-- ✓ GOOD --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;h2&gt;Lorem ipsum&lt;/h2&gt;
    &lt;the-modal&gt;
      &lt;component is=&quot;TheInput&quot; /&gt;
    &lt;/the-modal&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  import TheModal from 'components/TheModal.vue'
  import TheInput from 'components/TheInput.vue'

  export default {
    components: {
      TheModal,
      TheInput
    }
  }
&lt;/script&gt;

&lt;!-- ✗ BAD --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;h2&gt;Lorem ipsum&lt;/h2&gt;
    &lt;TheModal /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  import TheButton from 'components/TheButton.vue'
  import TheModal from 'components/TheModal.vue'

  export default {
    components: {
      TheButton, // Unused component
      'the-modal': TheModal // Unused component
    }
  }
&lt;/script&gt;</code></pre>


<h3 id="20-v-for-scope">20. 禁止在 v-for 指令或 scope 属性作用范围里使用未经定义的变量</h3>
<pre class="codehilite"><code class="language-html">&lt;template&gt;
  &lt;!-- ✓ GOOD --&gt;
  &lt;ol v-for=&quot;i in 5&quot;&gt;
    &lt;li&gt;{{ i }}&lt;/li&gt;
  &lt;/ol&gt;

  &lt;!-- ✗ BAD --&gt;
  &lt;ol v-for=&quot;i in 5&quot;&gt;
    &lt;li&gt;{{ item }}&lt;/li&gt;
  &lt;/ol&gt;
&lt;/template&gt;</code></pre>


<h3 id="21-v-html-xss">21. 禁止使用 v-html，防止 xss 攻击</h3>
<pre class="codehilite"><code class="language-html">&lt;template&gt;
  &lt;!-- ✓ GOOD --&gt;
  &lt;div&gt;{{ someHTML }}&lt;/div&gt;

  &lt;!-- ✗ BAD --&gt;
  &lt;div v-html=&quot;someHTML&quot;&gt;&lt;/div&gt;
&lt;/template&gt;</code></pre>


<h3 id="22-vue">22. vue 官方推荐的属性顺序</h3>
<pre class="codehilite"><code class="language-js">&lt;script&gt;
/* ✓ GOOD */
export default {
  name: 'app',
  props: {
    propA: Number
  },
  data () {
    return {
      msg: 'Welcome to Your Vue.js App'
    }
  }
}
&lt;/script&gt;

&lt;script&gt;
/* ✗ BAD */
export default {
  name: 'app',
  data () {
    return {
      msg: 'Welcome to Your Vue.js App'
    }
  },
  props: {
    propA: Number
  }
}
&lt;/script&gt;</code></pre>


<h3 id="23-vue-props">23. vue 组件的 props 属性应该使用驼峰命名</h3>
<pre class="codehilite"><code class="language-js">&lt;script&gt;
export default {
  props: {
    /* ✓ GOOD */
    greetingText: String,

    /* ✗ BAD */
    'greeting-text': String,
    greeting_text: String
  }
}
&lt;/script&gt;</code></pre>


<h3 id="24-vue-component-is">24. vue 的 component 元素必须要有 is 属性</h3>
<pre class="codehilite"><code class="language-html">&lt;template&gt;
  &lt;!-- ✓ GOOD --&gt;
  &lt;component :is=&quot;type&quot;/&gt;
  &lt;component v-bind:is=&quot;type&quot;/&gt;

  &lt;!-- ✗ BAD --&gt;
  &lt;component/&gt;
  &lt;component is=&quot;type&quot;/&gt;
&lt;/template&gt;</code></pre>


<h3 id="25-vue-props-type">25. vue 的 props 的 type 必须为构造函数，不能为字符串</h3>
<pre class="codehilite"><code class="language-html">&lt;script&gt;
export default {
  props: {
    /* ✓ GOOD */
    myProp: Number,
    anotherProp: [Number, String],
    myFieldWithBadType: {
      type: Object,
      default: function() {
        return {}
      },
    },
    myOtherFieldWithBadType: {
      type: Number,
      default: 1,
    },
    /* ✗ BAD */
    myProp: &quot;Number&quot;,
    anotherProp: [&quot;Number&quot;, &quot;String&quot;],
    myFieldWithBadType: {
      type: &quot;Object&quot;,
      default: function() {
        return {}
      },
    },
    myOtherFieldWithBadType: {
      type: &quot;Number&quot;,
      default: 1,
    },
  }
}
&lt;/script&gt;</code></pre>


<h3 id="26-props">26. props 属性必须定义类型</h3>
<pre class="codehilite"><code class="language-html">&lt;script&gt;
/* ✓ GOOD */
Vue.component('foo', {
  props: {
    // Without options, just type reference
    foo: String,
    // With options with type field
    bar: {
      type: String,
      required: true,
    },
    // With options without type field but with validator field
    baz: {
      required: true,
      validator: function (value) {
        return (
          value === null ||
          Array.isArray(value) &amp;&amp; value.length &gt; 0
        )
      }
    }
  }
})

/* ✗ BAD */
Vue.component('bar', {
  props: ['foo']
})

Vue.component('baz', {
  props: {
    foo: {},
  }
})
&lt;/script&gt;</code></pre>


<h3 id="27-render">27. render 函数必须要有返回值</h3>
<pre class="codehilite"><code class="language-html">&lt;script&gt;
export default {
  /* ✓ GOOD */
  render (h) {
    return h('div', 'hello')
  }
}
&lt;/script&gt;
&lt;script&gt;
export default {
  /* ✗ BAD */
  render (h) {
    if (foo) {
      return h('div', 'hello')
    }
  }
}
&lt;/script&gt;</code></pre>


<h3 id="28-v-for-key">28.  v-for 指令必须要有 key 属性</h3>
<pre class="codehilite"><code class="language-html">&lt;template&gt;
  &lt;!-- ✓ GOOD --&gt;
  &lt;div
    v-for=&quot;todo in todos&quot;
    :key=&quot;todo.id&quot;
  /&gt;
  &lt;!-- ✗ BAD --&gt;
  &lt;div v-for=&quot;todo in todos&quot;/&gt;
&lt;/template&gt;</code></pre>


<h3 id="29">29.  计算属性必须要有返回值</h3>
<pre class="codehilite"><code class="language-html">&lt;script&gt;
export default {
  computed: {
    /* ✓ GOOD */
    foo () {
      if (this.bar) {
        return this.baz
      } else {
        return this.baf
      }
    },
    bar: function () {
      return false
    },
    /* ✗ BAD */
    baz () {
      if (this.baf) {
        return this.baf
      }
    },
    baf: function () {}
  }
}
&lt;/script&gt;</code></pre>


<h3 id="30-template-this">30. 不允许在 template 中使用 this</h3>
<pre class="codehilite"><code class="language-html">&lt;template&gt;
  &lt;!-- ✓ GOOD --&gt;
  &lt;a :href=&quot;url&quot;&gt;
    {{ text }}
  &lt;/a&gt;

  &lt;!-- ✗ BAD --&gt;
  &lt;a :href=&quot;this.url&quot;&gt;
    {{ this.text }}
  &lt;/a&gt;
&lt;/template&gt;</code></pre>


<h3 id="31-v-on">31.  v-on 指令的写法，限制简写</h3>
<pre class="codehilite"><code class="language-html">&lt;template&gt;
  &lt;!-- ✓ GOOD --&gt;
  &lt;div @click=&quot;foo&quot;/&gt;

  &lt;!-- ✗ BAD --&gt;
  &lt;div v-on:click=&quot;foo&quot;/&gt;
&lt;/template&gt;</code></pre><ol>
<li>
<p>页面建议在 <strong>2 秒</strong> 之内打开。即：空白页的持续时间不能超过 2 秒</p>
</li>
<li>
<p>页面需要在 <strong>5 秒</strong> 之内全部加载完成</p>
</li>
</ol><ol>
<li>
<p>CSS 放置顶部，JS 放置底部</p>
</li>
<li>
<p>尽可能的使用 CSS sprites 技术，多图合并，一次请求</p>
</li>
<li>
<p>多个 JS 文件或多个 CSS 文件 进行合并和压缩</p>
</li>
<li>
<p>尽可能的使用外部 JS 和 CSS，减少内联或嵌入式 JS 和 CSS</p>
</li>
<li>
<p>减少重复 JS 和 CSS</p>
</li>
<li>
<p>避免重定向，尤其是缺少末尾 <code>/</code> 的自动重定向</p>
</li>
</ol><h1 id="1">1. 加载顺序</h1>
<p>浏览器在同一时间针对同一域名下的请求有一定数量限制（主流浏览器限制为 6），超过限制数目的请求会被阻塞。因此需要合理安排异步请求加载顺序。</p>
<ul>
<li>按业务逻辑顺序：先加载主要模块，后加载次要模块</li>
<li>按使用频率顺序：优先加载用户使用频率比较高的模块</li>
<li>按页面可见顺序：先加载用户可见的部分，后加载用户不可见的部分</li>
</ul>
<h1 id="2">2. 懒加载</h1>
<p>懒加载就是在加载页面时，只加载可视区域内的数据，当用户滚动页面，可视区域发生改变时才开始对应数据的加载。使用懒加载，可以避免前端大量的并发请求，避免页面卡顿，同时减轻服务器的压力。</p>
<p>对于需要加载较多图片或图表的页面，建议使用懒加载的方式。</p><h1 id="1">1. 代码层面的优化</h1>
<h2 id="11-v-if-v-show">1.1 v-if 和 v-show 区分使用场景</h2>
<p>v-if 是 真正 的条件渲染，因为它会确保在切换过程中条件块内的事件监听器和子组件适当地被销毁和重建；也是惰性的：如果在初始渲染时条件为假，则什么也不做——直到条件第一次变为真时，才会开始渲染条件块。</p>
<p>v-show 就简单得多， 不管初始条件是什么，元素总是会被渲染，并且只是简单地基于 CSS 的 display 属性进行切换。</p>
<p>所以，v-if 适用于在运行时很少改变条件，不需要频繁切换条件的场景；v-show 则适用于需要非常频繁切换条件的场景。</p>
<h2 id="12-computed-watch">1.2 computed 和 watch 区分使用场景</h2>
<p>computed： 是计算属性，依赖其它属性值，并且 computed 的值有缓存，只有它依赖的属性值发生改变，下一次获取 computed 的值时才会重新计算 computed 的值；</p>
<p>watch： 更多的是「观察」的作用，类似于某些数据的监听回调 ，每当监听的数据变化时都会执行回调进行后续操作；</p>
<p>运用场景：</p>
<p>当我们需要进行数值计算，并且依赖于其它数据时，应该使用 computed，因为可以利用 computed 的缓存特性，避免每次获取值时，都要重新计算；</p>
<p>当我们需要在数据变化时执行异步或开销较大的操作时，应该使用 watch，使用 watch 选项允许我们执行异步操作 ( 访问一个 API )，限制我们执行该操作的频率，并在我们得到最终结果前，设置中间状态。这些都是计算属性无法做到的。</p>
<h2 id="13-v-for-item-key-v-if">1.3 v-for 遍历必须为 item 添加 key，且避免同时使用 v-if</h2>
<p>（1）v-for 遍历必须为 item 添加 key</p>
<p>在列表数据进行遍历渲染时，需要为每一项 item 设置唯一 key 值，方便 Vue.js 内部机制精准找到该条列表数据。当 state 更新时，新的状态值和旧的状态值对比，较快地定位到 diff 。</p>
<p>（2）v-for 遍历避免同时使用 v-if</p>
<p>v-for 比 v-if 优先级高，如果每一次都需要遍历整个数组，将会影响速度，尤其是当之需要渲染很小一部分的时候，必要情况下应该替换成 computed 属性。</p>
<p>推荐：</p>
<pre class="codehilite"><code class="language-javascript">&lt;ul&gt;
   &lt;li
    v-for=&quot;user in activeUsers&quot;
    :key=&quot;user.id&quot;&gt;
    {{ user.name }}
  &lt;/li&gt;
&lt;/ul&gt;
computed: {
  activeUsers: function () {
     return this.users.filter(function (user) {
      return user.isActive
      })
    }
}</code></pre>


<p>不推荐：</p>
<pre class="codehilite"><code class="language-javascript">&lt;ul&gt;
  &lt;li
      v-for=&quot;user in users&quot;
      v-if=&quot;user.isActive&quot;
      :key=&quot;user.id&quot;&gt;
      {{ user.name }}
  &lt;/li&gt;
&lt;/ul&gt;</code></pre>


<h2 id="14">1.4 长列表性能优化</h2>
<p>Vue 会通过 Object.defineProperty 对数据进行劫持，来实现视图响应数据的变化，然而有些时候我们的组件就是纯粹的数据展示，不会有任何改变，我们就不需要 Vue 来劫持我们的数据，在大量数据展示的情况下，这能够很明显的减少组件初始化的时间，那如何禁止 Vue 劫持我们的数据呢？可以通过 Object.freeze 方法来冻结一个对象，一旦被冻结的对象就再也不能被修改了。</p>
<pre class="codehilite"><code class="language-javascript">export default {
  data: () =&gt; ({
    users: {}
  }),
  async created() {
    const users = await axios.get(&quot;/api/users&quot;);
    this.users = Object.freeze(users);
  }
};</code></pre>


<h2 id="15">1.5 事件的销毁</h2>
<p>Vue 组件销毁时，会自动清理它与其它实例的连接，解绑它的全部指令及事件监听器，但是仅限于组件本身的事件。 如果在 js 内使用 addEventListene 等方式是不会自动销毁的，我们需要在组件销毁时手动移除这些事件的监听，以免造成内存泄露，如：</p>
<pre class="codehilite"><code class="language-javascript">created() {
  addEventListener('click', this.click, false)
},
beforeDestroy() {
  removeEventListener('click', this.click, false)
}</code></pre>


<h2 id="16">1.6 图片资源懒加载</h2>
<p>对于图片过多的页面，为了加速页面加载速度，所以很多时候我们需要将页面内未出现在可视区域内的图片先不做加载， 等到滚动到可视区域后再去加载。这样对于页面加载性能上会有很大的提升，也提高了用户体验。我们在项目中使用 Vue 的 vue-lazyload 插件：</p>
<p>（1）安装插件</p>
<pre class="codehilite"><code class="language-javascript">npm install vue-lazyload --save-dev</code></pre>


<p>（2）在入口文件 man.js 中引入并使用</p>
<pre class="codehilite"><code class="language-javascript">import VueLazyload from 'vue-lazyload'</code></pre>


<p>然后再 vue 中直接使用</p>
<pre class="codehilite"><code class="language-javascript">Vue.use(VueLazyload)
或者添加自定义选项

Vue.use(VueLazyload, {
preLoad: 1.3,
error: 'dist/error.png',
loading: 'dist/loading.gif',
attempt: 1
})</code></pre>


<p>（3）在 vue 文件中将 img 标签的 src 属性直接改为 v-lazy ，从而将图片显示方式更改为懒加载显示：</p>
<pre class="codehilite"><code class="language-javascript">&lt;img v-lazy=&quot;/static/img/1.png&quot;&gt;</code></pre>


<p>以上为 vue-lazyload 插件的简单使用，如果要看插件的更多参数选项，可以查看 vue-lazyload 的 github 地址。</p>
<h2 id="17">1.7 路由懒加载</h2>
<p>Vue 是单页面应用，可能会有很多的路由引入 ，这样使用 webpcak 打包后的文件很大，当进入首页时，加载的资源过多，页面会出现白屏的情况，不利于用户体验。如果我们能把不同路由对应的组件分割成不同的代码块，然后当路由被访问的时候才加载对应的组件，这样就更加高效了。这样会大大提高首屏显示的速度，但是可能其他的页面的速度就会降下来。</p>
<p>路由懒加载：</p>
<pre class="codehilite"><code class="language-javascript">const Foo = () =&gt; import('./Foo.vue')
const router = new VueRouter({
  routes: [
    { path: '/foo', component: Foo }
  ]
})</code></pre>


<h2 id="18">1.8 动态组件 &amp; 异步组件</h2>
<p>一个页面可能有多个组件组成，组件的引入一般情况下我们直接<code>import component from '../dist/component.vue'</code>这种方式引入就可以使用了，但是在在比较复杂的页面，我们可能需要<code>import</code>大量的组件，有些组件实在特定条件下才需要展示的，这时候一次性全量<code>import</code>会导致页面渲染很慢，这时候组件动态隐去或者异步引入就起作用了：</p>
<h3 id="181">1.8.1 动态组件</h3>
<pre class="codehilite"><code class="language-javascript">&lt;component v-bind:is=&quot;currentTabComponent&quot;&gt;&lt;/component&gt;</code></pre>


<h3 id="182">1.8.2 异步组件</h3>
<pre class="codehilite"><code class="language-bash">在大型应用中，我们可能需要将应用分割成小一些的代码块，并且只在需要的时候才从服务器加载一个模块。为了简化，Vue 允许你以一个工厂函数的方式定义你的组件，这个工厂函数会异步解析你的组件定义。Vue 只有在这个组件需要被渲染的时候才会触发该工厂函数，且会把结果缓存起来供未来重渲染。例如：</code></pre>


<pre class="codehilite"><code class="language-javascript">Vue.component('async-example', function (resolve, reject) {
  setTimeout(function () {
    // 向 `resolve` 回调传递组件定义
    resolve({
      template: '&lt;div&gt;I am async!&lt;/div&gt;'
    })
  }, 1000)
})</code></pre>


<p>一个推荐的做法是将异步组件和 webpack 的 code-splitting 功能一起配合使用：</p>
<pre class="codehilite"><code class="language-javascript">Vue.component('async-webpack-example', function (resolve) {
  // 这个特殊的 `require` 语法将会告诉 webpack
  // 自动将你的构建代码切割成多个包，这些包
  // 会通过 Ajax 请求加载
  require(['./my-async-component'], resolve)
})</code></pre>


<p>你也可以在工厂函数中返回一个 Promise，所以把 webpack 2 和 ES2015 语法加在一起，我们可以这样使用动态导入：</p>
<pre class="codehilite"><code class="language-javascript">Vue.component(
  'async-webpack-example',
  // 这个动态导入会返回一个 `Promise` 对象。
  () =&gt; import('./my-async-component')
)</code></pre>


<p>当使用局部注册的时候，你也可以直接提供一个返回 Promise 的函数：</p>
<pre class="codehilite"><code class="language-javascript">new Vue({
  // ...
  components: {
    'my-component': () =&gt; import('./my-async-component')
  }
})</code></pre>


<p>更多解释请参考 Vue 官方： https://cn.vuejs.org/v2/guide/components-dynamic-async.html</p>
<h2 id="19">1.9 第三方插件的按需引入</h2>
<p>我们在项目中经常会需要引入第三方插件，如果我们直接引入整个插件，会导致项目的体积太大，我们可以借助 <code>babel-plugin-component</code> ，然后可以只引入需要的组件，以达到减小项目体积的目的。以下为项目中引入 <code>bk-magic-vue</code> 组件库为例,关于 magicbox 详情请参考：
https://www.npmjs.com/package/bk-magic-vue</p>
<p>（1）首先，安装 <code>babel-plugin-component</code> ：</p>
<pre class="codehilite"><code class="language-javascript">npm install babel-plugin-import-bk-magic-vue -D
npm install --save bk-magic-vue</code></pre>


<p>（2）然后，将 .babelrc 修改为：</p>
<pre class="codehilite"><code class="language-javascript">// baseLibName 是 bk-magic-vue 组件库的 package name，默认值为 bk-magic-vue
{
    &quot;presets&quot;: ...,
    &quot;plugins&quot;: [
        ...
        [&quot;import-bk-magic-vue&quot;, {
            &quot;baseLibName&quot;: &quot;bk-magic-vue&quot;
        }]
    ]
}</code></pre>


<p>（3）在 main.js 中引入部分组件：</p>
<pre class="codehilite"><code class="language-javascript">import { bkButton } from 'bk-magic-vue'
import { bkButton as cc } from 'bk-magic-vue'
import { bkButton, bkDropdownMenu } from 'bk-magic-vue'
import { bkButton as cc, bkDropdownMenu as dd } from 'bk-magic-vue'
console.log(bkButton)
console.log(cc)
console.log(bkDropdownMenu)
console.log(dd)
 ```
## 1.10 优化无限列表性能
如果你的应用存在非常长或者无限滚动的列表，那么需要采用 窗口化 的技术来优化性能，只需要渲染少部分区域的内容，减少重新渲染组件和创建 dom 节点的时间。 你可以参考 bk-magic-vue 内的组件`bk-virtual-scroll`或者开源项目 `vue-virtual-scroll-list` 和 `vue-virtual-scroller` 来优化这种无限列表的场景的。

## 1.11 服务端渲染 SSR or 预渲染
服务端渲染是指 Vue 在客户端将标签渲染成的整个 html 片段的工作在服务端完成，服务端形成的 html 片段直接返回给客户端这个过程就叫做服务端渲染。

（1）服务端渲染的优点：

更好的 SEO： 因为 SPA 页面的内容是通过 Ajax 获取，而搜索引擎爬取工具并不会等待 Ajax 异步完成后再抓取页面内容，所以在 SPA 中是抓取不到页面通过 Ajax 获取到的内容；而 SSR 是直接由服务端返回已经渲染好的页面（数据已经包含在页面中），所以搜索引擎爬取工具可以抓取渲染好的页面；

更快的内容到达时间（首屏加载更快）： SPA 会等待所有 Vue 编译后的 js 文件都下载完成后，才开始进行页面的渲染，文件下载等需要一定的时间等，所以首屏渲染需要一定的时间；SSR 直接由服务端渲染好页面直接返回显示，无需等待下载 js 文件及再去渲染等，所以 SSR 有更快的内容到达时间；

（2）服务端渲染的缺点：

更多的开发条件限制： 例如服务端渲染只支持 beforCreate 和 created 两个钩子函数，这会导致一些外部扩展库需要特殊处理，才能在服务端渲染应用程序中运行；并且与可以部署在任何静态文件服务器上的完全静态单页面应用程序 SPA 不同，服务端渲染应用程序，需要处于 Node.js server 运行环境；

更多的服务器负载：在 Node.js 中渲染完整的应用程序，显然会比仅仅提供静态文件的 server 更加大量占用 CPU 资源，因此如果你预料在高流量环境下使用，请准备相应的服务器负载，并明智地采用缓存策略。

如果你的项目的 SEO 和 首屏渲染是评价项目的关键指标，那么你的项目就需要服务端渲染来帮助你实现最佳的初始加载性能和 SEO

# 2. Webpack 层面的优化
## 2.1 Webpack 对图片进行压缩
在 vue 项目中除了可以在 webpack.base.conf.js 中 url-loader 中设置 limit 大小来对图片处理，对小于 limit 的图片转化为 base64 格式，其余的不做操作。所以对有些较大的图片资源，在请求资源的时候，加载会很慢，我们可以用 image-webpack-loader 来压缩图片：

（1）首先，安装 image-webpack-loader ：
```javascript
npm install image-webpack-loader --save-dev</code></pre>


<p>（2）然后，在 webpack.base.conf.js 中进行配置：</p>
<pre class="codehilite"><code class="language-javascript">{
  test: /\.(png|jpe?g|gif|svg)(\?.*)?$/,
  use:[
    {
    loader: 'url-loader',
    options: {
      limit: 10000,
      name: utils.assetsPath('img/[name].[hash:7].[ext]')
      }
    },
    {
      loader: 'image-webpack-loader',
      options: {
        bypassOnDebug: true,
      }
    }
  ]
}</code></pre>


<h2 id="22-es6-es5">2.2 减少 ES6 转为 ES5 的冗余代码</h2>
<p>Babel 插件会在将 ES6 代码转换成 ES5 代码时会注入一些辅助函数，例如下面的 ES6 代码：</p>
<p>class HelloWebpack extends Component{...}
这段代码再被转换成能正常运行的 ES5 代码时需要以下两个辅助函数：</p>
<pre class="codehilite"><code class="language-javascript">babel-runtime/helpers/createClass  // 用于实现 class 语法
babel-runtime/helpers/inherits  // 用于实现 extends 语法    </code></pre>


<p>在默认情况下， Babel 会在每个输出文件中内嵌这些依赖的辅助函数代码，如果多个源代码文件都依赖这些辅助函数，那么这些辅助函数的代码将会出现很多次，造成代码冗余。为了不让这些辅助函数的代码重复出现，可以在依赖它们时通过 require('babel-runtime/helpers/createClass') 的方式导入，这样就能做到只让它们出现一次。babel-plugin-transform-runtime 插件就是用来实现这个作用的，将相关辅助函数进行替换成导入语句，从而减小 babel 编译出来的代码的文件大小。</p>
<p>（1）首先，安装 babel-plugin-transform-runtime ：</p>
<pre class="codehilite"><code class="language-javascript">npm install babel-plugin-transform-runtime --save-dev</code></pre>


<p>（2）然后，修改 .babelrc 配置文件为：</p>
<pre class="codehilite"><code class="language-javascript">&quot;plugins&quot;: [
    &quot;transform-runtime&quot;
]</code></pre>


<p>如果要看插件的更多详细内容，可以查看 babel-plugin-transform-runtime 的 详细介绍。</p>
<h2 id="23">2.3 提取公共代码</h2>
<p>如果项目中没有去将每个页面的第三方库和公共模块提取出来，则项目会存在以下问题：</p>
<p>相同的资源被重复加载，浪费用户的流量和服务器的成本。
每个页面需要加载的资源太大，导致网页首屏加载缓慢，影响用户体验。
所以我们需要将多个页面的公共代码抽离成单独的文件，来优化以上问题 。Webpack 内置了专门用于提取多个 Chunk 中的公共部分的插件 CommonsChunkPlugin，我们在项目中 CommonsChunkPlugin 的配置如下：</p>
<pre class="codehilite"><code class="language-javascript">// 所有在 package.json 里面依赖的包，都会被打包进 vendor.js 这个文件中。
new webpack.optimize.CommonsChunkPlugin({
  name: 'vendor',
  minChunks: function(module, count) {
    return (
      module.resource &amp;&amp;
      /\.js$/.test(module.resource) &amp;&amp;
      module.resource.indexOf(
        path.join(__dirname, '../node_modules')
      ) === 0
    );
  }
}),
// 抽取出代码模块的映射关系
new webpack.optimize.CommonsChunkPlugin({
  name: 'manifest',
  chunks: ['vendor']
})</code></pre>


<p>如果要看插件的更多详细内容，可以查看 CommonsChunkPlugin 的 详细介绍。</p>
<h2 id="24">2.4 模板预编译</h2>
<p>当使用 DOM 内模板或 JavaScript 内的字符串模板时，模板会在运行时被编译为渲染函数。通常情况下这个过程已经足够快了，但对性能敏感的应用还是最好避免这种用法。</p>
<p>预编译模板最简单的方式就是使用单文件组件——相关的构建设置会自动把预编译处理好，所以构建好的代码已经包含了编译出来的渲染函数而不是原始的模板字符串。</p>
<p>如果你使用 webpack，并且喜欢分离 JavaScript 和模板文件，你可以使用 vue-template-loader，它也可以在构建过程中把模板文件转换成为 JavaScript 渲染函数。</p>
<h2 id="25-css">2.5 提取组件的 CSS</h2>
<p>当使用单文件组件时，组件内的 CSS 会以 <code>&lt;style&gt;</code>标签的方式通过 JavaScript 动态注入。这有一些小小的运行时开销，如果你使用服务端渲染，这会导致一段 “无样式内容闪烁 (fouc) ” 。将所有组件的 CSS 提取到同一个文件可以避免这个问题，也会让 CSS 更好地进行压缩和缓存。</p>
<p>查阅这个构建工具各自的文档来了解更多：</p>
<pre class="codehilite"><code class="language-bash">webpack + vue-loader ( vue-cli 的 webpack 模板已经预先配置好)
Browserify + vueify
Rollup + rollup-plugin-vue</code></pre>


<h2 id="26-sourcemap">2.6 优化 SourceMap</h2>
<p>我们在项目进行打包后，会将开发中的多个文件代码打包到一个文件中，并且经过压缩、去掉多余的空格、babel 编译化后，最终将编译得到的代码会用于线上环境，那么这样处理后的代码和源代码会有很大的差别，当有 bug 的时候，我们只能定位到压缩处理后的代码位置，无法定位到开发环境中的代码，对于开发来说不好调式定位问题，因此 sourceMap 出现了，它就是为了解决不好调式代码问题的。</p>
<pre class="codehilite"><code class="language-bash">开发环境推荐： cheap-module-eval-source-map

生产环境推荐： cheap-module-source-map</code></pre>


<p>原因如下：</p>
<pre class="codehilite"><code class="language-bash">cheap： 源代码中的列信息是没有任何作用，因此我们打包后的文件不希望包含列相关信息，只有行信息能建立打包前后的依赖关系。因此不管是开发环境或生产环境，我们都希望添加 cheap 的基本类型来忽略打包前后的列信息；

module ：不管是开发环境还是正式环境，我们都希望能定位到bug的源代码具体的位置，比如说某个 Vue 文件报错了，我们希望能定位到具体的 Vue 文件，因此我们也需要 module 配置；

soure-map ：source-map 会为每一个打包后的模块生成独立的 soucemap 文件 ，因此我们需要增加source-map 属性；

eval-source-map：eval 打包代码的速度非常快，因为它不生成 map 文件，但是可以对 eval 组合使用 eval-source-map 使用会将 map 文件以 DataURL 的形式存在打包后的 js 文件中。在正式环境中不要使用 eval-source-map, 因为它会增加文件的大小，但是在开发环境中，可以试用下，因为他们打包的速度很快。</code></pre>


<h2 id="27">2.7 构建结果输出分析</h2>
<p>Webpack 输出的代码可读性非常差而且文件非常大，让我们非常头疼。为了更简单、直观地分析输出结果，社区中出现了许多可视化分析工具。这些工具以图形的方式将结果更直观地展示出来，让我们快速了解问题所在。接下来讲解我们在 Vue 项目中用到的分析工具：webpack-bundle-analyzer 。</p>
<p>我们在项目中 webpack.prod.conf.js 进行配置：</p>
<pre class="codehilite"><code class="language-javascript">if (config.build.bundleAnalyzerReport) {
  var BundleAnalyzerPlugin =   require('webpack-bundle-analyzer').BundleAnalyzerPlugin;
  webpackConfig.plugins.push(new BundleAnalyzerPlugin());
}
执行 $ npm run build --report 后生成分析报告如下：</code></pre>


<h2 id="28-vue">2.8 Vue 项目的编译优化</h2>
<p>如果你的 Vue 项目使用 Webpack 编译，需要你喝一杯咖啡的时间，那么也许你需要对项目的 Webpack 配置进行优化，提高 Webpack 的构建效率。</p>
<h1 id="3-web">3. 基础的 Web 技术优化</h1>
<h2 id="31-gzip">3.1 开启 gzip 压缩</h2>
<p>gzip 是 GNUzip 的缩写，最早用于 UNIX 系统的文件压缩。HTTP 协议上的 gzip 编码是一种用来改进 web 应用程序性能的技术，web 服务器和客户端（浏览器）必须共同支持 gzip。目前主流的浏览器，Chrome，firefox，IE 等都支持该协议。常见的服务器如 Apache，Nginx，IIS 同样支持，gzip 压缩效率非常高，通常可以达到 70% 的压缩率，也就是说，如果你的网页有 30K，压缩之后就变成了 9K 左右</p>
<p>以下我们以服务端使用我们熟悉的 express 为例，开启 gzip 非常简单，相关步骤如下：</p>
<p>安装：</p>
<pre class="codehilite"><code class="language-javascript">npm install compression --save
添加代码逻辑：
var compression = require('compression');
var app = express();
app.use(compression())</code></pre>


<p>重启服务，观察网络面板里面的 response header，如果看到如下红圈里的字段则表明 gzip 开启成功 ：</p>
<h2 id="32">3.2 浏览器缓存</h2>
<p>为了提高用户加载页面的速度，对静态资源进行缓存是非常必要的，根据是否需要重新向服务器发起请求来分类，将 HTTP 缓存规则分为两大类（强制缓存，对比缓存），如果对缓存机制还不是了解很清楚的，可以参考作者写的关于 HTTP 缓存的文章《深入理解 HTTP 缓存机制及原理》，这里不再赘述。</p>
<h2 id="33-cdn">3.3 CDN 的使用</h2>
<p>浏览器从服务器上下载 CSS、js 和图片等文件时都要和服务器连接，而大部分服务器的带宽有限，如果超过限制，网页就半天反应不过来。而 CDN 可以通过不同的域名来加载文件，从而使下载文件的并发连接数大大增加，且 CDN 具有更好的可用性，更低的网络延迟和丢包率 。</p><h1 id="1">1. 移动设备适配</h1>
<h2 id="11">1.1 基础概念</h2>
<h3 id="111">1.1.1 设备像素</h3>
<p>从 iphone 4 发布会引入“视网膜屏”的概念之后，市面上移动设备显示屏的清晰度有了比较大的发展，各厂商不断推出了高分屏机型，单位面积的屏幕里被塞入了越来越多像素，正是因为这些高分屏出现的缘故，我们需要搞先清楚以下几个概念：</p>
<ol>
<li>
<p>物理像素
物理像素是设备上实际存在的真实物理单元。设备的分辨率值表示在横纵坐标上分别有多少个物理像素点，例如 iphone X 的分辨率为 1125px*2436px，那就表示它在水平方向每一行有 1125 个物理像素点，垂直方向每一列有 2436 个物理像素点。</p>
</li>
<li>
<p>设备独立像素（Device Independent Pixels）
设备独立像素是一个长度单位，在页面缩放比例为 100% 时，等于前端开发者常用 css 像素单位，设备的 dips 由设备硬件和系统底层软件标定，它确定了开发者可使用的尺寸，例如 iphone X 的分辨率较高，但是实际可使用设备独立像素为 375px*812px</p>
</li>
<li>
<p>设备像素比（Device Pixel Ratio）
设备像素比的值为在水平或者垂直方向上，物理像素与设备独立像素的比值，可以通过 <code>window.devicePixelRatio</code> 获取。例如 iphone X 的 DPR 为 3、iphone 6/6s 的 DPR 为 2、iphone 6 plus 的 DPR 为 2.608，</p>
</li>
</ol>
<h3 id="112">1.1.2 视口</h3>
<ol>
<li>
<p>layout viewport
移动端设备因为尺寸比较小，默认情况下，在渲染页面时通常会设置一个较大的宽度来模拟 pc 端的布局，不同的系统设置的默认值可能会不同，例如 ios 设备会设置为 980px，这个布局的视口就是 layout viewport。可通过 document.documentElement.clientWidth，document.documentElement.clientHeight 来获取页面的文档的布局宽高。
【图片占位】</p>
</li>
<li>
<p>visual viewport
visual viweport 为视觉视口，默认等于浏览器的窗口大小， 可通过 window.innerWidth，window.innerHeight 分别获取。用户在对浏览器进行缩放时，css 像素所占的设备物理像素会发生变化，用户可见的内容也会改变，但是因为布局视口不变，页面的结构不会发生变化。</p>
</li>
<li>
<p>ideal viewport
ideal viewport 不是固定尺寸，layout viewport 的宽度通常大于浏览器的可是区域宽度，为了确保用户能正常看到网站内容，不让页面出现横向滚动条，我们需要把 layout viewport 宽度设置为 ideal viewport 宽度。当页面缩放比例设置为 100% 时，css 像素与设备独立像素相等，ideal viewport 与 visual viewport 相等。</p>
</li>
<li>
<p>meta 元素设置
我们可以通过 meta 元素的 viewport 来设置视口的缩放、布局宽度，从而让移动端达到理想的效果。</p>
</li>
</ol>
<pre class="codehilite"><code class="language-html">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width; initial-scale=1; minimum-scale=1; maximum-scale=1; user-scalable=no;&quot;&gt;</code></pre>


<p>viewport 支持的属性以及值见下表：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>值</th>
</tr>
</thead>
<tbody>
<tr>
<td>width</td>
<td>viewport 宽度，支持整数或者"device-width"</td>
</tr>
<tr>
<td>height</td>
<td>viewport 高度，支持整数，一般不会手动配置</td>
</tr>
<tr>
<td>initial-scale</td>
<td>页面初始缩放比例，数字或者小数</td>
</tr>
<tr>
<td>minimum-scale</td>
<td>允许用户缩小的最下比例，数字或者小数</td>
</tr>
<tr>
<td>maximum-scale</td>
<td>允许用户放大的最下比例，数字或者小数</td>
</tr>
<tr>
<td>user-scalable</td>
<td>是否允许用户缩放，布尔值或者"yes"、"no"</td>
</tr>
</tbody>
</table>
<h2 id="21">2.1 适配方案</h2>
<p>移动端适配不同尺寸常用的有三种方案，目前我们推荐使用 vw 布局方案。</p>
<h3 id="211">2.1.1 百分比方案</h3>
<p>对于页面结构比较简单，内容均匀分布，高度固定的场景下，可以使用百分比布局，元素的宽高、间距等大小根据父元素设置，随着设备宽高的调整，内容区域可以达到比较好的适配效果。对于图片、视频、iframe 等需要等比例缩放的元素，可以利用 padding-bottom 的值设置为百分比时，是相对于元素的 width 计算特性，采用绝对定位的方式去做处理。对于复杂的页面场景，百分比布局有比较大的局限性，百分比所参考的计算对象分散，不利于维护，图片等元素的等比例缩放需要改变原有的正常流布局等问题，所以更推荐 flexible 和 vw/vh 方案。</p>
<h3 id="212-flexible">2.1.2 flexible 方案</h3>
<p>flexible 最早是阿里应用在手机淘宝页面上的一套方案，它的核心代码比较简单，主要思路是获取浏览器的布局宽度(clientWidth)，将 html 元素的 font-size 设置为宽度的 1/10，然后页面的布局依赖 rem 单位，页面宽度变化时，通过动态设置 html 的 font-size 就可以实现多屏适配：</p>
<pre class="codehilite"><code class="language-js">// set 1rem = viewWidth / 10
function setRemUnit () {
    var rem = docEl.clientWidth / 10
    docEl.style.fontSize = rem + 'px'
}

setRemUnit()

// reset rem unit on page resize
window.addEventListener('resize', setRemUnit)
window.addEventListener('pageshow', function (e) {
    if (e.persisted) {
        setRemUnit()
    }
})</code></pre>


<p>比如页面设计稿按照 iphone 6s 的分辨率为 750px<em>1334px 输出，设备的独立像素为 375px</em>617px，那么 dom 根元素 html 的 font-size 会被设置为 37.5px，那么 1 rem 等于 37.5px，设计稿上的高度为 150px 的元素，我们只需要设置为 4rem 即可。每次手动计算 px 转 rem 有点麻烦，可以利用 <a href="https://www.npmjs.com/package/postcss-px2rem">postcss-px2rem</a> 插件去做自动处理。</p>
<p>因为移动端设备的对 vw/vh 的兼容性越来越好，得到了主流机型的支持，rem 已经被淘宝弃用，转而使用下面的 vw/vh 方案。</p>
<h3 id="213-vwvh">2.1.3 vw/vh 方案</h3>
<p>vw、vh 分别表示可视视口的宽度和高度，1vw 表示视口宽度的 1/100，1vh 表示视口高度的 1/100。使用 vw 布局方案，不需要像 flexible 方案动态设置根元素的 font-size，大小单位使用 vw 即可。设计稿以 iphone 6s 分辨率为基准，设备视口宽度为 375px，那么 1vw 就等于 3.75px, 设计稿上 75px 宽度的元素，对应 20vw。同样也可以利用 <a href="https://www.npmjs.com/package/postcss-px-to-viewport">postcss-px-to-viewport</a>来代替人工计算。</p>
<h1 id="2">2. 静态资源优化</h1>
<p>移动端使用的是无线网络，网络条件比较复杂，对于网页性能要求要高一些，所以需要对静态资源的请求做一些优化。</p>
<h2 id="21_1">2.1 减少体积</h2>
<p>图片、视频、音频拿到源文件后，一般需要压缩，保证不失真的前提下尽量减少体积。</p>
<h2 id="22-cdn">2.2 CDN 缓存</h2>
<p>对于内容基本不变化的静态资源建议放到 CDN 做缓存处理，提高资源加载速度。</p>
<h2 id="23">2.3 合理切图</h2>
<p>设计稿输出的资源，切图时拆分细一些，方便做动画效果，同时可以重复利用的 icon 可以做成 iconfont 字体文件或者拼接为 css-sprite，减少资源请求次数。</p>
<h1 id="3">3. 埋点和数据统计</h1>
<p>如果活动页面有运营数据的统计需求，开发者需要提前和相关人员确定好埋点的地方，需要上报什么数据。</p><h1 id="1">1. 设计稿输出标准尺寸</h1>
<p>移动端设备尺寸繁多，为满足主流机型的适配，一般建议设计师做设计稿时，选用 iphone 6/6s 的屏幕分辨率 750px * 1334 作为标准尺寸，针对其他特殊尺寸机型(如 iphone SE、iphone 5)再做差异化适配。</p>
<h1 id="2">2. 全屏场景</h1>
<p>对于首屏或者是多张页卡竖向滑动的场景，通常是一张设计稿铺满单屏，不会出现滚动条，这时设计稿需要考虑不同机型的下的效果，保证兼容主流移动端设备的高度。</p>
<p>【图片占位】</p>
<p>特小或者特大尺寸的设备，可能需要做差异化处理，设计师确定好需要支持设备的最大、最小尺寸极限值，然后输出对应的设计稿，例如实际场景：</p>
<p>【图片占位】</p>
<h1 id="3">3. 安全区域</h1>
<p>移动端绝大多数的使用场景都不是在全屏幕下，页面通常为嵌入到移动端浏览器、微信、手 Q 或者其他 webview 中，设备实际有效区域可能需要减去导航栏、状态栏、标签栏的高度，另外对于“刘海屏”设备（如 iphone X）还需要考虑减去“刘海”的高度，对于部分“全面屏”设备（如 iphone X） 还需要考虑底部用来触发窗口操作区域，所以需要输出设计稿时需要考虑实际的应用场景：</p>
<ol>
<li>
<p>考虑“刘海”、“圆角”、“小黑条”区域，尽量留空或者用背景填充，不要在这些地方放信息或者可操作元素</p>
</li>
<li>
<p>全屏场景需要按照设备可使用尺寸输出设计稿，以 iphone 6s 为标准的话设计稿尺寸应为 750 * 1095，设计时尽量在底部和左右留足够的边距，保证在小尺寸设备下按钮、文字等重要元素能够在一屏里显示完整
【图片占位】</p>
</li>
<li>横屏场景，对于有横屏需求的场景，也需要旋转后左右的宽度问题，一般需要输出横屏下的设计稿，iphone 6s 横屏下的设备物理像素 1422 * 600，安全区域尺寸 960 * 600
 【图片占位】</li>
</ol>
<h1 id="4">4. 字体规范</h1>
<p>PC 端一般用微软雅黑、苹方作为默认字体来输出设计稿，移动端系统 ios、android 等不支持微软雅黑，设计师可按照 ios 系统默认的字体 （中文苹方，英文 San Francisco） 作为设计稿标准字体，如果有特殊文字或者 icon 的需求，可以引入 web 字体。</p>
<h1 id="5">5. 其他注意事项</h1>
<ol>
<li>
<p>设计稿输出时最好带上尺寸标注 ，推荐标记工具<a href="http://www.getmarkman.com/">markman</a></p>
</li>
<li>
<p>音乐或者视频的版权问题</p>
</li>
</ol><p>前端工程师在做 H5 的应用的时候，通常会在开发电脑上利用 chrome 浏览器的<a href="https://developers.google.com/web/tools/chrome-devtools/device-mode">设备模拟器</a>来做开发，模拟器的功能很强大，它提供了大多数主流机型的选项，如果有特殊机型需求，自己也可以定义设备分辨率和 DPR，对于本地开发来说非常的便利。但是有的时候可能会出现这样一种情况，在模拟器上开发的预期效果，放到某些机型上会出现一些奇怪的问题，相信对大部分前端开发来说，大概都碰到过。这个时候就需要用真机来做调试，解决出现的问题。</p>
<p>移动端真机调试常用的方案大概有以下几种：</p>
<p>1.数据线连接调试：iOS 和 Android 设备可以用数据线连接开发电脑，打开对应系统工具的调试选项，可以通过电脑端的 safari、chrome 浏览器的 Web Inspector 来检查移动端设备浏览器的页面。</p>
<p>2.代理工具 + weinre：macOS 和 windows 下可以使用 <a href="https://www.charlesproxy.com/">Charles</a> 或者 <a href="https://www.telerik.com/fiddler">Fiddler</a> 作为代理工具，在同一网段下配置移动端 Wi-Fi 代理地址到开发电脑，电脑端通过对移动端的请求进行抓取，可以把电脑上的本地文件反向代理到移动端，再配合 <a href="https://github.com/nupthale/weinre">weinre</a> 实现 Web Inspector 的功能。</p>
<p>3.whistle：<a href="https://wproxy.org/whistle/">whistle</a> 集成了代理工具 + weinre 的方案，通过类似配置系统 hosts 的方式即可实现跨平台的调试。</p>
<p>数据线连接调试虽然使用 Web Inspector 检查页面比较方便，但是往往需要先把本地代码打包发布到线上环境，移动设备才可以看到效果，本地的更新没法实时同步到移动端设备上，在开发过程中采用这种调试方式会非常的繁琐。代理工具 + weinre 的方案功能强大，但是代理工具需要下载客户端（两个软件的正版 license 价格不菲），还要单独配置一个 weinre 服务，本地配置的成本比较高。所以，以上两种调试方式的具体配置就不具体展开了，接下来主要描述第 3 种方案。</p>
<h3 id="whistle">whistle 方案</h3>
<p>whistle 是 avenwu 开发的一个 Node.js 工具，可跨多系统平台，配置项可共享，并且内部集成了 weinre，功能丰富、强大，可视化的配置方式使用也比较简单，非常适合前端来做真机调试。</p>
<h4 id="_1">安装和命令</h4>
<ul>
<li>安装</li>
</ul>
<pre class="codehilite"><code class="language-js">npm install -g whistle # 推荐使用最新的 Node.js LTS 版本</code></pre>


<ul>
<li>常用命令</li>
</ul>
<p>安装完包后，可以在命令行工具使用 <code>whistle</code> 或 <code>w2</code> </p>
<pre class="codehilite"><code class="language-js">w2 start # 启动
w2 start -p 8088 # 启动，配置监听端口为 8088
w2 stop # 停止
w2 run # 启动调试模式，用于查看异常和 whistle 插件开发</code></pre>


<p>正常启动后的命令行：</p>
<p><img alt="whistle-start" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/前端开发规范/移动端规范/media/whistle-start.png" /></p>
<p>访问 http://local.whistlejs.com 链接打开线上的配置和调试页面，whistle 主要的<code>rules</code> 、<code>values</code>、<code>weinre 调试</code> 、<code>https证书安装</code>都在上面操作。</p>
<h4 id="_2">代理配置</h4>
<p>需要保证移动设备和开发电脑在同一个局域网段内</p>
<ul>
<li>浏览器代理配置</li>
</ul>
<p>使用 chrome 并安装 SwitchyOmega 插件，新建一个情景模式将浏览器代理指向 whistle。</p>
<p><img alt="switchOmega" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/前端开发规范/移动端规范/media/switchOmega.png" /></p>
<ul>
<li>移动设备代理配置</li>
</ul>
<p>首先在电脑端的命令行工具执行 <code>ifconfig</code> 查看本机 ip 地址，准备配置到移动端。</p>
<p>iOS 设备代理配置路径：<code>设置</code> &gt; <code>无线局域网</code> &gt; <code>点击当前连接网络右侧的 icon 进入详情</code> &gt; <code>配置代理</code> &gt; <code>手动</code> &gt; <code>服务器填写开发机 ip 地址，端口填写开发机监听端口</code>  &gt; <code>点击右上角保存</code></p>
<p>Andriod 设备代理配置路径（以小米手机为例）：<code>设置</code> &gt; <code>点击当前连接网络进入详情</code> &gt; <code>代理</code> &gt; <code>手动</code> &gt; <code>主机名填写开发机 ip 地址，端口填写开发机监听端口</code> &gt; <code>点击右上角保存</code> </p>
<h4 id="https">https 捕获</h4>
<p>使用 whistle 代理 https 请求，开发机和移动端设备都需要安装根证书，在开发机配置页面点击 <code>https</code> 弹出对话框</p>
<p><img alt="https" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/前端开发规范/移动端规范/media/https.png" /></p>
<p>点击 <code>Download RootCA</code> 下载开发机证书，移动端扫码或者在浏览器访问 <code>rootca.pro</code>来下载证书，如果不了解如何安装可<a href="http://wproxy.org/whistle/webui/https.html">参考文档</a>。 <strong>提醒一下，开发机使用 windows 安装证书时，一定要手动选择安装到 <code>受信任的根证书颁发机构</code> 目录下</strong> </p>
<h4 id="rules">常用 rules 配置</h4>
<ul>
<li>weinre 调试</li>
</ul>
<p>移动端设备使用 weinre 提供的 Web Inspector 来调试页面，可以根据页面地址配置对应的 rule</p>
<pre class="codehilite"><code class="language-shell"># 本地调试页面被 weinre 捕获配置
# 协议采用 weinre，协议后的名称为分组名称，根据管理需求可自定义
https://m.jd.com    weinre://debug-h5
http://dev.weixinh5.com weinre://debug-h5</code></pre>


<ul>
<li>插入文件</li>
</ul>
<p>如果需要在移动端页面注入文件，可以使用 <code>js</code> 协议配置，例如使用 <a href="https://github.com/Tencent/vConsole">vConsole</a>（不能与 weinre 同时使用）来模拟 PC 端浏览器的 console 的功能，可以配置：</p>
<pre class="codehilite"><code class="language-shell">dev.weixinh5.com    js://{vConsole.js}</code></pre>


<h4 id="mock">Mock 数据</h4>
<p>另外 whistle 也可以通过增加 <code>values</code>来构造数据，然后在 <code>rules</code>里面配置代理规则，通过转发来 mocks 移动端设备请求的返回数据。</p>
<h4 id="_3">文档</h4>
<ol>
<li><a href="https://developer.apple.com/library/archive/documentation/AppleApplications/Conceptual/Safari_Developer_Guide/GettingStarted/GettingStarted.html">iOS</a>、<a href="https://developers.google.com/web/tools/chrome-devtools/remote-debugging">Android</a> 设备数据线调试模式官方文档</li>
<li><a href="https://www.cnblogs.com/hustskyking/p/remote-debug-in-mobile-development.html">Charles + weinre 调试</a></li>
<li><a href="https://juejin.im/post/5ad5f471518825557e78e623">avenwu：利于 whistle 调试移动端页面</a></li>
</ol><h3 id="1">1. 弹层中表单交互规范</h3>
<ul>
<li>保存时表单检测失败或保存失败，则提示失败原因，数据不做清除处理、弹层不关闭</li>
<li>保存时表单检测正常并保存成功，弹层关闭</li>
<li>input 类的拼写检查属性 spellcheck 设置为 false ，防止出现红色的下划线</li>
</ul>
<h3 id="2">2. 表单校验开发/交互规范</h3>
<ul>
<li>对所有已知的表单元素类型前后台均进行校验，比如数字、电话号码、IP 等必须做基本的校验</li>
<li>前端校验不通过时，聚焦到具体表单元素</li>
<li>后台检验，不能聚焦到具体表单元素的情况，tips 弹出提示处理</li>
<li>tips 弹出提示处理，不可重复累加显示，仅能显示一条</li>
<li>保存按钮最小宽度和 loading 时一致</li>
<li>默认前端自动处理去除输入内容的前后空格\换行再进行内容校验。如果输入内容允许使用分隔符输入一组数据，则需要考虑去除输入内容前后的指定分隔符再进行内容校验</li>
</ul>
<h3 id="3">3. 下拉框类内容显示处理</h3>
<p>下拉框类内容显不全时，需要加个悬浮显示</p>
<p>注意：表格内、下拉选择、导航内等信息展示不全时同样处理方案</p>
<h3 id="4">4. 文本框校验处理</h3>
<p>-【必须】边界校验：字段长度
    所有字段都要做长度、大小限制(不管需求有没有给出明确要求，不管测试颗粒度，都要限制长度，不允许报数据库错误，都要测！！！)。
    最大长度限制可限定方法：1、不允许再输入；2、自动截断处理，并且给用户提示</p>
<ul>
<li>判空校验：是否可以为空</li>
</ul>
<p>-【必须】特殊符号测试输入：</p>
<ul>
<li>
<p>SQL 注入校验 <code>or 1&lt;&gt;'1　' or '1'='1' or '1'&lt;&gt;'2"|?&gt;&lt;where a='xxx'</code></p>
</li>
<li>
<p>是否允许有下划线</p>
</li>
<li>
<p>输入字符串前后空格必须处理，以及全部空格处理</p>
</li>
<li>
<p>输入单引号 <code>&gt;&lt;script&gt;alert("123");&lt;/script&gt;</code></p>
</li>
<li>
<p>输入特殊字符，特别是 &amp;、单引号 ’、空格检查是否能保存</p>
</li>
</ul>
<p>-【必须】特殊格式时输入内容是否合法（tel，ip，url，email）序号等校验</p>
<ul>
<li>多文本框空格，换行是否保存</li>
</ul>
<h3 id="5">5. 单选框交互建议</h3>
<ul>
<li>
<p>默认是否有选中</p>
</li>
<li>
<p>是否只能选中一个</p>
</li>
<li>
<p>与接口交互传递的值是否正确</p>
</li>
<li>
<p>选中后出现的效果是否符合预期（不同选择时的展示内容不同的情况）</p>
</li>
</ul>
<h3 id="6">6. 复选框交互建议</h3>
<ul>
<li>
<p>多个复选框全不选和全选以及部分选择时传递的值是否正确</p>
</li>
<li>
<p>当复选框太多时，是否提供全选、全不选和反选的功能</p>
</li>
<li>
<p>选中后出现的效果是否符合预期（不同选择时的展示内容不同的情况）</p>
</li>
</ul><h3 id="_1">表格使用基础规范</h3>
<p>表格定义：用于多字段，结构类似的数据行列展示，可对数据进行勾选，内嵌，排序、筛选、对比或其他自定义操作。</p>
<ul>
<li>默认行数： 以 1366*768 分辨率为例，每页默认显示行数为 10 行（即 10 行/页），不含表头</li>
<li>默认列数： 列数最优显示 7+2 列，具体情况可根据产品配置显示列数</li>
<li>分页显示规范：表格内容为空时，不显示分页，表格内容不为空时显示</li>
<li>表格内容为空时：显示表头，不显示分页控件，内容高度为 200px，提示内容居中显示，可添加跳转链接</li>
<li>操作项：操作项多余 3 项时，显示高频操作，隐藏低频操作，点击 显示更多操作项，操作项左对齐，最小宽度为 68px，最大宽度视应用场景而定，建议操作文字 2～6 个，超出使用 ……显示，鼠标移入 title 显示</li>
<li>对齐建议方式：文字字段左对齐，纯数字右对齐</li>
<li>按钮规范：分为主要按钮和次要按钮，主要按钮为填充按钮，次要按钮为线性按钮，按钮文字控制在 2～6 个文字，按钮最小宽度为 68px，当按钮操作超过 4 个时，使用更多下拉按钮显示，下拉按钮中文字采用左对齐</li>
<li>表头/内容规范：表头文字简洁，保持在 6 个文字以内，正文内容当超出表格规定显示区域时使用“……”显示，当鼠标 hover 时，tooltip 显示详细内容</li>
</ul><h3 id="_1">侧滑弹层规范</h3>
<ul>
<li>编辑类，点击空白处不能收回（例外：没有进行修改时，点空白可收回）</li>
<li>查看类，点击空白处可收回</li>
</ul><h3 id="1-pc">1. 适配不同尺寸的 PC 端屏幕</h3>
<p>前端页面需要验证常用屏幕尺寸下的效果
- width: 1920 * height: 1080 (windows)
- width: 1440 * height: 900 (Mac 13 inch)
- width: 1680 * height: 1050 (Mac 15 inch)
- width: 1280 * height: 800 (Mac 12 inch)</p>
<h3 id="2">2. 全局字体默认设置</h3>
<ul>
<li>字号 14px，字体每增大一号加 2px</li>
<li>font-family: -apple-system,BlinkMacSystemFont,PingFang SC,Microsoft YaHei,Helvetica Neue,Arial;</li>
</ul>
<h3 id="3">3. 【必须】错误提示需要明确错误信息</h3>
<p>出现错误的时候，错误提示信息明确，不建议仅出现源码、错误码等非有好提示</p>
<h3 id="4">4. 【必须】无数据时，页面必须有提示信息</h3>
<h3 id="5-icon-title">5. 【必须】页面所有 icon 必须加上 title 提示</h3>
<h3 id="6">6. 用户登录态失效时处理</h3>
<p>用户登录态失效时前端处理逻辑需遵循前端开发框架集成的统一方案。</p>
<p>注意：登录态失效时后台接口规范为 401 返回码。</p>
<ul>
<li>情况 1：如果刷新浏览器链接或点击页面里链接需要到登录页面 </li>
<li>情况 2：如果是点击页面内的按钮等触发弹窗，则弹出弹层显示登录框</li>
</ul>
<h3 id="7">7. 区域加载数据时显示规范</h3>
<p>1、加载数据时，展示区域初始状态为 loading</p>
<p>2、加载数据获取到后，视数据情况显示“空数据”提示  或者 正常展示数据</p>
<p>（不规范做法：展示区域初始状态为空数据，再显示 loading，再显示加载真实数据后的状态）</p>
<h3 id="8">8. 文本显示规范</h3>
<ul>
<li>当输入框输入内容或文本展示长度超显示范围，则...，增加浏览器 title 或 tooltips</li>
<li>内容显示，没有内容时，则显示 "--"</li>
</ul>
<h3 id="9">9. 操作类按钮使用</h3>
<p>点击操作类按钮发送请求后必须加锁（loading 状态），直到请求返回结果，防止重复点击造成重复发送请求</p><h1 id="vuejs">Vuejs 安全措施</h1>
<p>参考官方文档：https://cn.vuejs.org/v2/guide/security.html#Vue-%E7%9A%84%E5%AE%89%E5%85%A8%E6%8E%AA%E6%96%BD</p><h1 id="_1">项目代码敏感信息检查</h1>
<p>开源项目\对外交付的项目代码必须避免出现（包含但不限于以下信息）：
- 内网域名信息
- 内部用户信息
- 内部真实 IP 信息</p><h2 id="1">1. 优化构建速度</h2>
<p>Webpack 在启动后会根据 Entry 配置的入口出发，递归地解析所依赖的文件。这个过程分为搜索文件和把匹配的文件进行分析、转化的两个过程，因此可以从这两个角度来进行优化配置。</p>
<h3 id="11">1.1 缩小文件的搜索范围</h3>
<h4 id="111-loader">1.1.1 优化 Loader 配置</h4>
<p>​    由于 Loader 对文件的转换操作很耗时，所以需要让尽可能少的文件被 Loader 处理。我们可以通过以下 3 方面优化 Loader 配置：</p>
<p>（1）优化正则匹配</p>
<p>（2）通过 cacheDirectory 选项开启缓存</p>
<p>（3）通过 include、exclude 来减少被处理的文件</p>
<p><strong>优化配置：</strong></p>
<pre class="codehilite"><code class="language-javascript">{
  // 1、如果项目源码中只有js文件，就不要写成/\.jsx?$/，以提升正则表达式的性能
  test: /\.js$/,
  // 2、babel-loader支持缓存转换出的结果，通过cacheDirectory选项开启
  loader: 'babel-loader?cacheDirectory',
  // 3、只对项目根目录下的src 目录中的文件采用 babel-loader
  include: [resolve('src')]
}</code></pre>


<h4 id="112-resolvemodules">1.1.2 优化 resolve.modules 配置</h4>
<p>​    resolve.modules 用于配置 Webpack 去哪些目录下寻找第三方模块。resolve.modules 的默认值是［node modules］，含义是先去当前目录的/node modules 目录下去找我们想找的模块，如果没找到，就去上一级目录../node modules 中找，再没有就去../ .. /node modules 中找，以此类推，这和 Node.js 的模块寻找机制很相似。当安装的第三方模块都放在项目根目录的./node modules 目录下时，就没有必要按照默认的方式去一层层地寻找，可以指明存放第三方模块的绝对路径，以减少寻找。</p>
<p><strong>优化配置：</strong></p>
<pre class="codehilite"><code class="language-javascript">resolve: {
// 使用绝对路径指明第三方模块存放的位置，以减少搜索步骤
modules: [path.resolve(__dirname,'node_modules')]
}</code></pre>


<h4 id="113-resolvealias">1.1.3 优化 resolve.alias 配置</h4>
<p>​    resolve.alias 配置项通过别名来将原导入路径映射成一个新的导入路径。</p>
<p><strong>项目中的配置使用：</strong></p>
<pre class="codehilite"><code class="language-javascript">alias: {
  '@': resolve('src'),
},
// 通过以上的配置，引用src底下的common.js文件，就可以直接这么写
import common from '@/common.js';</code></pre>


<h4 id="114-resolveextensions">1.1.4 优化 resolve.extensions 配置</h4>
<p>默认值：<code>extensions:['.js', '.json']</code>,当导入语句没带文件后缀时，Webpack 会根据 extensions 定义的后缀列表进行文件查找，所以：</p>
<ul>
<li>列表值尽量少</li>
<li>频率高的文件类型的后缀写在前面</li>
<li>源码中的导入语句尽可能的写上文件后缀，如<code>require(./data)</code>要写成<code>require(./data.json)</code></li>
</ul>
<h4 id="115-resolvenoparse">1.1.5 优化 resolve.noParse 配置</h4>
<p>​    noParse 配置项可以让 Webpack 忽略对部分没采用模块化的文件的递归解析和处理，这样做的好处是能提高构建性能。原因是一些库如 jQuery、ChartJS 庞大又没有采用模块化标准，让 Webpack 去解析这些文件既耗时又没有意义。 noParse 是可选的配置项，类型需要是 RegExp 、[RegExp]、function 中的一种。</p>
<p>例如，若想要忽略 jQuery 、ChartJS </p>
<p><strong>则优化配置如下：</strong></p>
<pre class="codehilite"><code class="language-javascript">// 使用正则表达式 
noParse: /jquerylchartjs/ 
// 使用函数，从 Webpack3.0.0开始支持 
noParse: (content)=&gt; { 
// 返回true或false 
return /jquery|chartjs/.test(content); 
}</code></pre>


<h3 id="12-happypack-loader">1.2 使用 HappyPack 开启多进程 Loader 转换</h3>
<p>在整个构建流程中，最耗时的就是 Loader 对文件的转换操作了，而运行在 Node.js 之上的 Webpack 是单线程模型的，也就是只能一个一个文件进行处理，不能并行处理。HappyPack 可以将任务分解给多个子进程，最后将结果发给主进程。JS 是单线程模型，只能通过这种多进程的方式提高性能。</p>
<p>HappyPack 使用如下：</p>
<pre class="codehilite"><code class="language-javascript">（1）HappyPack插件安装：
    $ npm i -D happypack
（2）webpack.base.conf.js 文件对module.rules进行配置
    module: {
     rules: [
      {
        test: /\.js$/,
        // 将对.js 文件的处理转交给 id 为 babel 的HappyPack实例
          use:['happypack/loader?id=babel'],
          include: [resolve('src'), resolve('test'),   
            resolve('node_modules/webpack-dev-server/client')],
        // 排除第三方插件
          exclude:path.resolve(__dirname,'node_modules'),
        },
        {
          test: /\.vue$/,
          use: ['happypack/loader?id=vue'],
        },
      ]
    },
（3）webpack.prod.conf.js 文件进行配置    
        const HappyPack = require('happypack');
    // 构造出共享进程池，在进程池中包含5个子进程
    const HappyPackThreadPool = HappyPack.ThreadPool({size:5});
    plugins: [
       new HappyPack({
         // 用唯一的标识符id，来代表当前的HappyPack是用来处理一类特定的文件
         id:'vue',
         loaders:[
           {
             loader:'vue-loader',
             options: vueLoaderConfig
           }
         ],
         threadPool: HappyPackThreadPool,
       }),

       new HappyPack({
         // 用唯一的标识符id，来代表当前的HappyPack是用来处理一类特定的文件
         id:'babel',
         // 如何处理.js文件，用法和Loader配置中一样
         loaders:['babel-loader?cacheDirectory'],
         threadPool: HappyPackThreadPool,
       }),
    ]</code></pre>


<p>除了 id 和 loaders，HappyPack 还支持这三个参数：<code>threads、verbose、threadpool</code>，threadpool 代表共享进程池，即多个 HappyPack 实例都用同个进程池中的子进程处理任务，以防资源占用过多。</p>
<h3 id="13-paralleluglifyplugin-js">1.3 使用 ParallelUglifyPlugin 开启多进程压缩 JS 文件</h3>
<p>使用 UglifyJS 插件压缩 JS 代码时，需要先将代码解析成 Object 表示的 AST（抽象语法树），再去应用各种规则去分析和处理 AST，所以这个过程计算量大耗时较多。ParallelUglifyPlugin 可以开启多个子进程，每个子进程使用 UglifyJS 压缩代码，可以并行执行，能显著缩短压缩时间。</p>
<p>使用也很简单，把原来的 UglifyJS 插件换成本插件即可，使用如下：</p>
<pre class="codehilite"><code class="language-javascript">npm i -D webpack-parallel-uglify-plugin

// webpack.config.json
const ParallelUglifyPlugin = require('wbepack-parallel-uglify-plugin');
//...
plugins: [
    new ParallelUglifyPlugin({
        uglifyJS:{
            //...这里放uglifyJS的参数
        },
        //...其他ParallelUglifyPlugin的参数，设置cacheDir可以开启缓存，加快构建速度
    })
]</code></pre>


<h2 id="2">2. 优化开发体验</h2>
<h3 id="21">2.1 使用自动刷新</h3>
<p>借助自动化的手段，在监听到本地源码文件发生变化时，自动重新构建出可运行的代码后再控制浏览器刷新。</p>
<p><strong>项目中自动刷新的配置：</strong></p>
<pre class="codehilite"><code class="language-javascript">devServer: {
  watchOptions: {
    // 不监听的文件或文件夹，支持正则匹配
    ignored: /node_modules/,
    // 监听到变化后等300ms再去执行动作
    aggregateTimeout: 300,
    // 默认每秒询问1000次
    poll: 1000
  }
}</code></pre>


<p><strong>相关优化措施：</strong> </p>
<p>（1）配置忽略一些不监听的一些文件，如：node_modules。 </p>
<p>（2）<code>watchOptions.aggregateTirneout</code> 的值越大性能越好，因为这能降低重新构建的频率。</p>
<p>（3）<code>watchOptions.poll</code> 的值越小越好，因为这能降低检查的频率。</p>
<h3 id="22">2.2 开启模块热替换</h3>
<p>DevServer 支持模块热替换( Hot Module Replacement )，可在不刷新整个网页的情况下做到超灵敏实时预览。</p>
<p>原理是在一个源码发生变化时，只需重新编译发生变化的模块，再用新输出的模块替换掉浏览器中对应的旧模块。</p>
<p>模块热替换技术在很大程度上提升了开发效率和体验 。 </p>
<p><strong>模块热替换的配置：</strong></p>
<pre class="codehilite"><code class="language-javascript">devServer: {
  hot: true,
},
plugins: [
  new webpack.HotModuleReplacementPlugin(),
// 显示被替换模块的名称
  new webpack.NamedModulesPlugin(), // HMR shows correct file names
]</code></pre>


<h2 id="3">3. 优化输出质量</h2>
<h3 id="31">3.1 压缩文件体积</h3>
<h4 id="311">3.1.1 减少冗余代码</h4>
<p><code>babel-plugin-transform-runtime</code> 是 Babel 官方提供的一个插件，作用是减少冗余的代码。 </p>
<p>Babel 在将 ES6 代码转换成 ES5 代码时，通常需要一些由 ES5 编写的辅助函数来完成新语法的实现，例如在转换 class extent 语法时会在转换后的 ES5 代码里注入 extent 辅助函数用于实现继承。</p>
<p><code>babel-plugin-transform-runtime</code>会将相关辅助函数进行替换成导入语句，从而减小 babel 编译出来的代码的文件大小。</p>
<h4 id="312-jsescss">3.1.2 压缩代码-JS、ES、CSS</h4>
<p><strong>压缩 JS：Webpack 内置 UglifyJS 插件、ParallelUglifyPlugin</strong></p>
<p>会分析 JS 代码语法树，理解代码的含义，从而做到去掉无效代码、去掉日志输入代码、缩短变量名等优化。常用配置参数如下：</p>
<pre class="codehilite"><code class="language-javascript">const UglifyJSPlugin = require('webpack/lib/optimize/UglifyJsPlugin');
//...
plugins: [
    new UglifyJSPlugin({
        compress: {
            warnings: false,  //删除无用代码时不输出警告
            drop_console: true,  //删除所有console语句，可以兼容IE
            collapse_vars: true,  //内嵌已定义但只使用一次的变量
            reduce_vars: true,  //提取使用多次但没定义的静态值到变量
        },
        output: {
            beautify: false, //最紧凑的输出，不保留空格和制表符
            comments: false, //删除所有注释
        }
    })
]</code></pre>


<p>使用<code>webpack --optimize-minimize</code> 启动 webpack，可以注入默认配置的 UglifyJSPlugin</p>
<p><strong>压缩 ES6：第三方 UglifyJS 插件</strong></p>
<p>随着越来越多的浏览器支持直接执行 ES6 代码，应尽可能的运行原生 ES6，这样比起转换后的 ES5 代码，代码量更少，且 ES6 代码性能更好。直接运行 ES6 代码时，也需要代码压缩，第三方的 uglify-webpack-plugin 提供了压缩 ES6 代码的功能：</p>
<pre class="codehilite"><code class="language-javascript">npm i -D uglify-webpack-plugin@beta //要使用最新版本的插件
//webpack.config.json
const UglifyESPlugin = require('uglify-webpack-plugin');
//...
plugins:[
    new UglifyESPlugin({
        uglifyOptions: {  //比UglifyJS多嵌套一层
            compress: {
                warnings: false,
                drop_console: true,
                collapse_vars: true,
                reduce_vars: true
            },
            output: {
                beautify: false,
                comments: false
            }
        }
    })
]</code></pre>


<p>另外要防止 babel-loader 转换 ES6 代码，要在.babelrc 中去掉 babel-preset-env，因为正是 babel-preset-env 负责把 ES6 转换为 ES5。</p>
<p><strong>压缩 CSS：css-loader?minimize、PurifyCSSPlugin</strong></p>
<p>cssnano 基于 PostCSS，不仅是删掉空格，还能理解代码含义，例如把<code>color:#ff0000</code> 转换成 <code>color:red</code>，css-loader 内置了 cssnano，只需要使用 <code>css-loader?minimize</code> 就可以开启 cssnano 压缩。</p>
<p>另外一种压缩 CSS 的方式是使用<a href="https://github.com/webpack-contrib/purifycss-webpack">PurifyCSSPlugin</a>，需要配合 <code>extract-text-webpack-plugin</code> 使用，它主要的作用是可以去除没有用到的 CSS 代码，类似 JS 的 Tree Shaking。</p>
<h4 id="313-">3.1.3 区分环境--减小生产环境代码体积</h4>
<p>代码运行环境分为开发环境和生产环境，代码需要根据不同环境做不同的操作，区分环境之后可以使输出的生产环境的代码体积减小。Webpack 中使用 DefinePlugin 插件来定义配置文件适用的环境。</p>
<pre class="codehilite"><code class="language-javascript">const DefinePlugin = require('webpack/lib/DefinePlugin');
//...
plugins:[
    new DefinePlugin({
        'process.env': {
            NODE_ENV: JSON.stringify('production')
        }
    })
]</code></pre>


<p>注意，<code>JSON.stringify('production')</code> 的原因是，环境变量值需要一个双引号包裹的字符串，而 stringify 后的值是<code>'"production"'</code></p>
<p>然后就可以在源码中使用定义的环境：</p>
<pre class="codehilite"><code class="language-javascript">if(process.env.NODE_ENV === 'production'){
    console.log('你在生产环境')
    doSth();
}else{
    console.log('你在开发环境')
    doSthElse();
}</code></pre>


<p>当代码中使用了 process 时，Webpack 会自动打包进 process 模块的代码以支持非 Node.js 的运行环境，这个模块的作用是模拟 Node.js 中的 process，以支持<code>process.env.NODE_ENV === 'production'</code> 语句。</p>
<h4 id="314-tree-shaking-js">3.1.4 使用 Tree Shaking 剔除 JS 死代码</h4>
<p>Tree Shaking 可以剔除用不上的死代码，它依赖 ES6 的 import、export 的模块化语法，适合用于 Lodash、utils.js 等工具类较分散的文件。<strong>它正常工作的前提是代码必须采用 ES6 的模块化语法</strong>。</p>
<p><strong>启用 Tree Shaking：</strong></p>
<ul>
<li>修改.babelrc 以保留 ES6 模块化语句：</li>
</ul>
<pre class="codehilite"><code class="language-javascript">{
    &quot;presets&quot;: [
        [
            &quot;env&quot;, 
            { &quot;module&quot;: false },   //关闭Babel的模块转换功能，保留ES6模块化语法
        ]
    ]
}</code></pre>


<ul>
<li>
<p>启动 webpack 时带上 --display-used-exports 可以在 shell 打印出关于代码剔除的提示</p>
</li>
<li>
<p>使用 UglifyJSPlugin，或者启动时使用--optimize-minimize</p>
</li>
<li>
<p>在使用第三方库时，需要配置 <code>resolve.mainFields: ['jsnext:main', 'main']</code> 以指明解析第三方库代码时，采用 ES6 模块化的代码入口</p>
</li>
</ul>
<h3 id="32">3.2 加速网络请求</h3>
<h4 id="321">3.2.1 按需加载代码</h4>
<p>通过 vue 写的单页应用时，可能会有很多的路由引入。当打包构建的时候，javascript 包会变得非常大，影响加载。如果我们能把不同路由对应的组件分割成不同的代码块，然后当路由被访问的时候才加载对应的组件，这样就更加高效了。这样会大大提高首屏显示的速度，但是可能其他的页面的速度就会降下来。 </p>
<p><strong>项目中路由按需加载（懒加载）的配置：</strong></p>
<pre class="codehilite"><code class="language-javascript">const Foo = () =&gt; import('./Foo.vue')
const router = new VueRouter({
  routes: [
    { path: '/foo', component: Foo }
  ]
})</code></pre>


<h4 id="322">3.2.2、提取公共代码</h4>
<p>如果每个页面的代码都将这些公共的部分包含进去，则会造成以下问题 ： </p>
<p>• 相同的资源被重复加载，浪费用户的流量和服务器的成本。</p>
<p>• 每个页面需要加载的资源太大，导致网页首屏加载缓慢，影响用户体验。 </p>
<p>​    如果将多个页面的公共代码抽离成单独的文件，就能优化以上问题 。Webpack 内置了专门用于提取多个 Chunk 中的公共部分的插件 CommonsChunkPlugin。 </p>
<p><strong>项目中 CommonsChunkPlugin 的配置：</strong></p>
<pre class="codehilite"><code class="language-javascript">// 所有在 package.json 里面依赖的包，都会被打包进 vendor.js 这个文件中。
new webpack.optimize.CommonsChunkPlugin({
  name: 'vendor',
  minChunks: function(module, count) {
    return (
      module.resource &amp;&amp;
      /\.js$/.test(module.resource) &amp;&amp;
      module.resource.indexOf(
        path.join(__dirname, '../node_modules')
      ) === 0
    );
  }
}),
// 抽取出代码模块的映射关系
new webpack.optimize.CommonsChunkPlugin({
  name: 'manifest',
  chunks: ['vendor']
})</code></pre>


<h4 id="323-cdn">3.2.3 使用 CDN 加速静态资源加载</h4>
<ul>
<li><strong>HTML 文件：放在自己的服务器上且关闭缓存，不接入 CDN</strong></li>
<li><strong>静态的 JS、CSS、图片等资源：开启 CDN 和缓存，同时文件名带上由内容计算出的 Hash 值，这样只要内容变化 hash 就会变化，文件名就会变化，就会被重新下载而不论缓存时间多长。</strong></li>
</ul>
<p><strong>总之，构建需要满足以下几点：</strong></p>
<ul>
<li>静态资源导入的 URL 要变成指向 CDN 服务的绝对路径的 URL</li>
<li>静态资源的文件名需要带上根据内容计算出的 Hash 值</li>
<li>不同类型资源放在不同域名的 CDN 上</li>
</ul>
<p><strong>配置：</strong></p>
<pre class="codehilite"><code class="language-javascript">const ExtractTextPlugin = require('extract-text-webpack-plugin');
const {WebPlugin} = require('web-webpack-plugin');
//...
output:{
 filename: '[name]_[chunkhash:8].js',
 path: path.resolve(__dirname, 'dist'),
 publicPatch: '//js.cdn.com/id/', //指定存放JS文件的CDN地址
},
module:{
 rules:[{
     test: /\.css/,
     use: ExtractTextPlugin.extract({
         use: ['css-loader?minimize'],
         publicPatch: '//img.cdn.com/id/', //指定css文件中导入的图片等资源存放的cdn地址
     }),
 },{
    test: /\.png/,
    use: ['file-loader?name=[name]_[hash:8].[ext]'], //为输出的PNG文件名加上Hash值 
 }]
},
plugins:[
  new WebPlugin({
     template: './template.html',
     filename: 'index.html',
     stylePublicPath: '//css.cdn.com/id/', //指定存放CSS文件的CDN地址
  }),
 new ExtractTextPlugin({
     filename:`[name]_[contenthash:8].css`, //为输出的CSS文件加上Hash
 })
]</code></pre>


<h2 id="4">4. 其他小建议</h2>
<p>1、配置 babel-loader 时，<code>use: [‘babel-loader?cacheDirectory’]</code> cacheDirectory 用于缓存 babel 的编译结果，加快重新编译的速度。另外注意排除 node_modules 文件夹，因为文件都使用了 ES5 的语法，没必要再使用 Babel 转换。</p>
<p>2、配置 externals，排除因为已使用<code>&lt;script&gt;</code>标签引入而不用打包的代码，noParse 是排除没使用模块化语句的代码。</p>
<p>3、配置 performance 参数可以输出文件的性能检查配置。</p>
<p>4、配置 profile：true，是否捕捉 Webpack 构建的性能信息，用于分析是什么原因导致构建性能不佳。</p>
<p>5、配置 cache：true，是否启用缓存来提升构建速度。</p>
<p>6、可以使用 url-loader 把小图片转换成 base64 嵌入到 JS 或 CSS 中，减少加载次数。</p>
<p>7、通过 imagemin-webpack-plugin 压缩图片，通过 webpack-spritesmith 制作雪碧图。</p>
<p>8、开发环境下将 devtool 设置为 cheap-module-eval-source-map，因为生成这种 source map 的速度最快，能加速构建。在生产环境下将 devtool 设置为 hidden-source-map</p><p>为保证代码质量，在提交代码前，必须对代码完成以下检查</p>
<h1 id="1-html">1. HTML</h1>
<ol>
<li>
<p>不允许存在用于页面调试的文本</p>
</li>
<li>
<p>不允许存在无用的注释代码段</p>
</li>
</ol>
<h1 id="2-javascript">2. JavaScript</h1>
<ol>
<li>
<p>不允许存在调试语句，如 debugger，console.log 等</p>
</li>
<li>
<p>不允许存在无用的注释代码段</p>
</li>
</ol>
<h1 id="3">3. 提交备注</h1>
<p>每次代码提交必须有备注说明，注明本次提交做了哪些修改</p>
<h2 id="31-commit">3.1 commit 分类</h2>
<p><code>bugfix</code> - 线上功能 bug<br />
<code>sprintfix</code> - 未上线代码修改 （功能模块未上线部分 bug）<br />
<code>minor</code> - 不重要的修改（换行，拼写错误等）<br />
<code>feature</code> - 新功能说明</p><p>如果快速地对项目的代码进行美化呢，推荐使用 gulp + jsbeautifier</p>
<ul>
<li>安装 Node 运行环境，查看是否成功</li>
</ul>
<pre class="codehilite"><code class="language-bash">node -v</code></pre>


<ul>
<li>进入项目根目录，运行终端，初始化 package.json</li>
</ul>
<pre class="codehilite"><code class="language-bash">npm init</code></pre>


<ul>
<li>安装 gulp（如果有网络问题可以使用 tnpm）</li>
</ul>
<pre class="codehilite"><code class="language-bash">npm install --save-dev gulp</code></pre>


<ul>
<li>安装 jsbeautifier</li>
</ul>
<pre class="codehilite"><code class="language-bash">npm install --save-dev gulp-jsbeautifier</code></pre>


<ul>
<li>在根目录配置<code>gulpfile.js</code>，以下是参考配置</li>
</ul>
<pre class="codehilite"><code class="language-bash">var gulp = require('gulp');
var prettify = require('gulp-jsbeautifier');

gulp.task('prettify', function() {
    /**
    * source 需要美化的代码目录
    * dist 美化后保存的目录
    */
    var htmlPathConf = {
        source: ['./templates/home_app/*.html', './templates/home_app/*.part'],
        dist: './templates/home_app'
    };

    var cssPathConf = {
        source: ['./static/css/*.css'],
        dist: './static/css'
    };

    var jsPathConf = {
        source: ['./static/js/*.js'],
        dist: './static/js'
    };

    // html 配置
    gulp.src(htmlPathConf.source)
        .pipe(prettify({
            'indent_size': 4, 
            'indent_char': ' ',
            'html': {
                'file_types': ['.html', '.part']
            }
        }))
        .pipe(gulp.dest(htmlPathConf.dist));

    // css 配置
    gulp.src(cssPathConf.source)
        .pipe(prettify({
            'indent_size': 4, 
            'indent_char': ' '
        }))
        .pipe(gulp.dest(cssPathConf.dist));

    // js 配置
    gulp.src(jsPathConf.source)
        .pipe(prettify({
            'indent_size': 4, 
            'indent_char': ' '
        }))
        .pipe(gulp.dest(jsPathConf.dist));
});</code></pre>


<ul>
<li>在根目录运行命令</li>
</ul>
<pre class="codehilite"><code class="language-bash">gulp prettify</code></pre><blockquote>
<p>常见的开源许可协议有：BSD、Apache Licence 2.0、MIT、GPL、LGPL。这些协议有什么区别呢？</p>
</blockquote>
<h1 id="1-bsd">1. BSD 开源协议</h1>
<p>BSD 开源协议是一个给于使用者很大自由的协议。基本上使用者可以”为所欲为”，可以自由的使用，修改源代码，也可以将修改后的代码作为开源或者专有软件再发布。</p>
<p>“为所欲为”的前提当你发布使用了 BSD 协议的代码，需要满足三个条件：</p>
<ul>
<li>如果再发布的产品中包含源代码，则在源代码中必须带有原来代码中的 BSD 协议;</li>
<li>如果再发布的只是二进制类库/软件，则需要在类库/软件的文档和版权声明中包含原来代码中的 BSD 协议;</li>
<li>不可以用开源代码的作者/机构名字和原来产品的名字做市场推广</li>
</ul>
<p>BSD 协议鼓励代码共享，但需要尊重代码作者的著作权。BSD 由于允许使用者修改和重新发布代码，也允许使用或在 BSD 代码上开发商业软件发布和销售，因此是对商业集成很友好的协议，而很多的公司企业在选用开源产品的时候都首选 BSD 协议。</p>
<blockquote>
<p><strong>总结：使用时必须尊重作者的著作权，保持原代码的 BSD 协议，不以作者名字来市场推广，就可以自由使用，修改源代码，甚至作为专有软件商业使用。</strong></p>
</blockquote>
<hr />
<h1 id="2-apache-licence-20">2. Apache Licence 2.0</h1>
<p>Apache Licence 是著名的非盈利开源组织 Apache 采用的协议。该协议和 BSD 类似，同样鼓励代码共享和尊重原作者的著作权，还有<strong>专利许可</strong>。</p>
<p>需要满足的条件也和 BSD 类似：</p>
<ul>
<li>需要给代码的用户一份 Apache Licence；</li>
<li>如果你修改了代码，需要在被修改的文件中说明；</li>
<li>在延伸的代码中（修改和有源代码衍生的代码中）需要带有原来代码中的协议，商标，专利声明和其他原来作者规定需要包含的说明；</li>
</ul>
<p>除了这些条件它还有这些好处: </p>
<ul>
<li><strong>永久权利</strong> 一旦被授权，永久拥有; </li>
<li><strong>全球范围的权利</strong> 在一个国家获得授权，适用于所有国家; </li>
<li><strong>授权不可撤消</strong> 一旦获得授权，没有任何人可以取消; </li>
</ul>
<p>Apache Licence 也是对商业应用友好的许可。使用者也可以在需要的时候修改代码来满足需要并作为开源或商业产品发布/销售。</p>
<blockquote>
<p><strong>总结：使用时必须尊重作者的著作权，保持原代码协议，就可以永久授权，自由使用，修改源代码，甚至作为专有软件商业使用。</strong></p>
</blockquote>
<hr />
<h1 id="3-mit">3. MIT</h1>
<p>MIT 是和 BSD 一样,但是比 BSD 协议更加宽松，是目前最少限制的协议。作者只想保留版权,而无任何其他了限制.也就是说,你必须在你的发行版里包含原许可协议的声明,无论你是以二进制发布的还是以源代码发布的。</p>
<blockquote>
<p><strong>总结：只要尊重作者的著作权，保持原代码协议，就可以自由使用，修改源代码，无任何其他限制。目前很多前端框架和插件以 MIT 协议开源，例如 jQuery、Node.js</strong></p>
</blockquote>
<hr />
<h1 id="4-gpl">4. GPL</h1>
<p>GPL 协议和 BSD, Apache Licence 等鼓励代码重用的许可很不一样。GPL 的出发点是代码的开源/免费使用和引用/修改/衍生代码的开源/免费使用，但不允许修改后和衍生的代码做为闭源的商业软件发布和销售</p>
<p>GPL 协议的主要内容是只要在一个软件中使用(“使用”指类库引用，修改后的代码或者衍生代码)GPL 协议的产品，则该软件产品必须也采用 GPL 协议，既必须也是开源和免费。这就是所谓的”传染性”。</p>
<blockquote>
<p><strong>总结：使用前要慎重考虑，一旦使用，相应你的项目也需要以 GPL 协议开源。</strong></p>
</blockquote>
<hr />
<h1 id="5-lgpl">5. LGPL</h1>
<p>由于 GPL 太严格，限制了很多商用软件使用 GPL 组件才推出了这个 LGPL。LGPL 允许商业软件通过引用类库的方式使用 LGPL 组件（不直接使用源代码），这样可以不需要开源商业软件的代码。但是如果要修改原始组件的代码，则涉及修改部分的代码和基于原来代码衍生的代码都必须采用 LGPL 协议。LGPL 不适合以 LGPL 协议为基础的代码进行二次开发的商业软件，但是商用软件可以采用编译后的类库引用就不需要公开源代码了。</p>
<blockquote>
<p><strong>总结：使用前要慎重考虑，商业软件通过引用类库的方式使用 LGPL 组件，不允修改源代码，若修改采用的代码要以 LGPL 协议开源。</strong></p>
</blockquote>
<hr />
<h2 id="_1">相关文章</h2>
<p><a href="http://www.vaikan.com/a-short-guide-to-open-source-and-similar-licenses/">http://www.vaikan.com/a-short-guide-to-open-source-and-similar-licenses/</a></p><h1 id="_1">说明</h1>
<ol>
<li>蓝鲸开发规范主要包括应用开发的代码，用户设计体验，安全和性能等的规范和建议</li>
<li>在以下章节中，将用 <code>【必须】</code> 标签来标记开发过程中必须遵守的规范，其他均为建议</li>
</ol>
<h1 id="python">关于 Python 版本</h1>
<p><strong>2020 年以后，Python2 将不会有官方的支持和修复</strong></p>
<ul>
<li><strong>新项目</strong> - 必须使用 Python 3 进行开发（推荐版本: Python 3.6）</li>
<li><strong>老项目(仍在迭代更新)</strong> - 需要尽快迁移至 Python 3。迁移方案请参考<a href="./最佳实践/2to3/">Python 2to3 迁移指南</a></li>
<li><strong>老项目(处于稳定维护状态)</strong> - 可维持当前 Python 版本</li>
</ul>
<h1 id="_2">必须掌握的知识点</h1>
<table>
<thead>
<tr>
<th>知识点</th>
<th>基本要求</th>
<th>参考章节</th>
</tr>
</thead>
<tbody>
<tr>
<td>Python 编码规范</td>
<td>必须使用 utf-8 编码，遵循 PEP 8 关于命名、import、异常、代码注释等规范</td>
<td><a href="./代码规范/PEP8规范.md">PEP8 规范</a>, <a href="./代码规范/编码规范.md">编码规范</a>, <a href="./代码规范/代码注释.md">代码注释</a></td>
</tr>
<tr>
<td>日志规范</td>
<td>为了方便定位问题，必须按照一定的格式和级别输出日志</td>
<td><a href="./代码规范/日志规范.md">日志规范</a></td>
</tr>
<tr>
<td>代码提交规范</td>
<td>提交代码前必须对进行自检，不允许提交调试代码；以及在每次提交时必须提供有效的提交备注</td>
<td><a href="./代码规范/代码提交规范.md">代码提交规范</a></td>
</tr>
<tr>
<td>接口规范</td>
<td>熟悉 HTTP 方法、规范接口返回的数据结构、状态码</td>
<td><a href="./代码规范/接口规范.md">接口规范</a></td>
</tr>
<tr>
<td>web 安全</td>
<td>遵守开发安全要求，禁止高危操作，掌握常见漏洞原理及防御的方法</td>
<td><a href="./安全规范/基本要求.md">安全规范</a></td>
</tr>
</tbody>
</table><h2 id="pep-8">【必须】PEP 8 规范</h2>
<p>PEP 8 python 编码规范：<a href="https://www.python.org/dev/peps/pep-0008/">https://www.python.org/dev/peps/pep-0008/</a></p>
<ul>
<li>
<p>Eclipse 中配置 PEP 8 代码提示</p>
<p>将 PyDev 升级到高于 2.3.0 版本，打开 <code>Window &gt; Preferences &gt; PyDev &gt; Editor &gt; Code Analysis &gt; pep8.py</code> 设置即可</p>
</li>
<li>
<p>PyCharm 配置 PEP 8 代码提示</p>
<p>直接在右下角调整 Highlighting Level 为 Inspections 就能自动 PEP 8 提示</p>
<p><img alt="PEP 8 代码提示" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/代码规范/media/d1aeaac81c790a1692ba66c6367cdaa1.png" /></p>
</li>
<li>
<p>建议修改在使用的 IDE 中修改 PEP8 的每行字数不超 79 字符规范，可修改为 Django 建议的 119 字符</p>
</li>
</ul>
<h2 id="flake8">Flake8 推荐配置</h2>
<pre class="codehilite"><code class="language-ini">[flake8]
ignore =
    ;W503 line break before binary operator
    W503,

max-line-length = 120
max-complexity = 25

; exclude file
exclude =
    .tox,
    .git,
    __pycache__,
    build,
    dist,
    *.pyc,
    *.egg-info,
    .cache,
    .eggs</code></pre><h2 id="1">1.【必须】代码编码</h2>
<ol>
<li>
<p>国际惯例，文件编码和 python 编码格式全部为 utf-8，例如：在 python 代码的开头，要统一加上 <code>#-*- coding: utf-8 -*-</code>，或者其他符合正则表达式<code>^[\t\v]*#.*?coding[:=][\t]*([-_.a-zA-Z0-9]+)</code>的编码声明方式。详情参考：<a href="https://www.python.org/dev/peps/pep-0263/#defining-the-encoding">https://www.python.org/dev/peps/pep-0263/#defining-the-encoding</a></p>
</li>
<li>
<p>python 代码中，非 ascii 字符的字符串，请需添加 u 前缀</p>
</li>
</ol>
<pre class="codehilite"><code class="language-python"># -*- coding: utf-8 -*-
a = u&quot;中国&quot;</code></pre>


<ol>
<li>
<p>若出现 python 编码问题，可按照以下操作尝试解决</p>
<p>在 python 的安装路径中下的/Lib/site-packages 下面创建文件 sitecustomize.py，内容如下：
<code>python
import sys
sys.setdefaultencoding('utf-8')</code></p>
<p>如果没有加入该文件，则在有编码问题的.py 代码中，加入以下代码：
<code>python
import sys
reload(sys)</code></p>
</li>
</ol>
<h3 id="2-python">2 Python 编码规范</h3>
<h4 id="21-python">2.1 【必须】Python 命名规则</h4>
<ol>
<li>
<p>包名、模块名、局部变量名、函数名: <strong>全小写+下划线式驼峰</strong></p>
<p>示例：<code>this_is_var</code></p>
</li>
<li>
<p>全局变量: <strong>全大写+下划线式驼峰</strong></p>
<p>示例：<code>GLOBAL_VAR</code></p>
</li>
<li>
<p>类名: <strong>首字母大写式驼峰</strong></p>
<p>示例：<code>ClassName()</code></p>
</li>
</ol>
<h4 id="22">2.2 变量命名规范</h4>
<p>无论是命名变量、函数还是类，都可以使用很多相同的原则。我们可以把名字当做一条小小的注释，尽管空间不算很大，但选择一个好名字可以让它承载很多信息。
所以，命名的关键思想是“把信息装入名字中”，主要有以下一些技巧:</p>
<ul>
<li>选择专业的词。</li>
<li>避免泛泛的名字（或者说要知道什么时候可以使用泛泛的名字）。</li>
<li>用具体的名字代替抽象的名字。</li>
<li>使用前缀或者后缀给名字附带更多信息。</li>
<li>决定名字的长度。</li>
<li>利用名字的格式来表达含义。</li>
<li>使用避免误解的名字。</li>
</ul>
<h5 id="_1">选择专业的词</h5>
<p>“把信息装入名字中”包括要选择非常专业的词，并且避免使用“空洞”的词。</p>
<pre class="codehilite"><code class="language-python"># 例子 1
def get_size():
    # ...


# 例子 2
class Thread(object):
    def stop():
        # ...</code></pre>


<p>例子 1 中， <code>get</code> 这个词非常不专业，可能是从本地缓存获取、从数据库获取、从远程数据源获取，更专业的名字应该是 <code>acquire</code>、<code>query</code>、<code>fetch</code> 等。 <code>size</code> 也没有承载很多信息，可能表示高度、数量、空间，更专业的词应该是 <code>height</code>、<code>num_nodes</code>、<code>memory_bytes</code> 等。</p>
<p>例子 2 中，<code>stop</code> 这个名字也不够专业，如果是个重量级操作，不可恢复，不如改为 <code>kill</code>；如果可以恢复，可以改为 <code>pause</code>，这样也许会有对应的 <code>resume</code> 方法。</p>
<p>选择专业的名字，一般也更有表现力，下面更多的例子，可能适合你的语境。</p>
<table>
<thead>
<tr>
<th>单词</th>
<th>更多专业的选择</th>
</tr>
</thead>
<tbody>
<tr>
<td>send</td>
<td>deliver、dispatch、announce、distribute、route</td>
</tr>
<tr>
<td>find</td>
<td>search、extract、locate、recover</td>
</tr>
<tr>
<td>start</td>
<td>launch、create、begin、open</td>
</tr>
<tr>
<td>make</td>
<td>create、set up、build、generate、compose、add、new</td>
</tr>
</tbody>
</table>
<h5 id="tmp-retval">避免像 tmp 和 retval 这样泛泛的名字</h5>
<p>使用像 <code>tmp</code>、<code>retval</code>、<code>foo</code> 这样的名字往往是“我想不出名字”的托辞，好的名字应该描述变量的目的或者它所承载的值。</p>
<p>例如 <code>tmp</code> 只应该应用于短期存在且临时性为其主要存在因素的变量。一般情况下，需要使用时最好带上类型，如 <code>tmp_file</code>。</p>
<p>另外，大家一般使用 <code>i</code>、<code>j</code>、<code>k</code>、<code>index</code> 做索引和循环迭代器。尽管这些名字很空泛，但是大家一看就知道他们的意思。不过有时候，适当优化会有更好效果。
如：</p>
<pre class="codehilite"><code class="language-python">for i in clubs:
    for j in i.members:
        for k in j.users:
            ...</code></pre>


<p>把 <code>i</code>、<code>j</code>、<code>k</code> 改为 <code>ci</code>、<code>mi</code>、<code>ui</code> ，使迭代元素的首字符和数据的一致会更清晰，并且不易混淆。</p>
<h5 id="_2">用具体的名字代替抽象的名字</h5>
<p>在给变量、函数还是类命名时，要把它描述得更具体而不是更抽象。</p>
<p>例如 <code>def run_locally()</code> ，只能从名字看出来是要本地运行使用，但是不知道它的具体作用。如果是使用本地数据库，可以改为 <code>def use_local_database()</code> 。</p>
<h5 id="_3">使用前缀或者后缀给名字附带更多信息</h5>
<p>如果你的变量是一个度量的话，最好把名字带上单位。例如 <code>start_secs</code>、<code>size_md</code>、<code>max_kbps</code> 等。</p>
<p>这种给名字附带额外信息的技巧不限于单位，对于这个变量存在危险或者意外的时候都应该采用。下面有更多的例子可以参考。</p>
<table>
<thead>
<tr>
<th>背景</th>
<th>变量名</th>
<th>更好的名字</th>
</tr>
</thead>
<tbody>
<tr>
<td>一个“纯文本”的密码，需要加密后存储</td>
<td>password</td>
<td>text_password</td>
</tr>
<tr>
<td>一条用户输入的注释，需要转义后才能用于显示</td>
<td>comment</td>
<td>unescaped_comment</td>
</tr>
<tr>
<td>已转换成 UTF-8 格式的 html</td>
<td>html</td>
<td>html_utf8</td>
</tr>
</tbody>
</table>
<h5 id="_4">决定名字的长</h5>
<ul>
<li>在小的作用域使用短的名字
如 <code>if cond: ...print(m)...</code></li>
<li>“不方便输入”不应该作为避免使用长名字的理由
各种编辑器已经能支持自动补全和快速导入。</li>
<li>首字母缩略词和缩写应该是通用的
如 <code>doc</code> 可以代替 <code>document</code>，但是 <code>BEManager</code> 没法替换 <code>BackendManager</code>，新成员会很难理解。</li>
<li>丢掉没用的词
如果名字中的某些单词拿掉后不会损失任何消息，可以直接去掉。如 <code>convert_to_string</code> 不如 <code>to_string</code> 简短。</li>
</ul>
<h5 id="_5">利用名字的格式来表达含义</h5>
<p>在 Python 中，一般使用驼峰命名表示类，小写字母加下划线用来命名模块、文件、函数、普通变量，使用大写字母加下划线命名全局变量、常量。</p>
<h5 id="_6">使用避免误解的名字</h5>
<ul>
<li>推荐使用 <code>min</code> 和 <code>max</code> 来表示极限。</li>
<li>推荐使用 <code>first</code> 和 <code>last</code> 来表示包含的范围。</li>
<li>推荐使用 <code>begin</code> 和 <code>end</code> 来表示左闭右开的范围。</li>
<li>给布尔值命名时加上像 <code>is</code>、<code>has</code>、<code>should</code>、<code>to</code> 这样的词或者使用过去式格式的单词。</li>
</ul>
<h4 id="23-import">2.3 【必须】import 顺序</h4>
<ol>
<li>
<p>标准库</p>
</li>
<li>
<p>第三方库</p>
</li>
<li>
<p>项目自身的模块</p>
</li>
</ol>
<p>不同类型的库之间空行分隔</p>
<blockquote>
<p>注：尽量不要引用 <code>*</code>，例如 <code>from xxx import *</code></p>
</blockquote>
<h4 id="24-models">2.4 【必须】models 内部定义顺序</h4>
<ol>
<li>
<p>All database fields</p>
</li>
<li>
<p>Custom manager attributes</p>
</li>
<li>
<p>class Meta</p>
</li>
<li>
<p>def __str__()</p>
</li>
<li>
<p>def save()</p>
</li>
<li>
<p>def get_absolute_url()</p>
</li>
<li>
<p>Any custom methods</p>
</li>
</ol>
<h4 id="25">2.5 异常捕获处理原则</h4>
<ol>
<li>
<p>尽量只包含容易出错的位置，不要把整个函数 try catch</p>
</li>
<li>
<p>对于不会出现问题的代码，就不要再用 try catch 了</p>
</li>
<li>
<p>只捕获有意义，能显示处理的异常</p>
</li>
<li>
<p>能通过代码逻辑处理的部分，就不要用 try catch</p>
</li>
<li>
<p>异常忽略，一般情况下异常需要被捕获并处理，但有些情况下异常可被忽略，只需要用 log 记录即可，可参考以下代码：</p>
<p><img alt="log记录异常" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/代码规范/media/ae0d9a23f02553d1900a365c8816e169.png" /></p>
</li>
</ol>
<h4 id="26-return-early">2.6 return early 原则</h4>
<p>提前判断并 return，减少代码层级，增强代码可读性</p>
<h4 id="27-fat-model-thin-view">2.7 Fat model， thin view</h4>
<p>逻辑代码和业务代码解耦分离，功能性函数以及对数据库的操作定义写在 models 里面，业务逻辑写在 view 里面。</p>
<p><img alt="解耦分离前" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/代码规范/media/e8129ad4763eb93966a5d643ee036252.png" /></p>
<p>改为</p>
<p><img alt="解耦分离后" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/代码规范/media/49ddec57d5c8b79284d228814091e8ce.png" /></p>
<h4 id="28">2.8 权限校验装饰器异常抛出问题</h4>
<p>建议权限不足时直接抛出异常，可以使用 django 自带的：</p>
<p><code>from django.core.exceptions import PermissionDenied</code></p>
<p>权限不足时抛出异常 <code>PermissionDenied</code>，之后应该返回什么样的页面由 handler 或者中间件去处理</p>
<h4 id="29-method-request">2.9 分 method 获取 request 参数问题</h4>
<p>一般可以分 method 获取 request 参数，这样能够使代码更可读，且之后修改 method 时不必每个参数都修改</p>
<pre class="codehilite"><code class="language-python">kwargs = getattr(request, request.method)
business_name = kwargs.get('business_name', '')
template_name = kwargs.get('template_name', '')</code></pre>


<h4 id="210">2.10 使用数字、常量表示状态</h4>
<p>两种的话改为 true/false，多种改为 enum 可读性更好</p>
<h4 id="211">2.11 其他注意问题</h4>
<ol>
<li>
<p>【必须】去除代码中的<code>print</code>，否则导致正式和测试环境 uwsgi 输出大量信息</p>
</li>
<li>
<p>逻辑块空行分隔</p>
</li>
<li>
<p>变量和其使用尽量放到一起</p>
</li>
<li>
<p>【必须】import 过长，要放在多行的时候，使用括号，不要用 \ 换行</p>
</li>
</ol>
<pre class="codehilite"><code class="language-python">from xxx import (
        a,
        b,
        c
    )</code></pre>


<ol>
<li>
<p>Django Model 定义的 choices 直接定义在类里面</p>
</li>
<li>
<p>【必须】参考蓝鲸应用开发框架，把 Models 的初始化代码放到 migrations 里面</p>
</li>
</ol><p>生产和测试环境中需要日志来记录、跟踪和分析系统的运行状态，但是有太多带有杂讯的日志又会影响跟踪，甚至可能对系统的运行带来影响。</p>
<h2 id="1">1 日志级别</h2>
<ul>
<li>
<p>ERROR</p>
<p>ERROR 是最高级别错误，反映系统发生了非常严重的故障，无法自动恢复到正常态工作，必须通知到开发者及时修复。系统需要将错误相关痕迹以及错误细节记录 ERROR 日志中，方便后续人工回溯解决。</p>
</li>
<li>
<p>WARNING</p>
<p>WARNING 是低级别异常日志，反映系统在业务处理时触发了异常流程，但系统可恢复到正常态，下一次业务可以正常执行。但 WARN 级别问题需要开发人员给予足够关注，往往表示有参数校验问题或者程序逻辑缺陷，当功能逻辑走入异常逻辑时，应该考虑记录 WARN 日志。</p>
</li>
<li>
<p>INFO</p>
<p>INFO 日志主要记录系统关键信息，旨在保留系统正常工作期间关键运行指标，开发人员可以将初始化系统配置、业务状态变化信息，或者用户业务流程中的核心处理记录到 INFO 日志中，方便日常运维工作以及错误回溯时上下文场景复现。</p>
</li>
<li>
<p>DEBUG</p>
<p>开发人员可以将各类详细信息记录到 DEBUG 里，起到调试的作用，包括参数信息，调试细节信息，返回值信息等等。其他等级不方便显示的信息都可以通过 DEBUG 日志来记录。</p>
</li>
</ul>
<h2 id="2">2 日志格式</h2>
<h3 id="21-saas">2.1 SaaS</h3>
<p>开发框架提供了 logger 对象，建议使用 logger 对象记录日志。使用方法如下：</p>
<pre class="codehilite"><code class="language-python">from blueapps.utils.logger import logger         # 普通日志
from blueapps.utils.logger import logger_celery  # celery日志

logger.error('严重错误！')
logger.warning('异常错误')
logger.info('一般信息')
logger.debug('调试信息')

# 希望打印error级别的错误日志时打印调用栈信息
logger.exception('严重错误！')</code></pre>


<p>可在开发者中心查询应用的日志，日志内容包括：调用的文件、调用的函数、所在的行号、日志详细信息</p>
<h3 id="22">2.2 后台服务</h3>
<pre class="codehilite"><code class="language-bash">时间戳 [模块/包/类名|方法名] 文件名|行号|PID|TID|REQID 日志级别 日志内容</code></pre>


<p>其中：</p>
<ul>
<li><code>时间戳</code> -  <code>YYYY-mm-dd HH:MM:SS</code></li>
<li><code>PID</code> - 进程 ID</li>
<li><code>TID</code> -  线程 ID</li>
<li><code>REQID</code> - 用于链路追踪的请求 ID</li>
</ul>
<blockquote>
<p>根据的不同编程语言的特点，可以对日志格式做适当调整。不存在的字段不必完全相符，意义在于能快速识别产生日志内容的基本情况，缩小问题排查范围</p>
</blockquote>
<h2 id="3">3 日志内容要求</h2>
<ul>
<li>打印日志时，必须记录上下文信息，避免使用固定字符串</li>
<li>
<p>错误的例子</p>
<p><code>bash
2018-07-11 JOB接口调用失败</code></p>
</li>
<li>
<p>正确的例子</p>
<p><code>bash
2018-07-11 JOB接口调用失败 接口名称(manage_proc) 请求参数(xxx=yyy) 返回参数(xxx=yyy) 状态码(403)</code></p>
</li>
<li>
<p>SaaS 请求日志，建议打印当前请求的用户名，便于问题定位</p>
</li>
<li>
<p>禁止打印敏感信息，如<code>app_secret</code>等密钥信息</p>
</li>
<li>
<p>打印日志时，如果日志内容包含参数，请通过 args 传参，而不要直接进行字符串格式化</p>
<p>```python</p>
<h1 id="bad">Bad</h1>
<p>logger.info("bk_biz_id-&gt;[%s] result_table-&gt;[%s] refresh consul config success." % (bk_biz_id, result_table.table_id))</p>
<h1 id="good">Good</h1>
<p>logger.info("bk_biz_id-&gt;[%s] result_table-&gt;[%s] refresh consul config success.", bk_biz_id, result_table.table_id)
```</p>
</li>
</ul>
<h2 id="4">4 日志打印要求</h2>
<ul>
<li>调用外部系统 API 时<strong>必须</strong>打印日志，记录请求参数和返回参数</li>
<li>避免重复打印日志，浪费磁盘空间</li>
<li>正确使用日志级别，生产环境中禁止输出 debug 日志</li>
<li>谨慎记录日志，日志埋点并非越多越好，日志打印过于频繁会产生性能问题</li>
<li>避免打印无意义的日志，会对问题排查造成干扰。记录日志时请思考：这些日志真的有人看吗？看到这条日志你能做什么？能不能给问题排查带来好处？</li>
</ul><h2 id="_1">【必须】代码提交规范</h2>
<p>每次代码提交必须有备注说明，注明本次提交做了哪些修改</p>
<p>commit 分类：</p>
<p><code>bugfix</code> - 线上功能 bug<br />
<code>sprintfix</code> - 未上线代码修改 （功能模块未上线部分 bug）<br />
<code>minor</code> - 不重要的修改（换行，拼写错误等）<br />
<code>feature</code> - 新功能说明</p><h2 id="1">1 请求规范</h2>
<h3 id="11">1.1 编码方式</h3>
<p>统一采用 utf-8 字符集</p>
<p>Ajax 全局配置</p>
<pre class="codehilite"><code class="language-javascript">$.ajaxSetup({
    contentType: &quot;application/json; charset=utf-8&quot;
});</code></pre>


<p>Axios 全局配置</p>
<pre class="codehilite"><code class="language-javascript">axios.defaults.headers.common['Content-Type'] = 'application/json;charset=utf-8'</code></pre>


<h3 id="12">1.2 请求方法</h3>
<p>API 的 Method，要符合实际请求的类型。</p>
<table>
<thead>
<tr>
<th>动词</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>查看</td>
</tr>
<tr>
<td>POST</td>
<td>创建</td>
</tr>
<tr>
<td>DELETE</td>
<td>删除</td>
</tr>
<tr>
<td>PUT</td>
<td>更新或创建</td>
</tr>
</tbody>
</table>
<p>具体可以参考文档《RESTful Web Services Cookbook》 。</p>
<h3 id="13">1.3 传参方式</h3>
<ol>
<li>
<p>GET 请求</p>
<p>参数放在请求路径后以 <code>?</code> 开头的参数串中，参数以 urlencode 编码。</p>
</li>
<li>
<p>POST/PUT/PATCH 请求</p>
<p>对于复杂数据结构的传参，建议将参数 JSON 编码后放在请求体中。</p>
</li>
</ol>
<h3 id="14">1.4 请求参数</h3>
<ol>
<li>
<p>批量数据必须排序，例如：<code>?sortOrder=asc&amp;sortField=created_time</code></p>
</li>
<li>
<p>批量数据必须分页，例如：<code>?page=5&amp;pagesize=50</code></p>
</li>
<li>
<p>可以批量请求的 API，不允许轮询，例如：<code>?id=1,2,3</code></p>
</li>
</ol>
<h2 id="2">2 响应规范</h2>
<h3 id="21">2.1 统一的返回格式</h3>
<p>接口返回内容开发建议直接参考蓝鲸 apigateway 规范，返回的内容中包含<code>result</code>, <code>code</code> , <code>data</code>, <code>message</code>, <code>request_id</code>这几个字段</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>返回内容描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>result</code></td>
<td>True/False</td>
</tr>
<tr>
<td><code>code</code></td>
<td>现阶段可以不使用, 0 代表正确，非 0 代表不同的错误情况；</td>
</tr>
<tr>
<td><code>data</code></td>
<td>成功时，返回的数据的内容</td>
</tr>
<tr>
<td><code>message</code></td>
<td>失败时，返回的错误信息</td>
</tr>
<tr>
<td><code>request_id</code></td>
<td>标识 请求的 id（可以自动生成的唯一标识，方便追踪请求记录 uuid）</td>
</tr>
</tbody>
</table>
<h3 id="22">2.2 统一且合理的数据格式</h3>
<ol>
<li>
<p>同一个接口，其返回的数据结构必须保持一致</p>
</li>
<li>
<p>对返回列表数据的接口，当数据集为空时，应返回空列表，而不是 None</p>
</li>
</ol>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;message&quot;: &quot;&quot;,
    &quot;code&quot;: 200,
    &quot;data&quot;: []
}</code></pre>


<ol>
<li>
<p>对于支持分页的列表数据接口，必须提供关于数据集总数信息的字段。</p>
<p>输出样例（仅供参考）</p>
</li>
</ol>
<pre class="codehilite"><code class="language-json">        {
            &quot;result&quot;: true,
            &quot;message&quot;: &quot;&quot;,
            &quot;code&quot;: 200,
            &quot;data&quot;: [
                {
                    &quot;id&quot;: 1,
                    &quot;name&quot;: &quot;test1&quot;
                },
                {
                    &quot;id&quot;: 2,
                    &quot;name&quot;: &quot;test2&quot;
                }
            ],
            &quot;meta&quot;: {
                &quot;total&quot;: 100,
            }
        }</code></pre>


<p>或者</p>
<pre class="codehilite"><code class="language-json">        {
            &quot;result&quot;: true,
            &quot;message&quot;: &quot;&quot;,
            &quot;code&quot;: 200,
            &quot;data&quot;: {
                &quot;total&quot;: 10,
                &quot;results&quot;: [
                    {
                        &quot;id&quot;: 1,
                        &quot;name&quot;: &quot;test1&quot;
                    },
                    {
                        &quot;id&quot;: 2,
                        &quot;name&quot;: &quot;test2&quot;
                    }
                ],
            }
        }</code></pre>


<ol>
<li>
<p>不允许使用变量作为 JSON key</p>
<p>根据<a href="http://www.json.org/json-zh.html">JSON 规范</a> ，JSON 的 key 仅用于解释其对应的 value 的含义，而不应该用于存放数据本身。</p>
<p>错误的写法</p>
</li>
</ol>
<pre class="codehilite"><code class="language-json">        {
            &quot;result&quot;: true,
            &quot;message&quot;: &quot;&quot;,
            &quot;code&quot;: 200,
            &quot;data&quot;: {
                &quot;110000&quot;: &quot;北京市&quot;,
                &quot;120000&quot;: &quot;天津市&quot;
            }
        }</code></pre>


<p>应改为</p>
<pre class="codehilite"><code class="language-json">        {
            &quot;result&quot;: true,
            &quot;message&quot;: &quot;&quot;,
            &quot;code&quot;: 200,
            &quot;data&quot;: [
                {
                    &quot;code&quot;: &quot;110000&quot;,
                    &quot;name&quot;: &quot;北京市&quot;
                },
                {
                    &quot;code&quot;: &quot;120000&quot;,
                    &quot;name&quot;: &quot;天津市&quot;
                }
            ]
        }</code></pre>


<h3 id="23">2.3 合适的状态码</h3>
<p>建议充分利用 HTTP Status Code 作为响应结果的基本状态码，基本状态码不能区分的
status，再用响应中"约定"的 code 进行补充。</p>
<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>GET 请求成功，及 DELETE 或 PATCH 同步请求完成，或者 PUT 同步更新一个已存在的资源</td>
</tr>
<tr>
<td>201</td>
<td>POST 同步请求完成，或者 PUT 同步创建一个新的资源</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized : 用户未认证，请求失败</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden : 用户无权限访问该资源，请求失败</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests : 因为访问频繁，你已经被限制访问，稍后重试</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error : 服务器错误，确认状态并报告问题</td>
</tr>
</tbody>
</table>
<blockquote>
<p>http 状态码详细说明请参考：https://zh.wikipedia.org/wiki/HTTP%E7%8A%B6%E6%80%81%E7%A0%81</p>
</blockquote>
<h3 id="24">2.4 参数获取方式</h3>
<ol>
<li>使用 Django URL 的正则匹配获取参数</li>
</ol>
<pre class="codehilite"><code class="language-bash">url(r'\^area/(?P\&lt;cityID\&gt;\\d{6})/\$', 'get_area')</code></pre>


<ol>
<li>使用 Django Forms 获取参数</li>
</ol>
<pre class="codehilite"><code class="language-python">class FilterForm(forms.Form):
    sys_type = forms.ChoiceField(choices=choices.SYS_CHOICES, required=True, label=u'类型')

def my_view(request):
    form = FilterForm(request.GET)

    if not form.is_valid():
        # 数据不合法
    else:
        # 通过 form.cleaned_data 获取数据</code></pre>


<h3 id="25">2.5 权限校验</h3>
<ol>
<li>
<p>垂直越权</p>
<p>普通用户不允许访问管理员用户资源</p>
</li>
<li>
<p>平行越权</p>
<p>普通用户不能访问没有授权的其他普通用户资源</p>
</li>
</ol>
<h3 id="3">3 错误码规范</h3>
<h4 id="31">3.1 错误码设计</h4>
<p>下面是两种错误码设计方法，仅供参考。</p>
<ol>
<li>
<p>数字错误码设计</p>
<table>
<thead>
<tr>
<th>200</th>
<th>05</th>
<th>02</th>
</tr>
</thead>
<tbody>
<tr>
<td>HTTP 状态码</td>
<td>服务模块代码</td>
<td>具体错误代码</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>英文错误码设计，格式：<code>ERROR_错误名称</code>。例如：</p>
<p><code>ERROR_INVALID_FUNCTION</code></p>
<p><code>ERROR_PATH_NOT_FOUND</code></p>
<p><code>ERROR_TOO_MANY_OPEN_FILES</code></p>
<p><code>ERROR_ACCESS_DENIED</code></p>
</li>
</ol>
<h3 id="32">3.2 错误提示应准确并有用</h3>
<p>需要提供两个基本内容：</p>
<ol>
<li>
<p>返回错误状态，解释原因</p>
</li>
<li>
<p>提示用户如何解决，例如：</p>
</li>
<li>
<p>调用 XXX 接口异常，请稍后重试，或联系管理员 XXX</p>
</li>
<li>连接 MySQL 数据库异常，请联系管理员 XXX</li>
<li>您输入的 XXX 不符合格式要求，请输入 XXX 格式的数据</li>
</ol>
<h3 id="33">3.3 提供错误说明对照表</h3>
<p>提供一个页面或接口，展示错误码-错误详情的信息。例如：接口
<code>/api/v1/error_code/</code>，返回：</p>
<pre class="codehilite"><code class="language-javascript">{

    &quot;http_status_code - error_code - message&quot;: [
        [412, &quot;Error_LOGIN_FRONT_NOT_GIFT&quot;, &quot;礼品不充足&quot;],
        [503, &quot;ERROR_FAULT&quot;, &quot;服务器内部错误&quot;]
    ]
}</code></pre>


<h2 id="4">4 对外提供微服务接口规范</h2>
<p>SaaS 作为微服务，对外提供 API 接口，如果跨系统、跨平台，必须接入 API Gateway。</p>
<h2 id="5">5 调用第三方接口规范</h2>
<p>不允许 SaaS 直接调用第三方或底层的接口，原则上只允许调用 ESB 和 API-GateWay 提供的接口。</p><h2 id="1-python">1 【必须】Python 代码注释</h2>
<ol>
<li>
<p>方法必须使用标注注释，如果是公有方法或对外提供的 API 相关方法，则最好给出使用样例。如：</p>
<p><img alt="注释使用样例" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/代码规范/media/6f8ea2c09a095aa588af61bb1f460433.png" /></p>
</li>
<li>
<p>Module 注释：在开头要加入对该模块的注释。如：</p>
<p><img alt="Module注释" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/代码规范/media/1ec433a5c7dc3d1b65934337e41c299f.png" /></p>
</li>
<li>
<p>普通代码注释应该以 <code>#</code> 和单个空格开始</p>
</li>
<li>
<p>如果有需要调整或者需要优化的地方，可以使用</p>
</li>
</ol>
<pre class="codehilite"><code class="language-python"># TODO 这里是注释内容
a = func()</code></pre>


<p>进行注释，格式：'#'+单个空格+'TODO'+单个空格+注释内容。</p>
<ol>
<li>方法的返回，如果数据结构比较复杂，则必须要对返回结果的每个属性做解释。</li>
</ol>
<h2 id="2-web-api">2 WEB API 文档规范</h2>
<p>一份规范的、易用的 WEB API 文档对于前后端联调及其重要，能够减少沟通成本，提高开发效率。推荐使用<a href="http://apidocjs.com/">apidoc</a>作为 Web API 文档生成工具。</p>
<p>apidoc 是通过源码中的注释来生成 Web API 文档。因此，apidoc 对现有代码可以无侵入性，并且支持多种编程语言。</p>
<h3 id="21-apidoc">2.1 apidoc 文档规范</h3>
<p>一个规范的 apidoc 接口文档必须包含以下标签信息</p>
<h4 id="api">@api</h4>
<p>该标签是必填的，只有使用 @api 标签的注释块才会被解析生成文档内容。</p>
<h5 id="_1">格式</h5>
<pre class="codehilite"><code class="language-python">&quot;&quot;&quot;
@api {method} path [title]
&quot;&quot;&quot;</code></pre>


<table>
<thead>
<tr>
<th>参数名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>method</td>
<td>请求方法：<code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code></td>
</tr>
<tr>
<td>path</td>
<td>请求路径（相对路径）</td>
</tr>
<tr>
<td><code>选填</code> title</td>
<td>短标题，会被解析成二级导航栏菜单标题</td>
</tr>
</tbody>
</table>
<h5 id="_2">示例</h5>
<pre class="codehilite"><code class="language-python">&quot;&quot;&quot;
@api {GET} /user/:id 获取用户信息
&quot;&quot;&quot;</code></pre>


<h4 id="apidescription">@apiDescription</h4>
<p>对 API 接口进行详细描述</p>
<h5 id="_3">格式</h5>
<pre class="codehilite"><code class="language-python">&quot;&quot;&quot;
@apiDescription text
&quot;&quot;&quot;</code></pre>


<table>
<thead>
<tr>
<th>参数名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>text</td>
<td>API 描述文本，支持多行</td>
</tr>
</tbody>
</table>
<h5 id="_4">示例</h5>
<pre class="codehilite"><code class="language-python">&quot;&quot;&quot;
@apiDescription 根据用户ID获取用户信息
如果ID对应的用户不存在，则返回404
如果ID对应的用户无权限查看，则返回403
&quot;&quot;&quot;</code></pre>


<h4 id="apigroup">@apiGroup</h4>
<p>表示 API 所属分组名称，它会被解析成一级导航栏菜单标题。注意不能是中文，否则会解析错误</p>
<h5 id="_5">格式</h5>
<pre class="codehilite"><code class="language-python">&quot;&quot;&quot;
@apiGroup name
&quot;&quot;&quot;</code></pre>


<table>
<thead>
<tr>
<th>参数名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>API 分组名称</td>
</tr>
</tbody>
</table>
<h5 id="_6">示例</h5>
<pre class="codehilite"><code class="language-python">&quot;&quot;&quot;
@api {GET} /user/:id 获取用户信息
@apiGroup 用户
&quot;&quot;&quot;</code></pre>


<h4 id="apiname">@apiName</h4>
<p>API 接口标识名称。需要注意的是，在同一个 <code>@apiGroup</code> 下，具有相同的 <code>@apiName</code>的 <code>@api</code> 必须通过 <code>@apiVersion</code> 区分，否则后面定义的 <code>@api</code> 会覆盖前面定义的 <code>@api</code>。</p>
<h5 id="_7">格式</h5>
<pre class="codehilite"><code class="language-python">&quot;&quot;&quot;
@apiGroup name
&quot;&quot;&quot;</code></pre>


<table>
<thead>
<tr>
<th>参数名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>API 名称</td>
</tr>
</tbody>
</table>
<h5 id="_8">示例</h5>
<pre class="codehilite"><code class="language-python">&quot;&quot;&quot;
@api {GET} /user/:id 获取用户信息
@apiName GetUser
&quot;&quot;&quot;</code></pre>


<h4 id="apiparam">@apiParam</h4>
<p>定义 API 接口需要的请求参数格式</p>
<h5 id="_9">格式</h5>
<pre class="codehilite"><code class="language-python">&quot;&quot;&quot;
@apiParam [(group)] [{type}] [field=defaultValue] [description]
&quot;&quot;&quot;</code></pre>


<table>
<thead>
<tr>
<th>参数名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>选填</code> (group)</td>
<td>参数分组</td>
</tr>
<tr>
<td><code>选填</code> {type}</td>
<td>参数类型，包括<code>{Boolean}</code>, <code>{Number}</code>, <code>{String}</code>, <code>{Object}</code>, <code>{String[]}</code>, ...</td>
</tr>
<tr>
<td><code>选填</code> {type{size}})</td>
<td string_..5="string{..5">可以声明参数范围，例如</td>
</tr>
<tr>
<td><code>选填</code> {type=allowedValues}</td>
<td _huge_=",&quot;huge&quot;" string="small">可以声明参数允许的枚举值，例如</td>
</tr>
<tr>
<td>field</td>
<td>参数名称</td>
</tr>
<tr>
<td>[field]</td>
<td>声明该参数可选</td>
</tr>
<tr>
<td><code>选填</code> =defaultValue</td>
<td>声明该参数默认值</td>
</tr>
<tr>
<td><code>选填</code> description</td>
<td>声明该参数描述</td>
</tr>
</tbody>
</table>
<h5 id="_10">示例</h5>
<p>请求参数</p>
<pre class="codehilite"><code class="language-json">{
    &quot;country&quot;: &quot;&quot;,
    &quot;age&quot;: 19,
    &quot;name&quot;: {
        &quot;firstname&quot;: &quot;&quot;,
        &quot;lastname&quot;: &quot;&quot;
    },
    &quot;roles&quot;: [
        {
            &quot;code&quot;: 1,
            &quot;name&quot;: &quot;superuser&quot;,
        },
        {
            &quot;code&quot;: 2,
            &quot;name&quot;: &quot;admin&quot;,
        }
    ]
}</code></pre>


<pre class="codehilite"><code class="language-python">&quot;&quot;&quot;
@api {POST} /user/ 创建用户
@apiName CreateUser

@apiParam {String}          country=&quot;DE&quot;    地区名称，字符串类型，默认值为&quot;DE&quot;
@apiParam {Integer{1-100}}  [age=18]        年龄，整数类型，取值范围1~100，默认值为18，可选参数
@apiParam {Object}          name            用户名，Object（字典）类型
@apiParam {String}          name.firstname  名字，字符串类型
@apiParam {String}          name.lastname   姓氏，字符串类型
@apiParam {Object[]}        roles           所属角色，Object（字典）类表类型
@apiParam {Integer=1,2,3}   roles.code      角色代码，数值类型，取值为1, 2, 3任意一个
@apiParam {String}          roles.name      角色名称，字符串类型

&quot;&quot;&quot;</code></pre>


<h4 id="apisuccess">@apiSuccess</h4>
<p>定义 API 接口请求成功时返回的数据格式</p>
<h5 id="_11">格式</h5>
<pre class="codehilite"><code class="language-bash">@apiSuccess [(group)] [{type}] field [description]</code></pre>


<table>
<thead>
<tr>
<th>参数名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>选填</code> (group)</td>
<td>参数分组，默认为<code>Success 200</code></td>
</tr>
<tr>
<td><code>选填</code> {type}</td>
<td>参数类型，包括<code>{Boolean}</code>, <code>{Number}</code>, <code>{String}</code>, <code>{Object}</code>, <code>{String[]}</code>, ...</td>
</tr>
<tr>
<td>field</td>
<td>参数名称</td>
</tr>
<tr>
<td><code>选填</code> description</td>
<td>声明该参数描述</td>
</tr>
</tbody>
</table>
<h5 id="_12">示例</h5>
<p>返回参数</p>
<pre class="codehilite"><code class="language-json">{
    &quot;id&quot;: 1,
    &quot;country&quot;: &quot;&quot;,
    &quot;age&quot;: 19,
    &quot;name&quot;: {
        &quot;firstname&quot;: &quot;&quot;,
        &quot;lastname&quot;: &quot;&quot;
    },
    &quot;roles&quot;: [
        {
            &quot;code&quot;: 1,
            &quot;name&quot;: &quot;superuser&quot;,
        },
        {
            &quot;code&quot;: 2,
            &quot;name&quot;: &quot;admin&quot;,
        }
    ]
}</code></pre>


<pre class="codehilite"><code class="language-python">&quot;&quot;&quot;
@api {POST} /user/ 创建用户
@apiName CreateUser

@apiSuccess {Integer}   id              用户ID，整数类型
@apiSuccess {String}    country         地区名称，字符串类型
@apiSuccess {Integer}   age             年龄，整数类型
@apiSuccess {Object}    name            用户名，Object（字典）类型
@apiSuccess {String}    name.firstname  名字，字符串类型
@apiSuccess {String}    name.lastname   姓氏，字符串类型
@apiSuccess {Object[]}  roles           所属角色，Object（字典）类表类型
@apiSuccess {Integer}   roles.code      角色代码，数值类型
@apiSuccess {String}    roles.name      角色名称，字符串类型

&quot;&quot;&quot;</code></pre>


<h4 id="apisuccessexample">@apiSuccessExample</h4>
<p>API 接口请求成功时返回样例数据。若返回参数结构和含义较为简单，则<code>@apiSuccess</code>和<code>@apiSuccessExample</code>任取其一定义即可。</p>
<h5 id="_13">格式</h5>
<pre class="codehilite"><code class="language-bash">@apiSuccessExample [{type}] [title]
                   example</code></pre>


<table>
<thead>
<tr>
<th>参数名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>选填</code> type</td>
<td>返回参数格式</td>
</tr>
<tr>
<td><code>选填</code> title</td>
<td>返回样例短标题</td>
</tr>
<tr>
<td>example</td>
<td>详细返回数据，支持多行</td>
</tr>
</tbody>
</table>
<h5 id="_14">示例</h5>
<pre class="codehilite"><code class="language-python">&quot;&quot;&quot;
@api {POST} /user/ 创建用户
@apiName CreateUser

@apiSuccessExample {json} Success-Response:
    HTTP/1.1 200 OK
    {
        &quot;id&quot;: 1,
        &quot;country&quot;: &quot;&quot;,
        &quot;age&quot;: 19,
        &quot;name&quot;: {
            &quot;firstname&quot;: &quot;&quot;,
            &quot;lastname&quot;: &quot;&quot;
        },
        &quot;roles&quot;: [
            {
                &quot;code&quot;: 1,
                &quot;name&quot;: &quot;superuser&quot;,
            },
            {
                &quot;code&quot;: 2,
                &quot;name&quot;: &quot;admin&quot;,
            }
        ]
    }
&quot;&quot;&quot;</code></pre>


<h4 id="_15">完整示例</h4>
<pre class="codehilite"><code class="language-python">&quot;&quot;&quot;
@api {POST} /user/ 创建用户
@apiName CreateUser
@apiGroup User

@apiParam {String}          country=&quot;DE&quot;    地区名称，字符串类型，默认值为&quot;DE&quot;
@apiParam {Integer{1-100}}  [age=18]        年龄，整数类型，取值范围1~100，默认值为18，可选参数
@apiParam {Object}          name            用户名，Object（字典）类型
@apiParam {String}          name.firstname  名字，字符串类型
@apiParam {String}          name.lastname   姓氏，字符串类型
@apiParam {Object[]}        roles           所属角色，Object（字典）类表类型
@apiParam {Integer=1,2,3}   roles.code      角色代码，数值类型，取值为1, 2, 3任意一个
@apiParam {String}          roles.name      角色名称，字符串类型

@apiSuccess {Integer}   id              用户ID，整数类型
@apiSuccess {String}    country         地区名称，字符串类型
@apiSuccess {Integer}   age             年龄，整数类型
@apiSuccess {Object}    name            用户名，Object（字典）类型
@apiSuccess {String}    name.firstname  名字，字符串类型
@apiSuccess {String}    name.lastname   姓氏，字符串类型
@apiSuccess {Object[]}  roles           所属角色，Object（字典）列表类型
@apiSuccess {Integer}   roles.code      角色代码，数值类型
@apiSuccess {String}    roles.name      角色名称，字符串类型

@apiSuccessExample {json} Success-Response:
    HTTP/1.1 200 OK
    {
        &quot;id&quot;: 1,
        &quot;country&quot;: &quot;&quot;,
        &quot;age&quot;: 19,
        &quot;name&quot;: {
            &quot;firstname&quot;: &quot;&quot;,
            &quot;lastname&quot;: &quot;&quot;
        },
        &quot;roles&quot;: [
            {
                &quot;code&quot;: 1,
                &quot;name&quot;: &quot;superuser&quot;,
            },
            {
                &quot;code&quot;: 2,
                &quot;name&quot;: &quot;admin&quot;,
            }
        ]
    }

&quot;&quot;&quot;</code></pre>


<h5 id="apidoc">生成的 apidoc 文档实际效果</h5>
<p><img alt="image" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/代码规范/media/apidoc1.png" /></p>
<p><img alt="image" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/代码规范/media/apidoc2.png" /></p>
<h3 id="22-django-api">2.2 django API 注释规范</h3>
<h4 id="1-django-views">1. Django Views</h4>
<p>对于提供给前端使用的 views 函数，直接把 apidoc 作为函数注释，例如：</p>
<pre class="codehilite"><code class="language-python">def create_user(request):
    &quot;&quot;&quot;
    @api {POST} /user/ 创建用户
    @apiName CreateUser
    @apiGroup 用户
    &quot;&quot;&quot;

    # 创建用户的逻辑
    pass</code></pre>


<h4 id="2-drf-viewset">2. DRF Viewset</h4>
<p>对于使用 Django Rest Framework 提供的接口，将 apidoc 写在对应的 action 函数中，例如：</p>
<pre class="codehilite"><code class="language-python">class UserViewSet(viewsets.ViewSet):

    def create(self, request):
        &quot;&quot;&quot;
        @api {POST} /user/ 创建用户
        @apiName CreateUser
        @apiGroup 用户
        &quot;&quot;&quot;

        # 创建用户的逻辑
        pass</code></pre><h2 id="_1">文件或包的引用</h2>
<ol>
<li>Python 代码：模块或包的引入最好使用完整路径，即使是同一个包下的相互引用，也建议使用完整路径。这样比较方便代码阅读，同时若后续需修改为相对路径也很简单。</li>
</ol><h2 id="_1">基本要求</h2>
<ol>
<li>
<p>使用蓝鲸提供的<strong>应用开发框架</strong>，已集成基本的 web 安全防范策略（XSS、CSRF、统一登录等）</p>
</li>
<li>
<p><strong>Debug 信息</strong>禁止对外暴露（测试、正式环境禁止开启 debug 模式，建议规范错误日志，查看日志定位问题）</p>
</li>
<li>
<p>访问限制（IP 或 QQ 白名单）（统一使用蓝鲸<strong>开发者中心</strong>提供的<strong>权限管理</strong>功能）</p>
</li>
<li>
<p>越权操作防范和自检（<strong>用户、业务、操作</strong>权限等<strong>关联</strong>鉴权）（参考越权案例）</p>
</li>
<li>
<p>权限回收（<strong>应用统一回收通知模块</strong>，定时通知业务测负责人对外部人员权限进行梳理确认，应用开发框架集成）</p>
</li>
<li>
<p>内部应用<strong>对外提供 API</strong> 并做好鉴权，统一由<strong>蓝鲸 ESB</strong>封装，必须报备</p>
</li>
<li>
<p><strong>webshell</strong> 必须报备</p>
</li>
<li>
<p>Flash XSS 漏洞（例如：zeroclipboard 插件，请将插件升级至最新版本）</p>
</li>
</ol><p>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/场F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/景F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/存F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/储F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/型F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/XF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/SF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/SF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/定F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/义F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/把F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/户F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/输F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/数F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/据F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/“F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/存F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/储F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/”F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/在F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/服F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/务F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/器F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/端F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/户F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/浏F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/览F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/页F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/面F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/时F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/再F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/从F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/服F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/务F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/器F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/端F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/读F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/取F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/生F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/成F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/页F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/面F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/展F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/现F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/给F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/户F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/例F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/户F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/输F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/内F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/容F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/直F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/接F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/显F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/在F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/端F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/标F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/签F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/里F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/例F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/如F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/hF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/_F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/uF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/_F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/uF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/hF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/或F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/者F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/uF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/yF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/xF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/dF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/dF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/vF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/uF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/$F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/{F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/dF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/dF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/}F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/!F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/[F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/-F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/5F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/7F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/]F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/FF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/:F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/vF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/_F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/wF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/jF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/uF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/社F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/区F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/版F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/文F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/档F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/BF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/uF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/KF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/DF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/TF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ZF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/HF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/开F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/发F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/指F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/南F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/开F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/发F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/规F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/范F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/后F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/台F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/开F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/发F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/规F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/范F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/安F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/全F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/规F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/范F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/dF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/-F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/5F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/7F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/解F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/决F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/为F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/了F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/使F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/浏F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/览F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/器F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/能F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/正F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/确F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/地F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/显F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/这F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/些F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/字F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/符F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/而F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/不F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/是F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/去F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/执F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/行F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/我F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/们F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/需F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/要F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/使F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/hF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/实F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/体F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/字F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/符F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/。F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/在F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/数F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/据F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/库F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/之F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/做F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/转F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/义F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/例F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/如F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/将F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/转F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/义F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/成F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&amp;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&amp;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/,F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/这F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/个F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/在F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/蓝F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/鲸F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/应F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/开F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/发F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/框F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/架F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/提F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/供F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/中F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/间F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/件F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/中F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/有F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/实F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/现F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/要F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/确F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/保F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/该F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/中F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/间F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/件F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/有F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/在F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/使F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/对F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/输F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/出F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/到F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/端F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/内F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/容F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/我F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/们F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/也F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/要F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/过F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/滤F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/防F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/止F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/因F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/为F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/对F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/输F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/过F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/滤F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/被F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/绕F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/后F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/可F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/以F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/使F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/kF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/模F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/版F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/hF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/参F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/数F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/$F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/{F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/|F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/hF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/}F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/对F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/于F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/不F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/是F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/kF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/模F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/版F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/渲F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/染F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/展F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/内F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/容F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/需F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/要F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/做F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/hF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/特F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/殊F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/字F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/符F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/转F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/义F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/特F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/别F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/注F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/意F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/端F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/,F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/,F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/等F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/属F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/性F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/赋F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/值F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/同F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/样F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/需F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/要F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/做F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/转F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/换F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/测F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/试F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/对F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/所F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/有F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/户F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/输F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/部F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/分F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/进F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/行F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/检F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/测F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/输F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/'F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/xF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/'F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/查F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/看F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/展F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/部F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/分F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/是F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/否F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/被F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/弹F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/窗F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/。F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/场F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/景F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/反F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/射F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/型F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/XF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/SF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/SF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/例F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/对F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/于F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/户F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/输F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/我F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/们F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/有F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/时F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/并F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/不F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/是F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/像F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/场F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/景F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/那F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/样F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/简F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/单F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/地F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/显F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/在F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/标F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/签F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/里F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/比F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/如F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/自F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/动F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/填F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/充F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/表F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/单F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/时F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/会F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/到F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/$F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/yF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/_F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/uF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/vF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/FF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/:F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/vF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/_F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/wF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/jF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/uF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/社F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/区F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/版F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/文F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/档F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/BF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/uF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/KF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/DF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/TF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ZF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/HF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/开F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/发F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/指F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/南F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/开F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/发F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/规F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/范F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/后F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/台F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/开F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/发F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/规F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/范F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/安F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/全F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/规F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/范F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/_F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/或F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/者F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/填F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/充F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/图F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/片F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/时F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/会F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/到F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/FF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/:F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/vF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/_F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/wF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/jF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/uF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/社F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/区F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/版F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/文F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/档F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/BF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/uF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/KF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/DF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/TF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ZF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/HF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/开F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/发F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/指F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/南F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/开F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/发F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/规F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/范F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/后F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/台F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/开F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/发F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/规F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/范F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/安F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/全F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/规F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/范F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/_F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/这F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/里F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/FF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/:F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/vF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/_F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/wF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/jF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/uF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/社F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/区F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/版F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/文F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/档F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/BF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/uF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/KF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/DF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/TF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ZF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/HF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/开F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/发F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/指F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/南F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/开F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/发F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/规F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/范F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/后F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/台F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/开F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/发F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/规F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/范F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/安F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/全F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/规F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/范F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/_F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/都F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/是F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/我F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/们F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/户F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/输F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/并F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/由F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/后F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/端F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/填F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/充F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/内F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/容F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/。F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/此F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/时F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/可F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/以F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/通F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/过F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/输F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/如F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/下F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/代F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/码F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/提F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/闭F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/合F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/引F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/号F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/来F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/进F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/行F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/XF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/SF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/SF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/攻F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/击F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/xF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/。F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/经F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/过F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/后F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/端F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/传F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/到F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/端F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/之F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/后F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/端F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/代F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/码F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/变F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/为F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/$F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/yF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/_F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/uF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/vF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/'F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/xF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/'F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/原F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/本F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/赋F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/值F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/语F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/句F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/被F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/破F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/坏F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/如F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/果F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/是F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/持F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/久F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/型F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/存F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/储F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/数F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/据F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/将F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/会F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/持F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/续F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/影F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/响F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/正F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/常F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/业F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/务F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/。F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/或F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/者F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/变F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/为F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/xF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/解F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/决F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/同F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/场F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/景F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/对F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/输F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/内F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/容F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/做F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/特F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/殊F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/字F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/符F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/过F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/滤F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/转F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/义F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/测F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/试F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/对F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/所F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/有F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/户F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/输F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/部F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/分F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/进F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/行F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/检F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/测F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/输F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/xF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/查F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/看F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/展F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/部F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/分F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/是F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/否F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/被F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/弹F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/窗F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/以F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/及F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/业F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/务F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/功F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/能F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/是F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/否F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/受F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/影F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/响F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/。F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/场F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/景F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/：F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/文F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/件F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/上F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/传F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/与F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/导F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/对F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/于F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/导F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/或F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/者F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/上F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/传F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/文F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/件F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/通F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/常F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/会F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/忽F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/略F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/特F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/殊F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/字F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/符F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/转F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/义F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/这F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/样F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/当F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/文F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/件F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/内F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/容F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/在F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/端F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/显F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/时F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/候F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/会F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/出F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/现F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/XF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/SF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/SF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/攻F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/击F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/例F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/比F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/如F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/EF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/xF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/导F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/户F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/数F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/据F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/并F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/生F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/成F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/表F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/格F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/!F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/[F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/-F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/5F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/5F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/]F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/dF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/-F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/5F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/5F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/信F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/息F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/导F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/后F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/传F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/至F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/端F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/表F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/格F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/造F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/成F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/场F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/景F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/中F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/标F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/签F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/内F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/XF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/SF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/SF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/又F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/比F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/如F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/文F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/件F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/上F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/传F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/并F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/展F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/!F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/[F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/文F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/件F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/上F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/传F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/并F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/展F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/]F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/dF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/bF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/fF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/5F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/dF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/7F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/7F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/fF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/在F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/非F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/wF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/dF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/wF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/操F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/作F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/系F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/统F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/（F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/如F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/LF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/uF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/xF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/、F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/OF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/SF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/XF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/）F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/中F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/文F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/件F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/名F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/可F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/以F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/被F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/命F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/名F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/为F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/任F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/意F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/格F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/式F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/可F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/以F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/包F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/含F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/JF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/SF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/代F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/码F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/在F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/上F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/传F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/完F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/成F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/后F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/在F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/端F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/显F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/时F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/造F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/成F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/XF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/SF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/SF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/攻F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/击F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/!F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/[F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/-F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/7F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/]F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/dF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/-F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/7F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/解F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/决F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/对F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/EF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/xF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/和F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/文F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/件F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/导F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/数F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/据F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/进F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/行F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/校F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/验F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/对F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/特F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/殊F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/字F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/符F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/进F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/行F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/转F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/义F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/包F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/括F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/不F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/限F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/于F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/单F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/引F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/号F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/、F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/双F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/引F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/号F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/、F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/反F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/引F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/号F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/、F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/尖F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/括F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/号F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/、F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&amp;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/等F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/。F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/后F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/台F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/对F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/上F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/传F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/文F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/件F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/大F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/小F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/、F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/内F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/容F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/、F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/类F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/型F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/做F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/校F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/验F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/只F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/允F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/许F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/上F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/次F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/符F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/合F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/要F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/求F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/文F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/件F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/类F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/型F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/文F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/件F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/名F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/在F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/端F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/显F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/时F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/候F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/做F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/hF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/特F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/殊F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/字F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/符F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/转F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/义F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/测F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/试F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/在F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/导F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/EF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/xF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/中F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/尝F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/试F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/使F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/'F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/xF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/'F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/和F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/xF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/来F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/检F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/查F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/是F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/否F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/弹F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/窗F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/和F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/业F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/务F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/功F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/能F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/完F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/整F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/性F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/。F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/将F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/上F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/传F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/文F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/件F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/名F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/命F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/名F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/为F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/xF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/zF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/或F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/来F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/检F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/验F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/是F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/否F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/弹F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/窗F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/和F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/业F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/务F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/功F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/能F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/完F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/整F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/性F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/。F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/常F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/XF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/SF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/SF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/测F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/试F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/yF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/dF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/hF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/'F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/xF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/'F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/dF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/uF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/kF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/场F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/景F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/出F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/错F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/提F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/信F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/息F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/例F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/上F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/传F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/文F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/件F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/路F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/径F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/写F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/了F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/xF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/,F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/执F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/行F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/时F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/候F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/路F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/径F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/出F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/错F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/端F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/提F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/信F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/息F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/中F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/有F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/显F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/户F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/填F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/写F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/内F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/容F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/未F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/做F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/过F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/滤F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/导F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/致F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/XF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/SF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/SF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/攻F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/击F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/!F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/[F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/-F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/5F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/]F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/dF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/-F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/5F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/解F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/决F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/同F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/场F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/景F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/端F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/显F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/户F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/输F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/时F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/候F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/要F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/做F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/hF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/特F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/殊F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/字F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/符F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/转F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/义F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/测F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/试F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/填F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/写F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/上F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/传F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/文F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/件F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/或F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/者F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/文F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/件F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/分F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/发F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/路F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/径F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/地F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/方F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/输F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/xF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/检F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/查F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/系F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/统F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/是F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/否F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/正F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/常F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/结F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/果F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/是F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/否F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/符F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/合F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/预F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/期F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/5F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/场F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/景F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/5F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/通F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/过F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/户F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/输F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/提F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/闭F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/合F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/代F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/码F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/利F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/浏F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/览F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/器F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/解F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/析F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/hF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/原F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/理F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/通F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/过F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/户F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/输F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/内F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/容F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/将F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/\F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/标F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/签F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/提F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/闭F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/合F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/导F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/致F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/后F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/续F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/jF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/代F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/码F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/直F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/接F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/暴F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/露F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/在F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/端F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/页F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/面F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/5F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/示F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/例F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/如F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/下F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/简F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/单F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/三F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/段F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/代F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/码F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/就F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/可F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/以F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/导F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/致F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/提F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/闭F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/合F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/uF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/_F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/vF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/bF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/渲F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/染F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/正F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/式F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/使F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/kF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/渲F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/染F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/常F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/见F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/场F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/景F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/：F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/jF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/vF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/vF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/uF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/_F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/vF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/bF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/=F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/"F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&lt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/&gt;F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/<code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</code>F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/!F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/[F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/导F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/致F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/提F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/闭F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/合F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/]F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/dF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/bF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/bF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/5F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/dF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/7F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/5F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/fF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/bF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/7F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/5F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/5F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/fF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/#F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/5F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/解F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/决F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/kF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/渲F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/染F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/时F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/将F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/户F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/输F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/信F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/息F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/在F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/yF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/hF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/oF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/中F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/以F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/bF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/形F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/式F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/输F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/出F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/到F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/hF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/中F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/这F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/样F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/户F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/输F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/入F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/所F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/有F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/特F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/殊F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/符F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/号F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/都F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/被F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/转F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/换F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/成F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/字F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/母F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/，F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/不F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/会F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/导F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/致F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/hF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/lF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/解F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/析F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/时F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/rF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/tF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/标F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/签F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/提F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/闭F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/合F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/。F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/最F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/后F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/运F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/户F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/变F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/量F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/之F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/前F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/使F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/用F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/jF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/bF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/ F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/解F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/码F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/转F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/换F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/一F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/次F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/!F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/[F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/的F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/bF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/sF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/解F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/码F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/转F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/换F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/]F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/(F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/mF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/dF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/iF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/aF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范//F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/7F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/5F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/1F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/7F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/2F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/7F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/3F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/7F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/cF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/9F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/dF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/4F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/bF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/8F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/bF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/0F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/eF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/bF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/6F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/5F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/.F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/pF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/nF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/gF:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/)F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/
F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/</p><h2 id="xss-payload">XSS 测试 payload</h2>
<ul>
<li>
<p><code>&lt;script&gt;alert('xss')&lt;/script&gt;</code></p>
</li>
<li>
<p><code>http://localhost/x.html#&lt;script&gt;alert('xss')&lt;/script&gt;</code></p>
</li>
<li>
<p><code>&lt;script src=http://www.qq.com&gt;&lt;/script&gt;</code></p>
</li>
<li>
<p><code>"&gt;&lt;script&gt;alert(1)&lt;/script&gt;</code></p>
</li>
<li>
<p><code>"&gt;&lt;img src=x onerror=alert("xss")&gt;</code></p>
</li>
<li>
<p><code>"&gt;&lt;iframe src=javascript:alert(1)&gt;&lt;/iframe&gt;</code></p>
</li>
<li>
<p><code>&lt;/script&gt;</code></p>
</li>
</ul><h2 id="1">1 常见越权分类</h2>
<ol>
<li>
<p>平行越权</p>
<p>场景 1：普通用户 A 可以访问到普通用户 B 的数据</p>
<p>场景 2：用户可以通过修改请求链接或参数，访问到其它本应无权访问的数据</p>
</li>
<li>
<p>上下越权</p>
<p>普通用户可以执行管理员的操作</p>
</li>
</ol>
<h2 id="2-1-get-url">2 场景 1 ：对 get 请求中显式的 URL 更改进行越权</h2>
<p><img alt="image-20190809165600312" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/media/image-20190809165600312.png" /></p>
<p>对如图的 URL 格式，在没有严格判断的情况下，特别是后台采用 API 模式时，用户通过随意更改/detail/后面的数字，可以绕过权限判断访问任意的页面。</p>
<h3 id="21">2.1 解决</h3>
<p>对所有增、删、改、查的功能中，对用户暴露出的 API，都要进行严格的权限判断</p>
<p>对用户身份，需要操作的 id 需要做严格的校验，建议在 RUL 中加入业务字段，根据业务字段判断用户是否有操作权限</p>
<h3 id="22">2.2 测试</h3>
<p>将 URL 中的 id 更改为权限外的页面 id，检查是否能越权访问以及返回页面是否符合预期</p>
<h2 id="3-2-post">3 场景 2： 对 post 请求中的预置参数更改进行越权</h2>
<p>一些固定的 post 参数，如 hidden 属性的 input，或 ajax 的 data 中在页面返回时就确定的信息，都是可能被修改的</p>
<p><img alt="对post请求中的预置参数更改进行越权" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/安全规范/media/615861de178d2a0ab7587fb96a28a9eb.png" /></p>
<p>如图，页面在后端渲染时确定了一个 report_id，用户点击按钮时就会拿这个 id 去下载相应的文件。如果在下载逻辑中没有进行权限控制，则可能被修改 id 来下载任意文件，造成越权。</p>
<h3 id="31">3.1 解决</h3>
<p>同场景 1，完善各个视图函数的权限控制。</p>
<h3 id="32">3.2 测试</h3>
<p>使用 Postman 或其他 chrome 插件来模拟、修改 POST 请求</p>
<p>使用 fiddler 抓取请求包，修改 post 请求中的参数</p>
<h2 id="4-3">4 场景 3： 非管理员用户访问管理界面</h2>
<p>通常 app 中会设定一个管理员界面，方便进行一些配置工作。一般的做法是前端进行控制，管理界面的 url 不会暴露给非管理员用户，但是不排除非管理员通过各种手段获取到所有 url 并进行访问。</p>
<h3 id="41">4.1 解决</h3>
<p>后台管理相关的操作，需要在后台对操作用户进行权限校验，避免非法用户的访问</p>
<h3 id="42">4.2 测试</h3>
<p>用普通用户的帐号尝试访问管理员界面或者管理操作的 cgi</p><h2 id="1">测试点 1</h2>
<p>获取 A 用户操作请求到的数据包，用 B 用户身份来请求，看返回数据（可在页面操作后，使用 fiddler 抓取请求包，在使用 B 用户身份请求）</p>
<h2 id="2">测试点 2</h2>
<ul>
<li>修改请求链接中的业务 ID 等数据后，发起请求，判断是否有越权</li>
<li>修改请求参数中的业务 ID，用户名等数据后，发起请求，判断是否有越权（用 fiddler 抓包）</li>
</ul><h2 id="1-1-json-hijacking">1 场景 1： JSON hijacking</h2>
<h3 id="11">1.1 漏洞描述</h3>
<p><code>JSON hijacking</code>是 csrf 漏洞的一种，CGI 以 JSON 形式输出数据，黑客控制的第三方站点以 CSRF 手段强迫用户浏览器请求 CGI 得到 JSON 数据，黑客可以获取敏感信息</p>
<h3 id="12">1.2 漏洞检测</h3>
<p>使用工具获取 json 数据</p>
<h3 id="13">1.3 漏洞修复</h3>
<p>可使用以下任意办法防御 JSON Hijacking 攻击</p>
<ol>
<li>
<p>在请求中添加 token（随机字符串）</p>
</li>
<li>
<p>请求 referer 验证(限制为合法站点，并且不为空)</p>
</li>
</ol>
<h3 id="14">1.4 注意事项</h3>
<p>在线 json 防御被外域恶意调用只限制了 referer，但是允许空 referer 访问：比如本地 html，还有某些伪协议远程调用时是没有 referer 的。从而导致问题持续。所以空 referer 也是不安全的</p>
<h3 id="15">1.5 解决</h3>
<p>蓝鲸应用开发框架已经集成了 django 的 csrf 中间件来预防 csrf 攻击，一般比较重要的增删改操作都会使用 post 请求，一般不会出现问题。但是如果是 get 请求去获取敏感信息的话，就有可能存在上述问题，对于使用 get 方式获取有敏感信息的 cgi，建议换成 post 方法或增加 referer 校验</p><h2 id="1-1">1 场景 1：权限控制不严格</h2>
<h3 id="11">1.1 描述</h3>
<p>调用第三方敏感接口 ，没有校验权限</p>
<h3 id="12">1.2 对策</h3>
<ol>
<li>
<p>前端采用下拉框的方式，选择服务器地址，限定选择范围</p>
</li>
<li>
<p>无论是用户输入，还是通过下拉框选择输入服务器地址，在后台一定要校验，人员对业务的操作权限，业务对服务器的操作权限</p>
</li>
<li>
<p>页面显示业务信息时，需要校验人员对展示信息的权限，避免敏感信息泄露</p>
</li>
</ol>
<h2 id="2-2">2 场景 2：预留操作后门</h2>
<h3 id="21">2.1 描述</h3>
<p>开发人员为了方便初始化数据、测试功能、定位问题，通过 URL、DB 配置等方式，开通操作后门</p>
<h3 id="22">2.2 对策</h3>
<ol>
<li>
<p>尽量不要开通后门，如果一定需要后门，请限制使用次数，使用完毕即时关闭，</p>
</li>
<li>
<p>后门操作一定要鉴权，最小化后门的操作人员数量，如果长期留置后门，需要报备产品</p>
</li>
<li>
<p>使用后门时，需要避开访问高峰期</p>
</li>
</ol>
<h2 id="3-3">3 场景 3：不同环境操作没有隔离</h2>
<h3 id="31">3.1 描述</h3>
<p>开发环境、测试环境和正式环境的数据、接口共享</p>
<h3 id="32">3.2 对策</h3>
<ol>
<li>
<p>在开发环境、测试环境进行操作时，一定要控制在尽量小的范围，不要进行未报备的大规模测试，同时要限制 <code>root</code> 账号的权限</p>
</li>
<li>
<p>开发环境、测试环境数据尽量与正式环境隔离，如果不能隔离，一定要向产品报备风险，告知测试人员</p>
</li>
<li>
<p>使用 API 或者 migrations 方式初始化关键数据（如手机号，邮箱等）时根据环境区分数据源</p>
</li>
</ol><h2 id="1">1 敏感信息存储与访问</h2>
<ol>
<li>
<p>服务器登陆密码不允许存储在任何地方</p>
</li>
<li>
<p>非机器登陆密码，需要加密存储</p>
</li>
<li>
<p>严禁明文存储 QQ、手机号、账户和密码信息，请使用 AES 等加密算法加密存储</p>
</li>
<li>
<p>前端页面上不允许显示任何敏感信息，如密码、重要外网配置等。手机号显示前三位后两位，身份证显示前一位后一位，银行卡显示前六位后四位。</p>
</li>
<li>
<p>对于访问敏感信息 DB，必须做好来源 IP 限制</p>
</li>
</ol>
<h2 id="2">2 安全校验豁免的接口不能上线到正式环境</h2>
<p>针对不同的环境，进行不同的 Django 配置时，配置应该注意相互隔离、不能共用。</p>
<blockquote>
<p>例如：为了方便前端调试，在 SaaS 中配置了<code>corsheaders</code>。此时应该，仅在开发时间段允许本地和测试环境进行跨域调用，而不能上线到正式环境，同时在完成迭代之后，应该立即关闭跨域配置，避免误上线操作，导致安全风险。</p>
</blockquote><h2 id="1">1. 序言</h2>
<p>本规范用于指导蓝鲸 SaaS 服务端开发过程中单元测试的编写方法及规范，从而为代码提供修改时的保护网，尽早的发现一些比较低级的 BUG 并修复。同时，通过了解有效单元测试用例构造方式，能够以尽可能少的测试用例来获得尽可能好的测试效果，减少测试成本。</p>
<p>在测试编写过程中请使用 <a href="https://pypi.org/project/mock/">mock</a> 框架来进行测试隔离的操作。(Python3 已将该库集成到内部 <code>unittest</code> 模块中)。</p><h2 id="1">1. 测试覆盖范围</h2>
<p>如下图所示，SaaS 的服务端程序可以抽象为下面两种运行模式：</p>
<ul>
<li>处理请求：通过暴露 HTTP 接口向外提供服务的后台程序都属于这种模式。</li>
<li>响应事件：不会向外暴露接口，可能是一个独立的进程，拥有自己的运行循环。</li>
</ul>
<p><img alt="单元测试覆盖范围图" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/单元测试/media/test_scope.png" /></p>
<p>对于处理请求的场景，通常我们会使用第三方框架(Django、DRF、Tastypie)来向外暴露接口，但是接口最终调用的是我们系统内部的领域逻辑，所以我们测试所需要覆盖的则是接口之下的这些领域逻辑、模型以及工具。</p>
<p>对于响应事件的场景，大多数情况下是系统内部的模块在进行交互，这些模块都要被单元测试覆盖到。</p>
<p><strong>总而言之，在系统内部模块划分合理，层次结构清晰的情况下，我们需要覆盖到接口层之下的所有模块。</strong></p>
<h3 id="11">1.1 覆盖范围的选择</h3>
<p>对于一个向外暴露 HTTP 接口的后台服务程序，我们在处理外部到来的请求时一般流程如下：</p>
<p><img alt="请求处理流程" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/单元测试/media/test_scope_choose.png" /></p>
<ul>
<li>middleware：请求可能会经过我们设置的中间件进行一些处理</li>
<li>read inputs：读取请求中的输入数据</li>
<li>business logic：系统根据请求中的数据执行特定的业务逻辑</li>
<li>write outputs：将返回数据写入响应中</li>
<li>middleware：响应可能会经过我们设置的中间件进行一些处理</li>
</ul>
<p>在这个流程中，read inputs 及 write outpus 是我们在接口层对请求和响应进行处理的逻辑，可以不在单元测试中进行覆盖；而其他三个过程一般由系统中定义的领域逻辑、模型以及工具负责，所以我们的单元测试必须覆盖到这些过程中所使用的模块。</p>
<h3 id="12">1.2 实例</h3>
<h4 id="121">1.2.1 响应请求</h4>
<p><img alt="响应请求" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/单元测试/media/request_process.png" /></p>
<h4 id="122">1.2.2 响应事件</h4>
<p><img alt="响应事件" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/开发规范/后台开发规范/单元测试/media/event_process.png" /></p><h2 id="1">1. 测试隔离</h2>
<p>我们的系统内存在各种各样的依赖关系，有自身内部模块之间的依赖，也有对外部环境(运行时组件：MySQL，Redis，Rabbitmq 等)的依赖，这些依赖导致我们在进行测试的时候需要准备各种各样的模块以及环境，增加了我们的测试执行及编写成本，所以，在编写和执行测试时，我们需要进行测试隔离。</p>
<p>一般来说，我们通过提供 Test Double (测试仿件)来实现测试隔离。</p>
<h3 id="11">1.1 与环境隔离</h3>
<p>假设我们的待测模块依赖 Redis 组件：</p>
<pre class="codehilite"><code class="language-python">from redis_client import RedisClient

def get_list_from_redis_and_sum(key):
  client = RedisClient()

  nums = client.get(key)
  nums = [] if nums is None else nums

  return sum(nums)</code></pre>


<p>那么我们可以提供 Redis Client 的 Test Double 来实现与环境的隔离</p>
<pre class="codehilite"><code class="language-python">class ClientReturnNone(object):
  def get(key):
    return None

@patch('redis_client.RedisClient', ClientReturnNone)
def test_get_list_from_redis_and_sum__return_none():
  # write your test
  pass</code></pre>


<h3 id="12">1.2 与模块隔离</h3>
<p>系统中的模块之间会相互协作来完成一些复杂的任务，那么久必定会存在模块间的依赖。如果我们不在测试的时候进行模块的隔离，会导致测试越往上层编写，测试数据准备的成本就越高；另外，加入模块 A 依赖模块 B 及模块 C；既然我们已经完成了模块 B 和模块 C 的独立测试，我们就不需要在测试模块 A 时再次测试模块 B 和 模块 C，只需要保证模块 A 以我们想要的方式完成了调用即可。</p>
<p><strong>注意，这里的模块指的不是 Python 中的 module，而是一个比较泛的概念，可能是一个 module，一个类或是一个函数。</strong></p>
<p>假设我们有三个模块 <code>Waiter</code>，<code>House</code> 及 <code>Door</code>，<code>Waiter</code> 需要依赖 <code>House</code> 和 <code>Door</code> 来完成自己的 <code>serve</code> 方法：</p>
<pre class="codehilite"><code class="language-python">class Waiter(object):
  def __init__(self, house, door):
    self.house = hosue
    self.door = door

  def serve(self):
    if self.house.peoples &gt; 5:
      self.door.open()

class House(object):
  def __init__(self, peoples):
    self.peoples = peoples

class Door(object):
  def open(self):
    pass</code></pre>


<p>那么在编写测试时，可以通过提供 <code>Waiter</code> 所依赖模块的 Test Double 来进行隔离：</p>
<pre class="codehilite"><code class="language-python">from mock.mock import MagicMock
from waiter import Waiter

class MockHouse(object):
  def __init__(self, peoples_return):
    self.peoples_return = peoples_return

  def peoples(self):
    return self.peoples_return

class MockDoor(object):
  def __init__(self):
    self.open = MagicMock()

def test_waiter_serve():
  door = MockDoor()
  house = MockHouse(peoples_return=6)
  waiter = Waiter(house=house, door=door)

  waiter.serve()

  door.open.assert_called_once()</code></pre><h2 id="mysql">Mysql 设计和使用规范</h2>
<h3 id="1">1. 库表字段设计规范</h3>
<ul>
<li>【必须】库/表/字段的字符集必须保持一致</li>
<li>【必须】<strong>所有表必须要有主键，主键不能使用更新频繁的列</strong>，以定长类型作为主键或者联合主键的第一字段</li>
<li>【必须】不使用 UUID MD5   HASH 这些值作为主键(一般使用连续递增的值作为主键，比如自增 ID)  【必须】存在自增列的表，自增列上必须存在一个单独的索引，若在复合索引中，自增列必须置于第一位 </li>
<li>【建议】建表时应建立好合适的索引，并考虑未来的需求建立保留索引，避免上线后数据量增大再来创建新索引</li>
<li>【建议】建表时可以适当考虑未来功能需求，设计一些保留字段，避免频繁的 DB 增加字段             【建议】避免使用临时表</li>
<li>【建议】表中避免使用外键</li>
<li>【必须】<strong>库名、表名、字段名避免使用 MySQL</strong> <strong>保留字</strong>(如: BACKUP/CACHE/CODE 等)   详细参看官方文档   8.0 版本https://dev.mysql.com/doc/refman/8.0/en/keywords.html            </li>
<li>【必须】所有字段均定义为 NOT   NULL ，并设置 default 值   (NULL 字段很难优化查询，NULL 字段的索引需要额外空间，NULL 字段的复合索引无效) </li>
<li>【建议】避免单表太多字段, 最好不超过 32 个，尤其是版本不断迭代的情况下，如果字段过多，建议适当考虑分表而不是加字段 </li>
<li>【建议】加字段尽量在表的末尾增加，避免使用 after/before 类 alter 操作</li>
<li>【建议】尽可能避免单个 blob 过大，实在不行请分表</li>
<li>【建议】如果使用到 text/blob 类型，单表避免使用超过 8 个 blob 字段；如果 blob 字段内容较多，程序考虑做压缩   (blob 超过 8 个建议使用 row_format=dynamic 行格式来存储)            </li>
<li>【建议】整型字段, 如果数据量会很大,请使用 BIGINT,避免字段溢出(流水 ID/道具 ID 等) </li>
<li>【建议】日期字段建议用 DATETIME</li>
<li>【建议】强烈建议使用 TINYINT 来代替 ENUM 类型</li>
<li>【建议】遵循精确原则，用 DECIMAL 代替 FLOAT 和 DOUBLE 存储精确浮点数             </li>
<li>【建议】建议使用 INT   UNSIGNED 存储 IPV4            </li>
<li>【建议】使用 UNSIGNED 存储非负整数            </li>
<li>【必须】所有表/字段均应使用 comment 来描述此表/字段所代表的真正含义             </li>
<li>【必须】禁止在数据库中存储明文密码，把密码在应用层做加密后存储(非对称算法最佳)    </li>
<li>【必须】数据库中不允许存储视频或者照片等大文件，可以将大对象放到磁盘或者其他对象存储上  </li>
</ul>
<h3 id="2">2. 索引规范</h3>
<ul>
<li>【必须】单表中索引数量不超过 5 个，过多的索引会影响 UPDATE/INSERT/DELETE 操作</li>
<li>【必须】单个索引中的字段数不超过 5 个</li>
<li>【必须】单表中的索引数禁止超过字段数</li>
<li>【必须】重要的 SQL 必须被索引，核心 SQL 优先考虑覆盖索引，避免回表 (说明：索引包含所有满足查询需要的数据的索引就是覆盖索引)</li>
<li>【必须】禁止重复索引(一个字段上建立多个索引)  例如表含有 <code>primary key a</code> <code>uniq index a</code> <code>index a</code>，则字段 a 被建了 3 个重复索引</li>
<li>【必须】禁止冗余索引(多个索引的前缀列相同，或在联合索引中包含了主键的索引) 例如表有索引 idx1(a,b,c)、idx2(a,b)，则 idx2 为冗余索引，因为 idx1 已经包含 idx2</li>
<li>【必须】<code>UPDATE/DELETE</code> 语句的 <code>WHERE</code> 条件列；<code>ORDER BY、GROUP BY、DISTINCT</code>的字段；多表关联的 JOIN 字段都应该要有索引</li>
<li>【必须】区分度最大的字段放在前面，符合最左前缀的特点建立索引</li>
<li>【必须】不在索引列进行数学运算和函数运算，否则无法使用索引/导致全表扫描。例子: <code>SELECT name FROM class WHERE  ABS(score) &gt; 80;</code></li>
<li>【必须】不在低基数列上建立索引，例如“性别”、布尔值的列</li>
<li>【必须】索引字段的默认值不能为 NULL ，要改为其他的默认值，因 NULL 值对查询效率影响很大</li>
<li>【知会】对字符串使用前缀索引，前缀索引长度不超过 8 个字符，但在 ORDER BY 或 GROUP BY 中使用不到前缀索引。建立前缀索引的语法：<code>ALTER TABLE table_name ADD KEY(column_name(prefix_length));</code></li>
<li>【知会】尽量不在 BLOB/TEXT 等字段上建立索引，且 BLOB 和 TEXT 类型的列只能创建前缀索引</li>
<li>【知会】合理创建联合索引(避免冗余)，减少维护索引的 IO 开销</li>
<li>【知会】使用不等于 (!=、&lt;&gt;、not in 、not like 等) 的时候，MYSQL 无法使用索引</li>
<li>【知会】使用 LIKE 操作的时候 where 条件以%开始 (如‘%abc’)时，MYSQL 无法使用索引，使用通配符尽量不要放在开头</li>
<li>【知会】多表关联中 join 条件字段类型不一致的时候无法使用索引</li>
</ul>
<h3 id="3-sql">3. SQL 语句设计规范</h3>
<ul>
<li>【必须】MySQL 不擅长数学计算，不要把大计算量的 SQL 放在 MySQL 中执行。 如：统计/计算类操作避免从 DB 中直接计算</li>
<li>【必须】单次查询的结果集行数不要过多(控制在几百几千行)，如果结果集确实很多，注意控制查询频率(避免对 DB 机器的流量/IO/CPU 等产生压力)</li>
<li>【必须】避免使用 <code>CREATE table AS SELECT * FROM ...</code>的操作</li>
<li>【必须】程序层避免使用  <code>INSERT INTO … SELECT  *</code></li>
<li>【必须】不要用 <code>SELECT  *  FROM</code>，查询哪几个字段就 SELECT 几个字段</li>
<li>【必须】业务代码中事务及时提交，避免产生没必要的锁等待</li>
<li>【必须】SQL 中使用到 OR 的改写为用 IN()，且 in 的值最好不超过 1000 个</li>
<li>【必须】SQL 中避免隐式转换，会导致索引失效(这是一个大坑)，如：数值类型禁止加引号；字符串类型必须加引号</li>
<li>【必须】充分利用前缀索引，而且要符合最左前缀原则</li>
<li>【必须】不使用%前导的查询，如<code>like “%abc"</code>，会导致索引失效</li>
<li>【必须】不使用负向查询，如 NOT IN、NOT LIKE、!=、&lt;&gt;会导致无法使用索引，引起全表扫描，并且会把 NULL 查出来</li>
<li>【必须】UPDATE、DELETE 语句必须使用 WHERE 条件</li>
<li>【必须】清理历史数据时，不要一次清理过多，建议使用<code>DELETE … LIMIT N</code>分批清理</li>
<li>【必须】统计行数使用<code>COUNT(*)</code>，避免使用 COUNT(app)这样的操作</li>
<li>【必须】INSERT 语句必须指定字段列表，禁止使用<code>INSERT INTO TABLE()</code></li>
<li>【必须】禁止使用<code>ORDER BY RAND()</code></li>
<li>【建议】避免使用 JOIN 联表操作</li>
<li>【建议】避免使用触发器、函数、存储过程、event 等</li>
<li>【建议】如果确认合并的两个结果集中不包含重复的数据，那么请使用 UNION ALL 而不是 UNION</li>
<li>【建议】减少与数据库交互次数，尽量采用批处理 SQL 语句</li>
<li>【必须】防止 SQL 注入，程序应对传入的参数进行严格校验，正确过滤字符，而且避免使用动态拼装 SQL</li>
</ul><h2 id="redis">Redis 设计和使用规范</h2>
<h3 id="1">1. 命名规范</h3>
<ul>
<li>【建议】key 名尽量具有可读性，同一类型/模块使用相同的前缀: 如 <code>igame*</code>, <code>dnf*</code></li>
<li>【建议】key 名多个段之间用统一的字符分割，推荐分割符： <code>_ | : # + = ; ,.</code></li>
<li>【建议】key 名字尽量简短，建议控制在 100 字节内，不允许超过 976 字节</li>
<li>【建议】key 名尽量避免使用二进制</li>
<li>【建议】key 名不要包含空格/换行/回车/单双引号/tab 等特殊字符</li>
</ul>
<h3 id="2">2. 设计规范</h3>
<ul>
<li>【建议】尽量减少大 key 的设计，string 类型控制在 10KB 以内，hash、list、set、zset 元素个数不要超过 5000(避免网卡流量瓶颈/慢查询)</li>
<li>【建议】单个热点 key 可以考虑拆分成多个 key 进行处理，把热度打散</li>
<li>【建议】非字符串的 bigkey，不要使用 del 删除，使用 hscan、sscan、zscan 方式渐进式删除</li>
<li>【建议】注意防止 bigkey 过期时间自动删除问题，而引起阻塞</li>
<li>【建议】选择合适的数据类型</li>
<li>【建议】控制 key 的生命周期，尽量都设置 expire 过期时间，且要避免集中过期</li>
<li>【建议】Redis 事务功能较弱，不建议过多使用；集群模式下，不支持事务</li>
</ul>
<h3 id="3">3. 使用规范</h3>
<ul>
<li>【建议】合理利用批操作命令，使用 O(N)命令(hgetall/lrange/smembers/zrange/sinter)时需关注 N 的数量，有遍历的需求可以使用 hscan/sscan/zscan 代替</li>
<li>【建议】减少不必要的请求，del 前先 ttl，避免删除不存在的 key</li>
<li>【必须】禁止线上使用 keys/monitor/flushall/flushdb 等危险命令，通过 Redis 的 rename 机制禁掉，或者使用 scan 的方式渐进式处理</li>
<li>【建议】合理使用 select，redis 默认使用 db0</li>
<li>【建议】在必须使用 monitor 命令时，要注意不要长时间开启</li>
</ul>
<h3 id="4">4. 客户端规范</h3>
<ul>
<li>【建议】避免多个业务使用同一个 Redis 实例</li>
<li>【建议】高并发下建议客户端添加熔断功能，减少到 DB 侧的压力</li>
<li>【必须】客户端必须要使用密码访问 Redis，并且避免在公网访问</li>
<li>【建议】客户端访问 Redis 最好带连接池，并且使用长连接，能够减少创建链接的开销</li>
</ul><h2 id="1-db">1 DB 建模</h2>
<h3 id="11">1.1 字段设计</h3>
<ul>
<li>
<p>避免允许 null 值的字段，null 值难以查询优化且占用额外的索引空间</p>
</li>
<li>
<p>充分考虑每张表的数据规模，选取合适主键字段类型。比如数据创建比较频繁的表，主键建议使用 <code>BigIntegerField</code></p>
</li>
<li>
<p>使用正确的字段类型，避免<code>TextField</code>代替<code>CharField</code>，<code>IntegerField</code>代替<code>BooleanField</code>等</p>
</li>
<li>
<p>如果字段的取值是一个有限集合，应使用 <code>choices</code> 选项声明枚举值</p>
</li>
</ul>
<pre class="codehilite"><code class="language-python">class Students(models.Model):
    class Gender(object):
        MALE = 'MALE'
        FEMALE = 'FEMALE'

    GENDER_CHOICES = (
        (Gender.MALE, &quot;男&quot;),
        (Gender.FEMALE, &quot;女&quot;),
    )

    gender = models.IntegerField(&quot;性别&quot;, choices=GENDER_CHOICES)</code></pre>


<ul>
<li>如果某个字段或某组字段被频繁用于过滤或排序查询，建议建立单字段索引或联合索引</li>
</ul>
<pre class="codehilite"><code class="language-python"># 字段索引：使用 db_index=True 添加索引
title = models.CharField(max_length=255, db_index=True)

# 联合索引：将多个字段组合在一起建立索引
class Meta:
    index_together = ['field_name_1', 'field_name_2']

# 联合唯一索引：将多个组合在一起的索引，并且字段的组合值唯一
class Meta:
    unique_together = ('field_name_1', 'field_name_2')</code></pre>


<h2 id="2-db">2 DB 查询</h2>
<h3 id="21">2.1 基本要求</h3>
<ul>
<li>了解 Django ORM 是如何缓存数据的</li>
<li>了解 Django ORM 何时会做查询</li>
<li>不要以牺牲代码可读度为代价做过度优化</li>
</ul>
<h3 id="22">2.2 实际应用</h3>
<ul>
<li>避免全表扫描。优先使用<code>exists</code>, <code>count</code>等方法</li>
</ul>
<pre class="codehilite"><code class="language-python"># 获取 project 的数量
projects = Project.objects.filter(enable=True)

# Bad: 会强制将 projects 实例化，导致全表扫描
project_count = len(projects)  

# Good: 直接从数据库层面统计，避免全表扫描
project_count = projects.count()</code></pre>


<ul>
<li>避免 N + 1 查询。可使用<code>select_related</code>提前将关联表进行 join，一次性获取相关数据，many-to-many 的外键则使用<code>prefetch_related</code></li>
</ul>
<pre class="codehilite"><code class="language-python"># select_related

# Bad
# 由于 ORM 的懒加载特性，在执行 filter 操作时，并不会将外键关联表的字段取出，而是在使用时，实时查询。这样会产生大量的数据库查询操作
students = Student.objects.all()
student_in_class = {student.name: student.cls.name for student in students}

# Good
# 使用 select_related 可以避免 N + 1 查询，一次性将外键字段取出
students = Student.objects.select_related('cls').all()
student_in_class = {student.name: student.cls.name for student in students}</code></pre>


<pre class="codehilite"><code class="language-python"># prefetch_related

# Bad
articles = Article.objects.filter(id__in=(1,2))
for item in articles:
    # 会产生新的数据库查询操作
    item.tags.all()

# Good
articles = Article.objects.prefetch_related(&quot;tags&quot;).filter(id__in=(1,2))
for item in articles:
    # 不会产生新的数据库查询操作
    item.tags.all()</code></pre>


<ul>
<li>如果仅查询外键 ID，则无需进行连表操作。使用 <code>外键名_id</code> 可直接获取</li>
</ul>
<pre class="codehilite"><code class="language-python"># 获取学生的班级ID
student = Student.objects.first()

# Bad: 会产生一次关联查询
cls_id = student.cls.id

# Good: 不产生新的查询
cls_id = student.cls_id</code></pre>


<ul>
<li>避免查询全部字段。可使用<code>values</code>, <code>values_list</code>,  <code>only</code>, <code>defer</code>等方法进行过滤出需要使用的字段。</li>
</ul>
<pre class="codehilite"><code class="language-python"># 仅获取学生姓名的列表

# Bad
students = Student.objects.all()
student_names = [student.name for student in students]

# Good
students = Student.objects.all().values_list('name', flat=True)</code></pre>


<ul>
<li>避免在循环中进行数据库操作。尽量使用 ORM 提供的批量方法，防止在数据量变大的时候产生大量数据库连接导致请求变慢</li>
</ul>
<pre class="codehilite"><code class="language-python"># 批量创建项目
project_names = ['ProjectA', 'ProjectB', 'ProjectC']

# Bad
for project_name in project_names:
    Project.objects.create(name=project_name)

# Good
projects = []
for project_name in project_names:
    project = Project(name=project_name)
    projects.append(project)
Project.objects.bulk_create(projects)</code></pre>


<pre class="codehilite"><code class="language-python"># 批量查询项目
project_names = ['ProjectA', 'ProjectB', 'ProjectC']

# Bad: 每次循环都产生一次新的查询
projects = []
for project_name in project_names:
    project = Project.objects.get(name=project_name)
    projects.append(project)

# Good：使用 in，只需一次数据库查询
projects = Project.objects.filter(name__in=project_names)</code></pre>


<pre class="codehilite"><code class="language-python"># 批量更新项目
project_names = ['ProjectA', 'ProjectB', 'ProjectC']
projects = Project.objects.filter(name__in=project_names)

# Bad: 每次循环都产生一次新的查询
for project in projects:
    project.enable = True
    project.save()

# Good：批量更新，只需一次数据库查询
projects.update(enable=True)</code></pre>


<ul>
<li>避免隐式的子查询</li>
</ul>
<pre class="codehilite"><code class="language-python"># 查询符合条件的组别中的人员

# Bad: 将查询集作为下一个查询的过滤条件，因此产生了子查询。IN 语句中的子查询在外层查询的每一行中都会被执行一次，复杂度为 O(n^2)
groups = Group.objects.filter(type=&quot;typeA&quot;)
members = Member.objects.filter(group__in=groups)

# Good: 以确定的数据作为过滤条件，避免子查询
group_ids = Group.objects.filter(type=&quot;typeA&quot;).values_list('id', flat=True)
members = Member.objects.filter(group__id__in=list(group_ids))</code></pre>


<ul>
<li><code>update_or_create</code> 与 <code>get_or_create</code> 不是线程安全的。因此查询条件的字段必须要有唯一性约束</li>
</ul>
<pre class="codehilite"><code class="language-python"># 为了保证逻辑的正确性，Host 表中的 ip 和 bk_cloud_id 字段必须设置为 unique_together。否则在高并发情况下，可能会创建出多条相同的记录，最终导致逻辑异常
host, is_created = Host.objects.get_or_create(
    ip=&quot;127.0.0.1&quot;,
    bk_cloud_id=&quot;0&quot;
)</code></pre>


<ul>
<li>如果查询集只用于单次循环，建议使用 <code>iterator()</code> 保持连接查询。当查询结果有很多对象时，QuerySet 的缓存行为会导致使用大量内存。如果你需要对查询结果进行好几次循环，这种缓存是有意义的，但是对于 QuerySet 只循环一次的情况，缓存就没什么意义了。在这种情况下，<code>iterator()</code>可能是更好的选择</li>
</ul>
<pre class="codehilite"><code class="language-python"># Bad
for task in Task.objects.all():
    # do something

# Good
for task in Task.objects.all().iterator():
    # do something</code></pre><h1 id="1">1. 性能优化</h1>
<ol>
<li>
<p>尽量使用 generator（生成器），如 <code>xrange</code>, <code>yield</code>, <code>dict.iteritems()</code>, <code>itertools</code></p>
</li>
<li>
<p>排序尽量使用 <code>.sort()</code>， 其中使用 key 比 cmp 效率更高</p>
</li>
<li>
<p>适当使用 list 迭代表达式，如<code>[i for i in xrane(10)]</code></p>
</li>
<li>
<p>使用 set 来判断元素的存在</p>
</li>
<li>
<p>使用 dequeue 来做双端队列</p>
</li>
</ol><h2 id="1">1. 背景</h2>
<p>为了尽早发现代码问题，防止不符合规范的代码提交到仓库，强烈推荐每位开发者配置 <code>pre-commit</code> 代码提交前检查</p>
<h2 id="2-git-hooks">2. Git Hooks 本地配置</h2>
<p><code>pre-commit</code> 检查通过本地配置实现，因此每个开发者在开发之前都必须先配好本地的 Git Hooks。</p>
<p>推荐使用 <a href="https://pre-commit.com/">pre-commit</a> 框架对 Git Hooks 进行配置及管理。<strong>pre-commit</strong>是由 python 实现的，用于管理和维护多个 pre-commit hooks 的实用框架。它提供了插件式的管理机制，并拥有大量的官方与第三方插件（需要时可自行开发），能够快速实现常见的代码检查任务，如 <code>eslint</code> 检查（支持跨语言），<code>flake8</code> 检查，<code>isort</code> 代码美化等。</p>
<h3 id="_1">配置方式 (新接入项目)</h3>
<ol>
<li>使用 pip 安装 pre-commit</li>
</ol>
<pre class="codehilite"><code class="language-bash"># pip
pip install pre-commit</code></pre>


<ol>
<li>在有.git 的项目配置 pre-commit</li>
</ol>
<pre class="codehilite"><code class="language-bash">pre-commit install</code></pre>


<p>执行后，查看 <code>.git/hooks</code> 目录，若存在名为 <code>pre-commit</code> 新文件，则配置成功 。</p>
<h3 id="git-hooks">触发 Git Hooks</h3>
<ul>
<li>
<p>pre-commit 代码检查无需手动触发，只要执行 <code>git commit</code> 命令，就会自动触发（无论是在终端还是 IDE）。请注意，代码检查的范围只是本次提交所修改的文件，而非全局。</p>
</li>
<li>
<p>若代码检查不通过，提交会被中断。可以根据具体的错误信息去调整代码，只有所有的检查项全部通过方可 push。</p>
</li>
<li>
<p>配置 <code>pre-commit</code> 后，第一次执行 <code>git commit</code> 命令时会联网下载所需的插件依赖，大概需要一分钟的时间，请耐心等待。</p>
</li>
</ul>
<h2 id="3">3 . 常用插件说明</h2>
<h3 id="pyupgrade">pyupgrade</h3>
<p>提升 Python 代码风格</p>
<p>https://github.com/asottile/pyupgrade</p>
<h3 id="python-modernize">python-modernize</h3>
<p><strong>【Python2 项目专用】</strong> 将 python2 风格代码自动转换为 2-3 兼容风格。 <strong>Python3 项目无需安装此插件</strong></p>
<p>https://python-modernize.readthedocs.io/en/latest/fixers.html#</p>
<h3 id="check-merge-conflict">check-merge-conflict</h3>
<p>通过匹配 conflict string，检查是否存在没有解决冲突的代码</p>
<h3 id="isort">isort</h3>
<p>自动调整 python 代码文件内的 import 顺序</p>
<p>若该项结果为 <code>failed</code>，通过 <code>git diff</code> 查看自动调整的地方，确认无误后，重新 <code>git add</code> 和 <code>git commit</code> 即可</p>
<h3 id="seed-isort-config">seed-isort-config</h3>
<p>提升 isort 排序的准确度，会在项目根目录下生成 <code>.iosrt.cfg</code> 配置文件，需要提交</p>
<h3 id="autopep8">autopep8</h3>
<p>根据 <code>.flake8</code> 给出的配置自动调整 python 代码风格。</p>
<p>若该项结果为 <code>failed</code>，通过 <code>git diff</code> 查看自动调整的地方，确认无误后，重新 <code>git add</code> 和 <code>git commit</code> 即可</p>
<h3 id="flake8">flake8</h3>
<p>根据 <code>.flake8</code> 给出的配置检查代码风格。</p>
<p>若该项结果为 <code>failed</code>，需要根据给出的错误信息手动进行调整。（autopep8 会尽可能地把能自动修复的都修复了，剩下的只能手动修复）</p>
<p>关于 flake8 规则代码与具体示例，可查阅 https://lintlyci.github.io/Flake8Rules/</p>
<h2 id="4">4. 已知问题</h2>
<ol>
<li>
<p>isort 排序不准</p>
<p>解决方案：在 <code>.pre-commit-config.yaml</code> 中去掉 <code>seed-isort-config</code> 配置，然后自行修改 <code>.isort.cfg</code></p>
</li>
<li>
<p>Stackless 版本的 Python 可能无法使用 pre-commit</p>
</li>
</ol><h2 id="1-why-2to3">1. why 2to3</h2>
<p>Python 软件基金会宣布，到 2020 年元旦，将不再为编程语言 Python 2.x 分支提供任何支持。意味着在 2020 年以后 Python2 将不会有官方的支持和修复。 最近的几年里，Python 主流库都做了很多兼容的工作，以帮助我们从 Python2 迁移到 Python3，但是这类的兼容性代码会消耗相当大的人力和性能。 事实上，这种兼容的工作已经在不同程度上停止了，比如 Django 2.0 已宣布不再支持 Python2，可以预见的是，2020 年之后，基本上不会有库再会处理兼容问题了。</p>
<h3 id="python">如何选择项目的 Python 版本</h3>
<ul>
<li><strong>新项目</strong> - 必须使用 Python 3 进行开发（推荐版本: Python 3.6）</li>
<li><strong>老项目(仍在迭代更新)</strong> - 需要尽快迁移至 Python 3</li>
<li><strong>老项目(处于稳定维护状态)</strong> - 可维持当前 Python 版本</li>
</ul>
<h2 id="2-2to3">2. 2to3 工具介绍</h2>
<p><a href="https://docs.python.org/zh-cn/3/library/2to3.html">2to3</a> 是一个 Python 程序，它可以用来读取 Python 2.x 版本的代码，并使用一系列的修复器 fixer 来将其转换为合法的 Python 3.x 代码。标准库中已经包含了丰富的修复器，这足以处理绝大多数代码。不过 2to3 的支持库 <a href="https://docs.python.org/zh-cn/3.7/library/2to3.html#module-lib2to3"><code>lib2to3</code></a> 是一个很灵活通用的库， <strong>所以你也可以为 2to3 编写你自己的修复器</strong> 。<a href="https://docs.python.org/zh-cn/3.7/library/2to3.html#module-lib2to3"><code>lib2to3</code></a> 也可以用在那些需要自动处理 Python 代码的应用中。</p>
<p>2to3 是 Python 自带的一个代码转换工具，可以将 Python2 的代码自动转换为 Python3 的代码。</p>
<p><strong>注意事项 1：转换后的代码不再对 python2 进行兼容</strong></p>
<p><strong>注意事项 2：转换后并不确保功能 100% 可用，需要通过完备的单元测试和集成测试去确保功能正确性</strong></p>
<h3 id="21">2.1 基本命令</h3>
<ol>
<li>使用 patch 命令生成文件差异</li>
</ol>
<pre class="codehilite"><code class="language-python">        # 解析 test.py ，并将转换到py3后的文件差异输出到 test.patch
        2to3 test.py &gt; test.patch

        # 应用 test.patch 中的改动到 test.py
        patch test.py test.patch</code></pre>


<ol>
<li>直接把修改写回原文件</li>
</ol>
<pre class="codehilite"><code class="language-python"># 除非传入了 `-n` 参数，否则会为原始文件创建一个副本
2to3 -w test.py</code></pre>


<ol>
<li>将整个项目代码转换到 py3</li>
</ol>
<pre class="codehilite"><code class="language-python">2to3 -w -n myproject</code></pre>


<h3 id="22">2.2 修复器</h3>
<p>转换代码的每一个步骤都封装在修复器中。可以使用 <code>2to3 -l</code> 来列出可用的修复器。每个修复器都可以独立地打开或是关闭。</p>
<ul>
<li>使用  <code>-l</code>  参数可以列出所有可用的修复器</li>
<li>使用  <code>-f</code>  参数可以明确指定需要使用的修复器集合</li>
<li>使用  <code>-x</code>  参数则可以明确指定不使用的修复器</li>
</ul>
<h2 id="3">3. 升级步骤</h2>
<ol>
<li>
<p>使用 <a href="https://pypi.org/project/caniusepython3/">caniusepython3</a> 检查 <code>requirements.txt</code> 中是否存在不支持 python 3 的依赖包。若存在，则需要将对应依赖包升级至支持 python 3 的版本</p>
</li>
<li>
<p>将<strong>开发框架</strong>升级到 <code>2.5.0</code> 以上的版本</p>
</li>
<li>
<p>使用 2to3 工具，将整个项目代码迁移到 py3</p>
<blockquote>
<p>建议 checkout 一个新分支进行迁移验证，验证通过后再合并回主分支
<code>python
2to3 -w -n myproject</code>
4. 对个别无法通过 2to3 自动转换的代码，根据控制台输出给的修改建议，进行手动调整</p>
</blockquote>
</li>
<li>
<p>进行完整的单元测试和功能测试</p>
</li>
<li>
<p>部署到测试环境做进一步的验证</p>
</li>
</ol>
<h2 id="4-python-3-app">4. 使用 Python 3 部署蓝鲸 APP</h2>
<p>如需更改 Python 版本，需要开发者在 <strong>App 根目录下</strong> 添加<code>runtime.txt</code>文件，并在其中写上自定义版本号，平台会根据这个版本号选择 Python 版本，例如：</p>
<pre class="codehilite"><code class="language-bash">python-3.6.6</code></pre>


<p>然后提交到<strong>版本仓库</strong>，部署后即可使用 Python-3.6.6 了</p>
<h2 id="5">5. 迁移过程常见问题及解决方案</h2>
<h3 id="1-logging-unicodeencodeerror">1. logging 无法写入中文编码字符，抛出异常 <code>UnicodeEncodeError</code></h3>
<ul>
<li>
<p>原因</p>
<p>在 Python3 需指定文件流编码</p>
</li>
<li>
<p>解决</p>
<p>直接在 logging 增加属性 <code>'encoding': 'utf-8'</code></p>
</li>
</ul>
<h3 id="2-md5-typeerror-unicode-objects-must-be-encoded-before-hashing">2. 在获取字符串 MD5 时，抛出异常 <code>TypeError: Unicode-objects must be encoded before hashing</code></h3>
<pre class="codehilite"><code class="language-python">cache_str = &quot;url_{url}__params_{params}&quot;.format(
    url=self.build_actual_url(params), params=json.dumps(params)
)
hash_md5 = hashlib.new('md5')
hash_md5.update(cache_str)  # 此处抛出异常
cache_key = hash_md5.hexdigest()</code></pre>


<ul>
<li>
<p>原因</p>
<p>在 Python3，此函数参数为 bytes，需要进行 encode</p>
</li>
<li>
<p>解决</p>
</li>
</ul>
<pre class="codehilite"><code class="language-python">cache_str = &quot;url_{url}__params_{params}&quot;.format(
    url=self.build_actual_url(params), params=json.dumps(params)
)
hash_md5 = hashlib.new('md5')
hash_md5.update(cache_str.encode('utf-8'))  # 增加encode
cache_key = hash_md5.hexdigest()</code></pre>


<h3 id="3-a-gt-2-typeerror-gt-not-supported-between-instances-of-str-and-int">3. 执行行语句 <code>'a' &gt;= 2</code> ，抛出异常 <code>TypeError: '&gt;=' not supported between instances of 'str' and 'int'</code></h3>
<ul>
<li>
<p>原因</p>
<p>在 Python3 中，不允许直接把字符串和数字直接进行大小比较</p>
</li>
</ul>
<h3 id="4-xrange-2to3-range">4. <code>xrange</code> 函数未被 2to3 工具自动替换为 <code>range</code>，需要手动修改</h3>
<h3 id="5-typeerror-cmp-is-an-invalid-keyword-argument-for-this-function">5. 执行语句以下语句，抛出异常 <code>TypeError: 'cmp' is an invalid keyword argument for this function</code></h3>
<pre class="codehilite"><code class="language-python">sorted(referenced_weight.items(), cmp=lambda x, y: cmp(x[1], y[1]), reverse=True)</code></pre>


<ul>
<li>
<p>原因</p>
<p>Python 3 把 <code>sort()</code> 方法中的<code>cmp</code>参数废弃了</p>
</li>
<li>
<p>解决</p>
</li>
</ul>
<pre class="codehilite"><code class="language-python">from functools import cmp_to_key
nums = [1, 3, 2, 4]
nums.sort(key=cmp_to_key(lambda a, b: a - b))
print(nums)  # [1, 2, 3, 4]</code></pre>


<h3 id="6-bytes-typeerror-string-argument-without-an-encoding">6. bytes 转换字符串，抛出异常 <code>TypeError: string argument without an encoding</code></h3>
<pre class="codehilite"><code class="language-python">f.encrypt(bytes(node_id))</code></pre>


<ul>
<li>
<p>原因</p>
<p>python 3 将字符串转换成 byte 需要指定编码</p>
</li>
<li>
<p>解决</p>
</li>
</ul>
<pre class="codehilite"><code class="language-python">f.encrypt(bytes(node_id, encoding='utf8'))</code></pre>


<h3 id="7-btytes-json-dumps-object-of-type-bytes-is-not-json-serializable">7. btytes 类型 json dumps 抛出异常 <code>Object of type 'bytes' is not JSON serializable</code></h3>
<ul>
<li>
<p>原因</p>
<p>在 python 3 中，json 仅支持序列化 <code>str</code> 类型的字符串，而不支持 <code>bytes</code> 类型</p>
</li>
<li>
<p>解决</p>
<p>使用 <code>ujson</code> 替换掉原生的 <code>json</code></p>
</li>
</ul>
<pre class="codehilite"><code class="language-python">import ujson as json</code></pre>


<h3 id="8-base64-typeerror-a-bytes-like-object-is-required-not-str">8. base64 编码时，抛出异常 <code>TypeError: a bytes-like object is required, not 'str'</code></h3>
<pre class="codehilite"><code class="language-python">file_data = base64.b64encode(json.dumps({
    'template_data': templates_data,
    'digest': digest
}, sort_keys=True))</code></pre>


<ul>
<li>
<p>原因</p>
<p>在 python 3 中，base64 仅支持对 <code>bytes</code> 类型字符串的 encode</p>
</li>
<li>
<p>解决</p>
<p>在 encode 之前，先对 <code>str</code> 类型的字符串转换为 <code>bytes</code></p>
</li>
</ul>
<pre class="codehilite"><code class="language-python">file_data = base64.b64encode(json.dumps({
    'template_data': templates_data,
    'digest': digest
}, sort_keys=True).encode('utf-8'))</code></pre>


<h3 id="9-emessage-attributeerror-exception-object-has-no-attribute-message">9. 捕获异常后打印 <code>e.message</code> ，抛出异常 <code>AttributeError: 'Exception' object has no attribute 'message'</code></h3>
<pre class="codehilite"><code class="language-python">try:
    task.modify_cron(cron, tz)
except Exception as e:
    return JsonResponse({
        'result': False,
        'message': e.message
    })</code></pre>


<ul>
<li>
<p>原因</p>
<p>python3 <code>BaseException</code> 中去掉了 <code>message</code> 属性</p>
</li>
<li>
<p>解决</p>
<p>使用 <code>str(e)</code> 进行类型转换</p>
</li>
</ul>
<pre class="codehilite"><code class="language-python">try:
    task.modify_cron(cron, tz)
except Exception as e:
    return JsonResponse({
        'result': False,
        'message': str(e)
    })</code></pre><h1 id="_1">开源共建</h1>
<p>蓝鲸目前开源的产品有配置平台，PaaS 平台，标准运维，容器管理平台，蓝鲸 DevOps，源码托管在 GitHub。</p>
<ul>
<li>
<p><strong>配置平台：</strong><a href="https://github.com/Tencent/bk-cmdb">https://github.com/Tencent/bk-cmdb</a></p>
</li>
<li>
<p><strong>PaaS 平台：</strong><a href="https://github.com/Tencent/bk-PaaS">https://github.com/Tencent/bk-PaaS</a></p>
</li>
<li>
<p><strong>标准运维：</strong><a href="https://github.com/Tencent/bk-sops">https://github.com/Tencent/bk-sops</a></p>
</li>
<li>
<p><strong>容器管理平台：</strong><a href="https://github.com/Tencent/bk-bcs">https://github.com/Tencent/bk-bcs</a> , <a href="https://github.com/Tencent/bk-bcs-saas">https://github.com/Tencent/bk-bcs-saas</a></p>
</li>
<li>
<p><strong>蓝鲸 DevOps：</strong><a href="https://github.com/Tencent/bk-ci">https://github.com/Tencent/bk-ci</a></p>
</li>
</ul>
<p>腾讯蓝鲸智云开源项目入驻码云，也可以从码云获取：<a href="https://gitee.com/Tencent-BlueKing">https://gitee.com/Tencent-BlueKing</a></p><h1 id="_1">登录流程图</h1>
<p><img alt="flow_chart" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/enterprise_login_to_bklogin.png" /></p><h1 id="_1">说明</h1>
<p>本文档对应版本: 企业版 3.0、社区版 6.0</p>
<p>蓝鲸统一登录: 由 <code>open_paas/login</code> 提供 <code>统一登录服务</code>; 由 <code>用户管理</code> App <code>维护用户数据</code></p>
<h2 id="mockbackend">MockBackend 接入示例</h2>
<h3 id="_2">获取参考代码</h3>
<p>蓝鲸版本包中 <code>open_paas/login/ee_official_login/mock</code>, 包含了 MockBackend 接入示例</p>
<p>这个示例复用了默认蓝鲸登录的页面, 但是重写了登录逻辑</p>
<p>使用固定的用户名密码才能登录成功:  <code>admin/blueking</code></p>
<h3 id="_3">目录结构及配置说明</h3>
<p><code>open_paas/login</code> 下涉及的文件</p>
<pre class="codehilite"><code class="language-bash">conf/default.py            配置文件如后, 会 import ee_login.settings_login 获取登录配置

ee_login/                  自定义登录配置
├── __init__.py
└── settings_login.py      配置了 ee_official_login/mock

ee_official_login/mock     自定义登录实现, 完成了校验逻辑, 并
├── __init__.py
├── backends.py
└── views.py</code></pre>


<ul>
<li><code>conf/default.py</code> 代码已存在, 不需要变更</li>
<li>ee_login 目录默认没有, 需要自行新建, 注意务必新建 <code>__init__.py</code></li>
</ul>
<pre class="codehilite"><code class="language-shell">mkdir ee_login
touch ee_login/__init__.py
touch ee_login/settings_login.py</code></pre>


<ul>
<li><code>ee_login/settings_login.py</code> 内容</li>
</ul>
<pre class="codehilite"><code class="language-python"># -*- coding: utf-8 -*-
# 蓝鲸登录方式：bk_login
# 企业内部 Username-password 登录方式：enterprise_ldap
# 自定义登录方式：custom_login
LOGIN_TYPE = 'custom_login'

# 默认 bk_login，无需设置其他配置

###########################
# 自定义登录 custom_login   #
###########################
# 配置自定义登录请求和登录回调的响应函数, 如：CUSTOM_LOGIN_VIEW = 'ee_official_login.oauth.google.views.login'
CUSTOM_LOGIN_VIEW = 'ee_official_login.mock.views.login'
# 配置自定义验证是否登录的认证函数, 如：CUSTOM_AUTHENTICATION_BACKEND = 'ee_official_login.oauth.google.backends.OauthBackend'
CUSTOM_AUTHENTICATION_BACKEND = 'ee_official_login.mock.backends.MockBackend'</code></pre>


<p>配置变更完毕后, 重启登录服务, 访问登录页, 此时将只用使用 <code>admin/blueking</code> 才能登录成功</p>
<p>登录过程中会打 debug 日志, 本地开发环境: <code>../logs/login.log</code> 使用蓝鲸部署脚本部署环境: <code>{INSTALL_ROOT}/logs/open_paas/login.log</code></p>
<h3 id="_4">登录代码简要说明</h3>
<h4 id="ee_loginsettings_login_mockpy"><code>ee_login/settings_login_mock.py</code></h4>
<pre class="codehilite"><code class="language-python"># 表示是自定义登录
LOGIN_TYPE = 'custom_login'

# 登录请求处理函数, 需要处理 1) GET跳往登录页 2) POST执行登录校验 3) 其他请求, 例如oauth回调请求
CUSTOM_LOGIN_VIEW = 'ee_official_login.mock.views.login'
# 登录认证函数
CUSTOM_AUTHENTICATION_BACKEND = 'ee_official_login.mock.backends.MockBackend'</code></pre>


<h4 id="ee_official_loginmockviewspy"><code>ee_official_login/mock/views.py</code></h4>
<p>主要处理</p>
<ol>
<li>GET 跳往登录页</li>
<li>POST 执行登录校验</li>
<li>其他请求, 例如 oauth 回调, 可以根据请求参数判断做特殊处理</li>
</ol>
<p>这里, 可以自定义登录页面, 以及登录请求的处理逻辑</p>
<pre class="codehilite"><code class="language-python">def login(request):
    &quot;&quot;&quot;
    登录处理
    &quot;&quot;&quot;
    # 获取 ?c_url=xxx 登录成功跳转目的地址
    redirect_to = request.GET.get(REDIRECT_FIELD_NAME, '')

    # 复用bkauth的登录页面
    # POST 请求
    if request.method == &quot;POST&quot;:
        # 获取用户名密码
        form = BkAuthenticationForm(request, data=request.POST)

        username = form.data[&quot;username&quot;]
        password = form.data[&quot;password&quot;]

        # 执行校验
        # will call MockBackend.authenticate
        user = authenticate(username=username, password=password)

        # 失败
        if user is None:
            logger.debug(&quot;custom_login:mock user is None, will redirect_to=%s&quot;, redirect_to)
            # 直接调用蓝鲸登录失败处理方法
            return login_failed_response(request, redirect_to, app_id=None)

        # 成功，则调用蓝鲸登录成功的处理函数，并返回响应
        logger.debug(&quot;custom_login:mock login success, will redirect_to=%s&quot;, redirect_to)
        return login_success_response(request, user, redirect_to, app_id=None)
    # GET
    else:
        # 构造前端表单需要的数据
        form = BkAuthenticationForm(request)
        current_site = get_current_site(request)
        context = {
            'form': form,
            REDIRECT_FIELD_NAME: redirect_to,
            'site': current_site,
            'site_name': current_site.name,

            # set to default; 复用account/login.html表单
            'error_message': &quot;&quot;,
            'app_id': &quot;&quot;,
            'is_license_ok': True,
            'reset_password_url': &quot;&quot;,
            'login_redirect_to': &quot;&quot;,
        }

        # 跳转登录页
        template_name = 'account/login.html'
        response = TemplateResponse(request, template_name, context)

        # 清空 bk_token
        response = set_bk_token_invalid(request, response)
        return response</code></pre>


<h4 id="ee_official_loginmockbackendspy"><code>ee_official_login/mock/backends.py</code></h4>
<p>基于 Django authentication backend, 具体可以参考 <a href="https://docs.djangoproject.com/en/2.2/topics/auth/customizing/">官方文档</a></p>
<p>MockBackend 中的逻辑是, 只用使用固定用户名密码才能登录成功</p>
<p>在 backend 中, 拿到表单的数据之后, 可以自行定义登录逻辑, 例如请求企业的第三方登录进行校验, 校验成功后获取用户数据, 构建蓝鲸用户, 并同步给 <code>用户管理</code></p>
<p>需要自定义的逻辑</p>
<ol>
<li>获取表单数据</li>
<li>自定义校验逻辑, 可以调用第三方服务进行校验</li>
<li>校验失败, <code>logger.debug</code> 并 <code>return None</code></li>
<li>校验成功, 获取用户数据; 如果第 2 步校验接口有返回用户数据, 可以直接使用, 如果没有, 需要请求第三方服务获取用户信息</li>
<li>构建蓝鲸用户 User</li>
<li>同步用户数据到 <code>用户管理</code>; <code>user.sync_to_usermgr()</code> 将会调用接口, 新增或更新用户数据, <code>username</code> 为用户唯一标识</li>
</ol>
<pre class="codehilite"><code class="language-python">class MockBackend(ModelBackend):
    &quot;&quot;&quot;
    mock认证服务

    username == &quot;admin&quot; 且 password == &quot;blueking&quot; 时认证通过

    注意: 打logger.debug用于调试, 可以在日志路径下login.log查看到对应日志
    &quot;&quot;&quot;
    def authenticate(self, username=None, password=None):
        if not (username == &quot;admin&quot; and password == &quot;blueking&quot;):
            logger.debug(&quot;MockBackend authenticate fail, username/password should be admin/blueking&quot;)
            return None

        # 获取 User 类
        UserModel = get_user_model()
        # 初始化User对象 -&gt; bkauth/models.py:User -&gt; 从userinfo获取对应字段进行初始化
        user = UserModel()
        user.username = username
        user.display_name = &quot;mockadmin&quot;
        user.email = &quot;mockadmin@mock.com&quot;

        # 同步用户到用户管理 sync to usermgr
        # 这里不做调用
        # ok, message = user.sync_to_usermgr()
        ok, message = True, &quot;success&quot;
        if not ok:
            logger.error(&quot;login success, but sync user to usermgr fail: %s&quot;, message)
            return None

        return user</code></pre>


<h2 id="google-oauth">Google OAuth 接入示例</h2>
<h3 id="_5">获取参考代码</h3>
<p>蓝鲸版本包中 <code>ee_official_login/oauth/google</code>, 包含了 Google OAuth 接入示例</p>
<p>这个示例展示了对接 Google OAuth 的具体逻辑, 相对复杂, 需要根据请求参数处理回调</p>
<p>调试过程中, 可以查看日志中的 debug 信息</p>
<h3 id="_6">目录结构及配置说明</h3>
<p><code>open_paas/login</code> 下涉及的文件</p>
<pre class="codehilite"><code class="language-bash">conf/default.py            配置文件如后, 会import ee_login.settings_login 获取登录配置

ee_login/                  自定义登录配置
├── __init__.py
└── settings_login.py      配置了 ee_official_login/mock

ee_official_login/oauth/google  自定义登录实现, 完成了校验逻辑
├── __init__.py
├── backends.py
├── settings.py                 Google OAuth配置
├── utils.py
└── views.py</code></pre>


<ul>
<li><code>conf/default.py</code> 代码已存在, 不需要变更</li>
<li>ee_login 目录默认没有, 需要自行新建, 注意务必新建 <code>__init__.py</code></li>
</ul>
<pre class="codehilite"><code class="language-shell">mkdir ee_login
touch ee_login/__init__.py
touch ee_login/settings_login.py</code></pre>


<ul>
<li><code>ee_login/settings_login.py</code> 内容</li>
</ul>
<pre class="codehilite"><code class="language-python"># -*- coding: utf-8 -*-
# 蓝鲸登录方式：bk_login
# 企业内部Username-password登录方式：enterprise_ldap
# 自定义登录方式：custom_login
LOGIN_TYPE = 'custom_login'

# 默认 bk_login，无需设置其他配置

###########################
# 自定义登录 custom_login   #
###########################
# 配置自定义登录请求和登录回调的响应函数, 如：CUSTOM_LOGIN_VIEW = 'ee_official_login.oauth.google.views.login'
CUSTOM_LOGIN_VIEW = 'ee_official_login.oauth.google.views.login'
# 配置自定义验证是否登录的认证函数, 如：CUSTOM_AUTHENTICATION_BACKEND = 'ee_official_login.oauth.google.backends.OauthBackend'
CUSTOM_AUTHENTICATION_BACKEND = 'ee_official_login.oauth.google.backends.OauthBackend'</code></pre>


<p>配置变更完毕后, 重启登录服务, 访问登录页, 此时将只用使用 <code>admin/blueking</code> 才能登录成功</p>
<p>登录过程中会打 debug 日志, 本地开发环境: <code>../logs/login.log</code> 使用蓝鲸部署脚本部署环境: <code>{INSTALL_ROOT}/logs/open_paas/login.log</code></p><h1 id="_1">企业内部系统接入蓝鲸登录</h1>
<h2 id="_2">登录态共享</h2>
<p>蓝鲸登录态: 基于一级域名共享 cookie 的方式</p>
<ul>
<li>
<p>登录服务 与 接入系统 必须处于同一个一级域名下, 假设登录服务 <code>http://paas.bking.com/login/</code>, 对应接入的服务必须使用同一个一级域名, 访问地址类似 <code>http://{system_name}.bking.com</code></p>
</li>
<li>
<p>登录成功后, 登录服务会往一级域名下 <code>.bking.com</code> 写入 cookie <code>bk_token</code></p>
</li>
<li>
<p>第三方平台/对接系统等, 用户访问时, 尝试从一级域名 <code>.bking.com</code> 取 <code>bk_token</code></p>
<ul>
<li>
<p>如果没有取到, 则主动跳转蓝鲸统一登录服务</p>
</li>
<li>
<p>如果取到了, 需要调用登录服务接口, 校验 <code>bk_token</code> 的有效性, 如果有效, 可以调用登录接口获取相关的用户信息; 用户信息中 <code>username</code> 为唯一标识</p>
</li>
</ul>
</li>
</ul>
<h2 id="_3">登录相关逻辑和接口</h2>
<p>假设蓝鲸智云部署后, PaaS 平台的访问地址是 <code>http://paas.bking.com</code></p>
<h3 id="cookie-bk_token">从 cookie 中获取 <code>bk_token</code></h3>
<p>应用从 http 请求 cookie 中可以获取 <code>bk_token</code></p>
<p>Django 为例</p>
<pre class="codehilite"><code class="language-python">bk_token = request.COOKIES.get('bk_token', '')</code></pre>


<h3 id="_4">跳转登录页面</h3>
<p>前端直接跳转到登录页面: <code>http://paas.bking.com/login?c_url={login_success_redirect_url}</code></p>
<ul>
<li>
<p><code>c_url</code> 用于登录成功后, 跳往的目标页面</p>
</li>
<li>
<p><code>{login_success_redirect_url}</code> 是一个 <code>urlencode</code> 后的地址, 假设期望的目标地址是 <code>http://mysystem.bking.com/index.html</code>, <code>c_url</code> 值需要经过 <code>urlencode</code> 即 <code>http%3a%2f%2fmysystem.bking.com%2findex.html</code></p>
</li>
</ul>
<h3 id="bk_token">校验 <code>bk_token</code> 是否合法</h3>
<p>即校验登录态</p>
<ul>
<li>
<p>url: <code>http://paas.bking.com/login/accounts/is_login/</code></p>
</li>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>params: <code>bk_token</code></p>
</li>
<li>
<p>示例: <code>http://paas.bking.com/login/accounts/is_login/?bk_token=u4pDIp0yjOAuHXxL0ldjt_y7UB4PkfGTT7C9YlMM4Y4</code></p>
</li>
<li>
<p>接口返回: 校验成功</p>
</li>
</ul>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;User authentication succeeded&quot;,
    &quot;code&quot;: &quot;00&quot;,
    &quot;data&quot;:
    {
        &quot;username&quot;: &quot;admin&quot;
    },
    &quot;result&quot;: true
}</code></pre>


<ul>
<li>接口返回: 校验失败</li>
</ul>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;auth fail reason&quot;,
    &quot;code&quot;: &quot;1200&quot;,
    &quot;data&quot;: {},
    &quot;result&quot;: false
}</code></pre>


<h3 id="_5">获取用户信息</h3>
<ul>
<li>
<p>url: <code>http://paas.bking.com/login/accounts/get_user/</code></p>
</li>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>params: <code>bk_token</code></p>
</li>
<li>
<p>示例: <code>http://paas.bking.com/login/accounts/get_user/?bk_token=u4pDIp0yjOAuHXxL0ldjt_y7UB4PkfGTT7C9YlMM4Y4</code></p>
</li>
<li>
<p>接口返回: 获取成功</p>
</li>
</ul>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;Get user information succeeded&quot;,
    &quot;code&quot;: &quot;00&quot;,
    &quot;data&quot;:
    {
        &quot;username&quot;: &quot;admin&quot;,
        &quot;qq&quot;: &quot;&quot;,
        &quot;role&quot;: &quot;1&quot;,
        &quot;language&quot;: &quot;zh-cn&quot;,
        &quot;phone&quot;: &quot;12345678910&quot;,
        &quot;wx_userid&quot;: &quot;&quot;,
        &quot;email&quot;: &quot;mockadmin@mock.com&quot;,
        &quot;chname&quot;: &quot;mockadmin&quot;,
        &quot;time_zone&quot;: &quot;Asia/Shanghai&quot;
    },
    &quot;result&quot;: true
}</code></pre>


<ul>
<li>接口返回: 获取失败</li>
</ul>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;get userinfo fail reason&quot;,
    &quot;code&quot;: &quot;1200&quot;,
    &quot;data&quot;: {},
    &quot;result&quot;: false
}</code></pre><h1 id="_1">蓝鲸统一登录提供的基本函数接口说明</h1>
<h2 id="_2">用户信息相关</h2>
<pre class="codehilite"><code class="language-python"># 获取用户类 Model（即对应用户表）
from django.contrib.auth import get_user_model
user_model = get_user_model()

# 创建新用户
user = user_model.objects.create_user(username)
# 参数 username 表示用户名
# 返回一个 user_model 类的对象

# 用户角色
from bkaccount.constants import RoleCodeEnum
RoleCodeEnum.STAFF      # 普通用户
RoleCodeEnum.SUPERUSER  # 管理员
RoleCodeEnum.DEVELOPER  # 开发者
RoleCodeEnum.OPERATOR   # 职能化用户
RoleCodeEnum.AUDITOR    # 审计员

# 修改用户角色
result, message = user_model.objects.modify_user_role(role_code)
# 参数 role 为角色 Code, 可选择请看 RoleCodeEnum
# 返回元组(result, message)； result 为 boolean 类型，True/False , 即表示修改成功/修改失败；message 为 string 类型, 表示修改失败后的错误信息</code></pre>


<h2 id="_3">登录相关</h2>
<pre class="codehilite"><code class="language-python"># 蓝鲸登录的网址链接，如：http://{paas_domain}/login/
from django.conf import settings as bk_settings
bk_settings.LOGIN_COMPLETE_URL

# 用户实际请求的 URL 在请求中的 key, 目前是'c_url'
from bkaccount.accounts import Account
account = Account()
account.REDIRECT_FIELD_NAME
# 目前 account.REDIRECT_FIELD_NAME 为 c_url
# 获取用户实际请求的 URL
redirect_to = request.GET.get(account.REDIRECT_FIELD_NAME, '')

# 获取是否登录请求来自注销
is_from_logout = bool(request.GET.get('is_from_logout') or 0)

# 获取登录请求的蓝鲸应用或平台来源
app_id = request.GET.get('app_id', '')

# 跳转企业登录的响应
response = account.login_redirect_response(request, redirect_url, is_from_logout)
# 参数 request,  类型：django.http.HttpRequest
# 参数 redirect_url, 类型：string, 表示跳转到企业登录的 URL
# 参数 is_from_logout, 类型 boolean, 表示跳转前的请求是否来自注销
# 返回类型： django.http.HttpResponse

# 登录认证失败响应
response = account.login_failed_response(request, redirect_to, app_id)
# 参数 request,  类型：django.http.HttpRequest
# 参数 redirect_to, 类型：string, 表示用户实际请求的 URL
# 参数 app_id, 类型 string, 表示登录请求的蓝鲸应用或平台来源
# 返回类型： django.http.HttpResponse

# 登录成功响应
response = account.login_success_response(request, user, redirect_to, app_id)
# 参数 request,  类型：django.http.HttpRequest
# 参数 user, 类型： user_model即用户类，表示本次登录的用户
# 参数 redirect_to, 类型：string, 表示用户实际请求的 URL
# 参数 app_id, 类型 string, 表示登录请求的蓝鲸应用或平台来源
# 返回类型： django.http.HttpResponse</code></pre>


<h2 id="_4">通用方法</h2>
<pre class="codehilite"><code class="language-python"># 日志
from common.log import logger
logger.exception(message)
logger.info(message)
logger.error(message)</code></pre><h1 id="api">API 网关 简介</h1>
<p>蓝鲸 API 网关（API Gateway）是蓝鲸体系的 API 托管服务。可以帮助开发者创建、发布、维护、和保护 API，以快速、低成本、低风险地开放系统的数据或服务。 API 网关支持组件编码接入和在线自助接入两种接入方式，并提供了统一的 <strong>用户认证、蓝鲸应用鉴权、请求转发、日志记录</strong> 等功能。</p>
<h2 id="api_1">API 网关接入方式简述</h2>
<h3 id="_1">组件编码接入</h3>
<p>编码组件逻辑，并通过注册系统以及组件通道，提供 API 服务。适用于需自定义处理逻辑的场景。</p>
<p><img alt="-w2020" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/15282718574792" /></p>
<p>API 网关中，开发者编写组件代码，并通过 <strong>通道管理</strong>，添加组件通道配置，提供 API 服务。</p>
<p>组件通道配置，通过 <strong>组件代号</strong>，与代码中的组件类进行关联。</p>
<h4 id="_2">组件代号</h4>
<p><strong>组件代号</strong>由 API 网关根据组件代码自动生成，规则如下：</p>
<ul>
<li>
<p>组件代号由三部分组成：<code>前缀</code>.<code>系统名</code>.<code>组件类名</code></p>
</li>
<li>
<p>前缀：默认为 <code>generic</code></p>
</li>
<li>
<p>系统名：由组件类的 sys_name 属性指定，并转换为小写格式</p>
</li>
<li>
<p>组件类名：组件类的类名，类名非首字母的大写字母前加下划线，并转换为小写格式，如 GetHostList 转换为 get_host_list</p>
</li>
</ul>
<p>根据上述规则，系统 CMDB 组件类 GetHostList 的组件代号为：<code>generic.cmdb.get_host_list</code></p>
<h3 id="_3">在线自助接入</h3>
<p>通过在线配置接口信息，提供 API 服务。适用于将 HTTP 协议、无需特殊处理的接口，直接对接的场景。</p>
<p><img alt="-w2020" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/15282722893653" /></p>
<p>API 网关中，开发者通过 <strong>自助接入</strong>，在线配置接口信息，提供 API 服务。</p>
<p>自助接入方式，开发者不需要编写代码，仅通过配置，即可将自己的接口接入 API 网关。</p>
<h2 id="_4">名词解释</h2>
<h3 id="_5">系统</h3>
<p>系统主要用于对 API 进行分类，在 API 网关中，每一个 API 只能属于一个系统；系统的名称是系统的唯一标识，主要由字母和数字组成。</p>
<blockquote>
<p>注：系统 CC、JOB、GSE、DATA、AUTH、BK_LOGIN、BK_PAAS 为默认系统，注册系统时，不能使用</p>
</blockquote>
<h3 id="_6">通道和组件模块</h3>
<p>API 通过组合通道和组件模块来为用户提供接口服务：</p>
<p>1) 通道</p>
<ul>
<li>负责用户认证、应用认证、请求日志记录</li>
</ul>
<p>2) 组件模块</p>
<ul>
<li>
<p>负责参数验证、请求转发、响应处理</p>
</li>
<li>
<p>通道与组件模块的对应关系，可以在 <strong>通道管理</strong> 中进行管理。</p>
</li>
</ul>
<p>在通道管理页面，管理员为某个通道设置对应组件模块时，需要填写组件模块的 <strong>组件代号</strong>。</p>
<h3 id="_7">自助接入组件</h3>
<p>自助接入组件，是用户通过 <strong>自助接入</strong> 功能，注册的组件。</p>
<p>通过自助接入的方式，用户不需要开发组件模块代码，仅通过配置即可将自己的接口接入 API，自助接入的组件，</p>
<p>同样会进行用户认证和 APP 应用认证，以减少接口开发者的负担。</p>
<h2 id="_8">类别</h2>
<table>
<thead>
<tr>
<th>序号</th>
<th>基础用户服务</th>
<th>配置管理</th>
<th>主机管控</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>蓝鲸登录平台 BK_LOGIN</td>
<td>蓝鲸配置平台 CC</td>
<td>蓝鲸作业平台 JOB</td>
</tr>
<tr>
<td>2</td>
<td>蓝鲸消息管理 CMSI</td>
<td>……</td>
<td>……</td>
</tr>
</tbody>
</table>
<h2 id="_9">参数说明</h2>
<table>
<thead>
<tr>
<th align="center">序号</th>
<th align="center">参数名</th>
<th align="center">含义</th>
<th align="center">类型</th>
<th align="center">平台</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">1</td>
<td align="center">bk_app_code</td>
<td align="center">app 的唯一标识码</td>
<td align="center">string</td>
<td align="center">PaaS 平台</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">bk_app_secret</td>
<td align="center">应用私密 key，可以通过 <br> 蓝鲸 “开发者中心” -&gt; 点击 “应用 ID” -&gt; <br> “基本信息” 获取</td>
<td align="center">string</td>
<td align="center">PaaS 平台</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">bk_signature</td>
<td align="center">签名</td>
<td align="center">string</td>
<td align="center">PaaS 平台</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">bk_timestamp</td>
<td align="center">时间戳</td>
<td align="center">int</td>
<td align="center">PaaS 平台</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">bk_access_token</td>
<td align="center">登录票据</td>
<td align="center">string</td>
<td align="center">PaaS 平台</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">bk_token</td>
<td align="center">当前用户登录态，可以通过 Cookie 获取</td>
<td align="center">string</td>
<td align="center">PaaS 平台</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">bk_biz_id</td>
<td align="center">蓝鲸配置系统中的业务 ID</td>
<td align="center">int</td>
<td align="center">配置平台</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">bk_cloud_id</td>
<td align="center">子网 ID</td>
<td align="center">int</td>
<td align="center">配置平台</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">bk_cloud_name</td>
<td align="center">子网名称</td>
<td align="center">string</td>
<td align="center">配置平台</td>
</tr>
</tbody>
</table>
<h2 id="_10">在线文档</h2>
<p>更多官方社区版 API 的含义和使用信息，可以查阅 <a href="../../../API文档/readme.md">蓝鲸 API 在线文档</a></p>
<blockquote>
<p>说明：更多 API 信息，会持续更新。</p>
</blockquote><h1 id="_1">组件编码</h1>
<p>组件编码，通过编写组件代码，添加组件通道配置，提供 API 服务。以如下接口为例，详细介绍如何开发新组件。</p>
<blockquote>
<p>注：适用于需自定义处理逻辑的场景</p>
</blockquote>
<ul>
<li>系统名称：主机配置平台 HCP</li>
<li>接口名称：查询主机列表 get_host_list</li>
<li>接口地址：http://hcp.domain.com/hcp/get_host_list/</li>
</ul>
<h2 id="_2">添加系统</h2>
<p>添加一个新的系统，系统信息中填入以下内容：</p>
<ul>
<li>系统名称：HCP</li>
<li>系统标签：主机配置平台</li>
</ul>
<h2 id="_3">创建系统及组件文件</h2>
<p>在项目的 <code>components/generic/apis/</code> 下，按照下面结构创建目录及文件(<a href="https://bktencent-1252002024.file.myqcloud.com/hcp.tar.gz">模版下载</a>)：</p>
<pre class="codehilite"><code class="language-bash">components/generic/apis/
|
|-- hcp
|   |-- __init__.py
|   |-- toolkit
|   |   |-- __init__.py
|   |   |-- configs.py
|   |   |-- tools.py
|   |-- get_host_list.py</code></pre>


<ul>
<li>hcp 为系统包，包名为系统名称小写。</li>
<li>hcp/toolkit 为系统工具包，存储系统配置及共用方法。</li>
<li>hcp/toolkit/configs.py 为系统配置模块，配置系统名称、系统域名地址等。</li>
<li>hcp/toolkit/tools.py 为系统共用方法模块。</li>
<li>hcp/get_host_list.py 为"查询主机列表"组件模块。</li>
</ul>
<h2 id="_4">组件配置中添加系统信息</h2>
<p>在"components/generic/apis/hcp/toolkit/configs.py"中添加系统配置，样例如下：</p>
<pre class="codehilite"><code class="language-python"># -*- coding: utf-8 -*-
from esb.utils import SmartHost

# 系统名的小写形式要与系统包名保持一致
SYSTEM_NAME = 'HCP'

host = SmartHost(
    # 需要填入系统正式环境的域名地址
    host_prod='hcp.domain.com',
)</code></pre>


<h2 id="_5">开发组件模块</h2>
<p>在"components/generic/apis/hcp/get_host_list.py"中添加组件代码，样例如下：</p>
<pre class="codehilite"><code class="language-python"># -*- coding: utf-8 -*-
import json

from django import forms

from common.forms import BaseComponentForm, TypeCheckField
from components.component import Component
from .toolkit import configs

class GetHostList(Component):

    # 组件所属系统的系统名
    sys_name = configs.SYSTEM_NAME

    # Form处理参数校验
    class Form(BaseComponentForm):
        bk_biz_id = forms.CharField(label=u'业务ID', required=True)
        ip_list = TypeCheckField(label=u'主机IP地址', promise_type=list, required=False)

        # clean方法返回的数据可通过组件的form_data属性获取
        def clean(self):
            return self.get_cleaned_data_when_exist(keys=['bk_biz_id', 'ip_list'])

    # 组件处理入口
    def handle(self):
        # 获取Form clean处理后的数据
        data = self.form_data

        # 设置当前操作者
        data['operator'] = self.current_user.username

        # 请求系统接口
        response = self.outgoing.http_client.post(
            host=configs.host,
            path='/hcp/get_host_list/',
            data=json.dumps(data),
        )

        # 对结果进行解析
        code = response['code']
        if code == 0:
            result = {
                'result': True,
                'data': response['data'],
            }
        else:
            result = {
                'result': False,
                'message': result['message']
            }
        # 设置组件返回结果，payload为组件实际返回结果
        self.response.payload = result</code></pre>


<p>注意：</p>
<ul>
<li>组件类名，为组件模块名去掉下划线(_)，并转为驼峰形式，如 get_host_list 组件类名应为 GetHostList</li>
<li>组件开头部分为组件文档，注册组件通道后，通过下面指令可更新文档，组件文档地址</li>
</ul>
<pre class="codehilite"><code class="language-bash">workon open_paas-esb
python manage.py sync_api_docs</code></pre>


<h2 id="_6">注册组件通道</h2>
<p>组件模块开发完成后，<strong>注册组件通道</strong>，通道信息中填入内容如下：</p>
<ul>
<li>通道名称：查询服务列表</li>
<li>通道路径：/hcp/get_host_list/</li>
<li>所属系统：选择 HCP 系统</li>
<li>对应组件代号：generic.hcp.get_host_list</li>
</ul>
<h2 id="_7">重启服务</h2>
<p>组件添加完成后，重启服务，重启步骤如下:</p>
<pre class="codehilite"><code class="language-bash"># 设置环境变量
source /root/.bkrc
source $CTRL_DIR/functions
export BK_ENV=production
export BK_FILE_PATH=/data/bkce/open_paas/cert/saas_priv.txt
export PAAS_LOGGING_DIR=/data/bkce/logs/open_paas

# INSTALL_PATH 表示项目安装基准目录，比如：/data/bkce
# 重启指令
workon open_paas-paas
supervisorctl -c $INSTALL_PATH/etc/supervisor-open_paas.conf restart esb</code></pre>


<p>新组件的访问地址为：</p>
<pre class="codehilite"><code class="language-bash">http://xxx.domain.com/api/c/compapi/hcp/get_host_list/</code></pre>


<h2 id="_8">附录</h2>
<p>开发新组件时，在组件模块中，可根据组件基类 Component 或公用模块获取一些有用数据，帮助开发。</p>
<h3 id="component">Component 基类中可用数据</h3>
<ul>
<li>request: 请求数据，其中常用的属性参考下文描述</li>
<li>form_data: 组件模块中自定义 Form clean 后的数据</li>
<li>current_user: 当前用户，通过其属性 username 获取当前用户的用户名</li>
<li>outgoing.http_client: 请求接口 Client，可用其请求其他接口，具体参数参考下面描述</li>
</ul>
<h3 id="component-request">Component 中 request 的常用属性</h3>
<ul>
<li>request_id: 一次请求的唯一 ID，一个 uuid 字符串</li>
<li>app_code: 当前请求的应用 ID</li>
<li>kwargs: 当前的请求参数，GET 请求中的 QueryString 数据 或 POST 请求中 Request Body 数据，已转换为 dict</li>
</ul>
<h3 id="component-outgoinghttp_client">Component 中 outgoing.http_client 支持方法</h3>
<pre class="codehilite"><code class="language-python"># response_type: json，接口数据是否需要转换为JSON字典，其他不转换
# max_retries: 0, 接口请求异常时，重试次数
# request_encoding: 请求接口参数转码为此种类型
# response_encoding: 接口返回数据转码为此种类型
outgoing.http_client.request(
    method, host, path, params=None, data=None, headers={},
    response_type='json', max_retries=0, response_encoding=None,
    request_encoding=None, verify=False, cert=None,
    timeout=None
)
outgoing.http_client.get # 表示 request('GET', *args, **kwargs)
outgoing.http_client.post # 表示 request('POST', *args, **kwargs)</code></pre>


<h3 id="commonforms-field">common.forms 模块中自定义 Field</h3>
<ul>
<li>ListField: 列表 Field，可将逗号，分号、换行、空格分隔的字符串，转换为列表，如可将"123;456;789"转换为["123", "456", "789"]</li>
<li>TypeCheckField: 类型检测 Field, 通过设置 promise_type 参数，检测数据的类型，若参数类型不符，抛出异常</li>
<li>DefaultBooleanField: 默认布尔 Field，布尔数据可通过 default 参数设置默认值</li>
</ul>
<h3 id="_9">组件内调用其他组件的方式</h3>
<ul>
<li>invoke_other 方式，当前用户 current_user 会传递到被调用组件</li>
</ul>
<pre class="codehilite"><code class="language-python">result = self.invoke_other('generic.auth.get_user', kwargs={'username': 'xxx'})</code></pre>


<h3 id="_10">直接调用方式</h3>
<pre class="codehilite"><code class="language-python">from esb.components.generic.apis.auth.get_user import GetUser
result = GetUser().invoke(kwargs={'username': 'xxx'})</code></pre><h1 id="_1">自助接入</h1>
<p>自助接入，开发者不需要编写代码，在<strong>自助接入</strong>进行配置， 即可将自己的接口接入 API 网关。以如下接口为例，详细介绍如何完成自助接入。</p>
<blockquote>
<p>注：适用于将 HTTP 协议、无需特殊处理的接口，直接对接的场景</p>
</blockquote>
<ul>
<li>系统名称：主机配置平台 HCP</li>
<li>接口名称：查询主机列表 get_host_list</li>
<li>接口地址：http://hcp.domain.com/hcp/get_host_list/</li>
</ul>
<h2 id="_2">添加系统</h2>
<p><strong>添加一个新的系统</strong>，系统信息中填入以下内容：</p>
<ul>
<li>系统名称：HCP</li>
<li>系统标签：主机配置平台</li>
</ul>
<h2 id="api">添加 API 配置</h2>
<p>打开<strong>自助接入</strong>页面，填写接口配置信息，配置信息包含三部分内容：<strong>注册配置、请求发出前、请求目的地</strong>。</p>
<h3 id="_3">注册配置</h3>
<p>注册配置用于指定用户访问 API 的信息。注册配置中填入以下内容：</p>
<ul>
<li>API 名称：查询主机列表</li>
<li>所属系统：选择 HCP 系统</li>
<li>注册到的请求类型：GET</li>
<li>注册到的 API 路径：/hcp/get_host_list/ </li>
</ul>
<p>通过"注册到的路径"，加上统一前缀，即是 API 的接口地址：</p>
<pre class="codehilite"><code class="language-bash">http://xxx.domain.com/api/c/self-service-api/hcp/get_host_list/</code></pre>


<h3 id="_4">请求发出前</h3>
<p>请求发出前用于配置访问系统接口时的请求头信息。</p>
<h3 id="_5">请求目的地</h3>
<p>请求目的地用于配置请求系统接口的信息，如系统接口的地址，请求方式，参数设置等。请求目的地配置中填入以下内容：</p>
<ul>
<li>目标接口地址：http://hcp.domain.com/hcp/get_host_list/</li>
<li>目标接口请求类型：POST</li>
<li>编码 POST 参数方式：json ，<strong>目标接口请求方式为 POST 时，才需要指定</strong></li>
</ul>
<h2 id="api_1">API 访问信息</h2>
<p>通过上面的配置，即可接入 API，访问 API 同样会进行应用和用户的认证。API 的访问地址为：</p>
<pre class="codehilite"><code class="language-bash">http://xxx.domain.com/api/c/self-service-api/hcp/get_host_list/</code></pre><h1 id="api">API 调用说明</h1>
<p>请求 API 时，需提供 APP 应用认证信息和用户认证信息，用以对 APP 应用和当前用户进行认证。</p>
<h2 id="app">APP 应用认证</h2>
<p>使用 API 前，需先根据<strong>已有应用</strong>或<strong>创建一个应用</strong>，获取应用 ID 和安全密钥，作为应用认证信息。</p>
<ul>
<li><strong>应用 ID</strong>: 应用唯一标识，创建应用时由创建者指定，可在应用基本信息中通过 <strong>应用 ID</strong>获取</li>
<li><strong>安全密钥</strong>: 应用密钥，创建应用后由平台生成，可在应用基本信息中通过 <strong>安全密钥</strong> 获取</li>
</ul>
<h2 id="_1">用户认证</h2>
<p>用户认证，通过验证用户登录态实现。用户登录态 bk_token，在用户登录后，存储在浏览器的 Cookies 中。</p>
<p>调用 API 时，若无法提供用户登录态，可将应用 ID 添加到应用免登录态验证白名单中，则此应用请求 API 时，提供当前用户的 bk_username 即可。</p>
<ul>
<li>functioncontroller: <strong>通用白名单管理</strong>，通过指定不同的功能 code，维护不同的白名单</li>
<li>user_auth::skip_user_auth: "应用免登录态验证白名单" 功能 code，添加此功能 code，然后将应用 ID 添加到"功能测试白名单"中</li>
</ul>
<h2 id="api_1">API 调用</h2>
<p>调用 API 主要有两种方式，一种是使用 APP 开发框架中提供的 SDK 包，一种是根据 API 地址直接访问。</p>
<h3 id="app-sdk">利用 APP 开发框架中的 SDK 包</h3>
<p>使用 SDK 包访问 API 有两种方式 shortcuts 或 ComponentClient。使用示例如下：</p>
<ul>
<li>shortcuts -- get_client_by_request</li>
</ul>
<pre class="codehilite"><code class="language-python">    from blueking.component.shortcuts import get_client_by_request
    # 默认从django settings中获取APP认证信息：应用ID和安全密钥
    # 默认从django request中获取用户登录态bk_token
    client = get_client_by_request(request)
    # 参数
    kwargs = {'bk_biz_id': 1}
    result = client.cc.get_app_host_list(kwargs)</code></pre>


<ul>
<li>shortcuts -- get_client_by_user</li>
</ul>
<pre class="codehilite"><code class="language-python">    from blueking.component.shortcuts import get_client_by_user
    # 默认从django settings中获取APP认证信息：应用ID和安全密钥
    # 默认从user中获取username，user为User对象或直接为User中username数据
    user = 'username'
    client = get_client_by_user(user)
    # 参数
    kwargs = {'bk_biz_id': 1}
    result = client.cc.get_app_host_list(kwargs)</code></pre>


<ul>
<li>ComponentClient</li>
</ul>
<pre class="codehilite"><code class="language-python">    from blueking.component.client import ComponentClient
    # APP应用ID
    bk_app_code = 'xxx'
    # APP安全密钥
    bk_app_secret = 'xxx-xxx-xxx-xxx-xxx'
    # 用户登录态信息
    common_args = {'bk_token': 'xxx'}
    # APP应用ID和APP安全密钥如未提供，默认从django settings中获取
    client = ComponentClient(
        bk_app_code=bk_app_code,
        bk_app_secret=bk_app_secret,
        common_args=common_args
    )
    # 参数
    kwargs = {'bk_biz_id': 1}
    result = client.cc.get_app_host_list(kwargs)
 ```

### APP 开发框架中的 SDK 包

SDK 包默认包含系统提供的所有 API；

用户开发的组件及自助接入的 API，可以通过以下步骤添加到 SDK 包：

- 在 APP 开发框架 blueking/component/apis 目录下，创建系统包文件，如系统名称为 agent，可创建系统包文件 agent.py
- 系统包文件中添加 API 信息，如 agent.py 中添加 create_task 的访问入口

```python
# -*- coding: utf-8 -*-
from ..base import ComponentAPI


# 系统API集合类的名称，一般为 Collections + 系统名
class CollectionsAGENT(object):

    def __init__(self, client):
        self.client = client

        # create_task为API名，method为请求API使用的方法，path为API路径，API域名为系统默认域名
        self.create_task = ComponentAPI(
            client=self.client, method='POST', path='/api/c/compapi/agent/create_task/',
            description=u'',
        )</code></pre>


<ul>
<li>在 blueking/component/collections.py 中加入系统 API 文件信息（若已加入则忽略此步骤）</li>
</ul>
<pre class="codehilite"><code class="language-python"># 导入路径
from .apis.agent import CollectionsAGENT

AVAILABLE_COLLECTIONS = {
    'cc': CollectionsCC,
    'job': CollectionsJOB,
    'bk_login': CollectionsBkLogin,

    # 此处加入新包信息
    'agent': CollectionsAGENT,
}</code></pre>


<h2 id="_2">直接访问</h2>
<p>请求参数包括：应用信息(bk_app_code + bk_app_secret)，用户信息(bk_token 或 bk_username)，及请求参数</p>
<p>用 curl 直接访问示例如下：</p>
<pre class="codehilite"><code class="language-bash">curl -d '{&quot;bk_app_code&quot;: &quot;xxx&quot;, &quot;bk_app_secret&quot;: &quot;xxx&quot;, &quot;bk_token&quot;: &quot;xxx&quot;, &quot;bk_biz_id&quot;: 1}' 'http://domain.com/path/'

curl 'http://domain.com/path/?bk_app_code=xxx&amp;bk_app_secret=xxx&amp;bk_token=xxx&amp;bk_biz_id=1'   # 数据需urlencode编码</code></pre><h1 id="_1">自定义配置管理</h1>
<p>用户开发组件或自助接入 API 时，都需要将配置信息，同步到数据库中；通过管理端管理配置的方式，不方便对数据进行迁移，因此，API 网关提供一种通过配置文件管理配置的方式。</p>
<h2 id="_2">配置文件地址</h2>
<p>在配置文件中，管理自定义的系统及 API 配置</p>
<pre class="codehilite"><code class="language-bash">[install_path]/open_paas/esb/components/generic/apis/conf.py</code></pre>


<h2 id="_3">配置文件内容</h2>
<p>配置文件 <code>conf.py</code> 是一个普通的 python 模块，其中包含以下变量</p>
<ul>
<li>SYSTEM_DOC_CATEGORY: 文档分类，指定系统在 <strong>API 文档</strong>中所属的<strong>文档分类</strong></li>
<li>SYSTEMS: 系统信息，对应管理端的<strong>系统管理</strong></li>
<li>CHANNELS: 组件通道信息，对应管理端的<strong>通道管理</strong></li>
<li>BUFFET_COMPONENTS: 自助接入 API 信息，对应管理端的<strong>自助接入</strong></li>
</ul>
<h3 id="system_doc_category">SYSTEM_DOC_CATEGORY</h3>
<p>文档分类</p>
<pre class="codehilite"><code class="language-python">SYSTEM_DOC_CATEGORY = [
    {
        # 文档分类标签
        'label': 'Test-Catg',
        # 展示优先级，范围 [1, 10000]，数字小的展示在前面
        'priority': 100,
        # 文档分类下的系统名
        'systems': ['TEST'],
    },
]</code></pre>


<h3 id="systems">SYSTEMS</h3>
<p>系统</p>
<pre class="codehilite"><code class="language-python">SYSTEMS = [
    {
        # 系统名称
        'name': 'TEST',
        # 系统标签
        'label': 'My Test',
        # 系统接口负责人
        'interface_admin': 'admin',
        # 执行类超时时长
        'execute_timeout': 30,
        # 查询类超时时长
        'query_timeout': 30,
        # 备注
        'remark': 'My Test',
    },
]</code></pre>


<h3 id="channels">CHANNELS</h3>
<p>组件通道</p>
<pre class="codehilite"><code class="language-python">CHANNELS = [
    # 通道名称，所属系统，API类型通过组件模块自动获取

    # 通道路径
    ('/test/healthz/', {
        # 对应组件代号
        'comp_codename': 'generic.test.healthz',
    }),
]</code></pre>


<h3 id="buffet_components">BUFFET_COMPONENTS</h3>
<p>自助接入 API</p>
<pre class="codehilite"><code class="language-python">BUFFET_COMPONENTS = [
    {
        # 注册配置
        # API名称
        'name': 'get template list',
        # 所属系统名称
        'system_name': 'TEST',
        # 注册到的请求类型
        'registed_http_method': 'GET',
        # 注册到的API路径
        'registed_path': '/test/heartbeat/',
        # API类型，2 是查询API，1 是执行API
        'type': 2,  
        # 超时时长
        'timeout_time': 10,

        # 请求发出前
        # 请求头信息
        'extra_headers': {
            'Token': '1234567890',
        },

        # 请求目的地
        # 目标接口地址
        'dest_url': 'http://domain.test.com/test/heartbeat/',
        # 目标接口请求类型
        'dest_http_method': 'POST',
        # 编码POST参数方式，可选值：json, form
        'favor_post_ctype': 'json',
    },
]</code></pre>


<h2 id="_4">同步配置到数据库</h2>
<pre class="codehilite"><code class="language-bash"># 设置环境变量
source /root/.bkrc
source $CTRL_DIR/functions
export BK_ENV=production
export BK_FILE_PATH=/data/bkce/open_paas/cert/saas_priv.txt
export PAAS_LOGGING_DIR=/data/bkce/logs/open_paas

workon open_paas-esb
# 默认情况，当部分配置与数据库中数据不一致时，显示差别信息；
# --force，配置与数据库中数据不一致时，强制将配置更新到数据库
python manage.py sync_system_and_channel_data [--force]</code></pre><h1 id="cmsi">CMSI 消息组件</h1>
<p>当前，API 网关提供的消息通知通道有：</p>
<ul>
<li>公共语音通知: /cmsi/send_voice_msg/</li>
<li>发送邮件: /cmsi/send_mail/</li>
<li>发送微信: /cmsi/send_weixin/</li>
<li>发送短信: /cmsi/send_sms/</li>
</ul>
<p>API 网关定义了这些消息通知组件的<strong>接口协议</strong>，给出了组件样例（参考项目下的 components/generic/templates/cmsi/），但是，并没有完全实现组件内容，用户可根据接口协议，重写此部分组件。</p>
<p>API 网关为降低实现消息通知组件的难度，提供了在线更新组件配置，不需编写组件代码的方案。</p>
<blockquote>
<p>注意：若要更改组件样例，需将样例代码 copy 到 components/generic/apis/cmsi/下修改，components/generic/templates/cmsi 中内容，每次发布都会被覆盖。</p>
</blockquote>
<h2 id="_1">方案一</h2>
<p>用户提供兼容消息通知组件<strong>接口协议</strong>的接口，然后，通过以下步骤配置到组件，API 网关会将请求转发到此接口。</p>
<ul>
<li>在<strong>通道管理</strong>中找到对应的组件通道，打开编辑页面</li>
<li>在<strong>组件配置</strong>下，将接口地址配置到变量 dest_url 下</li>
</ul>
<p><strong>注意：</strong></p>
<pre class="codehilite"><code class="language-txt">1. send_voice_msg 组件，若 receiver__username 参数有效，将会根据平台用户数据，生成参数 user_list_information
2. send_mail 组件，若 receiver__username，cc__username 参数有效，将会根据平台用户数据，分别生成参数 receiver, cc
3. send_sms 组件，若 receiver__username 参数有效，将会根据平台用户数据，生成参数 receiver
4. send_mail 组件配置中，变量 mail_sender 表示默认的邮件发送者</code></pre>


<h2 id="_2">方案二</h2>
<h3 id="_3">发送邮件</h3>
<p>用户提供 SMTP 邮件服务地址和帐号，然后，通过以下步骤配置到发送邮件组件，支持通过 SMTP 发送邮件。</p>
<ul>
<li>在<strong>通道管理</strong>中查找 /cmsi/send_mail/ 组件通道，打开编辑页面</li>
<li>在<strong>组件配置</strong>下，将 SMTP 协议信息配置到变量 smtp_host, smtp_port, smtp_user, smtp_pwd 下</li>
</ul>
<h3 id="_4">发送短信</h3>
<p>用户提供腾讯云应用帐号，然后，通过以下步骤配置到发送短信组件，支持通过腾讯云发送短信</p>
<ul>
<li>在<strong>通道管理</strong>中查找 /cmsi/send_sms/ 组件通道，打开编辑页面</li>
<li>在<strong>组件配置</strong>下，将腾讯云业务帐号配置到变量 qcloud_app_id, qcloud_app_key 下，<strong>腾讯云帐号为高度敏感信息，注意保密</strong></li>
</ul>
<blockquote>
<p>注意：发送短信前，需要到腾讯云上，在应用下创建签名，及创建正文模版</p>
</blockquote>
<h3 id="_5">发送微信消息</h3>
<p>支持发送企业微信消息和微信公众号消息。用户提供企业微信帐号或微信公众号帐号，然后，通过以下步骤配置到发送微信消息组件。</p>
<ul>
<li>在<strong>通道管理</strong>中查找 /cmsi/send_weixin/ 组件通道，打开编辑页面</li>
<li>在<strong>组件配置</strong>下，通过选择 wx_type，指定要发送的消息类型：企业微信、微信公众号，然后，将对应微信帐号的信息配置到相应变量，<strong>微信帐号为高度敏感信息，注意保密</strong></li>
</ul>
<blockquote>
<p>注意：发送微信公众号消息时，应用需在微信创建消息模版，模版包含 4 个变量：first (对应组件参数 heading), keyword1(对应组件参数 message), keyword2(对应组件参数 date), remark (对应组件参数 remark)，更多 <a href="WeChat.md">微信消息组件</a>介绍</p>
</blockquote><h1 id="_1">微信消息组件</h1>
<blockquote>
<p>蓝鲸微信消息可通过微信公众号或者企业微信 2 种方式进行通知, 在配置前请先阅读 2 种方式的差异性，再选择其中一种方式进行配置</p>
</blockquote>
<table border="1">
<tr>
<th>通知方式</th>
<th>用户绑定</th>
<th> open_paas 模块所在服务器配置</th>
<th>微信公众平台配置</th>
</tr>
<tr>
<td>微信公众号</td>
<td>用户客户端需要有外网或者至少能访问微信相关链接</td>
<td>(1) 必须要有外网或者能访问微信提供的API <br>(2) 需要反向代理，能够让代理转发到http://{paas_domain}/console/user_center/weixin/mp/callback/</td>
<td>(1)服务器配置<br>(2)消息模板配置</td>
</tr>
<tr>
<td>企业微信</td>
<td>用户客户端需要有外网或者至少能访问微信相关链接</td>
<td>必须要有外网或者能访问微信提供的 API</td>
<td>授权回调域配置</td>
</tr>
</table>

<h2 id="_2">前提准备</h2>
<ul>
<li>open_paas 模块所在服务器必须能访问微信提供的 API，微信相关域名如下:</li>
</ul>
<pre class="codehilite"><code class="language-bash"># 微信提供的 API 协议均为 https
# 微信公众号
api.weixin.qq.com
# 企业微信
qyapi.weixin.qq.com</code></pre>


<ul>
<li>确保用户客户端浏览器能够访问微信相关链接，微信相关域名如下:</li>
</ul>
<pre class="codehilite"><code class="language-bash"># 微信提供的 API 协议均为https
# 微信公众号
mp.weixin.qq.com
# 企业微信
open.work.weixin.qq.com
rescdn.qqmail.com
js.aq.qq.com</code></pre>


<h2 id="_3">入口说明</h2>
<ul>
<li>微信公众号： <a href="https://mp.weixin.qq.com/">https://mp.weixin.qq.com/</a></li>
<li>企业微信：<a href="https://work.weixin.qq.com/">https://work.weixin.qq.com/</a></li>
<li>蓝鲸微信组件配置入口： http://{paas_domain}/esb/manager/index/ , 通道管理 → 找到通道名称为“发送微信消息”的组件 → 组件配置</li>
<li>蓝鲸用户微信绑定入口： http://{paas_domain}, 个人中心 → 微信绑定</li>
</ul>
<h2 id="_4">一、微信公众号</h2>
<p><strong>微信公众号 → 消息模板配置</strong></p>
<blockquote>
<p>请进入微信公众平台“公众号后台 → 模板消息 → 模板库”</p>
</blockquote>
<ul>
<li>搜索“蓝鲸消息提醒”，只有所在行业是 IT 科技 互联网才能搜索到，其他行业可以请自行添加模板，点击帮助我们完善模板，进入模板库添加（提交后需要一定时间的审核）</li>
</ul>
<p><img alt="-w2020" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/15081375626539.jpg" /></p>
<p><img alt="-w2020" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/15081379473152.jpg" /></p>
<ul>
<li>蓝鲸默认模板内容和蓝鲸组件参数与模版参数映射关系如下图所示，如需调整，可修改 open_paas/esb/components/generic/apis/cmsi/send_weixin.py 中的 get_mp_msg_data 方法</li>
</ul>
<p><img alt="-w2020" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/15081384579344.jpg" /></p>
<table>
<thead>
<tr>
<th>组件参数</th>
<th>微信消息模板参数</th>
</tr>
</thead>
<tbody>
<tr>
<td>heading</td>
<td>first</td>
</tr>
<tr>
<td>message</td>
<td>Keyworkd1</td>
</tr>
<tr>
<td>date</td>
<td>keyworkd2</td>
</tr>
<tr>
<td>remark</td>
<td>Remark</td>
</tr>
</tbody>
</table>
<ul>
<li>若已经添加模块库或者已经搜索到“蓝鲸消息通知”的模板库，点击详情进入该模板并添加该模板，添加后在“功能 → 模板消息 → 我的模板”中将看到添加的消息模板，其中的模版 ID 是我们后续配置组件需要的</li>
</ul>
<p><strong>微信公众号 → IP 白名单和服务器配置</strong></p>
<blockquote>
<p>请先在微信公众平台上查看公众号后台 → 开发 → 基本配置，是否已经配置了服务器配置（服务器地址，令牌，消息加解密密钥，消息加解密方式）</p>
</blockquote>
<p><img alt="-w2020" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/15081252708641.jpg" /></p>
<p><strong>1. 基本配置 → IP 白名单</strong></p>
<p>由于 ESB 发送微信消息需要调用微信获取 AccessToken 接口，所以需要在“基本配置 → 公众号开发者信息 → IP 白名单”中配置蓝鲸 PaaS 部署的机器 IP</p>
<p><strong>2. 微信公众平台上已配置了服务器配置</strong></p>
<p>联系配置了服务器配置的人员，请其协助将在服务器地址响应的服务中添加调用http://{paas_domain}/console/user_center/weixin/mp/callback/（透传微信事件推送） （<font color=red>非 80 端口则 paas_domain 需带上端口，若是 ssl，则需将 http 改为 https</font>）</p>
<p><strong>3. 微信公众平台上未配置服务器配置</strong></p>
<p>填写服务器配置（填写完，<font color=red>先不要点击提交</font>）</p>
<ul>
<li>url 填写外网能够访问到的 URL（暂时称为 weixin_server_url） 同时需要配置反向代理，将 weixin_server_url 转发到企业蓝鲸平台 http://{paas_domain}/console/user_center/weixin/mp/callback/ （<font color=red>非 80 端口则 paas_domain 需带上端口，若是 ssl，则需将 http 改为 https</font>）</li>
<li>Token 英文或数字，长度为 3-32 字符，请自行定义随机填写</li>
<li>EncodingAESKey 点击随机生成即可</li>
<li>消息加解密方式，选择明文模式即可（任何一种模式都不影响）</li>
</ul>
<p>填写完服务器配置后，请<font color=red>不要点击提交</font>，其实提交也没用，一定会出现“Token 验证失败”，因为点击提交，微信会验证 weixin_server_url 能够正常响应验证，</p>
<p>由于还未配置蓝鲸微信消息通知组件，所以一定是失败的，故需要先进行下一步“配置完蓝鲸微信消息通知组件”,再返回来点击提交（<font color=red>记得下一步完成后回来点击提交!!!</font>）</p>
<p><strong>蓝鲸平台 → API 网关</strong></p>
<blockquote>
<p>蓝鲸微信组件配置入口：http:/{paas_domain}/esb/manager/index/, 通道管理 → 找到通道名称为“发送微信消息”的组件 → 组件配置</p>
</blockquote>
<p><img alt="-w2020" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/15081404321746.jpg" /></p>
<ul>
<li>wx_type 选择“微信公众号”</li>
<li>wx_app_id 【“微信公众号 → 开发 → 基本配置 → 公众号开发信息”】开发者 ID(AppID)</li>
<li>wx_secret 【"微信公众号 → 开发 → 基本配置 → 公众号开发信息"】开发者密码(AppSecret) 由于没有显示，可以请企业内维护该公众号的管理员提供</li>
<li>wx_token 【"微信公众号 → 开发 → 基本配置 → 服务器配置"】令牌(Token)</li>
<li>wx_template_id 【“微信公众号 → 功能 → 模板消息”】选择之前第一步中配置的消息模板的模板 ID</li>
</ul>
<p>至此蓝鲸通过公众号发送消息的配置完成，请到最后一步用户绑定后验证配置是否正确</p>
<h2 id="_5">二、企业微信</h2>
<h3 id="_6">企业微信配置</h3>
<ul>
<li>配置用于蓝鲸消息通知的应用</li>
</ul>
<p>“企业微信 → 企业应用” 可以选择已经存在的自建应用或者新建一个应用，将应用的可见范围设置为全企业人员（或至少设置为可能需要接送微信消息通知的人员）</p>
<ul>
<li>配置 Web 网页登录授权回调域</li>
</ul>
<p>“企业微信 → 企业应用 → 选择对应的应用 → 企业微信授权登录 → 设置 → Web 网页 → 设置授权回调域” 设置{paas_domain}为登录授权回到域（<font color=red>非 80 端口则 paas_domain 需带上端口</font>）</p>
<h3 id="api">蓝鲸平台 → API 网关</h3>
<blockquote>
<p>蓝鲸微信组件配置入口：http:/{paas_domain}/esb/manager/index/, 通道管理 → 找到通道名称为“发送微信消息”的组件 → 组件配置</p>
</blockquote>
<p><img alt="-w2020" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/15081438048577.jpg" /></p>
<ul>
<li>wx_type 选择"企业微信"</li>
<li>wx_qy_corpid 【"企业微信 → 我的企业 → 企业信息"】CorpID</li>
<li>wx_qy_corpsecret 【“企业微信 → 企业应用 → 选择对应应用”】Secret</li>
<li>wx_qy_agentid 【“企业微信 → 企业应用 → 选择对应应用”】AgentId</li>
</ul>
<p>至此蓝鲸通过企业微信发送消息的配置完成，请到最后一步用户绑定后验证配置是否正确</p>
<h2 id="_7">用户绑定</h2>
<blockquote>
<p>蓝鲸桌面 → 个人中心 → 绑定微信</p>
</blockquote>
<p>点击"绑定微信"，扫描绑定即可，需要注意：</p>
<p>（1）若是企业微信，需要用户用企业微信 APP 进行扫描</p>
<h2 id="_8">其它注意项</h2>
<ul>
<li>
<p><strong>组件会根据开发者 ID 和开发者密码，获取 access_token 发送模版消息等，业务若需集中管理 access_token，可优化 components/apis/weixin_mp/get_token.py 中 access_token 获取逻辑</strong></p>
</li>
<li>
<p>用户绑定二维码未出现原因</p>
</li>
</ul>
<p>（1）用户客户端未能访问外网或无法访问微信相关 URL</p>
<p>（2）open_paas 所在服务器服务访问外网或至少无法请求微信相关接口</p><h1 id="_1">标准运维插件开发</h1>
<p>标准运维插件是标准运维任务执行的最小单元，对应于内部某项服务（如定时）或者第三方系统 API 的调用（如 JOB-快速执行脚本），</p>
<p>通过将 API 参数前端表单化，加上参数校验、逻辑封装等功能，以图形化的方式提供给用户使用。</p>
<p>标准插件功能主要包括输入、执行、输出三部分。
<img alt="-w2020" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/001.png" /></p>
<p>标准插件架构包含插件定义 Component、后台执行逻辑 Service、以及前端表单配置 Forms。
<img alt="-w2020" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/002.png" /></p>
<h2 id="_2">标准插件开发步骤</h2>
<h3 id="_3">初始化插件模块</h3>
<p>在项目根目录下执行 <code>python manage.py create_atoms_app {CUSTOM PLUGINS NAME}</code>，</p>
<p>其中 <code>{CUSTOM PLUGINS NAME}</code> 为你定制开发的标准插件集合包名，</p>
<p>注意不要和项目中已有的模块和插件集合名字重复，名字最好能体现插件包的作用。</p>
<p>执行命令后会生成如下目录结构：</p>
<pre class="codehilite"><code class="language-bash">{CUSTOM PLUGINS NAME}
├── __init__.py
├── apps.py
├── components
│   ├── __init__.py
│   └── collections
│       ├── __init__.py
│       └── plugins.py
├── migrations
│   └── __init__.py
├── static
│   └── {CUSTOM PLUGINS NAME}
│       └── plugins.js
└── tests
    ├── __init__.py
    └── components
        ├── __init__.py
        └── collections
            ├── __init__.py
            └── plugins_test
                └── __init__.py</code></pre>


<p>其中，components 放置标准插件集合后台代码文件，static 放置标准插件集合前端静态代码文件，</p>
<p><code>plugin.py</code> 和 <code>plugin.js</code> 可以改为你开发的标准插件对应的系统名简称，如 job、cmdb 等。</p>
<h3 id="settings">修改项目 settings 配置</h3>
<p>打开 <code>config/default.py</code> 文件，找到 INSTALLED_APPS 变量，加入步骤 1 中创建的 <code>{CUSTOM PLUGINS NAME}</code>。</p>
<h3 id="api">加入新的 API 网关</h3>
<p>如果你开发的标准插件依赖自定义接入的 API 网关，那么在你将接口接入蓝鲸 API 网关后，需要手动将 API 添加到 Client SDK 中。</p>
<p>在 <code>{CUSTOM PLUGINS NAME}/__init__.py</code> 文件下编写相应的代码即可向 Client 中添加对应的接口：</p>
<pre class="codehilite"><code class="language-python">from packages.blueking.component import collections
from packages.blueking.component.base import ComponentAPI
from packages.blueking.component.client import ComponentClient

class CollectionsMySystem(object):

    def __init__(self, client):
        self.client = client

        self.get_status = ComponentAPI(
            client=self.client, method='GET',
            path='/api/c/compapi{bk_api_ver}/my_system/status/',
            description=u&quot;查询状态&quot;
        )

        self.set_status = ComponentAPI(
            client=self.client, method='POST',
            path='/api/c/compapi{bk_api_ver}/my_system/status/',
            description=u&quot;设置状态&quot;
        )


collections.AVAILABLE_COLLECTIONS.update({
    'my_system': CollectionsMySystem
})

ComponentClient.setup_components(collections.AVAILABLE_COLLECTIONS)</code></pre>


<p>上面的例子中为 Client 添加了一个名为 <code>my_system</code> 的系统，并且为该系统中添加了 <code>get_status</code> 和 <code>set_status</code> 两个接口。</p>
<h3 id="_4">标准插件后台开发</h3>
<p>在 <code>plugin.py</code> 文件中编写插件后台逻辑，主要包括标准插件定义和后台执行逻辑，</p>
<p>下面是示例代码</p>
<pre class="codehilite"><code class="language-python"># -*- coding: utf-8 -*-

import logging

from django.utils.translation import ugettext_lazy as _

from pipeline.core.flow.activity import Service
from pipeline.component_framework.component import Component
from gcloud.conf import settings

logger = logging.getLogger('celery')
get_client_by_user = settings.ESB_GET_CLIENT_BY_USER

__group_name__ = _(u&quot;自定义插件(CUSTOM)&quot;)

class TestCustomService(Service):
    __need_schedule__ = False

    def execute(self, data, parent_data):
        executor = parent_data.inputs.executor
        biz_cc_id = parent_data.inputs.biz_cc_id
        client = get_client_by_user(executor)

        test_input = data.inputs.test_input
        test_textarea = data.inputs.test_textarea
        test_radio = data.inputs.test_radio

        api_kwargs = {
            'biz_biz_id': biz_cc_id,
            'executor': executor,
            'test_input': test_input,
            'test_textarea': test_textarea,
            'test_radio': test_radio,
        }

        api_result = client.test_api.test1(api_kwargs)
        logger.info('test_api result: {result}, api_kwargs: {kwargs}'.format(result=api_result, kwargs=api_kwargs))
        if api_result['result']:
            data.set_outputs('data1', api_result['data']['data1'])
            return True
        else:
            data.set_outputs('ex_data', api_result['message'])
            return False

    def outputs_format(self):
        return [
            self.OutputItem(name=_(u'结果数据1'), key='data1', type='string')
        ]

class TestCustomComponent(Component):
    name = _(u&quot;自定义插件测试&quot;)
    code = 'test_custom'
    bound_service = TestCustomService
    form = '%scustom_plugins/plugin.js' % settings.STATIC_URL</code></pre>


<p>其中各属性和类含义为：</p>
<ul>
<li><code>__group_name__</code>： 标准插件所属分类（一般是对应 API 的系统简称，如配置平台(CMDB)。</li>
<li><code>class TestCustomService(Service)</code>：标准插件后台执行逻辑。</li>
<li><code>class TestCustomComponent(Component)</code>：标准插件定义，前后端服务绑定。</li>
</ul>
<p>TestCustomService 类详解：</p>
<ul>
<li><code>__need_schedule__</code>：是否是异步标准插件（包括异步轮询和异步回调），默认为 False。</li>
<li><code>interval</code>：异步标准插件的轮询策略。</li>
<li><code>def execute</code>：标准插件执行逻辑，包含前端参数获取、API 参数组装、结果解析、结果输出。</li>
<li><code>def schedule</code>：异步标准插件的轮询或者回调逻辑，同步标准插件不需要定义该方法。</li>
<li><code>def outputs_format</code>：输出参数定义。</li>
</ul>
<p>execute 函数详解：</p>
<ul>
<li>可以是任何 python 代码，如果需要调用蓝鲸 API 网关接口，一般分为参数组装、API 调用、结果解析。</li>
<li>data 是标准插件输入输出参数数据对象，输入参数对应于前端的表单，可以用 <code>data.inputs.xxx</code> 或者 <code>data.get_one_of_inputs('xxx')</code> 获取
某一个参数；执行完成可以使用 <code>data.set_outputs</code> 写入输出参数，异常信息请赋值给 <code>ex_data</code>。</li>
<li><code>parent_data</code> 是任务的公共参数，包括 executor（执行者），operator（操作员），biz_cc_id（所属业务 ID）等。详细信息请查看
<code>gcloud/taskflow3/utils.py</code>。</li>
<li>返回 <code>False</code> 表示执行失败，同步标准插件返回 <code>True</code> 表示标准插件执行成功，异步标准插件返回 <code>True</code> 会进入休眠，等待第一次异步轮询或者外部回调，执行 <code>schedule</code> 函数。</li>
</ul>
<p>outputs_format 函数详解：</p>
<ul>
<li>返回输出参数的列表。</li>
<li>列表格式的每一项定义一个返回字段，是 <code>execute</code> 函数中的 <code>set_outputs</code> 输出的字段的子集；<code>key</code> 表示输出字段标识，<code>name</code> 表示输出
字段含义，<code>type</code> 表示输出字段类型（<code>str</code>、<code>int</code> 等 <code>python</code> 数据结构）。</li>
</ul>
<p>schedule 函数详解：</p>
<ul>
<li>由 <code>TestCustomService</code> 类的 <code>interval</code> 属性控制调度策略，如 <code>pipeline.core.flow.activity.StaticIntervalGenerator</code>（每隔
多少秒轮询一次）、<code>SquareIntervalGenerator</code>（每次轮询间隔时间是当前已调度次数的平方）。</li>
<li>使用 <code>self.finish_schedule</code> 结束轮询，返回 <code>True</code> 表示标准插件执行成功，<code>False</code> 表示执行失败。</li>
</ul>
<p>TestCustomComponent 类详解：
- <code>name</code>：标准插件名称。
- <code>code</code>：标准插件唯一编码，请保持全局唯一。
- <code>bound_service</code>：绑定后台服务 <code>TestCustomService</code>。
- <code>form</code>：前端表单文件路径，请加上 <code>settings.STATIC_URL</code> 前缀。</p>
<h3 id="_5">标准插件前端开发</h3>
<p>在 <code>plugin.js</code> 文件中编写前端逻辑，利用标准运维的前端插件框架，只需要配置就能生成前端表单，</p>
<p>下面是示例代码</p>
<pre class="codehilite"><code class="language-js">(function(){
    $.atoms.test_custom = [
        {
            tag_code: &quot;test_input&quot;,
            type: &quot;input&quot;,
            attrs: {
                name: gettext(&quot;参数1&quot;),
                placeholder: gettext(&quot;请输入字符串&quot;),
                hookable: true,
                validation: [
                    {
                        type: &quot;required&quot;
                    }
                ]
            }
        },
        {
            tag_code: &quot;test_textarea&quot;,
            type: &quot;textarea&quot;,
            attrs: {
                name: gettext(&quot;参数2&quot;),
                placeholder: gettext(&quot;多个使用换行分隔&quot;),
                hookable: true,
                validation: [
                    {
                        type: &quot;required&quot;
                    }
                ]
            }
        },
        {
            tag_code: &quot;test_radio&quot;,
            type: &quot;radio&quot;,
            attrs: {
                name: gettext(&quot;参数3&quot;),
                items: [
                    {value: &quot;1&quot;, name: gettext(&quot;选项1&quot;)},
                    {value: &quot;2&quot;, name: gettext(&quot;选项2&quot;)},
                    {value: &quot;3&quot;, name: gettext(&quot;选项3&quot;)}
                ],
                default: &quot;1&quot;,
                hookable: true,
                validation: [
                    {
                        type: &quot;required&quot;
                    }
                ]
            }
        }
    ]
})();</code></pre>


<p>通过 $.atoms 注册标准插件前端配置，其中各项含义是：</p>
<ul>
<li><code>test_custom</code>：标准插件后台定义的 code。</li>
<li><code>tag_code</code>：参数 code，请保持全局唯一，命名规范为"系统名_参数名"。</li>
<li><code>type</code>：前端表单类型，可选 input、textarea、radio、checkbox、select、datetime、datatable、upload、combine 等。</li>
<li><code>attrs</code>：对应 type 的属性设置，如 name、validation 等。</li>
</ul>
<h3 id="_6">标准插件远程加载</h3>
<p>标准运维支持从系统外部加载标准插件，但是，对于编写的插件有以下要求（如果你编写的插件不需要进行远程加载，可以跳过此章节）：</p>
<ul>
<li>需要声明插件所需的系统中不存在的 python 第三方组件库</li>
<li>插件表单需要使用嵌入的方式</li>
</ul>
<h4 id="_7">组件库依赖声明</h4>
<p>若你编写的插件需要依赖标准运维运行时不存在的 python 第三方插件，则需要在 <code>{CUSTOM PLUGINS NAME}/__init__.py</code> 中添加 <code>__requirements__</code> 变量并声明所需要的组件及版本号：</p>
<pre class="codehilite"><code class="language-python"># {CUSTOM PLUGINS NAME}/__init__.py

__requirements__ = [
    &quot;flask==x.x.x&quot;, # 特定版本号
    &quot;mako&quot;, # 不限制版本号
]</code></pre>


<h4 id="_8">嵌入式表单</h4>
<p>远程加载的插件目前不支持从静态文件中读取插件的前端表单，所以需要用嵌入的方式将表单添加到插件的后台定义中：</p>
<ul>
<li>在 Component 类中添加 <code>embedded_form</code> 属性并设置为 <code>True</code></li>
<li>在 Component 类中添加 <code>form</code> 属性并将其值设置为表单的定义</li>
</ul>
<p>下面代码 展示了插件的内嵌式表单声明的方式：</p>
<pre class="codehilite"><code class="language-python">class TestCustomComponent(Component):
    name = _(u&quot;自定义插件测试&quot;)
    code = 'test_custom'
    bound_service = TestCustomService
    embedded_form = True  # 内嵌式表单声明
    # 表单定义
    form = &quot;&quot;&quot;
    (function(){
        $.atoms.test_custom = [
            {
                tag_code: &quot;test_input&quot;,
                type: &quot;input&quot;,
                attrs: {
                    name: gettext(&quot;参数1&quot;),
                    placeholder: gettext(&quot;请输入字符串&quot;),
                    hookable: true,
                    validation: [
                        {
                            type: &quot;required&quot;
                        }
                    ]
                }
            },
            {
                tag_code: &quot;test_textarea&quot;,
                type: &quot;textarea&quot;,
                attrs: {
                    name: gettext(&quot;参数2&quot;),
                    placeholder: gettext(&quot;多个使用换行分隔&quot;),
                    hookable: true,
                    validation: [
                        {
                            type: &quot;required&quot;
                        }
                    ]
                }
            },
            {
                tag_code: &quot;test_radio&quot;,
                type: &quot;radio&quot;,
                attrs: {
                    name: gettext(&quot;参数3&quot;),
                    items: [
                        {value: &quot;1&quot;, name: gettext(&quot;选项1&quot;)},
                        {value: &quot;2&quot;, name: gettext(&quot;选项2&quot;)},
                        {value: &quot;3&quot;, name: gettext(&quot;选项3&quot;)}
                    ],
                    default: &quot;1&quot;,
                    hookable: true,
                    validation: [
                        {
                            type: &quot;required&quot;
                        }
                    ]
                }
            }
        ]
    })();
    &quot;&quot;&quot;</code></pre>


<h3 id="_9">标准插件单元测试</h3>
<p>在我们完成自定义组件的开发后，我们需要测试组件是否能够按照我们预期的那样运行。</p>
<p>最简单的方式就是构造一个包含该节点的流程然后把流程跑起来观察其行为和输出是否符合预期。</p>
<p>但是这种测试方式十分耗时而且是一次性的，下次若是修改了节点后需要再进行一遍相同的操作。</p>
<p>为了解决这个问题，框架内部提供了组件测试单元测试框架，框架会模拟组件在流程中执行的场景，
并根据开发者编写的测试用例来执行组件并检测组件的行为是否符合预期。</p>
<p>借助组件单元测试框架能够节省我们测试组件的时间，并且保证组件实现在发生变化后能够快速确认改动是否影响了组件的功能。</p>
<p>标准插件的单元测试需要在 <code>{CUSTOM PLUGINS NAME}/tests</code> 下根据插件后台定义文件创建子目录路径一致的测试文件并编写测试代码。
例如针对 <code>{CUSTOM PLUGINS NAME}/components/collections/plugins.py</code> 中编写的插件，</p>
<p>应该在 <code>{CUSTOM PLUGINS NAME}/tests/components/collections/plugins_test</code> 目录下为每个插件创建对应的文件并编写单元测试。</p>
<p>另外，测试文件名应该为 <code>test_{code}.py</code>，<code>{code}</code> 为插件的唯一编码。</p>
<p>单元测试编写指引请参考：<a href="https://github.com/Tencent/bk-sops/blob/master/pipeline/docs/user_guide_component_unit_test.md">标准插件单元测试编写</a>。</p>
<h3 id="_10">标准插件功能测试</h3>
<p>开发完成后，先在根目录下执行 <code>python manage.py collectstatic –noinput</code> 收集静态资源。</p>
<p>然后新建流程模板，并添加标准插件节点，标准插件类型选择新开发的标准插件，确保展示的输入参数和前端配置项一致，输出参数和后台
outputs_format 一致，其中执行结果是系统默认，值是 <code>True</code> 或 <code>False</code>，表示节点执行结果是成功还是失败。</p>
<p>然后使用新建的流程创建任务，填写参数并执行，执行后查看结果是否符合预期，可以结合日志更准确的评估执行结果。</p>
<h2 id="_11">标准插件开发规范</h2>
<ul>
<li>分组命名规则是“系统名(系统英文缩写)”，如“作业平台(JOB)”。</li>
<li>标准插件编码(code)使用下划线方式，规则是“系统名_接口名”，如 job_execute_task。</li>
<li>后台类名使用驼峰式，规则是“标准插件编码+继承类名”，如 JobExecuteTaskService。</li>
<li>前端 JS 文件目录保持和系统名缩写一致，JS 文件名保持和标准插件编码一致。</li>
<li>参数 tag_code 命名规则是“系统名_参数名”，这样可以保证全局唯一；长度不要超过 20 个字符。</li>
<li>后台和前端中的中文都要使用翻译函数，以便可以国际化。</li>
</ul>
<h2 id="_12">官方标准插件库</h2>
<h3 id="_13">蓝鲸服务系列</h3>
<ul>
<li>蓝鲸服务(BK)-定时</li>
<li>蓝鲸服务(BK)-暂停</li>
<li>蓝鲸服务(BK)-HTTP 请求</li>
<li>蓝鲸服务(BK)-发送通知</li>
</ul>
<h3 id="_14">配置平台系列</h3>
<ul>
<li>配置平台(CMDB)-创建集群</li>
<li>配置平台(CMDB)-更新集群属性</li>
<li>配置平台(CMDB)-修改集群服务状态</li>
<li>配置平台(CMDB)-清空集群中主机</li>
<li>配置平台(CMDB)-删除集群</li>
<li>配置平台(CMDB)-更新模块属性</li>
<li>配置平台(CMDB)-转移主机模块</li>
<li>配置平台(CMDB)-更新主机属性</li>
<li>配置平台(CMDB)-转移主机至空闲机</li>
<li>配置平台(CMDB)-转移主机到业务的故障机模块</li>
<li>配置平台(CMDB)-转移主机至资源池</li>
<li>配置平台(CMDB)-故障机替换</li>
</ul>
<h3 id="_15">作业平台系列</h3>
<ul>
<li>作业平台(JOB)-执行作业</li>
<li>作业平台(JOB)-快速分发文件</li>
<li>作业平台(JOB)-快速执行脚本</li>
<li>作业平台(JOB)-新建定时作业</li>
</ul><h1 id="-exporter">监控平台 - Exporter 开发</h1>
<h2 id="exporter">任务一： 开发⼀个自己的 Exporter</h2>
<h3 id="_1">数据链路</h3>
<h4 id="_2">监控平台整体数据链路图</h4>
<p><img alt="图片描述" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/003.png" /></p>
<h4 id="_3">自定义组件采集流程</h4>
<p><img alt="图片描述" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/004.png" /></p>
<ul>
<li>监控平台通过 job 部署 prometheus 社区的 Exporter，对目标组件进行性能数据采集。接着 bkmetricbeat 从 Exporter 上周期拉取性能数据并通过数据通道上报。</li>
</ul>
<h3 id="_4">自定义组件采集导入流程</h3>
<ul>
<li>
<p>监控平台当前支持使用 go 编写 Exporter</p>
</li>
<li>
<p>在社区找到适合自己的 Exporter 或者编写新的 Exporter</p>
</li>
<li>
<p>将源码编译成二进制文件</p>
</li>
<li>
<p>将编译的 Exporter 打成 zip 包</p>
</li>
<li>
<p>上传配置文件</p>
</li>
</ul>
<h2 id="exporter_1">Exporter 开发</h2>
<h3 id="exporter_2">Exporter 简介</h3>
<ul>
<li>Exporter 本质上就是将收集的数据，转化为对应的⽂本格式，并提供 http 接口，供监控平台采集器
定期采集数据。</li>
</ul>
<h3 id="exporter_3">Exporter 基础</h3>
<ul>
<li>
<p>指标介绍 Prometheus 中主要使⽤的四类指标类型，如下所示：</p>
</li>
<li>
<p>Counter (累加指标)</p>
</li>
<li>
<p>Gauge (测量指标)</p>
</li>
<li>
<p>Summary (概略图)</p>
</li>
<li>
<p>Histogram (直方图)</p>
</li>
</ul>
<p>最常使用的是 Gauge，Gauge 代表了采集的一个单个数据，这个数据可以增加也可以减少，比如 CPU 使用情况，内存使用量，硬盘当前的空间容量等。 Counter 一个累加指标数据，这个值随着时间只会逐渐的增加，比如程序完成的总任务数量，运行错误发生的总次数等，代表了持续增加的数据包或者传输字节累加值。</p>
<blockquote>
<p>【注】：所有指标的值仅支持 float64 类型。</p>
</blockquote>
<ul>
<li>文本格式以下面输出为例：</li>
</ul>
<pre class="codehilite"><code class="language-bash"># metric:
sample_metric1 12.47
sample_metric2 {partition=&quot;c:&quot;} 0.44</code></pre>


<p>其中：</p>
<p>#: 表示注释 sample_metric1 和 sample_metric2 表示指标名称</p>
<p>partition: 表示指标的作⽤维度，例如磁盘分区使⽤率，维度就是磁盘分区，即每个磁盘分区都有⼀个磁盘分区使⽤率的值</p>
<p>c: 表示维度的值，例如磁盘分区的 C 盘 / D 盘等 12.47 和 0.44 表示对应指标的值</p>
<h3 id="exporter_4">Exporter 开发</h3>
<ul>
<li>
<p>环境搭建：</p>
</li>
<li>
<p>Golang 安装</p>
</li>
<li>
<p>apt-get install git</p>
</li>
<li>
<p>wget https://dl.google.com/go/go1.10.7.linux-amd64.tar.gz</p>
</li>
<li>
<p>tar -C /usr/local -xzf go1.10.7.linux-amd64.tar.gz</p>
</li>
<li>
<p>export PATH=$PATH:/usr/local/go/bin</p>
</li>
<li>
<p>export GOPATH=<code>你的代码目录</code></p>
</li>
</ul>
<blockquote>
<p>不同系统安装介绍：https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/01.1.md</p>
</blockquote>
<ul>
<li>Prometheus Exporter 开发依赖库</li>
</ul>
<p>⾸先引⼊ Prometheus 的依赖库</p>
<pre class="codehilite"><code class="language-bash">go get -v github.com/prometheus/client_golang/prometheus</code></pre>


<ul>
<li>
<p>开发示例</p>
</li>
<li>
<p>导⼊依赖模块: 本例计划采集主机的内存和磁盘信息，因此引⼊以下依赖库</p>
</li>
</ul>
<p><code>bash
  go get -v github.com/shirou/gopsutil
  go get -v github.com/go-ole/go-ole
  go get -v github.com/StackExchange/wmi
  go get -v github.com/golang/protobuf/proto
  go get -v golang.org/x/sys/unix</code>
2. 新建⼀个 Exporter 项⽬： ⼀个 Exporter 只需要⼀个⽂件即可；在 GOPATH 下 src ⽬录下新建⼀个 test_exporter ⽬录和⼀个 test_exporter.go ⽂件: test_exporter.go ⽂件第⼀⾏必须写上 package main 可执⾏的命令必须始终使⽤ package main。</p>
<pre class="codehilite"><code class="language-go">import (
    &quot;flag&quot;
    &quot;log&quot;
    &quot;net/http&quot;

    &quot;github.com/prometheus/client_golang/prometheus&quot;
    &quot;github.com/prometheus/client_golang/prometheus/promhttp&quot;
    &quot;github.com/shirou/gopsutil/disk&quot;
    &quot;github.com/shirou/gopsutil/mem&quot;
)</code></pre>


<ol>
<li>定义 Exporter 的版本（Version）、监听地址（listenAddress）、采集 url（metricPath）以及⾸⻚（landingPage）</li>
</ol>
<pre class="codehilite"><code class="language-go">var (
    Version       = &quot;1.0.0.dev&quot;
    listenAddress = flag.String(&quot;web.listen-address&quot;, &quot;:9601&quot;, &quot;Address to listen on for web interface and telemetry.&quot;)
    metricPath    = flag.String(&quot;web.telemetry-path&quot;, &quot;/metrics&quot;, &quot;Path under which to expose metrics.&quot;)
    landingPage   = []byte(&quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;Example Exporter&quot; + Version + &quot;&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;Example Exporter&quot; + Version + &quot;&lt;/h1&gt;&lt;p&gt;&lt;ahref='&quot; + *metricPath + &quot;'&gt;Metrics&lt;/a&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;)
)</code></pre>


<ol>
<li>定义 Exporter 结构体</li>
</ol>
<pre class="codehilite"><code class="language-go">type Exporter struct {
    error        prometheus.Gauge
    scrapeErrors *prometheus.CounterVec
}</code></pre>


<ol>
<li>定义结构体实例化的函数 NewExporter</li>
</ol>
<pre class="codehilite"><code class="language-go">func NewExporter() *Exporter {
    return &amp;Exporter{}
}</code></pre>


<ol>
<li>Describe 函数，传递指标描述符到 channel，这个函数不⽤动，直接使⽤即可，⽤来⽣成采集指标的描述信息。</li>
</ol>
<pre class="codehilite"><code class="language-go">func (e *Exporter) Describe(ch chan&lt;- *prometheus.Desc) {
    metricCh := make(chan prometheus.Metric)
    doneCh := make(chan struct{})
    go func() {
        for m := range metricCh {
            ch &lt;- m.Desc()
        }
        close(doneCh)
    }()
    e.Collect(metricCh)
    close(metricCh)
    &lt;-doneCh
}</code></pre>


<ol>
<li>Collect 函数将执⾏抓取函数并返回数据，返回的数据传递到 channel 中，并且传递的同时绑定原先的指标描述符，以及指标的类型（Guage）；需要将所有的指标获取函数在这⾥写⼊。</li>
</ol>
<pre class="codehilite"><code class="language-go">//collect 函数，采集数据的⼊⼝
func (e *Exporter) Collect(ch chan&lt;- prometheus.Metric) {
    var err error
    // 每个指标值的采集逻辑，在对应的采集函数中
    if err = ScrapeMem(ch); err != nil {
        e.scrapeErrors.WithLabelValues(&quot;mem&quot;).Inc()
    }
    if err = ScrapeDisk(ch); err != nil {
        e.scrapeErrors.WithLabelValues(&quot;disk&quot;).Inc()
    }
}</code></pre>


<ol>
<li>指标仅有单条数据，不带维度信息示例如下：</li>
</ol>
<pre class="codehilite"><code class="language-go">func ScrapeMem(ch chan&lt;- prometheus.Metric) error {
    // 指标获取逻辑，此处不做具体操作，仅仅赋值进⾏示例
    mem_info, _ := mem.VirtualMemory()
    // ⽣成采集的指标名
    metric_name := prometheus.BuildFQName(&quot;sys&quot;, &quot;&quot;, &quot;mem_usage&quot;)
    // ⽣成 NewDesc 类型的数据格式，该指标⽆维度，[] string {} 为空
    new_desc := prometheus.NewDesc(metric_name, &quot;Gauge metric with mem_usage&quot;, []string{}, nil)
    // ⽣成具体的采集信息并写⼊ ch 通道
    metric_mes := prometheus.MustNewConstMetric(new_desc,
        prometheus.GaugeValue, mem_info.UsedPercent)
    ch &lt;- metric_mes
    return nil
}</code></pre>


<ol>
<li>指标有多条数据，带维度信息示例如下：</li>
</ol>
<pre class="codehilite"><code class="language-go">func ScrapeDisk(ch chan&lt;- prometheus.Metric) error {
    fs, _ := disk.Partitions(false)
    for _, val := range fs {
        d, _ := disk.Usage(val.Mountpoint)
        metric_name := prometheus.BuildFQName(&quot;sys&quot;, &quot;&quot;, &quot;disk_size&quot;)
        new_desc := prometheus.NewDesc(metric_name, &quot;Gauge metric with disk_usage&quot;, []string{&quot;mountpoint&quot;}, nil)
        metric_mes := prometheus.MustNewConstMetric(new_desc,
            prometheus.GaugeValue, float64(d.UsedPercent), val.Mountpoint)
        ch &lt;- metric_mes
    }
    return nil
}</code></pre>


<ol>
<li>主函数</li>
</ol>
<pre class="codehilite"><code class="language-go">func main() {
    // 解析定义的监听端⼝等信息
    flag.Parse()
    // ⽣成⼀个 Exporter 类型的对象，该 exporter 需具有 collect 和 Describe ⽅法
    exporter := NewExporter()
    // 将 exporter 注册⼊ prometheus，prometheus 将定期从 exporter 拉取数据
    prometheus.MustRegister(exporter)
    // 接收 http 请求时，触发 collect 函数，采集数据
    http.Handle(*metricPath, promhttp.Handler())
    http.HandleFunc(&quot;/&quot;, func(w http.ResponseWriter, r *http.Request) {
        w.Write(landingPage)
    })
    log.Fatal(http.ListenAndServe(*listenAddress, nil))
}</code></pre>


<ol>
<li>编译 Exporter</li>
</ol>
<pre class="codehilite"><code class="language-bash">go build test_exporter.go
./test_exporter</code></pre>


<ol>
<li>运⾏起来后，访问 http://127.0.0.1:9601/metrics 即可验证</li>
</ol>
<p>⾄此 Exporter 开发完成，其中 8，9 两步中的函数是重点，⽬前仅仅写了⼀些数据进⾏示例，其中的监控指标获取数据就是该部分的主要功能，需要编写对应逻辑获取指标的值。</p>
<h2 id="_5">任务⼆： 制作⼀键导⼊包</h2>
<h3 id="exporter_5">Exporter 编译</h3>
<p>监控平台 Exporter 默认只⽀持 64 位机器运⾏ Exporter。</p>
<h4 id="linux">linux 系统</h4>
<pre class="codehilite"><code class="language-bash"># 编译 windows exporter
env CGO_ENABLED=0 GOOS=windows GOARCH=amd64 go build -o ./exporterwindows.exe test_exporter
# test_exporter 为 GOPATH 下我们创建的⽬录名
# 编译 linux exporter
env CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o ./exporter-linux
test_exporter</code></pre>


<h4 id="windows">windows 系统</h4>
<pre class="codehilite"><code class="language-bash"># 编译 windows exporter
SET CGO_ENABLED=0
SET GOOS=windows
SET GOARCH=amd64
go build -o ./exporter-windows.exe test_exporter
# 编译 linux exporter
SET CGO_ENABLED=0
SET GOOS=linux
SET GOARCH=amd64
go build -o ./exporter-linux test_exporter</code></pre>


<h3 id="exporter_6">Exporter 打包</h3>
<ul>
<li>
<p>上传的 Exporter ⽂件限定为 zip 压缩包</p>
</li>
<li>
<p>上传后，后台会读取相应的压缩包特定名称的⽂件，因此必须保证命名的准确性。读取的⽂件如
下： exporter-linux : linux 采集器 exporter-windows.exe : windows 采集器</p>
</li>
<li>
<p>⾄少提供以上任意⼀种采集器，否则会报错；如果只上传了⼀种采集器，那视为该组件不⽀持其他
系统。</p>
</li>
<li>
<p>上传成功后如下图：</p>
</li>
</ul>
<p><img alt="-w2020" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/005.png" /></p>
<h3 id="_6">配置⽂件开发</h3>
<h4 id="_7">指标项</h4>
<ul>
<li>通常，Exporter 上报的指标 (metric) 种类⾮常多，⽽⽤户只会关⼼其中⼀部分重要指标。因此⽤户需
要通过编写指标配置⽂件来配置⾃⼰关注的指标。同时，配置⽂件也决定了结果表的格式。</li>
</ul>
<p><code>指标配置⽂件是 JSON 格式的⽂件</code>。</p>
<p><img alt="-w2020" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/006.png" /></p>
<ul>
<li>配置⽂件样例</li>
</ul>
<pre class="codehilite"><code class="language-json">[
    {
        &quot;fields&quot;: [
            {
                &quot;monitor_type&quot;: &quot;metric&quot;,
                &quot;type&quot;: &quot;double&quot;,
                &quot;name&quot;: &quot;sys_disk_size&quot;,
                &quot;unit&quot;: &quot;%&quot;,
                &quot;description&quot;: &quot;磁盘使⽤率&quot;
            },
            {
                &quot;monitor_type&quot;: &quot;dimension&quot;,
                &quot;type&quot;: &quot;string&quot;,
                &quot;name&quot;: &quot;mountpoint&quot;,
                &quot;unit&quot;: &quot;&quot;,&quot;description&quot;:&quot; 挂载点 &quot;
            }
        ],
        &quot;table_name&quot;: &quot;disk&quot;,
        &quot;table_desc&quot;: &quot;磁盘&quot;
    },
    {
        &quot;fields&quot;: [
            {
                &quot;monitor_type&quot;: &quot;metric&quot;,
                &quot;type&quot;: &quot;double&quot;,
                &quot;name&quot;: &quot;sys_mem_usage&quot;,
                &quot;unit&quot;: &quot;%&quot;,
                &quot;description&quot;: &quot;内存使⽤率&quot;
            }
        ],
        &quot;table_name&quot;: &quot;mem&quot;,
        &quot;table_desc&quot;: &quot;内存&quot;
    }
]</code></pre>


<ul>
<li>数据结构说明 ⾸先，最外层为列表，列表的每个元素为 Object，每个元素均代表⼀个结果表。 每个元素的字段说明和取值⻅下表：</li>
</ul>
<table>
<thead>
<tr>
<th>字段名</th>
<th>解释</th>
<th>是否必填</th>
<th>取值</th>
<th>最⼤⻓度</th>
</tr>
</thead>
<tbody>
<tr>
<td>table_name</td>
<td>结果表英⽂名</td>
<td>是</td>
<td>\^[a-zA-Z][a-zA-Z0-9_]*$</td>
<td>15</td>
</tr>
<tr>
<td>table_desc</td>
<td>结果表中⽂描述</td>
<td>是</td>
<td></td>
<td>15</td>
</tr>
<tr>
<td>fields [].monitor_type</td>
<td>字段类型</td>
<td>是</td>
<td>可选 "metric" 和 "dimension"</td>
<td></td>
</tr>
<tr>
<td>fields [].type</td>
<td>字段数据类型</td>
<td>是</td>
<td>可选 "long","double" 和 "string"</td>
<td></td>
</tr>
<tr>
<td>fields [].name</td>
<td>字段名称，不能超过 50 个字符</td>
<td>是</td>
<td>\^[a-zA-Z][a-zA-Z0-9_]*$</td>
<td>50</td>
</tr>
<tr>
<td>fields [].unit</td>
<td>字段单位，可空</td>
<td>是</td>
<td></td>
<td></td>
</tr>
<tr>
<td>fields [].description</td>
<td>字段描述</td>
<td>是</td>
<td></td>
<td>15</td>
</tr>
<tr>
<td>fields [].is_diff_metric</td>
<td>是否为差值指标</td>
<td>否</td>
<td>true 或 false</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="exporter_7">配置项（Exporter 启动参数配置）</h4>
<ul>
<li>
<p>⼤多数 Exporter 在启动时，需要提供额外的参数，如服务地址等。因此⽤户需要对启动所需参数项进⾏配置，在 Exporter 启动时才能提供对应参数值。 参数配置⽂件是 JSON 格式的⽂件 。 配置项将直接体现在配置表单中。</p>
</li>
<li>
<p>配置文件样例</p>
</li>
</ul>
<pre class="codehilite"><code class="language-json">[
    {
        &quot;default&quot;: &quot;http://localhost:9601/metrics&quot;,
        &quot;mode&quot;: &quot;collector&quot;,
        &quot;type&quot;: &quot;text&quot;,
        &quot;name&quot;: &quot;_exporter_url_&quot;,
        &quot;description&quot;: &quot;采集 URL&quot;,
        &quot;visible&quot;: false
    },
    {
        &quot;default&quot;: &quot;localhost:9601&quot;,
        &quot;mode&quot;: &quot;cmd&quot;,
        &quot;type&quot;: &quot;text&quot;,
        &quot;name&quot;: &quot;--web.listen-address&quot;,
        &quot;description&quot;: &quot;监听地址&quot;,
        &quot;visible&quot;: false
    }
]</code></pre>


<ul>
<li>数据结构说明，⾸先，最外层为列表，列表的每个元素为 Object，每个元素均代表⼀个配置项。 每个元素的字段说明和取值⻅下表：</li>
</ul>
<table>
<thead>
<tr>
<th>字段名</th>
<th>解释</th>
<th>是否必填</th>
<th>取值</th>
<th>最大长度</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>配置名称，可空，为空时必须将该项置于首位</td>
<td>是</td>
<td></td>
<td>50</td>
</tr>
<tr>
<td>mode</td>
<td>传参方式</td>
<td>是</td>
<td>可选 "cmd"(命令行参数)，"env"(环境变量) 或 "collector"(_exporter_url_字段专用)</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>数据类型</td>
<td>是</td>
<td>可选 "text"，"password" 或 "file"(需要上传文件)</td>
<td></td>
</tr>
<tr>
<td>description</td>
<td>配置描述</td>
<td>是</td>
<td></td>
<td>50</td>
</tr>
<tr>
<td>default</td>
<td>配置默认值，可空</td>
<td>是</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>命令行参数拼接规则</p>
<ol>
<li>
<p>当配置名称以 <code>--</code> 开头，参数名称和参数值的拼接方式为用 <code>=</code> 拼接，如 <code>--settings=something</code></p>
</li>
<li>
<p>当配置名称不以 <code>--</code> 开头，参数名称和参数值的拼接方式为用空格拼接，如 <code>-settings something</code></p>
</li>
</ol>
</li>
<li>
<p>重要提示:</p>
<ul>
<li>配置文件中，必须提供 <code>_exporter_url_</code> 参数。该参数为获取 metric 的完整 url。且该参数必须设置默认值。出于安全考虑，监听地址的 IP 只能设置为 <code>127.0.0.1</code> 或 <code>localhost</code>，配置方式参见上述样例。</li>
</ul>
</li>
</ul>
<h4 id="logo">logo</h4>
<p>155 * 65 的图片即可。</p>
<h4 id="_8">描述</h4>
<p>使用 Markdown 语法编写组件描述描述，在用户组件接入时提供指导。</p>
<p><img alt="-w2020" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/007.png" /></p>
<h4 id="_9">保存自定义组件采集</h4>
<ul>
<li>
<p>填写组件名</p>
</li>
<li>
<p>上传 Exporter</p>
</li>
<li>
<p>上传 metrics.json</p>
</li>
<li>
<p>上传 config_schema.json</p>
</li>
<li>
<p>上传 logo.png</p>
</li>
<li>
<p>上传 description.md</p>
</li>
<li>
<p>选择服务器</p>
</li>
<li>
<p>填写配置</p>
</li>
<li>
<p>采集测试</p>
</li>
<li>
<p>设置采集周期</p>
</li>
<li>
<p>完成并下发采集器</p>
</li>
</ul>
<p>以上动作完成后，在组件监控页面，将会多一个组件。选择自定义分类，可以看到所有自定义采集的组件。</p>
<p><img alt="-w2020" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/008.png" /></p>
<h2 id="_10">自定义组件一键导入</h2>
<p>为了方便自己开发的组件采集 Exporter 可以共享给更多的用户，监控平台支持一键导入。
已经添加成功的自定义组件，可以按照以下格式打成 zip 压缩包：</p>
<ol>
<li>
<p>后台解析文件时，无视文件目录结构，直接扫描符合命名规则的文件</p>
</li>
<li>
<p>不得出现相同文件名的文件，否则会报错</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>文件名</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>exporter-linux</td>
<td>Linux Exporter 的二进制文件 （至少提供一种 Exporter）</td>
</tr>
<tr>
<td>exporter-windows.exe</td>
<td>Windows Exporter 的二进制文件 （至少提供一种 Exporter）</td>
</tr>
<tr>
<td>logo.png</td>
<td>组件 Logo，限定 PNG 格式</td>
</tr>
<tr>
<td>description.md</td>
<td>组件描述，限定 Markdown 格式</td>
</tr>
<tr>
<td>metrics.json</td>
<td>指标项配置文件，配置格式参见 [[指标配置文件]]</td>
</tr>
<tr>
<td>config_schema.json</td>
<td>配置项配置文件，配置格式参见 [[Exporter 启动参数配置文件]]</td>
</tr>
<tr>
<td>info.json</td>
<td>Exporter 包信息，需要提供 name (必须) 和 display_name (可选)</td>
</tr>
</tbody>
</table>
<h3 id="infojson">info.json</h3>
<p>以上文件列表，有一个新的文件 <code>info.json</code> 。</p>
<p>info.json 文件示例</p>
<pre class="codehilite"><code class="language-json">{
    &quot;name&quot;:&quot;example&quot;,
    &quot;display_name&quot;:&quot;example&quot;,
    &quot;supported_version&quot;:&quot;linux&quot;
}</code></pre>


<table>
<thead>
<tr>
<th>字段名</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>组件名称，唯一标识符，只能由字母和数字组成</td>
</tr>
<tr>
<td>display_name</td>
<td>组件显示名称</td>
</tr>
<tr>
<td>supported_version</td>
<td>采集器支持版本，版本信息会显示在配置页面上</td>
</tr>
</tbody>
</table>
<p>显示效果如下</p>
<p><img alt="-w2020" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/009.png" /></p>
<h2 id="_11">自定义组件更新</h2>
<p>如果需要更新组件，进入编辑模式，选择相应文件进行更新即可</p>
<p><img alt="-w2020" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/010.png" /></p>
<p>附件是一个样例 Exporter 一键导入包，另外包含了打包好的 Exporter 以及源码</p>
<p>使用附件导入后，选择主机下发后，效果如下：</p>
<p><img alt="-w2020" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/开发指南/扩展开发/assets/011.png" /></p><h1 id="_1">错误码规则</h1>
<h2 id="_2">错误码基本信息</h2>
<table>
<thead>
<tr>
<th>日志码位数</th>
<th>7 位整数，前 2 位表示产品代号，后 5 位为各产品自行分配</th>
</tr>
</thead>
<tbody>
<tr>
<td>平台类</td>
<td>以 1 开头（10-29）</td>
</tr>
<tr>
<td>公共服务</td>
<td>以 5 开头（50-79）</td>
</tr>
<tr>
<td>SaaS 后台</td>
<td>以 3 开头（30-49）</td>
</tr>
<tr>
<td>第三方 SaaS 后台</td>
<td>以 8 开头（80-99）</td>
</tr>
<tr>
<td>蓝鲸体系通用服务</td>
<td>以 99 开头</td>
</tr>
<tr>
<td>-1</td>
<td>系统繁忙</td>
</tr>
<tr>
<td>0</td>
<td>请求成功</td>
</tr>
</tbody>
</table>
<h2 id="_3">错误码分配表</h2>
<table>
<thead>
<tr>
<th>平台代号</th>
<th>平台名称</th>
<th>平台 ID（2 位）</th>
<th>错误码 ID（5 位）,以下 ID 为示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>gse</td>
<td>管控平台</td>
<td>10</td>
<td>04000</td>
</tr>
<tr>
<td>cmdb</td>
<td>配置平台</td>
<td>11</td>
<td>04600</td>
</tr>
<tr>
<td>job</td>
<td>作业平台</td>
<td>12</td>
<td>05000</td>
</tr>
<tr>
<td>paas</td>
<td>PaaS 平台</td>
<td>13</td>
<td>06100</td>
</tr>
<tr>
<td>bcs</td>
<td>容器管理平台</td>
<td>14</td>
<td>06200</td>
</tr>
<tr>
<td>bkdata</td>
<td>计算平台（基础模块 &amp; 计算模块）</td>
<td>15</td>
<td>60103</td>
</tr>
<tr>
<td>bkm</td>
<td>移动</td>
<td>17</td>
<td>60105</td>
</tr>
<tr>
<td>bkai</td>
<td>AI</td>
<td>18</td>
<td>60106</td>
</tr>
<tr>
<td>bk_iam</td>
<td>权限中心</td>
<td>19</td>
<td>02001</td>
</tr>
<tr>
<td>bk_devops</td>
<td>蓝盾公共</td>
<td>20</td>
<td>02 001</td>
</tr>
<tr>
<td>bk_ci</td>
<td>蓝盾 CI</td>
<td>21</td>
<td>02 001</td>
</tr>
<tr>
<td>bk_approval</td>
<td>权限中心</td>
<td>22</td>
<td>02 001</td>
</tr>
<tr>
<td>bk_codecc</td>
<td>代码检查平台</td>
<td>23</td>
<td>02 001</td>
</tr>
<tr>
<td>bk_turbo</td>
<td>编译加速平台</td>
<td>24</td>
<td>02 001</td>
</tr>
<tr>
<td>bk_repo</td>
<td>制品库平台</td>
<td>25</td>
<td>02 001</td>
</tr>
<tr>
<td>bk_teamwork</td>
<td>项目管理平台</td>
<td>26</td>
<td>02 001</td>
</tr>
<tr>
<td>bkcode</td>
<td>代码平台</td>
<td>27</td>
<td>02 001</td>
</tr>
<tr>
<td>bktest</td>
<td>测试平台</td>
<td>28</td>
<td>02 001</td>
</tr>
<tr>
<td>fta</td>
<td>故障自愈后台</td>
<td>30</td>
<td>60108</td>
</tr>
<tr>
<td>bkarchiva</td>
<td>包管理后台</td>
<td>31</td>
<td></td>
</tr>
<tr>
<td>usermgr</td>
<td>用户管理</td>
<td>32</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>33</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>34</td>
<td></td>
</tr>
<tr>
<td>bk_sops</td>
<td>标准运维</td>
<td>35</td>
<td></td>
</tr>
<tr>
<td>bk_log_search</td>
<td>日志检索</td>
<td>36</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>37</td>
<td></td>
</tr>
<tr>
<td>bk_nodeman</td>
<td>节点管理</td>
<td>38</td>
<td></td>
</tr>
<tr>
<td>itsm</td>
<td></td>
<td>39</td>
<td></td>
</tr>
<tr>
<td>redis</td>
<td></td>
<td>50</td>
<td></td>
</tr>
<tr>
<td>es</td>
<td></td>
<td>51</td>
<td></td>
</tr>
<tr>
<td>MySQL</td>
<td></td>
<td>52</td>
<td></td>
</tr>
<tr>
<td>zk</td>
<td></td>
<td>53</td>
<td></td>
</tr>
<tr>
<td>kafka</td>
<td></td>
<td>54</td>
<td></td>
</tr>
<tr>
<td>rabbitmq</td>
<td></td>
<td>55</td>
<td></td>
</tr>
<tr>
<td>activemq</td>
<td></td>
<td>56</td>
<td></td>
</tr>
<tr>
<td>beanstalk</td>
<td></td>
<td>57</td>
<td></td>
</tr>
<tr>
<td>consul</td>
<td></td>
<td>58</td>
<td></td>
</tr>
<tr>
<td>network</td>
<td>可源网络管理后台</td>
<td>80</td>
<td></td>
</tr>
</tbody>
</table><h1 id="paas">PaaS 平台错误码</h1>
<table>
<thead>
<tr>
<th>错误码</th>
<th>错误码标志</th>
<th>错误码含义</th>
<th>处理方案</th>
</tr>
</thead>
<tbody>
<tr>
<td>1301000</td>
<td>E1301000_DEFAULT_CODE</td>
<td>默认错误码</td>
<td>根据日志中异常堆栈信息处理</td>
</tr>
<tr>
<td>1301001</td>
<td>E1301001_BASE_SETTINGS_ERROR</td>
<td>配置文件中配置项不正确</td>
<td>根据错误日志确认对应配置项是否配置/配置是否正确</td>
</tr>
<tr>
<td>1301002</td>
<td>E1301002_BASE_DATABASE_ERROR</td>
<td>数据库访问存在问题</td>
<td>确认配置的数据库连接正常且库和表都存在</td>
</tr>
<tr>
<td>1301003</td>
<td>E1301003_BASE_HTTP_DEPENDENCE_ERROR</td>
<td>第三方 HTTP 依赖存在问题</td>
<td>根据错误日志检查对应配置的依赖服务访问正常</td>
</tr>
<tr>
<td>1301004</td>
<td>E1301004_BASE_REDIS_ERROR</td>
<td>依赖的 Redis 存在问题</td>
<td>确认配置的 redis 服务访问正常</td>
</tr>
<tr>
<td>1301005</td>
<td>E1301005_BASE_PAASAGENT_ERROR</td>
<td>当前没有注册并激活的 PaaSAgent 服务器</td>
<td>注册并激活测试/正式服务器</td>
</tr>
<tr>
<td>1301006</td>
<td>E1301006_BASE_RABBITMQ_ERROR</td>
<td>未注册并激活 RabbitMQ 服务</td>
<td>注册并激活 rabbitmq 集群</td>
</tr>
<tr>
<td>1301007</td>
<td>E1301007_BASE_BKSUITE_DATABASE_ERROR</td>
<td>无法连接并访问 bksuite 数据库</td>
<td>确认 bksuite 数据库已新建</td>
</tr>
<tr>
<td>1301008</td>
<td>E1301008_BASE_APPENGINE_ERROR</td>
<td>App Engine 未正常启动或 App Engine 接口异常</td>
<td>确认 AppEngine 进程存在且接口正常/接口异常则排查 AppEngine 日志</td>
</tr>
<tr>
<td>1301100</td>
<td>E1301100_PAASAGENT_COMMIT_TEST_DEPLOYMENT_FAIL</td>
<td>测试部署事件提交失败</td>
<td>请确认 appengine 服务正常[/v1/healthz/]</td>
</tr>
<tr>
<td>1301101</td>
<td>E1301101_PAASAGENT_COMMIT_PROD_DEPLOYMENT_FAIL</td>
<td>正式部署事件提交失败</td>
<td>请确认 appengine 服务正常[/v1/healthz/]</td>
</tr>
<tr>
<td>1301102</td>
<td>E1301102_PAASAGENT_NOT_INSTALLED</td>
<td>服务器上未安装 Agent</td>
<td>请安装 Agent 后重试</td>
</tr>
<tr>
<td>1301103</td>
<td>E1301103_PAASAGENT_NOT_HEALTH</td>
<td>PaasAgent 激活失败</td>
<td BK_HOME="BK_HOME">请确认对应机器上未安装 PaaSAgent/PaaSAgent 正常启动(日志默认在 $</td>
</tr>
<tr>
<td>1301200</td>
<td>E1301200_DEPENDENCE_REDIS_ERROR</td>
<td>访问 redis 失败</td>
<td>请确认配置文件中 redis 配置正确且对应 redis 服务可用</td>
</tr>
<tr>
<td>1301300</td>
<td>E1301300_APP_SAAS_UPLOAD_FAIL</td>
<td>SaaS 上传文件失败</td>
<td BK_HOME="BK_HOME">请确认 $</td>
</tr>
<tr>
<td>1302000</td>
<td>E1302000_DEFAULT_CODE</td>
<td>默认错误码</td>
<td>根据日志中异常堆栈信息处理</td>
</tr>
<tr>
<td>1302001</td>
<td>E1302001_BASE_SETTINGS_ERROR</td>
<td>配置文件中配置项不正确</td>
<td>根据错误日志确认对应配置项是否配置/配置是否正确</td>
</tr>
<tr>
<td>1302002</td>
<td>E1302002_BASE_DATABASE_ERROR</td>
<td>数据库访问存在问题</td>
<td>确认配置的数据库连接正常且库和表都存在</td>
</tr>
<tr>
<td>1302003</td>
<td>E1302003_BASE_HTTP_DEPENDENCE_ERROR</td>
<td>第三方 HTTP 依赖存在问题</td>
<td>根据错误日志检查对应配置的依赖服务访问正常</td>
</tr>
<tr>
<td>1302004</td>
<td>E1302004_BASE_BKSUITE_DATABASE_ERROR</td>
<td>无法连接并访问 bksuite 数据库</td>
<td>确认 bksuite 数据库已新建</td>
</tr>
<tr>
<td>1302005</td>
<td>E1302005_BASE_LICENSE_ERROR</td>
<td>登录接口依赖的证书服务存在问题</td>
<td>确认是否添加了证书，配置的证书服务是否访问正常</td>
</tr>
<tr>
<td>1303000</td>
<td>E1303000_DEFAULT_CODE</td>
<td>默认错误码</td>
<td>根据日志中异常堆栈信息处理</td>
</tr>
<tr>
<td>1303001</td>
<td>E1303001_BASE_SETTINGS_ERROR</td>
<td>配置文件中配置项不正确</td>
<td>根据错误日志确认对应配置项是否配置/配置是否正确</td>
</tr>
<tr>
<td>1303002</td>
<td>E1303002_BASE_DATABASE_ERROR</td>
<td>数据库访问存在问题</td>
<td>确认配置的数据库连接正常且库和表都存在</td>
</tr>
<tr>
<td>1303003</td>
<td>E1303003_BASE_HTTP_DEPENDENCE_ERROR</td>
<td>第三方 HTTP 依赖存在问题</td>
<td>根据错误日志检查对应配置的依赖服务访问正常</td>
</tr>
<tr>
<td>1303004</td>
<td>E1303004_BASE_BKSUITE_DATABASE_ERROR</td>
<td>无法连接并访问 bksuite 数据库</td>
<td>确认 bksuite 数据库已新建</td>
</tr>
<tr>
<td>1303005</td>
<td>E1303005_BASE_LICENSE_ERROR</td>
<td>登录接口依赖的证书服务存在问题</td>
<td>确认是否添加了证书，配置的证书服务是否访问正常</td>
</tr>
<tr>
<td>1303100</td>
<td>E1303100_DESKTOP_USER_APP_LOAD_ERROR</td>
<td>加载用户桌面应用出错</td>
<td>请查看日志中异常堆栈信息处理</td>
</tr>
<tr>
<td>1303101</td>
<td>E1303101_MARKET_APP_QUERY_FAIL</td>
<td>应用市场查询应用失败</td>
<td>请查看日志中异常堆栈信息处理</td>
</tr>
<tr>
<td>1303102</td>
<td>E1303102_MARKET_APP_DETAIL_QUERY_FAIL</td>
<td>应用市场应用详情查询失败</td>
<td>请查看日志中异常堆栈信息处理</td>
</tr>
<tr>
<td>1303200</td>
<td>E1303200_WEIXIN_HTTP_GET_REQUEST_ERROR</td>
<td>请求微信 GET 接口出错</td>
<td>请检查微信组件配置是否正确以及 console 模块所在服务器是否有外网能正确请求微信提供的 API</td>
</tr>
<tr>
<td>1303201</td>
<td>E1303201_WEIXIN_HTTP_POST_REQUEST_ERROR</td>
<td>请求微信 POST 接口出错</td>
<td>请检查微信组件配置是否正确以及 console 模块所在服务器是否有外网能正确请求微信提供的 API</td>
</tr>
<tr>
<td>1303202</td>
<td>E1303202_WEIXIN_MP_EVENT_PUSH_RESPONSE_ERROR</td>
<td>微信公众号推送事件响应出错</td>
<td>请检查公网上的微信服务器能请求到 console 模块所在服务器，同时检查微信公众号上服务器配置是否正确，以及查看日志中异常堆栈信息来处理</td>
</tr>
<tr>
<td>1304000</td>
<td>E1304000_DEFAULT_CODE</td>
<td>默认错误码</td>
<td>-</td>
</tr>
<tr>
<td>1304001</td>
<td>E1304001_DATABASE_ERROR</td>
<td>数据库访问异常</td>
<td>检查数据连接是否正常</td>
</tr>
<tr>
<td>1304101</td>
<td>E1304101_PAASAGENT_ERROR</td>
<td>paasagent 通用错误</td>
<td>根据日志中异常堆栈信息处理</td>
</tr>
<tr>
<td>1304102</td>
<td>E1304102_PAASAGENT_INACTIVEATED_ERROR</td>
<td>paasagent 未激活</td>
<td>检查 app 的测试和正式服务器是否都已经注册并激活</td>
</tr>
<tr>
<td>1304103</td>
<td>E1304103_PAASAGENT_UNAUTHORIZED_ERROR</td>
<td>paasagent 未授权</td>
<td>检查相应服务器的 sid 和 token 是否配置正确</td>
</tr>
<tr>
<td>1304104</td>
<td>E1304104_PAASAGENT_NOTSTARTED_ERROR</td>
<td>paasagent 未启动成功</td>
<td>确保 paas 能够访问 paasagent 机器，并且检查 paasagent 是否启动成功，如果启动失败，查看 agent 的异常日志定位问题</td>
</tr>
<tr>
<td>1304201</td>
<td>E1304201_RABBITMQ_ERROR</td>
<td>rabbitmq 通用错误，跟进日志中异常堆栈信息处理</td>
<td></td>
</tr>
<tr>
<td>1304202</td>
<td>E1304202_RABBITMQ_INACTIVEATED_ERROR</td>
<td>rabbitmq 未注册并激活</td>
<td>检查 rabbitmq 集群是否已经注册并激活</td>
</tr>
<tr>
<td>1304203</td>
<td>E1304203_RABBITMQ_UNAUTHORIZED_ERROR</td>
<td>rabbitmq 授权信息异常</td>
<td>检查管理员账户名和密码是否正确</td>
</tr>
<tr>
<td>1304301</td>
<td>E1304301_ASSIGN_SERVER_ERROR</td>
<td>部署时分配服务器异常</td>
<td>检查服务器是否已经注册并激活</td>
</tr>
<tr>
<td>1304302</td>
<td>E1304302_ASSIGN_PORT_ERROR</td>
<td>部署时分配 port 端口异常</td>
<td>跟进日志堆栈信息处理</td>
</tr>
<tr>
<td>1305000</td>
<td>E1305000_DEFAULT_CODE</td>
<td>默认错误码</td>
<td>-</td>
</tr>
<tr>
<td>1305101</td>
<td>E1305101_LICENSE_INVALID</td>
<td>证书无效</td>
<td>检查证书是否放到指定目录并且证书有效</td>
</tr>
<tr>
<td>1305102</td>
<td>E1305102_TOKEN_INVALID</td>
<td>sid 和 token 异常</td>
<td>检查 agent 服务器配置的 sid 和 token 是否和 paas 中注册的一致</td>
</tr>
<tr>
<td>1305103</td>
<td>E1305103_PAAS_UNREACHABLE</td>
<td>paas 接口不可达</td>
<td>检查 agent 服务器到 paas 服务器的网络是否可达(包括域名配置是否正确)</td>
</tr>
<tr>
<td>1305104</td>
<td>E1305104_PORT_ERROR</td>
<td>部署时分配 port 接口异常</td>
<td>通常可忽略该错误</td>
</tr>
<tr>
<td>1306000</td>
<td>_</td>
<td>组件默认错误码</td>
<td>组件系统默认错误码，需根据错误消息排查原因</td>
</tr>
<tr>
<td>1306001</td>
<td>_</td>
<td>redis 连接失败</td>
<td>查 redis 配置是否正确，服务是否正常</td>
</tr>
<tr>
<td>1306101</td>
<td>_</td>
<td>组件代码逻辑错误，无法加载</td>
<td>根据异常信息，检查代码逻辑，排除异常</td>
</tr>
<tr>
<td>1306102</td>
<td>_</td>
<td>组件通道中的组件配置，不是一个有效的 JSON 字符串</td>
<td>检查组件配置，JSON 字符串需要是一个 dict，或者可以转化为 dict 的列表</td>
</tr>
<tr>
<td>1306201</td>
<td>_</td>
<td>请求第三方系统接口出现异常</td>
<td>检查第三方系统接口服务是否正常</td>
</tr>
<tr>
<td>1306202</td>
<td>_</td>
<td>第三方系统接口返回数据不是一个有效的 JSON 字符串</td>
<td>检查第三方系统接口服务是否正常</td>
</tr>
<tr>
<td>1306203</td>
<td>_</td>
<td>请求第三方系统接口出现 SSLError</td>
<td>检查组件配置中 SSL_ROOT_DIR 对应的文件夹是否存在，及其下的证书是否过期</td>
</tr>
<tr>
<td>1306204</td>
<td>_</td>
<td>访问系统 GSE 的接口出现错误</td>
<td>检查 GSE 系统接口服务是否正常</td>
</tr>
<tr>
<td>1306205</td>
<td>_</td>
<td>访问 SMTP 邮箱服务出现错误</td>
<td>检查发送邮件组件 SMTP 配置是否正确，及 SMTP 邮箱服务是否正常</td>
</tr>
<tr>
<td>1306206</td>
<td>_</td>
<td>组件不支持访问第三方系统测试环境</td>
<td>联系组件开发者确认是否能够支持，或切换访问第三方接口正式环境</td>
</tr>
<tr>
<td>1306208</td>
<td>_</td>
<td>第三方系统接口返回未知格式数据</td>
<td>联系组件开发者确认，第三方系统接口协议是否变更</td>
</tr>
<tr>
<td>1306209</td>
<td>_</td>
<td>第三方系统接口不支持请求方法</td>
<td>联系组件开发者确认，组件配置是否正确</td>
</tr>
<tr>
<td>1306401</td>
<td>_</td>
<td>未指定当前用户</td>
<td>检查请求参数中是否包含 bk_token 或 bk_username，二者至少一个有效</td>
</tr>
<tr>
<td>1306402</td>
<td>_</td>
<td>用户权限不足</td>
<td>用户没有权限访问配置平台业务数据，需将用户添加到业务运维或其他角色</td>
</tr>
<tr>
<td>1306403</td>
<td>_</td>
<td>应用权限不足</td>
<td>应用没有权限访问当前 API，请到开发者中心申请 API 权限，并联系 API 网关管理员审批</td>
</tr>
<tr>
<td>1306404</td>
<td>_</td>
<td>未找到组件类</td>
<td>需联系组件开发者，确认该组件服务是否正常</td>
</tr>
<tr>
<td>1306405</td>
<td>_</td>
<td>组件通道未开启</td>
<td>需联系组件开发者，确认该组件是否开启，如需开启，请在组件通道管理中修改配置</td>
</tr>
<tr>
<td>1306406</td>
<td>_</td>
<td>参数错误</td>
<td>参数错误，请参考组件文档，修改请求参数</td>
</tr>
<tr>
<td>1306407</td>
<td>_</td>
<td>第三方接口地址格式化失败</td>
<td>接口地址中包含路径变量，请参考组件文档，检查请求组件的地址是否合法</td>
</tr>
<tr>
<td>1306429</td>
<td>_</td>
<td>访问组件频率超限</td>
<td>组件设置了访问频率控制，APP 访问组件的频率超过了</td>
</tr>
</tbody>
</table><h1 id="_1">配置平台错误码</h1>
<h2 id="code-description">code description</h2>
<ol>
<li>错误码由 7 位数字组成</li>
<li>错误码左起两位固定为 11，格式为：11XXXXX</li>
<li>错误码左起第三位和四位用于表示进程模块的代号</li>
<li>错误码最右侧三位表示特定进程模块内的错误代号</li>
<li>公共错误码左侧四位固定为 1199，格式位：1199XXX</li>
<li>API 层错误码左侧四位固定为 1100， 格式为：1100XXX</li>
<li>topo 进程错误左侧四位固定为 1101，格式为：1101XXX</li>
<li>object 进程错误码左侧四位固定为 1102，格式为：1102XXX</li>
<li>event 进程错误码左侧四位固定为 1103，格式为：1103XXX</li>
<li>host 进程错误码左侧四位固定位 1104|1110，格式为：1104XXX|1110xxx</li>
<li>hostcontroller 进程错误码左侧四位固定位 1106，格式为：1106XXX</li>
<li>proccontroller 进程错误码左侧四位固定位 1107，格式为：1107XXX</li>
<li>procserver 进程错误码左侧四位固定位 1108，格式为：1108XXX</li>
<li>auditlog 进程错误码左侧四位固定位 1109，格式为：1109XXX</li>
<li>web 进程错误码左侧四位固定位 1111，格式为：1111XXX</li>
<li>api server v2  接口错误码左侧四位固定位 1170，格式为：1170XXX</li>
</ol>
<h2 id="common">common</h2>
<pre class="codehilite"><code class="language-json">{
    &quot;1199000&quot;: &quot;反序列化JSON数据失败&quot;,
    &quot;1199001&quot;: &quot;序列化JSON失败&quot;,
    &quot;1199002&quot;: &quot;HTTP请求失败&quot;,
    &quot;1199003&quot;: &quot;输入参数无效&quot;,
    &quot;1199004&quot;: &quot;数据读取失败&quot;,
    &quot;1199005&quot;: &quot;输入内容为空&quot;,
    &quot;1199006&quot;: &quot;'%s' 数据参数校验不通过&quot;,
    &quot;1199007&quot;: &quot;'%s' 必须为字符串类型&quot;,
    &quot;1199008&quot;: &quot;'%s' 不可以被省略&quot;,
    &quot;1199009&quot;: &quot;'%s' 参数必须是整型&quot;,
    &quot;1199010&quot;: &quot;'%s' 未赋值&quot;,
    &quot;1199011&quot;: &quot;'%s' 参数无效或不存在&quot;,
    &quot;1199013&quot;: &quot;读取Data字段数据失败&quot;,
    &quot;1199014&quot;: &quot;数据唯一性校验失败， %s 重复&quot;,
    &quot;1199015&quot;: &quot;'%s' 数据越界&quot;,
    &quot;1199016&quot;: &quot;'%s' 字段正则校验失败&quot;,
    &quot;1199017&quot;: &quot;查询数据失败&quot;,
    &quot;1199018&quot;: &quot;新加数据失败&quot;,
    &quot;1199019&quot;: &quot;未找到相关数据&quot;,
    &quot;1199020&quot;: &quot;更新数据失败&quot;,
    &quot;1199021&quot;: &quot;删除数据失败&quot;,
    &quot;1199022&quot;: &quot;依赖服务[%s]未启动&quot;,
    &quot;1199023&quot;: &quot;未找到下载模板,对象:%s&quot;,
    &quot;1199024&quot;: &quot;'%s' 必须为字符串类型&quot;,
    &quot;1199025&quot;: &quot;'%s' 必须为布尔类型&quot;,
    &quot;1199026&quot;: &quot;配置文件缺少[%s]配置项&quot;,
    &quot;1199027&quot;: &quot;[%s]授权信息查询失败&quot;,
    &quot;1199028&quot;: &quot;字段值校验不通过&quot;,
    &quot;1199029&quot;: &quot;函数返回值格式有问题&quot;,
    &quot;1199030&quot;: &quot;请求参数格式错误，解析 HTTP body 数据失败&quot;,
    &quot;1199031&quot;: &quot;'%s' 初始化失败&quot;,
    &quot;1199032&quot;: &quot;'%s' 参数需要为字符串&quot;,
    &quot;1199033&quot;: &quot;获取字段属性失败，错误信息：%s&quot;,
    &quot;1199034&quot;: &quot;'%s' 必须为枚举类型&quot;,
    &quot;1199035&quot;: &quot; %s 超过限制 %d&quot;,
    &quot;1199038&quot;: &quot;数据 %s 不能为空&quot;,
    &quot;1199039&quot;: &quot;%s 字段在模型 % s不存在&quot;,
    &quot;1199040&quot;: &quot;转换%s模型的%s字段到 %s,错误:%s&quot;,
    &quot;1199041&quot;: &quot;处理%s，错误:%s&quot;,
    &quot;1199042&quot;: &quot;'%s' 参数应为浮点数字&quot;,
    &quot;1199043&quot;: &quot;字段值校验不通过, %s&quot;,
    &quot;1199044&quot;: &quot;未全部成功&quot;,
    &quot;1199045&quot;: &quot;解析授权信息失败&quot;,
    &quot;1199046&quot;: &quot;鉴权失败&quot;,
    &quot;1199047&quot;: &quot;没有操作的权限&quot;,
    &quot;1199048&quot;: &quot;权限校验失败&quot;,
    &quot;1199049&quot;: &quot;注册资源到IAM失败&quot;,
    &quot;1199050&quot;: &quot;注销资源到IAM失败&quot;,
    &quot;1199051&quot;: &quot;非预期访问，权限服务已关闭&quot;,
    &quot;1199052&quot;: &quot;获取到多条记录&quot;,
    &quot;1199053&quot;: &quot;未启用蓝鲸权限中心&quot;,
    &quot;1199054&quot;: &quot;内置结点，禁止删除&quot;,
    &quot;1199055&quot;: &quot;禁止父结点记录&quot;,
    &quot;1199056&quot;: &quot;禁止删除被引用记录&quot;,
    &quot;1199057&quot;: &quot;从db内的Metadata中解析业务ID失败&quot;,
    &quot;1199058&quot;: &quot;生成记录ID失败&quot;,
    &quot;1199059&quot;: &quot;分页查询数量超过限制的最大值, 建议值200&quot;,
    &quot;1199060&quot;: &quot;非预期的参数字段: `%s`&quot;,
    &quot;1199061&quot;: &quot;解析DB数据失败&quot;,
    &quot;1199062&quot;: &quot;获取业务默认集群模块信息失败&quot;,
    &quot;1199063&quot;: &quot;接口请求参数个数不够&quot;,
    &quot;1199064&quot;: &quot;函数调用参数错误&quot;,
    &quot;1199065&quot;:&quot;开启事务失败, 错误:%s&quot;,
    &quot;1199066&quot;:&quot;提交事务失败, 错误:%s&quot;,
    &quot;1199067&quot;:&quot;取消事务失败, 错误:%s&quot;,
    &quot;1199068&quot;:&quot;查询有权限的资源%s失败&quot;,
    &quot;1199069&quot;:&quot;解析属性枚举内容失败&quot;, 
    &quot;1199070&quot;: &quot;参数%s的值%s 无效&quot;,
    &quot;1199071&quot;:&quot;组装DB查询参数失败&quot;,
    &quot;1199072&quot;: &quot;获取权限中心跳转链接失败，请咨询蓝鲸权限中心&quot;,
    &quot;1199073&quot;: &quot;字段%s超过最大值%d&quot;,
    &quot;1199074&quot;: &quot;全局CCError未初始化&quot;,
    &quot;1199075&quot;: &quot;禁止使用通用实例接口操作主线模型实例&quot;,
    &quot;1199076&quot;: &quot;禁止更新内置云区域&quot;,
    &quot;1199077&quot;: &quot;一次操作记录数超过最大限制：%d&quot;,
    &quot;1199078&quot;: &quot;业务拓扑中模块[%s]不存在&quot;,
    &quot;1199079&quot;: &quot;业务[%s]不存在&quot;,
    &quot;1199080&quot;: &quot;解析属性列表内容失败&quot;,
    &quot;1199081&quot;: &quot;一次操作记录数超过最大限制：%d&quot;,
    &quot;1199082&quot;: &quot;从权限中心获取有权限的资源列表失败&quot;,
    &quot;1199083&quot;: &quot;禁止修改字段: %s&quot;,
    &quot;1199084&quot;: &quot;禁止使用通用实例接口操作内置模型实例&quot;,
    &quot;1199085&quot;: &quot;未知类型：%s&quot;,
    &quot;1199086&quot;: &quot;根据主机ID获取对应业务ID失败&quot;,
    &quot;1199087&quot;: &quot;已经存在相同的任务[%s]正在执行&quot;,
    &quot;1199088&quot;: &quot;操作Redis 缓存失败&quot;,
    &quot;1199089&quot;: &quot;%s数组长度错误，数组长度必须在1~%d之间&quot;,

    &quot;1109001&quot;: &quot;保存操作审计日志失败&quot;,
    &quot;1109002&quot;: &quot;创建操作审计快照失败&quot;,
    &quot;1109003&quot;: &quot;获取操作审计日志失败&quot;,

    &quot;1199998&quot;: &quot;未知或未能识别的异常&quot;,
    &quot;1199999&quot;:&quot;'%s' 服务器内部错误&quot;,
}</code></pre>


<h3 id="event_server">event_server</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;1103000&quot;: &quot;创建订阅失败&quot;,
    &quot;1103001&quot;: &quot;删除订阅失败&quot;,
    &quot;1103002&quot;: &quot;更新订阅失败&quot;,
    &quot;1103003&quot;: &quot;查询订阅失败&quot;,
    &quot;1103004&quot;: &quot;测试推送失败&quot;,
    &quot;1103005&quot;: &quot;测试连通性失败&quot;,
    &quot;1103006&quot;: &quot;推送事件失败&quot;,
}</code></pre>


<h3 id="host_controller">host_controller</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;1106000&quot;:&quot;查询主机实例失败&quot;,
    &quot;1106002&quot;:&quot;新增主机实例失败&quot;,
    &quot;1106003&quot;:&quot;查询主机快照失败&quot;,
    &quot;1106004&quot;:&quot;转移主机模块失败&quot;,
    &quot;1106005&quot;:&quot;删除主机默认集群模块失败&quot;,
    &quot;1106006&quot;:&quot;获取主机模块关系失败&quot;,
    &quot;1106007&quot;:&quot;删除原有主机模块关系失败&quot;,
    &quot;1106008&quot;:&quot;获取主机已经绑定关系模块失败&quot;,
    &quot;1106009&quot;:&quot;从资源池转移主机失败&quot;,
    &quot;1106010&quot;:&quot;主机已经属于其他业务，请刷新页面后，重新选择要分配的主机&quot;,
    &quot;1106011&quot;:&quot;主机属于空闲机以外的模块&quot;,
    &quot;1106012&quot;:&quot;转移主机到资源池失败&quot;,
    &quot;1106013&quot;:&quot;新加用户自定义配置&quot;,
    &quot;1106014&quot;:&quot;查询主机收藏失败&quot;,
    &quot;1106015&quot;:&quot;创建主机收藏失败&quot;,
    &quot;1106016&quot;:&quot;修改主机收藏失败&quot;,
    &quot;1106017&quot;:&quot;删除主机收藏失败&quot;,
    &quot;1106019&quot;:&quot;最近1分钟内快照通道为空&quot;,
    &quot;1106020&quot;:&quot;与快照数据通道的通讯断开&quot;,
    &quot;1106021&quot;: &quot;创建云同步任务失败&quot;,
    &quot;1106022&quot;: &quot;添加资源确认历史记录失败&quot;,
    &quot;1106023&quot;: &quot;查询同步历史失败&quot;,
    &quot;1106024&quot;: &quot;批量查询主机快照失败&quot;,
}</code></pre>


<h3 id="host_server">host_server</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;1110001&quot;: &quot;查询主机失败&quot;,
    &quot;1110002&quot;: &quot;更新主机失败&quot;,
    &quot;1110003&quot;: &quot;更新主机字段失败&quot;,
    &quot;1110004&quot;: &quot;创建主机失败&quot;,
    &quot;1110005&quot;: &quot;修改主机失败&quot;,
    &quot;1110006&quot;: &quot;删除主机失败&quot;,
    &quot;1110007&quot;: &quot;主机字段校验失败&quot;,
    &quot;1110008&quot;: &quot;主机找不到&quot;,
    &quot;1110009&quot;: &quot;主机长度错误&quot;,
    &quot;1110010&quot;: &quot;获取主机详情失败&quot;,
    &quot;1110011&quot;: &quot;获取主机快照数据失败&quot;,
    &quot;1110012&quot;: &quot;主机字段校验失败&quot;,
    &quot;1110013&quot;: &quot;添加主机收藏失败&quot;,
    &quot;1110014&quot;: &quot;主机收藏名为空&quot;,
    &quot;1110015&quot;: &quot;更新主机收藏失败&quot;,
    &quot;1110016&quot;: &quot;删除主机收藏失败&quot;,
    &quot;1110017&quot;: &quot;获取主机收藏失败&quot;,
    &quot;1110018&quot;: &quot;创建主机查询历史失败&quot;,
    &quot;1110019&quot;: &quot;获取主机查询历史失败&quot;,
    &quot;1110020&quot;: &quot;保存字段配置失败&quot;,
    &quot;1110021&quot;: &quot;获取字段配置失败&quot;,
    &quot;1110022&quot;: &quot;获取默认字段配置失败&quot;,
    &quot;1110023&quot;: &quot;主机ID'%v'不属于当前业务&quot;,
    &quot;1110024&quot;: &quot;获取主机'%v'的业务失败&quot;,
    &quot;1110025&quot;: &quot;从资源池删除主机'%s'失败, error:%s&quot;,
    &quot;1110026&quot;: &quot;新加主机'%s'与模块关系失败, error:%s&quot;,
    &quot;1110027&quot;: &quot;主机'%s' 转移到资源池失败, error:%s&quot;,
    &quot;1110028&quot;: &quot;修改主机关系失败&quot;,
    &quot;1110029&quot;: &quot;添加主机到模块失败&quot;,
    &quot;1110030&quot;: &quot;添加主机到模块失败, error:%s&quot;,

    &quot;1110040&quot;: &quot;新加自定义查询失败, %s&quot;,
    &quot;1110041&quot;: &quot;修改自定义查询失败, %s&quot;,
    &quot;1110042&quot;: &quot;删除自定义查询失败, %s&quot;,
    &quot;1110043&quot;: &quot;查询自定义查询失败, %s&quot;,
    &quot;1110044&quot;: &quot;获取自定义查询详情失败, %s&quot;,
    &quot;1110045&quot;: &quot;获取主机关系失败, %s&quot;,
    &quot;1110046&quot;: &quot;获取集群失败, %s&quot;,
    &quot;1110047&quot;: &quot;获取业务失败, %s&quot;,
    &quot;1110048&quot;: &quot;业务 %v 不存在&quot;,
    &quot;1110049&quot;: &quot;获取模块失败, %s&quot;,
    &quot;1110050&quot;: &quot;获取主机agent状态, %s&quot;,
    &quot;1110051&quot;: &quot;未找到资源池&quot;,
    &quot;1110052&quot;: &quot;主机已经属于资源池&quot;,
    &quot;1110053&quot;: &quot;获取资源池信息失败，%s&quot;,
    &quot;1110054&quot;: &quot;%s模块不存在&quot;,
    &quot;1110055&quot;: &quot;删除业务下主机失败&quot;,
    &quot;1110056&quot;: &quot;操作失败，以下主机不属于目标模块：%s&quot;,
    &quot;1110057&quot;: &quot;模块不存在或者存在多个内置模块&quot;,
    &quot;1110058&quot;: &quot;参数中的bject对象缺少bk_inst_id字段&quot;,
    &quot;1110059&quot;: &quot;集群ID[%d]不存在&quot;,
    &quot;1110060&quot;: &quot;集群ID[%d]不属于业务ID[%d]&quot;,
    &quot;1110061&quot;: &quot;模块ID[%d]不属于业务ID[%d]&quot;,
    &quot;1110062&quot;: &quot;模块ID[%d]不属于集群ID[%d]&quot;,
    &quot;1110063&quot;: &quot;创建云区域失败，缺少必填字段bk_cloud_name&quot;,
    &quot;1110064&quot;: &quot;创建云区域失败，云区域名称已存在&quot;,
    &quot;1110065&quot;: &quot;查询云区域失败，host_count字段添加失败&quot;,
    &quot;1110066&quot;: &quot;不能删除默认云区域&quot;,
    &quot;1110067&quot;: &quot;查询云区域失败，sync_task_ids字段添加失败&quot;,

    &quot;1110080&quot;: &quot;添加主机到资源池失败&quot;,
}</code></pre>


<h2 id="migrate">migrate</h2>
<pre class="codehilite"><code class="language-json">{
         &quot;1105000&quot;:&quot;迁移数据失败, %s&quot;,
         &quot;1105001&quot;:&quot;初始化权限中心失败: %s&quot;,
}</code></pre>


<h2 id="object_controller">object_controller</h2>
<pre class="codehilite"><code class="language-json">{
    &quot;1102000&quot;: &quot;属性分组存储失败&quot;,
    &quot;1102001&quot;: &quot;删除属性分组失败&quot;,
    &quot;1102002&quot;: &quot;查询属性分组失败&quot;,
    &quot;1102003&quot;: &quot;更新属性分组失败&quot;,
    &quot;1102004&quot;: &quot;新增实例失败&quot;,
    &quot;1102005&quot;: &quot;更新实例失败&quot;,
    &quot;1102006&quot;: &quot;删除实例失败&quot;,
    &quot;1102007&quot;: &quot;查询实例失败&quot;,
    &quot;1102008&quot;: &quot;查询身份失败&quot;,
}</code></pre>


<h2 id="proc_controller">proc_controller</h2>
<pre class="codehilite"><code class="language-json">{
        &quot;1107001&quot;: &quot;从模块移除进程失败&quot;,
        &quot;1107002&quot;: &quot;新加进程到模块失败&quot;,
        &quot;1107003&quot;: &quot;查询进程失败&quot;,
        &quot;1107011&quot;: &quot;删除进程模板绑定失败&quot;,
        &quot;1107012&quot;: &quot;新增进程模板绑定失败&quot;,
        &quot;1107013&quot;: &quot;查询进程模板绑定失败&quot;,
}</code></pre>


<h2 id="proc_server">proc_server</h2>
<pre class="codehilite"><code class="language-json">{
    &quot;1108001&quot;: &quot;查询进程详情失败&quot;,
    &quot;1108002&quot;: &quot;绑定进程模型失败&quot;,
    &quot;1108003&quot;: &quot;解除进程模型绑定失败&quot;,
    &quot;1108004&quot;: &quot;解除进程模型绑定失败&quot;,
    &quot;1108005&quot;: &quot;更新进程失败&quot;,
    &quot;1108006&quot;: &quot;查询进程失败&quot;,
    &quot;1108007&quot;: &quot;删除进程失败&quot;,
    &quot;1108008&quot;: &quot;创建进程失败&quot;,    
    &quot;1108013&quot;: &quot;进程下有绑定模块&quot;,
    &quot;1108014&quot;: &quot;删除配置模板失败&quot;,
    &quot;1108015&quot;: &quot;更新配置模板失败&quot;,
    &quot;1108016&quot;: &quot;查询配置模板失败&quot;,
    &quot;1108017&quot;: &quot;绑定模板到进程失败&quot;,
    &quot;1108018&quot;: &quot;解绑模板进程失败&quot;,
    &quot;1108019&quot;: &quot;查询进程模板绑定关系失败&quot;,
    &quot;1108020&quot;: &quot;查询进程执行状态执行失败&quot;, 
    &quot;1108021&quot;: &quot;进程操作等待执行&quot;,
    &quot;1108022&quot;: &quot;进程操作出现错误&quot;,
    &quot;1108023&quot;: &quot;创建配置模板失败&quot;,
    &quot;1108024&quot;: &quot;查询进程服务实例列表失败&quot;,
    &quot;1108025&quot;: &quot;创建进程服务实例失败&quot;,
    &quot;1108026&quot;: &quot;删除进程服务实例失败&quot;,
    &quot;1108027&quot;: &quot;查询进程模板失败&quot;,
    &quot;1108028&quot;: &quot;查询进程实例失败&quot;,
    &quot;1108029&quot;: &quot;查询进程实例关系失败&quot;,
    &quot;1108030&quot;: &quot;删除服务模板失败&quot;,
    &quot;1108031&quot;: &quot;创建进程模板失败&quot;,
    &quot;1108032&quot;: &quot;更新进程模板失败&quot;,
    &quot;1108033&quot;: &quot;查询进程模板失败&quot;,
    &quot;1108034&quot;: &quot;查询默认服务分类失败&quot;,
    &quot;1108035&quot;: &quot;通过模板创建的服务实例禁止直接添加/修改进程实例&quot;,
    &quot;1108036&quot;: &quot;服务分类与服务模板不一致&quot;,
    &quot;1108037&quot;: &quot;模块未绑定服务模板&quot;,
    &quot;1108038&quot;: &quot;创建服务实例模块模板信息与HTTP接口不一致&quot;,
    &quot;1108039&quot;: &quot;禁止在有模板的服务实例上添加进程&quot;,
    &quot;1108040&quot;: &quot;解除模块模板绑定失败&quot;,
    &quot;1108041&quot;: &quot;生成服务实例名称失败&quot;,
    &quot;1108042&quot;: &quot;解除模块模板绑定已禁用&quot;,
    &quot;1108043&quot;: &quot;查询服务分类失败&quot;,
    &quot;1108044&quot;: &quot;主机转移失败，目标模块不能同时包含内置模块与其它模块&quot;,
}</code></pre>


<h2 id="topo_server">topo_server</h2>
<pre class="codehilite"><code class="language-json">{
    &quot;1101000&quot;: &quot;创建实例失败&quot;,
    &quot;1101001&quot;: &quot;删除实例失败&quot;,
    &quot;1101002&quot;: &quot;更新实例失败&quot;,
    &quot;1101003&quot;: &quot;查询实例数据失败&quot;,
    &quot;1101004&quot;: &quot;创建模型失败&quot;,
    &quot;1101005&quot;: &quot;删除模型失败&quot;,
    &quot;1101006&quot;: &quot;更新模型失败&quot;,
    &quot;1101007&quot;: &quot;查询模型失败&quot;,
    &quot;1101008&quot;: &quot;创建集群失败&quot;,
    &quot;1101009&quot;: &quot;删除集群失败&quot;,
    &quot;1101010&quot;: &quot;更新集群信息失败&quot;,
    &quot;1101011&quot;: &quot;查询集群信息失败&quot;,
    &quot;1101013&quot;: &quot;创建模型失败&quot;,
    &quot;1101014&quot;: &quot;删除模型失败&quot;,
    &quot;1101015&quot;: &quot;更新模型失败&quot;,
    &quot;1101016&quot;: &quot;查询模型失败&quot;,
    &quot;1101017&quot;: &quot;创建模型属性失败&quot;,
    &quot;1101018&quot;: &quot;删除模型属性失败&quot;,
    &quot;1101019&quot;: &quot;更新模型属性失败&quot;,
    &quot;1101020&quot;: &quot;查询模型属性失败&quot;,
    &quot;1101021&quot;: &quot;创建模型分类失败&quot;,
    &quot;1101022&quot;: &quot;删除模型分类失败&quot;,
    &quot;1101023&quot;: &quot;更新模型分类失败&quot;,
    &quot;1101024&quot;: &quot;查询模型分类失败&quot;,
    &quot;1101025&quot;: &quot;创建模型属性分组失败&quot;,
    &quot;1101026&quot;: &quot;删除模型属性分组失败&quot;,
    &quot;1101027&quot;: &quot;更新模型属性分组失败&quot;,
    &quot;1101028&quot;: &quot;查询模型属性分组失败&quot;,
    &quot;1101029&quot;: &quot;分类下有模型，不允许删除&quot;,
    &quot;1101030&quot;: &quot;目标包含主机, 不允许删除&quot;,
    &quot;1101131&quot;: &quot;删除业务失败&quot;,
    &quot;1101132&quot;: &quot;更新业务失败&quot;,
    &quot;1101133&quot;: &quot;查询业务失败&quot;,
    &quot;1101134&quot;: &quot;创建业务失败&quot;,
    &quot;1101135&quot;: &quot;禁止删除内置模型&quot;,
    &quot;1101137&quot;: &quot;创建主线失败&quot;,
    &quot;1101138&quot;: &quot;删除主线失败&quot;,
    &quot;1101139&quot;: &quot;查询主线失败&quot;,
    &quot;1101140&quot;: &quot;查询模型拓扑失败&quot;,
    &quot;1101141&quot;: &quot;创建用户分组&quot;,
    &quot;1101142&quot;: &quot;删除用户分组&quot;,
    &quot;1101143&quot;: &quot;更新用户分组&quot;,
    &quot;1101144&quot;: &quot;查询用户分组&quot;,
    &quot;1101145&quot;: &quot;更新用户分组权限&quot;,
    &quot;1101146&quot;: &quot;查询用户分组权限&quot;,
    &quot;1101147&quot;: &quot;查询用户权限&quot;,
    &quot;1101148&quot;: &quot;创建角色权限&quot;,
    &quot;1101149&quot;: &quot;此层级下有重名的实例，删除失败。&quot;,
    &quot;1101150&quot;: &quot;主机不支持跨业务转移&quot;,
    &quot;1101151&quot;: &quot;查询模型拓扑失败&quot;,
    &quot;1101152&quot;: &quot;更新模型拓扑失败&quot;,
    &quot;1101031&quot;: &quot;查询云区域失败, %s&quot;,
    &quot;1101032&quot;: &quot;云区域不存在&quot;,
    &quot;1101033&quot;: &quot;查询业务失败&quot;,
    &quot;1101034&quot;: &quot;查询模块失败,%s&quot;,
    &quot;1101035&quot;: &quot;业务拓扑层级超限&quot;,
    &quot;1101036&quot;: &quot;实例 [实例ID: %d] 已经被关联,不允许删除或归档&quot;,
    &quot;1101037&quot;: &quot;该模型 [%s] 已被实例化，禁止删除&quot;,
    &quot;1101038&quot;: &quot;关联关系 %s-&gt;%s 重复&quot;,
    &quot;1101039&quot;: &quot;关联的源模型不存在&quot;,
    &quot;1101040&quot;: &quot;关联的目标模型不存在&quot;,
    &quot;1101041&quot;: &quot;无效的关联关系ID，应该为正整数&quot;,
    &quot;1101042&quot;: &quot;查到多个关联关系实例&quot;,
    &quot;1101043&quot;: &quot;模型的关联关系已经被实例化，不能被删除&quot;,
    &quot;1101044&quot;: &quot;查询关联类型[%s]失败&quot;,
    &quot;1101045&quot;: &quot;模型关联关系缺少相关参数&quot;,
    &quot;1101046&quot;: &quot;模型的关联关系不存在&quot;,
    &quot;1101047&quot;: &quot;包含了不允许更新的字段&quot;,
    &quot;1101048&quot;: &quot;主线模型[%s-&gt;%s]关联关系不存在&quot;,
    &quot;1101049&quot;: &quot;关联关系导入失败&quot;,
    &quot;1101050&quot;: &quot;查询到多个关联实例&quot;,
    &quot;1101051&quot;: &quot;预置的关联类型不能被删除&quot;,
    &quot;1101052&quot;: &quot;关联关系为1:1的，不能同时关联多个实例&quot;,
    &quot;1101053&quot;: &quot;模型已经被关联&quot;,
    &quot;1101054&quot;: &quot;禁止更新预定义的关联关系&quot;,
    &quot;1101055&quot;: &quot;禁止删除预定义的关联关系&quot;,
    &quot;1101056&quot;: &quot;关联关系不存在&quot;,
    &quot;1101057&quot;: &quot;%s行缺少bk_inst_name字段值&quot;,
    &quot;1101058&quot;: &quot;%s行bk_inst_name值非字符类型&quot;,
    &quot;1101059&quot;: &quot;bk_inst_name %s 值有重复&quot;,
    &quot;1101060&quot;: &quot;关联类型已经被使用&quot;,
    &quot;1101061&quot;: &quot;关联关系为1:n的，不能同时关联多个源模型实例&quot;,
    &quot;1101160&quot;:&quot;创建模型分组唯一失败&quot;,
    &quot;1101161&quot;:&quot;更新模型分组唯一失败&quot;,
    &quot;1101162&quot;:&quot;删除模型分组唯一失败&quot;,
    &quot;1101163&quot;:&quot;查询模型分组唯一失败&quot;,
    &quot;1101164&quot;:&quot;模型属性 [%s] 已被移除&quot;,
    &quot;1101165&quot;:&quot;模型属性 [%s] 已被分组唯一引用， 删除失败&quot;,
    &quot;1101166&quot;:&quot;唯一项类型 [%s] 非法&quot;,
    &quot;1101167&quot;:&quot;内置的唯一项不允许修改或删除&quot;,
    &quot;1101168&quot;:&quot;模型不能有多个必须校验的唯一校验项&quot;,
    &quot;1101069&quot;:&quot;模型至少需要有一组的必填唯一校验项&quot;,
    &quot;1101070&quot;:&quot;关联类型已经被应用到模型&quot;,
    &quot;1101071&quot;:&quot;预定义关联类型不能被删除&quot;,
    &quot;1101072&quot;:&quot;关联类型不存在&quot;,
    &quot;1101073&quot;:&quot;关联实例不存在&quot;,
    &quot;1101074&quot;:&quot;被关联实例不存在&quot;,
    &quot;1101075&quot;:&quot;实例下有关联关系&quot;,
    &quot;1101076&quot;:&quot;创建关联类型失败&quot;,
    &quot;1101077&quot;:&quot;更新关联类型失败&quot;,
    &quot;1101078&quot;:&quot;删除关联类型失败&quot;,
    &quot;1101080&quot;:&quot;拓扑模块没找到&quot;,
    &quot;1101081&quot;:&quot;拓扑应用不允许删除&quot;,
    &quot;1101082&quot;:&quot;bk_mainline 为内置关联类型，不能用于当前场景&quot;,
    &quot;1101083&quot;:&quot;关联类型与调用入口不匹配&quot;,
    &quot;1101084&quot;: &quot;模型已经停用&quot;,
    &quot;1101085&quot;: &quot;不能变更主线模型的唯一校验&quot;,
    &quot;1101086&quot;: &quot;查询有权限的业务列表失败&quot;,
    &quot;1101087&quot;: &quot;归档的业务下有主机，禁止归档&quot;,
    &quot;1101088&quot;: &quot;查询检索内容失败&quot;,
    &quot;1101089&quot;: &quot;全文检索未初始化&quot;,
    &quot;1101090&quot;: &quot;禁止修改由模板创建模块的服务分类&quot;,
    &quot;1101091&quot;: &quot;禁止修改由模板创建模块的名称&quot;,
    &quot;1101092&quot;: &quot;主线模型不能新增必填字段属性&quot;,
    &quot;1101093&quot;: &quot;%d行模型ID与URL不一致&quot;,
    &quot;1101094&quot;: &quot;主线模型实例，不允许通过excel导入方式操作&quot;,
    &quot;1101095&quot;: &quot;同步集群模板失败&quot;,
    &quot;1101096&quot;: &quot;同步集群模板任务正在执行&quot;,
    &quot;1101097&quot;: &quot;集群由集群模板创建，禁止添加/删除模块&quot;,
    &quot;1101098&quot;: &quot;禁止删除内置集群/模块&quot;,
    &quot;1101099&quot;: &quot;已经存在同名模块&quot;,

    &quot;1101100&quot;: &quot;URL参数解析失败&quot;,
    &quot;1101101&quot;: &quot;查询模型属性失败，请刷新页面&quot;,
    &quot;1101102&quot;: &quot;模型未找到&quot;,
    &quot;1101102&quot;: &quot;只可更新资源池目录名称&quot;,
    &quot;1101103&quot;: &quot;%s资源池目录失败，目录不存在&quot;,
    &quot;1101104&quot;: &quot;空闲机目录不允许删除&quot;,
    &quot;1101105&quot;: &quot;资源池目录正在被云同步任务使用&quot;,
}</code></pre>


<h2 id="api_v2">api_v2</h2>
<pre class="codehilite"><code class="language-json">{
    &quot;1170001&quot;:&quot;业务名称必须1-32个字符&quot;,
    &quot;1170002&quot;:&quot;%s&quot;,
    &quot;1170003&quot;:&quot;集群名称长度不能超过24个字节&quot;,
    &quot;1170004&quot;:&quot;每个模块ID都必须是数字&quot;,
    &quot;1170005&quot;:&quot;每个集群ID都必须是数字&quot;,
    &quot;1170006&quot;:&quot;osType必须是windows或linux&quot;,
    &quot;1170007&quot;:&quot;多模块转移不能包含默认模块&quot;,
}</code></pre>


<h2 id="apiserver">apiserver</h2>
<pre class="codehilite"><code class="language-json">{
    &quot;1100001&quot;:&quot;api从权限中心获取授权的业务列表错误&quot;,
    &quot;1100002&quot;:&quot;获取用户的资源身份验证验证状态失败&quot;,
    &quot;1100003&quot;:&quot;未找到对象实例&quot;,
}</code></pre>


<h2 id="cloudserver">cloudserver</h2>
<pre class="codehilite"><code class="language-json">{
    &quot;1118001&quot;: &quot;不支持云厂商&quot;,
    &quot;1118002&quot;: &quot;账户名称已存在&quot;,
    &quot;1118003&quot;: &quot;云账户参数%s校验失败&quot;,
    &quot;1118004&quot;: &quot;云账户ID为%d的不存在&quot;,
    &quot;1118005&quot;: &quot;任务名称已存在&quot;,
    &quot;1118006&quot;: &quot;云同步任务参数%s校验失败&quot;,
    &quot;1118007&quot;: &quot;参数bk_vpc_id不能为空&quot;,
    &quot;1118008&quot;: &quot;云厂商接口调用失败&quot;,
    &quot;1118009&quot;: &quot;同样的SecretID已经在云账户%s里存在&quot;,
    &quot;1118010&quot;: &quot;该云账户已经有云同步任务%s&quot;,
    &quot;1118011&quot;: &quot;云账户的SecretID或者Key不匹配&quot;,
    &quot;1118012&quot;: &quot;云厂商http请求调用超时&quot;,
    &quot;1118013&quot;: &quot;云厂商VPC信息获取失败&quot;,
    &quot;1118014&quot;: &quot;云厂商地域信息获取失败&quot;,
    &quot;1118015&quot;: &quot;没有选择云同步目录&quot;,
    &quot;1118016&quot;: &quot;云同步目录ID为%d的不存在&quot;,
    &quot;1118017&quot;: &quot;没有提供云区域ID&quot;,
    &quot;1118018&quot;: &quot;云区域ID为%d的不存在&quot;,
    &quot;1118019&quot;: &quot;不能使用默认云区域&quot;,
    &quot;1118020&quot;: &quot;云账户创建失败&quot;,
    &quot;1118021&quot;: &quot;批量获取云账户配置失败&quot;,
    &quot;1118022&quot;: &quot;删除被销毁云主机相关资源失败&quot;,
    &quot;1118023&quot;: &quot;云账户删除失败，其下已经绑定了云同步任务&quot;,
}</code></pre>


<h2 id="coreservice">coreservice</h2>
<pre class="codehilite"><code class="language-json">{
    &quot;1113001&quot;: &quot;字段分组下包含一些字段&quot;,
    &quot;1113002&quot;: &quot;主机ID[%#v]不属于业务ID[%#v]&quot;,
    &quot;1113003&quot;: &quot;主机ID[%#v]不存在&quot;,
    &quot;1113004&quot;: &quot;模块ID[%#v]不属于业务ID[%v]&quot;,
    &quot;1113005&quot;: &quot;将主机转移为多个模块不包含内置模块&quot;,
    &quot;1113006&quot;: &quot;业务[%#v]不存在&quot;,
    &quot;1113007&quot;: &quot;业务[%#v]内置模块不存在&quot;,
    &quot;1113008&quot;: &quot;moduleID [%d]的businessID [%d]不是内置模块&quot;,
    &quot;1113009&quot;: &quot;转移主机模块失败&quot;,
    &quot;1113010&quot;: &quot;未能发送事件&quot;,
    &quot;1113011&quot;: &quot;禁止释放(转移到空闲机/故障机/待回收/资源池)已关联到服务实例的主机&quot;,
    &quot;1113012&quot;: &quot;禁止将主机从空闲机/故障机/待回收模块移除&quot;,
    &quot;1113013&quot;: &quot;转移主机到默认模块调用了错误接口&quot;,
    &quot;1113014&quot;: &quot;模块没有绑定服务模板，不能同步创建服务实例&quot;,
    &quot;1113015&quot;: &quot;未找到指定主机&quot;,
    &quot;1113016&quot;: &quot;服务实例[%s]已经存在&quot;,
    &quot;1113017&quot;: &quot;服务分类名称【%s】重复&quot;,
    &quot;1113018&quot;: &quot;模块与服务实例模板不一致&quot;,
    &quot;1113019&quot;: &quot;进程别名[%s]唯一校验失败&quot;,
    &quot;1113020&quot;: &quot;进程名称[%s]+启动参数[%s]唯一校验失败&quot;,
    &quot;1113021&quot;: &quot;模块没有绑定到模板&quot;,
    &quot;1113022&quot;: &quot;通过模板创建的进程[%s]禁止删除&quot;,
    &quot;1113023&quot;: &quot;删除多个模型中的[%s]数据&quot;,
    &quot;1113024&quot;: &quot;不允许删除在唯一校验中的字段 &quot;,
    &quot;1113025&quot;: &quot;修改不允许修改的属性的描述&quot;,
    &quot;1113026&quot;: &quot;模型[%s]不允许新加必填字段&quot;,
    &quot;1113027&quot;: &quot;模型[%s]不允许修改必填字段&quot;,
    &quot;1113028&quot;: &quot;模型[%s]不允许新加字段&quot;,
    &quot;1113029&quot;: &quot;模型【%s】不允许删除&quot;,
    &quot;1113030&quot;: &quot;模型下有示例数据&quot;,
    &quot;1113031&quot;: &quot;模型与其他模型有关联关系&quot;,
    &quot;1113032&quot;: &quot;仅允许使用叶子结点服务分类&quot;,
    &quot;1113033&quot;: &quot;搜索数据过多&quot;,
    &quot;1113033&quot;: &quot;资源池目录不存在&quot;,
    &quot;1113034&quot;: &quot;以下主机不在任意资源池目录下: %d&quot;,
    &quot;1113050&quot;: &quot;相同的唯一校验规则已经存在&quot;,
}</code></pre>


<h2 id="datacollection">datacollection</h2>
<pre class="codehilite"><code class="language-json">{
    &quot;1112000&quot;: &quot;增加设备失败&quot;,
    &quot;1112001&quot;: &quot;查找设备失败&quot;,
    &quot;1112002&quot;: &quot;删除设备失败&quot;,
    &quot;1112003&quot;: &quot;模型ID或模型名不是网络采集设备&quot;,
    &quot;1112004&quot;: &quot;增加网络设备属性失败&quot;,
    &quot;1112005&quot;: &quot;查找网络设备属性失败&quot;,
    &quot;1112006&quot;: &quot;删除网络设备属性失败&quot;,
    &quot;1112007&quot;: &quot;属性不存在&quot;,
    &quot;1112008&quot;: &quot;设备不存在&quot;,
    &quot;1112009&quot;: &quot;格式化 period 字段失败&quot;,
    &quot;1112010&quot;: &quot;该设备已配置属性，删除失败&quot;,
    &quot;1112011&quot;: &quot;查询采集器失败&quot;,
    &quot;1112012&quot;: &quot;更新采集器失败&quot;,
    &quot;1112013&quot;: &quot;执行发现失败&quot;,
    &quot;1112014&quot;: &quot;查询报告失败&quot;,
    &quot;1112015&quot;: &quot;确认变更失败&quot;,
    &quot;1112016&quot;: &quot;查询变更历史失败&quot;,
    &quot;1112017&quot;: &quot;更新设备失败&quot;,
    &quot;1112018&quot;: &quot;更新网络设备属性失败&quot;,
}</code></pre>


<h2 id="operationserver">operationserver</h2>
<pre class="codehilite"><code class="language-json">{
    &quot;1116001&quot;: &quot;获取业务、模块、主机数量失败&quot;,
    &quot;1116002&quot;: &quot;新增统计报表失败&quot;,
    &quot;1116003&quot;: &quot;统计报表已经存在&quot;,
    &quot;1116004&quot;: &quot;删除统计图表失败&quot;,
    &quot;1116005&quot;: &quot;获取统计图表失败&quot;,
    &quot;1116006&quot;: &quot;更新统计图表失败&quot;,
    &quot;1116007&quot;: &quot;获取图表数据失败&quot;,
    &quot;1116008&quot;: &quot;更新图表位置失败&quot;
}</code></pre>


<h2 id="web">web</h2>
<pre class="codehilite"><code class="language-json">{
    &quot;1111001&quot;:&quot;未找到上传文件&quot;,
    &quot;1111002&quot;:&quot;保存文件失败 %s&quot;,
    &quot;1111003&quot;:&quot;打开文件失败 %s&quot;,
    &quot;1111004&quot;:&quot;文件内容不能为空,%s&quot;,
    &quot;1111005&quot;:&quot;获取文件内容失败,%s&quot;,
    &quot;1111006&quot;:&quot;获取主机数据失败, 错误:%s&quot;,
    &quot;1111007&quot;:&quot;创建EXCEL文件失败，错误:%&quot;,
    &quot;1111008&quot;:&quot;获取实例数据失败, 错误:%s&quot;,
    &quot;1111009&quot;:&quot;获取新增设备结果失败, 错误:%s&quot;,
    &quot;1111010&quot;:&quot;获取新增设备属性结果失败, 错误:%s&quot;,
    &quot;1111011&quot;:&quot;获取设备数据失败, 错误:%s&quot;,
    &quot;1111012&quot;:&quot;获取设备属性数据失败, 错误:%s&quot;,
    &quot;1111013&quot;:&quot;请填写用户名和密码&quot;,
    &quot;1111014&quot;:&quot;用户名或者密码错误，请重新输入&quot;,
    &quot;1111015&quot;:&quot;未配置用户名和密码信息，请在common.conf文件中配置session.user_info配置项&quot;,
    &quot;1111016&quot;:&quot;用户名和密码配置格式错误，请检查session.user_info配置项&quot;,
    &quot;1111017&quot;:&quot;未知的登录版本%s&quot;,
}</code></pre>


<h2 id="taskserver">taskserver</h2>
<pre class="codehilite"><code class="language-json">{
    &quot;1117001&quot;: &quot;任务不存在&quot;,
    &quot;1117002&quot;: &quot;子任务不存在&quot;,
    &quot;1117003&quot;: &quot;任务状态不允许改变为%v&quot;,
    &quot;1117004&quot;: &quot;任务任务状态为失败，错误返回不允许为空&quot;,
    &quot;1117005&quot;: &quot;任务加锁失败&quot;,
    &quot;1117006&quot;: &quot;任务解锁失败&quot;,
    &quot;1117007&quot;: &quot;查询任务失败&quot;,
}</code></pre>


<h2 id="synchronize">synchronize</h2>
<pre class="codehilite"><code class="language-json">{
    &quot;1113900&quot;: &quot;数据同步失败&quot;,
    &quot;1113901&quot;: &quot;%s类型数据同步，数据同类型%s存在&quot;,
    &quot;1113902&quot;: &quot;数据同步失败&quot;,
}</code></pre><h1 id="_1">蓝鲸标准化错误码</h1>
<h2 id="_2">错误码分类</h2>
<ol>
<li>文件磁盘系统，格式为：59xxxxx</li>
<li>MySQL 系统，格式为：52xxxxx</li>
<li>Redis 系统，格式为：50xxxxx</li>
<li>MQ，格式为：55xxxxx</li>
<li>GSE，格式为：10xxxxx</li>
<li>CMDB，格式为：11xxxxx</li>
<li>作业平台，格式为：12xxxxx</li>
</ol>
<h2 id="-">系统-通用</h2>
<p>0=成功</p>
<h2 id="-_1">系统错误-权限</h2>
<pre class="codehilite"><code class="language-bash">1238001=用户权限不足
9900403=用户权限不足
1238002=用户无业务操作权限</code></pre>


<h2 id="-api">系统错误-API 通用</h2>
<pre class="codehilite"><code class="language-bash">1239001=IP:{0}无访问权限
1239002=用户无访问权限
1239003=不支持的 API 接口
1239004=缺少请求报文或报文不合法
1239005=调用超时
1239006=内部服务错误
1239007=API 接口已经过期废弃
1239008=API 服务过载，拒绝服务请求
1239009=API 回调其他接口失败
1239010=Api.cert 文件不可用</code></pre>


<h2 id="-_2">系统错误-通用</h2>
<pre class="codehilite"><code class="language-bash">1240001=服务不可用
1240002=内部服务器异常
1240003=错误的请求
1240004=Cookie 过期或者不存在
1240005=服务认证失败</code></pre>


<h2 id="-_3">系统错误-公共组件错误</h2>
<pre class="codehilite"><code class="language-bash">1250001=Redis 服务连接失败
1250002=Redis 服务内部错误
1259001=NFS 存储不可用
1252001=DB 不可用
1255001=MQ 不可用</code></pre>


<h2 id="-_4">系统错误-平台服务错误</h2>
<pre class="codehilite"><code class="language-bash">1210101=License 不可用
1210001=GSE 不可用
1211001=CMDB 服务不可用
1211002=CMDB API 返回数据异常
1213001=PAAS 服务不可用
1213002=PAAS API 返回数据异常</code></pre>


<h2 id="-_5">业务错误-通用</h2>
<pre class="codehilite"><code class="language-bash">1241001=请求参数缺失
1241002=请求参数不合法
1241003=不支持的操作
1241004=请求参数[{0}]缺失
1241005=请求参数[{0}]不合法
1241006=请求参数缺失或不合法
1241007=请求参数[{0}]缺失或不合法</code></pre>


<h2 id="-job-manage">业务错误-作业管理(job-manage)</h2>
<pre class="codehilite"><code class="language-bash">1243001=脚本不存在
1243002=脚本名称已存在，请重新输入
1243003=脚本名称不合法
1243004=脚本不属于该业务
1243005=已上线脚本不支持删除
1243007=账号别名已存在
1243008=DB 依赖的系统账号不合法
1243009=执行方案不存在
1243010=上传脚本文件名为空
1243011=上传脚本文件扩展名不合法
1243012=上传脚本文件内容不合法
1243013=默认通知策略未配置，请联系管理员
1243014=账号被引用，禁止删除
1243015=文件大小超过上限{}</code></pre>


<h2 id="-job-execute">业务错误-作业执行(job-execute)</h2>
<pre class="codehilite"><code class="language-bash">1244001=主机为空
1244002=主机未注册:{0}
1244003=账号不存在
1244004=没有该账号的权限
1244005=启动作业失败
1244006=作业实例不存在
1244007=作业步骤实例不存在
1244008=作业引用的主机列表变量[{0}]不存在
1244009=作业引用的主机列表变量[{0}]的主机为空
1244010=导出日志文件失败
1244011=执行方案不合法
1244012=执行方案不存在
1244013=下载执行日志文件失败
1244014=脚本已禁用，无法执行
1244015=任务正在终止中，请不要重复操作
1244016=只有步骤的确认人可以操作
1244017=获取主机失败
1244018=脚本未上线，无法执行</code></pre>


<h2 id="-job-logsvr">业务错误-日志服务(job-logsvr)</h2>
<pre class="codehilite"><code class="language-bash">1246001=获取作业执行日志失败
1246002=保存作业执行日志失败
1246003=删除作业执行日志失败</code></pre>


<h2 id="-_6">业务错误-用户服务、登录服务</h2>
<pre class="codehilite"><code class="language-bash">1247001=用户不存在或者未登录
1243016=创建 Tag 失败
1243017=引用的脚本未上线或被删除
1243018=新建模版失败
1243019=更新模版失败
1243020=保存模版发生未知错误
1243021=Tag 已存在
1243022=错误的变量类型
1241008=错误的业务 ID
1241009=业务集/全业务需要联系管理员配置
1243023=新建执行方案失败
1243024=更新执行方案失败
1243025=保存执行方案发生未知错误
1243026=模版不存在
1243027=创建调试模版失败
1243028=同步执行方案失败
1243029=不支持的步骤类型
1243030=批量操作失败
1243031=不支持的任务类型
1243032=新建步骤失败
1243033=更新步骤失败
1243034=删除步骤失败
1243035=更新文件信息失败
1243036=脚本版本已存在
1243037=删除失败！存在关联的定时任务
1243038=删除失败！执行方案存在关联的定时任务
1243039=脚本版本 Id 已存在
1243045=同步脚本失败
1245006=定时任务执行时间已失效
1245007=定时任务结束时间或通知时间已失效
1245005=更新定时任务获取锁失败
1243041=更新模版失败！并发冲突，请不要多次点击保存。</code></pre><h1 id="_1">管控平台错误码</h1>
<table>
<thead>
<tr>
<th>错误码</th>
<th>错误名称</th>
<th>注解</th>
</tr>
</thead>
<tbody>
<tr>
<td>1000101</td>
<td>GSE_SYSTEMERROR</td>
<td>系统错误，如进程创建失败、线程创建失败、服务启动失败等</td>
</tr>
<tr>
<td>1000102</td>
<td>GSE_NOVALIDMEM</td>
<td>申请内存错误，一般在 new 一个对象或分配内存时发生</td>
</tr>
<tr>
<td>1000103</td>
<td>GSE_CREATEWORKERFAIL</td>
<td>创建工作进程失败</td>
</tr>
<tr>
<td>1000104</td>
<td>GSE_FILEINVALID</td>
<td>文件错误，如配置文件打开失败</td>
</tr>
<tr>
<td>1000105</td>
<td>GSE_ADDRINVALID</td>
<td>地址错误，如数组未初始化导致的数组访问失败</td>
</tr>
<tr>
<td>1000106</td>
<td>GSE_ARGSINVALID</td>
<td>参数不合法</td>
</tr>
<tr>
<td>1000107</td>
<td>GSE_NET_BROKEN</td>
<td>网络中断</td>
</tr>
<tr>
<td>1000108</td>
<td>GSE_MD5_INVALID</td>
<td>MD5 校验错误</td>
</tr>
<tr>
<td>1000109</td>
<td>GSE_HTTP_ERROR</td>
<td>HTTP 错误，在 Post 或 Get 时发生</td>
</tr>
<tr>
<td>1000110</td>
<td>GSE_FTP_ERROR</td>
<td>FTP 错误</td>
</tr>
<tr>
<td>1000111</td>
<td>GSE_FWRITE_ERROR</td>
<td>写文件错误，如配置文件更新时写入失败</td>
</tr>
<tr>
<td>1000112</td>
<td>GSE_JSON_INVALID</td>
<td>JSON 不合法，一般在解析 JSON 时发生</td>
</tr>
<tr>
<td>1000113</td>
<td>GSE_FILE_ISLOCKED</td>
<td>文件已加锁，发生在 MASTER 进程创建 PID 文件时</td>
</tr>
<tr>
<td>1000114</td>
<td>GSE_FREAD_ERROR</td>
<td>读文件错误</td>
</tr>
<tr>
<td>1000115</td>
<td>GSE_WAITFOR_HANDLE</td>
<td>等待处理，表示任务处于正在处理状态，需等待执行完成</td>
</tr>
<tr>
<td>1000116</td>
<td>GSE_ADD_NOTIFY_ERR</td>
<td>对文件添加监控失败</td>
</tr>
<tr>
<td>1000117</td>
<td>GSE_NO_SUCH_CONN</td>
<td>连接错误，Task Server 找不到对应 ip 的 agent</td>
</tr>
<tr>
<td>1000118</td>
<td>GSE_CREATE_MSG_ERR</td>
<td>CmdDispatcher 创建 Msg 出错</td>
</tr>
<tr>
<td>1000119</td>
<td>GSE_FILE_TOOLARGE</td>
<td>文件大小超出规定范围</td>
</tr>
<tr>
<td>1000120</td>
<td>GSE_TIMEOUT</td>
<td>任务超时</td>
</tr>
<tr>
<td>1000121</td>
<td>GSE_BEYOND_LIMIT</td>
<td>超出限制，分段数据的数量最大限制为 10</td>
</tr>
<tr>
<td>1000122</td>
<td>GSE_INVALID_USERPWD</td>
<td>用户名密码不合法，发生在用户名密码校验时</td>
</tr>
<tr>
<td>1000123</td>
<td>GSE_EMPTY_FILE</td>
<td>文件为空</td>
</tr>
<tr>
<td>1000124</td>
<td>GSE_LIBEVENT_FAILED</td>
<td>libevent 错误</td>
</tr>
<tr>
<td>1000125</td>
<td>GSE_SPACE_LIMIT</td>
<td>磁盘空间不足</td>
</tr>
<tr>
<td>1000126</td>
<td>GSE_STOP_TASK</td>
<td>强制终止任务失败</td>
</tr>
<tr>
<td>1000130</td>
<td>GSE_ZK_CONNECT_ERR</td>
<td>ZK 连接错误，发生在 ZK 初始化时</td>
</tr>
<tr>
<td>1000131</td>
<td>GSE_ZK_NOTCONNECTED</td>
<td>ZK 未连接，发生在创建和删除 ZK 节点时</td>
</tr>
<tr>
<td>1000132</td>
<td>GSE_ZK_CREATEFAIL</td>
<td>ZK 节点创建失败</td>
</tr>
<tr>
<td>1000133</td>
<td>GSE_ZK_DELETEFAIL</td>
<td>ZK 节点删除失败</td>
</tr>
<tr>
<td>1000134</td>
<td>GSE_ZK_GETFAIL</td>
<td>ZK 节点获取失败</td>
</tr>
<tr>
<td>1000135</td>
<td>GSE_ZK_SETFAIL</td>
<td>ZK 节点设置失败</td>
</tr>
<tr>
<td>1000136</td>
<td>GSE_ZK_NODE_EXIST</td>
<td>ZK 节点已存在，发生在 ZK 节点创建时</td>
</tr>
<tr>
<td>1000137</td>
<td>GSE_ZK_NODE_NOTEXIST</td>
<td>ZK 节点不存在</td>
</tr>
<tr>
<td>1000138</td>
<td>GSE_ZK_NODE_LOCKED</td>
<td>ZK 节点已上锁</td>
</tr>
<tr>
<td>1000139</td>
<td>GSE_ZK_CONNECT_TIMEOUT</td>
<td>ZK 连接超时</td>
</tr>
<tr>
<td>1000160</td>
<td>GSE_MYSQL_INIT_FAIL</td>
<td>MYSQL 初始化错误</td>
</tr>
<tr>
<td>1000161</td>
<td>GSE_MYSQL_CONN_FAIL</td>
<td>MYSQL 连接失败</td>
</tr>
<tr>
<td>1000162</td>
<td>GSE_MYSQL_QUERY_FAIL</td>
<td>mysqlNoResultQuery 命令执行失败</td>
</tr>
<tr>
<td>1000163</td>
<td>GSE_MYSQL_INSERT_FAIL</td>
<td>MYSQL 插入失败，如插入的表名或插入的值有误</td>
</tr>
<tr>
<td>1000164</td>
<td>GSE_MYSQL_SELECT_FAIL</td>
<td>MYSQL 的 SELECT 语句执行失败</td>
</tr>
<tr>
<td>1000165</td>
<td>GSE_MYSQL_UPDATE_FAIL</td>
<td>MYSQL 的 UPDATE 语句执行失败</td>
</tr>
<tr>
<td>1000166</td>
<td>GSE_MYSQL_DELETE_FAIL</td>
<td>MYSQL 的 DELETE 语句执行失败</td>
</tr>
<tr>
<td>1000167</td>
<td>GSE_MYSQL_LINK_FAIL</td>
<td>MYSQL 连接失败</td>
</tr>
<tr>
<td>1000168</td>
<td>GSE_MYSQL_CREATETABLE_FAIL</td>
<td>MYSQL 创建表失败</td>
</tr>
<tr>
<td>1000169</td>
<td>GSE_MYSQL_SELECTDB_FAIL</td>
<td>MYSQL 选择 DB 失败</td>
</tr>
<tr>
<td>1000170</td>
<td>GSE_MYSQL_SERVER_LOST</td>
<td>MYSQL 服务器丢失连接</td>
</tr>
<tr>
<td>1000180</td>
<td>GSE_REDIS_LINK_FAIL</td>
<td>REDIS 连接失败</td>
</tr>
<tr>
<td>1000181</td>
<td>GSE_REDIS_AUTH_FAIL</td>
<td>REDIS 密码错误，授权失败</td>
</tr>
<tr>
<td>1000182</td>
<td>GSE_REDIS_CMD_FAIL</td>
<td>REDIS 命令执行失败，由连接失败或相应失败造成</td>
</tr>
<tr>
<td>1000183</td>
<td>GSE_REDIS_RPY_EMPTY</td>
<td>REDIS 的响应为空</td>
</tr>
<tr>
<td>1000184</td>
<td>GSE_REDIS_RPY_NULL</td>
<td>REDIS 响应失败，由 key 或 value 值为 NULL 造成</td>
</tr>
<tr>
<td>1000185</td>
<td>GSE_REDIS_RPY_INVALID</td>
<td>REDIS 响应不合法，由 key 或 value 类型不是 STRING 造成</td>
</tr>
<tr>
<td>1000301</td>
<td>GSE_TASKISNULL</td>
<td>任务为空</td>
</tr>
<tr>
<td>1000302</td>
<td>GSE_TASK_CMDNULL</td>
<td>任务命令为空</td>
</tr>
<tr>
<td>1000303</td>
<td>GSE_TASK_FAIL_CONNECTOTHERSVR</td>
<td>连接 taskserver 失败</td>
</tr>
<tr>
<td>1000304</td>
<td>GSE_TASK_FAIL_SYNTASKOTHERSVR</td>
<td>消息同步转发给其他 taskserver 失败</td>
</tr>
<tr>
<td>1000305</td>
<td>GSE_TASK_NO_OTHERSERVER</td>
<td>没有其他 taskserver</td>
</tr>
<tr>
<td>1000401</td>
<td>GSE_NOSUCHDATAID</td>
<td>无此 dataId，发生在 StateServer 通过 dataId 传递消息时</td>
</tr>
<tr>
<td>1000402</td>
<td>GSE_NOSUCHSERVERID</td>
<td>无此 serverId，REDIS 或 KAFKA 服务器找不到相应的 serverId</td>
</tr>
<tr>
<td>1000403</td>
<td>GSE_SERVERNOTSETUP</td>
<td>REDIS 或 KAFKA 的服务未启动，如指向 REDIS 的 writer 或 KAFKA 的 producer 的指针为空</td>
</tr>
<tr>
<td>1000404</td>
<td>GSE_DS_FD_INVALID</td>
<td>数据管道 fd 非法</td>
</tr>
<tr>
<td>1000405</td>
<td>GSE_DS_IOCTL_ERROR</td>
<td>数据管道读写失败</td>
</tr>
<tr>
<td>1000406</td>
<td>GSE_DS_CONFIG_FILE_LOST</td>
<td>数据管道配置文件不存在</td>
</tr>
<tr>
<td>1000407</td>
<td>GSE_DS_CONFIG_INVALID</td>
<td>数据管道配置文件非法</td>
</tr>
<tr>
<td>1000408</td>
<td>GSE_DS_PLUGIN_CONFIG_INVALID</td>
<td>插件配置文件非法</td>
</tr>
<tr>
<td>1000409</td>
<td>GSE_DS_SET_INOTIFY_FAILED</td>
<td>数据管道设置 inotify 失败</td>
</tr>
<tr>
<td>1000601</td>
<td>GSE_CONFIG_PUSH_PARAMERR</td>
<td>配置分发参数错误</td>
</tr>
<tr>
<td>1000602</td>
<td>GSE_CONFIG_MD5_CHECKFAIL</td>
<td>配置文件 MD5 校验失败</td>
</tr>
<tr>
<td>1000603</td>
<td>GSE_CONFIG_CC_RSPERR</td>
<td>CC 响应失败</td>
</tr>
<tr>
<td>1000604</td>
<td>GSE_CONFIG_CC_UPDATING</td>
<td>CC 数据更新中</td>
</tr>
<tr>
<td>1000701</td>
<td>GSE_FILE_BT_HASH_ERROR</td>
<td>哈希失败，由 libtorrent::set_piece_hashes()产生</td>
</tr>
<tr>
<td>1000702</td>
<td>GSE_FILE_BT_LISTEN_ERROR</td>
<td>会话监听失败</td>
</tr>
<tr>
<td>1000703</td>
<td>GSE_FILE_BT_ADDTORRENT_ERROR</td>
<td>会话添加 torrent 时产生的错误</td>
</tr>
<tr>
<td>1000704</td>
<td>GSE_FILE_BT_NOSUCH_MODE</td>
<td>无此 BT 数据模式，BT 数据模式既非 source 又非 client 时报此错</td>
</tr>
<tr>
<td>1000705</td>
<td>GSE_FILE_BT_NOSUCH_DIR</td>
<td>目录不存在</td>
</tr>
<tr>
<td>1000706</td>
<td>GSE_FILE_BT_NOSUCH_FILE</td>
<td>文件不存在</td>
</tr>
<tr>
<td>1000707</td>
<td>GSE_FILE_BT_CANNOT_OPEN_DIR</td>
<td>打开目录失败</td>
</tr>
<tr>
<td>1000708</td>
<td>GSE_FILE_BT_EMPTYDIR</td>
<td>目录为空，无文件</td>
</tr>
<tr>
<td>1000709</td>
<td>GSE_FILE_BT_REGEX_NOMATCH</td>
<td>正则匹配失败，没有匹配到任何文件</td>
</tr>
<tr>
<td>1000710</td>
<td>GSE_FILE_COMPRESS_ERROR</td>
<td>文件压缩失败</td>
</tr>
<tr>
<td>1000711</td>
<td>GSE_FILE_FORCE_STOP</td>
<td>文件任务强制中止失败</td>
</tr>
<tr>
<td>1000712</td>
<td>GSE_FILE_BT_COMMON_ERROR</td>
<td>文件管道一般错误</td>
</tr>
<tr>
<td>1000801</td>
<td>GSE_PROC_NO_PROCCFG</td>
<td>无此进程相关配置，进程配置获取失败</td>
</tr>
<tr>
<td>1000802</td>
<td>GSE_PROC_LOCKED</td>
<td>业务被其他用户上锁</td>
</tr>
<tr>
<td>1000803</td>
<td>GSE_PROC_CREATE_TASK_FAIELD</td>
<td>ProcServer 创建任务失败</td>
</tr>
<tr>
<td>1000804</td>
<td>GSE_PROC_CMD_EXECUTING</td>
<td>ProcServer 的任务处于执行状态</td>
</tr>
<tr>
<td>1000805</td>
<td>GSE_PROC_CMD_DONE_FAILED</td>
<td>ProcServer 的任务结束，但部分命令执行超时，失败</td>
</tr>
<tr>
<td>1000806</td>
<td>GSE_PROC_NO_TASK</td>
<td>ProcServer 任务列表为空</td>
</tr>
<tr>
<td>1000807</td>
<td>GSE_PROC_MATCH_FAILED</td>
<td>进程匹配失败，无法通过配置或 procId 匹配到对应的进程</td>
</tr>
<tr>
<td>1000808</td>
<td>GSE_PROC_TASKSVR_FAILED</td>
<td>TaskServer 返回的错误，如 ProcServer 发送命令到 TaskServer 时失败</td>
</tr>
<tr>
<td>1000809</td>
<td>GSE_PROC_EVENT_FAILED</td>
<td>ProcServer 的事件失败，如创建定时器失败和发送任务事件失败</td>
</tr>
<tr>
<td>1000810</td>
<td>GSE_PROC_SWITCH</td>
<td>进程配置变更，发生在 ProcCfgManager::setProcCfg()</td>
</tr>
<tr>
<td>1000811</td>
<td>GSE_PROC_REQPARAM_ERROR</td>
<td>请求的参数不合法，如 appId 或 envId 为空</td>
</tr>
<tr>
<td>1000820</td>
<td>GSE_PROC_PARSE_ARG</td>
<td>解析配置参数时发生的错误</td>
</tr>
<tr>
<td>1000821</td>
<td>GSE_PROC_MATCH_PROCS</td>
<td>参数匹配失败</td>
</tr>
<tr>
<td>1000822</td>
<td>GSE_PROC_TIMEOUT</td>
<td>ProcServer 的任务执行超时或丢弃</td>
</tr>
<tr>
<td>1000823</td>
<td>GSE_PROC_NOAPP</td>
<td>用户无此业务使用权限</td>
</tr>
<tr>
<td>1000824</td>
<td>GSE_PROC_NOFUNCINFO</td>
<td>匹配不到进程</td>
</tr>
<tr>
<td>1000825</td>
<td>GSE_PROC_CONNECTTASK_FAIL</td>
<td>ProcServer 连接 TaskServer 失败</td>
</tr>
<tr>
<td>1000826</td>
<td>GSE_PROC_TASKBECANCEL</td>
<td>任务被取消</td>
</tr>
<tr>
<td>1000827</td>
<td>GSE_PROC_DONOTSUPPORTCMD</td>
<td>不支持的命令</td>
</tr>
<tr>
<td>1000828</td>
<td>GSE_PROC_RUNNING</td>
<td>进程运行中</td>
</tr>
<tr>
<td>1000829</td>
<td>GSE_PROC_NOTRUNNING</td>
<td>进程已停止</td>
</tr>
<tr>
<td>1000830</td>
<td>GSE_PROC_TASKLOCKED</td>
<td>任务被锁</td>
</tr>
<tr>
<td>1000831</td>
<td>GSE_PROC_INVALID_SESSIONID</td>
<td>非法 session id</td>
</tr>
<tr>
<td>1000832</td>
<td>GSE_PROC_UNKOWN_OPTYPE</td>
<td>非法操作类型</td>
</tr>
<tr>
<td>1000833</td>
<td>GSE_PROC_MODEL_MODIFIED</td>
<td>业务进程模型已改变</td>
</tr>
</tbody>
</table><h2 id="_1">标准运维错误码</h2>
<table>
<thead>
<tr>
<th>错误码</th>
<th>错误码名称</th>
<th align="left">错误码含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>3540000</td>
<td>REQUEST_PARAM_INVALID</td>
<td align="left">请求参数错误</td>
</tr>
<tr>
<td>3540100</td>
<td>REQUEST_FORBIDDEN_INVALID</td>
<td align="left">请求权限不足</td>
</tr>
<tr>
<td>3540400</td>
<td>CONTENT_NOT_EXIST</td>
<td align="left">请求内容不存在</td>
</tr>
<tr>
<td>3545000</td>
<td>INVALID_OPERATION</td>
<td align="left">不合法操作</td>
</tr>
<tr>
<td>3545100</td>
<td>OPERATION_FAIL</td>
<td align="left">操作失败</td>
</tr>
<tr>
<td>3546100</td>
<td>VALIDATION_ERROR</td>
<td align="left">验证错误</td>
</tr>
<tr>
<td>3555000</td>
<td>ENV_ERROR</td>
<td align="left">环境错误</td>
</tr>
<tr>
<td>3599999</td>
<td>UNKNOWN_ERROR</td>
<td align="left">未知错误</td>
</tr>
</tbody>
</table><h1 id="_1">监控平台错误码</h1>
<p>一共 7 位, 前两位 33, 中间两位模块编号, 最后两位具体错误码</p>
<h2 id="_2">自身服务出错</h2>
<pre class="codehilite"><code class="language-bash">#告警配置
E01000 = ErrorCode(&quot;01000&quot;, u&quot;告警配置异常：排查告警配置表&quot;)
E01001 = ErrorCode(&quot;01001&quot;, u&quot;告警配置异常，排查告警配置表 alarm_source&quot;)
E01002 = ErrorCode(&quot;01002&quot;, u&quot;告警配置异常，排查通知配置表 notice_config&quot;)
E01003 = ErrorCode(&quot;01003&quot;, u&quot;告警配置异常，排查收敛配置表 shield_config&quot;)
E01004 = ErrorCode(&quot;01004&quot;, u&quot;告警配置异常，排查自动处理配置表 solution_config&quot;)
# collect
E01010 = ErrorCode(&quot;01010&quot;, u&quot;告警汇总模块异常，排查 collect 模块&quot;)
# data_access
E01020 = ErrorCode(&quot;01020&quot;, u&quot;数据接入模块异常，排查 data_access 模块&quot;)
# detect
E01030 = ErrorCode(&quot;01030&quot;, u&quot;异常检测模块异常，排查 detect 模块&quot;)
# converge
E01040 = ErrorCode(&quot;01040&quot;, u&quot;告警收敛模块出错，排查 converge 模块&quot;)</code></pre>


<pre class="codehilite"><code class="language-bash">- 3300002: 自定义异常&quot;
- 3300003: 未知错误&quot;
- 3300004: RESTAPI返回错误&quot;
- 3300007: 缺少用户信息&quot;
- 3301001: API请求错误&quot;
- 3308003: tsdb表名解析异常&quot;
- 3308004: sql查询异常&quot;
- 3308005: sql查询无数据&quot;
- 3308006: dataid不存在&quot;
- 3309001: 数据源模块错误&quot;
- 3309002: 数据源不存在&quot;
- 3310001: 插件模块错误&quot;
- 3310002: 插件包解析错误&quot;
- 3310003: 插件ID已存在&quot;
- 3310004: 插件ID不存在&quot;
- 3310005: 打包失败&quot;
- 3310006: 注册插件失败&quot;
- 3310007: 插件版本不存在&quot;
- 3310008: 插件签名格式无效&quot;
- 3310009: 插件签名协议不存在&quot;
- 3310010: 不支持签名的插件类型&quot;
- 3310011: 无插件编辑权限&quot;
- 3310012: 无插件删除权限&quot;
- 3310013: 不支持的插件类型&quot;
- 3310014: 插件存在关联项&quot;
- 3310015: 插件导出错误&quot;
- 3310016: 是否支持远程采集冲突&quot;
- 3310017: 节点管理导出超时&quot;
- 3310018: 插件业务切换错误&quot;
- 3310018: 节点管理删除插件失败&quot;
- 3312001: 通知组模块错误&quot;
- 3312002: 通知组ID不存在&quot;
- 3312003: 通知组名称已存在&quot;
- 3312004: 通知组无法删除&quot;
- 3312005: 创建通知组失败&quot;
- 3313001: 策略配置模块错误&quot;
- 3313002: StrategyConfig实例初始化错误&quot;
- 3313003: 策略配置不存在&quot;
- 3313004: 监控对象数据结构错误&quot;
- 3313005: 监控目标解析失败&quot;
- 3313006: 监控目标为空&quot;
- 3313007: 获取一级标签失败&quot;
- 3313008: 创建策略配置失败&quot;
- 3313009: 修改策略配置失败&quot;
- 3314001: 告警事件模块错误&quot;
- 3314002: 告警事件不存在&quot;
- 3314003: 非时序数据类型&quot;
- 3314004: 聚合方法是实时&quot;
- 3316001: 内置指标元数据错误&quot;
- 3316002: 该内置指标不存在&quot;
- 3316003: metric_id格式错误&quot;
- 3316004: 获取指标元信息参数错误&quot;
- 3316005: 指标单位id无效&quot;
- 3316005: 指标单位id对应分类不存在&quot;
- 3317001: 导入导出模块错误&quot;
- 3317002: 导入历史不存在&quot;
- 3317003: 添加统一监控目标失败&quot;
- 3317004: 上传导入包失败&quot;
- 3317005: 导入配置失败&quot;
- 3317006: 上传导入包失败&quot;
- 3318001: 升级模块错误&quot;
- 3318002: 当前不允许数据迁移&quot;
- 3318003: 获取待迁移内容失败&quot;
- 3318004: 数据迁移失败&quot;
- 3318005: 同步旧版本文件失败&quot;
- 3318006: 插件导出失败&quot;
- 3318007: 创建默认策略失败&quot;
- 3319000: 移动端事件模块错误&quot;
- 3319001: 告警汇总记录不存在&quot;
- 3319002: 告警事件不存在&quot;
- 3320001: 拨测模块错误&quot;
- 3320002: bkmonitorbeat进程异常或版本小于1.4.10，请至节点管理处理&quot;
- 3320003: 未知的拨测协议类型&quot;
- 3321001: 告警屏蔽模块错误&quot;
- 3321002: 告警屏蔽ID不存在&quot;
- 3321003: 重复屏蔽&quot;
- 3322001: 权限配置错误&quot;
- 3322002: 没有修改权限&quot;
- 3335001: 事件分组名称校验不通过&quot;
- 3335005: 自定义时序名称校验不通过&quot;
- 3350000: 告警后台服务错误&quot;
- 3350001: 分布式锁错误&quot;
- 3350002: 策略配置快照找不到&quot;
- 3350003: 策略对应的监控项找不到&quot;
- 3351000: 数据接入服务错误&quot;
- 3351201: 无效的自定义异常数据&quot;
- 3352000: 异常检测服务错误&quot;
- 3352001: 无效的检测数据&quot;
- 3352002: 无效的检测算法配置&quot;
- 3352003: 无效的静态阈值算法配置&quot;
- 3352004: 无效的简易环比算法配置&quot;
- 3352005: 无效的简易同比算法配置&quot;
- 3352006: 无效的高级环比算法配置&quot;
- 3352007: 无效的高级同比算法配置&quot;
- 3352008: 历史数据不存在&quot;
- 3353000: 异常触发服务错误&quot;
- 3399001: 动作ID不存在&quot;
- 3399002: 资源ID不存在&quot;</code></pre>


<h2 id="_3">依赖第三服务出错</h2>
<pre class="codehilite"><code class="language-bash">E02010 = ErrorCode(&quot;02010&quot;, u&quot;调用ESB出错，排查ESB服务&quot;)
E02020 = ErrorCode(&quot;02020&quot;, u&quot;数据模块查询异常，排查数据模块数据查询服务&quot;)
E02030 = ErrorCode(&quot;02030&quot;, u&quot;Ping告警格式错误，排查GSE SERVER服务&quot;)</code></pre>


<h2 id="_4">依赖基础服务出错</h2>
<pre class="codehilite"><code class="language-bash">E03010 = ErrorCode(&quot;03010&quot;, u&quot;redis 服务出错，排查 redis 服务&quot;)
E03020 = ErrorCode(&quot;03020&quot;, u&quot;beanstalk 服务出错，排查 beanstalk 服务&quot;)
E03030 = ErrorCode(&quot;03030&quot;, u&quot;kafka  服务出错，排查 kafka 服务&quot;)</code></pre>


<blockquote>
<p>参考 PaaS 的做法</p>
</blockquote>
<ul>
<li>
<p>定义枚举或常量错误码到工程</p>
</li>
<li>
<p>关键路径错误, 将错误码打到日志 message 前面, 空格分隔 <code>logger.exception("%s %s" % (code, message))</code></p>
</li>
<li>
<p>关键路径: 调用第三方服务出错 依赖基础服务出错 本身配置出错等</p>
</li>
<li>
<p>最后给出添加的错误码-原因-解决方案, 例如 1301000 settings_error 配置错误 排查配置 1301001 appengienNotAvailable 无法访问 排查 appengine 服务正常</p>
</li>
</ul><h1 id="_1">故障自愈错误码</h1>
<h2 id="_2">自身服务出错</h2>
<table>
<thead>
<tr>
<th>错误码 ID</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>30 01 010</td>
<td>告警拉取模块出错，排查自愈 poll_alarm 模块</td>
</tr>
<tr>
<td>30 01 020</td>
<td>告警匹配模块出错，排查自愈 match_alarm 模块</td>
</tr>
<tr>
<td>30 01 030</td>
<td>告警汇总模块出错，排查自愈 collect 模块</td>
</tr>
<tr>
<td>30 01 040</td>
<td>告警收敛模块出错，排查自愈 converge 模块</td>
</tr>
<tr>
<td>30 01 050</td>
<td>HTTP API 服务出错，排查自愈 apiserver 模块</td>
</tr>
</tbody>
</table>
<h2 id="_3">依赖第三服务出错</h2>
<table>
<thead>
<tr>
<th>错误码 ID</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>30 02 010</td>
<td>调用 ESB 出错，排查 ESB 服务</td>
</tr>
<tr>
<td>30 02 011</td>
<td>发送邮件出错，排查 ESB 邮件通道</td>
</tr>
<tr>
<td>30 02 012</td>
<td>发送短信出错，排查 ESB 短信通道</td>
</tr>
<tr>
<td>30 02 013</td>
<td>发送微信出错，排查 ESB 微信通道</td>
</tr>
<tr>
<td>30 02 020</td>
<td>通过 ESB 调用的第三系统出错，根据具体的错误日志排查对应的系统</td>
</tr>
<tr>
<td>30 02 030</td>
<td>从蓝鲸监控告警源拉取告警信息出错，排查蓝鲸监控服务</td>
</tr>
</tbody>
</table>
<h2 id="_4">依赖基础服务出错</h2>
<table>
<thead>
<tr>
<th>错误码 ID</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>30 03 010</td>
<td>redis 服务出错，排查 redis 服务</td>
</tr>
<tr>
<td>30 03 020</td>
<td>beanstalk 服务出错，排查 beanstalk 服务</td>
</tr>
</tbody>
</table><h2 id="_1">权限中心</h2>
<table>
<thead>
<tr>
<th align="left">错误码</th>
<th align="center">模块</th>
<th align="right">注释</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">3699001</td>
<td align="center">权限中心</td>
<td align="right">动作 ID 不存在</td>
</tr>
<tr>
<td align="left">3699002</td>
<td align="center">权限中心</td>
<td align="right">资源 ID 不存在</td>
</tr>
<tr>
<td align="left">3699003</td>
<td align="center">权限中心</td>
<td align="right">获取系统信息错误</td>
</tr>
<tr>
<td align="left">3699403</td>
<td align="center">权限中心</td>
<td align="right">权限校验不通过</td>
</tr>
</tbody>
</table>
<h2 id="_2">数据源接入</h2>
<table>
<thead>
<tr>
<th align="left">错误码</th>
<th align="center">模块</th>
<th align="right">注释</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">3621601</td>
<td align="center">ES 源接入</td>
<td align="right">暂不支持的场景</td>
</tr>
<tr>
<td align="left">3621602</td>
<td align="center">ES 源接入</td>
<td align="right">探测 ES 连通性失败</td>
</tr>
<tr>
<td align="left">3621603</td>
<td align="center">ES 源接入</td>
<td align="right">EsClient 连接失败</td>
</tr>
<tr>
<td align="left">3621604</td>
<td align="center">ES 源接入</td>
<td align="right">EsClient 查询 index 失败</td>
</tr>
<tr>
<td align="left">3623301</td>
<td align="center">索引集接入</td>
<td align="right">索引集不存在</td>
</tr>
<tr>
<td align="left">3623302</td>
<td align="center">索引集接入</td>
<td align="right">结果数据表在计算平台中不存在</td>
</tr>
<tr>
<td align="left">3623305</td>
<td align="center">索引集接入</td>
<td align="right">索引集名称重复</td>
</tr>
<tr>
<td align="left">3623306</td>
<td align="center">索引集接入</td>
<td align="right">索引在 ES 中不存在</td>
</tr>
<tr>
<td align="left">3623307</td>
<td align="center">索引集接入</td>
<td align="right">接入索引在索引集已存在</td>
</tr>
<tr>
<td align="left">3623308</td>
<td align="center">索引集接入</td>
<td align="right">索引字段不一致，无法添加索引到同一个索引集中</td>
</tr>
<tr>
<td align="left">3623310</td>
<td align="center">索引集接入</td>
<td align="right">索引集不支持跨业务</td>
</tr>
</tbody>
</table>
<h2 id="_3">日志采集</h2>
<table>
<thead>
<tr>
<th align="left">错误码</th>
<th align="center">模块</th>
<th align="right">注释</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">3631001</td>
<td align="center">日志采集</td>
<td align="right">采集配置不存在</td>
</tr>
<tr>
<td align="left">3631101</td>
<td align="center">日志采集</td>
<td align="right">参数校验异常：采集项 ID 不存在</td>
</tr>
<tr>
<td align="left">3631102</td>
<td align="center">日志采集</td>
<td align="right">参数校验异常：采集任务 ID 不存在</td>
</tr>
<tr>
<td align="left">3631103</td>
<td align="center">日志采集</td>
<td align="right">参数校验异常：采集实例 ID 不存在</td>
</tr>
<tr>
<td align="left">3631104</td>
<td align="center">日志采集</td>
<td align="right">采集项名称已存在</td>
</tr>
<tr>
<td align="left">3631105</td>
<td align="center">日志采集</td>
<td align="right">数据链路 ID 不存在</td>
</tr>
<tr>
<td align="left">3631106</td>
<td align="center">日志采集</td>
<td align="right">无法查询到该订阅配置信息</td>
</tr>
<tr>
<td align="left">3631107</td>
<td align="center">日志采集</td>
<td align="right">采集项在停止状态下不能编辑</td>
</tr>
<tr>
<td align="left">3631201</td>
<td align="center">日志采集</td>
<td align="right">集群不存在</td>
</tr>
<tr>
<td align="left">3631202</td>
<td align="center">日志采集</td>
<td align="right">bk_biz_id 为必填字段，且为整数</td>
</tr>
<tr>
<td align="left">3631204</td>
<td align="center">日志采集</td>
<td align="right">集群连接异常</td>
</tr>
<tr>
<td align="left">3631205</td>
<td align="center">日志采集</td>
<td align="right">集群不存在</td>
</tr>
<tr>
<td align="left">3631206</td>
<td align="center">日志采集</td>
<td align="right">未知的 ES 服务端版本类型</td>
</tr>
<tr>
<td align="left">3631207</td>
<td align="center">日志采集</td>
<td align="right">http 探测 ES 版本错误</td>
</tr>
<tr>
<td align="left">3631301</td>
<td align="center">日志采集</td>
<td align="right">暫不支持的清洗类型</td>
</tr>
<tr>
<td align="left">3631302</td>
<td align="center">日志采集</td>
<td align="right">分隔符配置解析异常</td>
</tr>
<tr>
<td align="left">3631303</td>
<td align="center">日志采集</td>
<td align="right">字段提取预览失败，请检查提取规则与数据是否匹配</td>
</tr>
<tr>
<td align="left">3631304</td>
<td align="center">日志采集</td>
<td align="right">解析数据时间字段异常</td>
</tr>
<tr>
<td align="left">3631305</td>
<td align="center">日志采集</td>
<td align="right">解析时间格式异常</td>
</tr>
<tr>
<td align="left">3631306</td>
<td align="center">日志采集</td>
<td align="right">字段名总长度超过 256，暂不支持</td>
</tr>
<tr>
<td align="left">3631307</td>
<td align="center">日志采集</td>
<td align="right">该业务已超出公共集群容量限制</td>
</tr>
<tr>
<td align="left">3631401</td>
<td align="center">日志采集</td>
<td align="right">kafka 连接失败</td>
</tr>
<tr>
<td align="left">3631402</td>
<td align="center">日志采集</td>
<td align="right">Partition 信息获取失败</td>
</tr>
</tbody>
</table>
<h2 id="_4">日志检索</h2>
<table>
<thead>
<tr>
<th align="left">错误码</th>
<th align="center">模块</th>
<th align="right">注释</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">3624401</td>
<td align="center">日志检索</td>
<td align="right">检索的索引集不存在</td>
</tr>
<tr>
<td align="left">3624402</td>
<td align="center">日志检索</td>
<td align="right">找不到索引集的时间字段信息，无法进行检索</td>
</tr>
<tr>
<td align="left">3624403</td>
<td align="center">日志检索</td>
<td align="right">将时间字段转换异常</td>
</tr>
<tr>
<td align="left">3624418</td>
<td align="center">日志检索</td>
<td align="right">超出最大查询数量</td>
</tr>
<tr>
<td align="left">3624422</td>
<td align="center">日志检索</td>
<td align="right">此索引没有找到时间字段类型</td>
</tr>
</tbody>
</table><h1 id="_1">流程服务错误码</h1>
<h2 id="_2">服务错误</h2>
<table>
<thead>
<tr>
<th>错误码</th>
<th>错误码名称</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>3900000</td>
<td>FATAL_ERROR</td>
<td>错误</td>
</tr>
<tr>
<td>3900001</td>
<td>Migrate_Data_Error</td>
<td>升级失败</td>
</tr>
<tr>
<td>3900002</td>
<td>NOT_ALLOWED_ERROR</td>
<td>方法不允许</td>
</tr>
<tr>
<td>3900500</td>
<td>SERVER_500_ERROR</td>
<td>系统异常</td>
</tr>
</tbody>
</table>
<h2 id="_3">业务处理错误</h2>
<table>
<thead>
<tr>
<th>错误码</th>
<th>错误码名称</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>3900003</td>
<td>CREATE_TICKET_ERROR</td>
<td>提单失败</td>
</tr>
<tr>
<td>3900004</td>
<td>OPERATE_TICKET_ERROR</td>
<td>单据操作失败</td>
</tr>
<tr>
<td>3900005</td>
<td>FORM_VALIDATE_ERROR</td>
<td>参数验证失败</td>
</tr>
<tr>
<td>3900006</td>
<td>ANNEX_STORE_VALIDATE_ERROR</td>
<td>附件存储</td>
</tr>
<tr>
<td>3900007</td>
<td>ORGANIZATION_STRUCTURE_FUNCTION_SWITCH_VALIDATE_ERROR</td>
<td>组织架构功能开关</td>
</tr>
<tr>
<td>3900008</td>
<td>SERVICE_CATALOG_VALIDATE_ERROR</td>
<td>服务目录</td>
</tr>
<tr>
<td>3900009</td>
<td>DELETE_ERROR</td>
<td>删除失败</td>
</tr>
<tr>
<td>3900010</td>
<td>WORKFLOW_ERROR</td>
<td>创建流程失败</td>
</tr>
<tr>
<td>3900011</td>
<td>WORKFLOW_INVALID_ERROR</td>
<td>流程保存失败</td>
</tr>
<tr>
<td>3900016</td>
<td>OBJECT__NOT_MATCH_ERROR</td>
<td>当前对象不匹配查询条件</td>
</tr>
<tr>
<td>3900017</td>
<td>STATE_NOT_FOUND_ERROR</td>
<td>没有找到对应的节点</td>
</tr>
<tr>
<td>3900018</td>
<td>REVOKE_PIPELINE_ERROR</td>
<td>流程终止失败</td>
</tr>
<tr>
<td>3900019</td>
<td>CALL_PIPELINE_ERROR</td>
<td>流程服务调用失败</td>
</tr>
<tr>
<td>3900020</td>
<td>TRANSITION_ERROR</td>
<td>添加连接线失败</td>
</tr>
<tr>
<td>3900021</td>
<td>VALIDATE_ERROR</td>
<td>参数错误</td>
</tr>
<tr>
<td>3900022</td>
<td>TICKET_NOT_FOUND_ERROR</td>
<td>没有找到对应的单据</td>
</tr>
<tr>
<td>3900023</td>
<td>SLA_TASK_ERROR</td>
<td>SLA 任务异常</td>
</tr>
<tr>
<td>3900025</td>
<td>COMPONENT_NOT_EXIST</td>
<td>组件未找到</td>
</tr>
<tr>
<td>3900026</td>
<td>TRIGGER_VALIDATE_ERROR</td>
<td>触发器参数校验错误</td>
</tr>
<tr>
<td>3900027</td>
<td>COMPONENT_INVOKE_ERROR</td>
<td>组件调用错误</td>
</tr>
<tr>
<td>3900028</td>
<td>TASK_FLOW_INIT_ERROR</td>
<td>任务流程初始化失败</td>
</tr>
<tr>
<td>3900029</td>
<td>CALL_TASK_PIPELINE_ERROR</td>
<td>任务服务调用失败</td>
</tr>
<tr>
<td>3900030</td>
<td>FIELD_IS_REQUIRED</td>
<td>必填字段不存在</td>
</tr>
<tr>
<td>3900404</td>
<td>OBJECT_NOT_EXIST</td>
<td>查找对象不存在</td>
</tr>
<tr>
<td>3900031</td>
<td>CHILD_TICKET_FUNCTION_SWITCH_VALIDATE_ERROR</td>
<td>母子单功能开关</td>
</tr>
<tr>
<td>3900032</td>
<td>TASK_FUNCTION_SWITCH_VALIDATE_ERROR</td>
<td>任务功能开关</td>
</tr>
<tr>
<td>3900033</td>
<td>TRIGGER_FUNCTION_SWITCH_VALIDATE_ERROR</td>
<td>触发器功能开关</td>
</tr>
</tbody>
</table>
<h2 id="_4">第三方接口</h2>
<table>
<thead>
<tr>
<th>错误码</th>
<th>错误码名称</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>3900012</td>
<td>REMOTE_CALL_ERROR</td>
<td>远程服务请求结果异常</td>
</tr>
<tr>
<td>3900014</td>
<td>COMPONENT_CALL_ERROR</td>
<td>组件调用异常</td>
</tr>
<tr>
<td>3900024</td>
<td>RPC_API_ERROR</td>
<td>RPC 的 API 返回错误</td>
</tr>
</tbody>
</table>
<h2 id="_5">权限错误</h2>
<table>
<thead>
<tr>
<th>错误码</th>
<th>错误码名称</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>3900015</td>
<td>PERMISSION_ERROR</td>
<td>权限不足</td>
</tr>
<tr>
<td>3900499</td>
<td>IAM_PERMISSION_DENIED</td>
<td>用户没有对应模块的权限</td>
</tr>
<tr>
<td>3900034</td>
<td>IAM_GRANT_CREATOR_ACTION</td>
<td>关联创建权限失败</td>
</tr>
</tbody>
</table><h2 id="api">蓝鲸统一登录 API 简介</h2>
<p><strong>蓝鲸统一登录，管理用户登录验证，及用户信息。</strong></p>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="./get_user.md">get_user</a></td>
<td>获取用户信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/bk_login/get_user/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取用户信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h3 id="_6">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
}</code></pre>


<h3 id="_7">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;OK&quot;,
    &quot;data&quot;: {
        &quot;bk_username&quot;: &quot;admin&quot;,
        &quot;qq&quot;: &quot;12345&quot;,
        &quot;bk_role&quot;: 1,
        &quot;language&quot;: &quot;zh-cn&quot;,
        &quot;phone&quot;: &quot;12345678911&quot;,
        &quot;wx_userid&quot;: &quot;&quot;,
        &quot;email&quot;: &quot;11@qq.com&quot;,
        &quot;chname&quot;: &quot;admin&quot;,
        &quot;time_zone&quot;: &quot;Asia/Shanghai&quot;
    }
}</code></pre>


<h3 id="_8">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_username</td>
<td>string</td>
<td>用户名</td>
</tr>
<tr>
<td>qq</td>
<td>string</td>
<td>用户 QQ</td>
</tr>
<tr>
<td>language</td>
<td>string</td>
<td>语言</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>手机号</td>
</tr>
<tr>
<td>wx_userid</td>
<td>string</td>
<td>企业号用户 USERID/公众号用户 OPENID</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>邮箱</td>
</tr>
<tr>
<td>chname</td>
<td>string</td>
<td>中文名</td>
</tr>
<tr>
<td>time_zone</td>
<td>string</td>
<td>时区</td>
</tr>
</tbody>
</table><h2 id="api">蓝鲸开发者中心 API 简介</h2>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="./get_app_info.md">get_app_info</a></td>
<td>获取应用信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/bk_paas/get_app_info/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取应用信息，支持批量获取</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>target_app_code</td>
<td>string</td>
<td>否</td>
<td>target_app_code 表示应用 ID，多个 ID 以英文分号分隔，target_app_code 为空则表示所有应用</td>
</tr>
<tr>
<td>fields</td>
<td>string</td>
<td>否</td>
<td>fields 需要返回的字段，多个字段以英文分号分割，如果不传或传入 &#34;&#34;，则返回应用的 bk_app_code、bk_app_name 字段。可选的字段有：bk_app_code（应用 ID），bk_app_name（应用名），introduction（应用简介），creator（创建者），developer（开发人员）</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;target_app_code&quot;: &quot;bk_test;esb_test&quot;,
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: [
        {
            &quot;bk_app_code&quot;: &quot;bk_test&quot;,
            &quot;bk_app_name&quot;: &quot;BKTest&quot;
        },
        {
            &quot;bk_app_code&quot;: &quot;esb_test&quot;,
            &quot;bk_app_name&quot;: &quot;ESBTest&quot;
        }
    ]
}</code></pre><h2 id="api">蓝鲸消息管理 API 简介</h2>
<p><strong>蓝鲸消息管理，用于支持向用户发送多种类型的消息，包括邮件、短信、语音通知等。</strong></p>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="./get_msg_type.md">get_msg_type</a></td>
<td>查询消息发送类型</td>
</tr>
<tr>
<td><a href="./send_mail.md">send_mail</a></td>
<td>发送邮件</td>
</tr>
<tr>
<td><a href="./send_msg.md">send_msg</a></td>
<td>通用消息发送</td>
</tr>
<tr>
<td><a href="./send_sms.md">send_sms</a></td>
<td>发送短信</td>
</tr>
<tr>
<td><a href="./send_voice_msg.md">send_voice_msg</a></td>
<td>公共语音通知</td>
</tr>
<tr>
<td><a href="./send_weixin.md">send_weixin</a></td>
<td>发送微信消息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/cmsi/get_msg_type/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询 send_msg 组件支持发送消息的类型</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h3 id="_6">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;
}</code></pre>


<h3 id="_7">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;data&quot;: [
        {
            &quot;type&quot;: &quot;weixin&quot;,
            &quot;label&quot;: &quot;微信&quot;,
            &quot;is_active&quot;: true,
            &quot;icon&quot;: &quot;xxxxxxx&quot;
        },
        {
            &quot;type&quot;: &quot;mail&quot;,
            &quot;label&quot;: &quot;邮件&quot;,
            &quot;is_active&quot;: true,
            &quot;icon&quot;: &quot;xxxxxxx&quot;
        },
        {
            &quot;type&quot;: &quot;sms&quot;,
            &quot;label&quot;: &quot;短信&quot;,
            &quot;is_active&quot;: true,
            &quot;icon&quot;: &quot;xxxxxxx&quot;
        },
        {
            &quot;type&quot;: &quot;voice&quot;,
            &quot;label&quot;: &quot;语音&quot;,
            &quot;is_active&quot;: true,
            &quot;icon&quot;: &quot;xxxxxxx&quot;
        }
    ]
}</code></pre>


<h3 id="_8">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>code</td>
<td>string</td>
<td>组件返回错误编码，0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>result=true 时成功数据，详细信息请见下面说明</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>string</td>
<td>消息类型</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>消息类型标签</td>
</tr>
<tr>
<td>is_active</td>
<td>bool</td>
<td>是否激活</td>
</tr>
<tr>
<td>icon</td>
<td>str</td>
<td>消息类型图标，经过 base64 编码的 ico 格式的文件</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/cmsi/send_mail/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>发送邮件</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>receiver</td>
<td>string</td>
<td>否</td>
<td>邮件接收者，包含邮件完整地址，多个以逗号分隔，若 receiver、receiver__username 同时存在，以 receiver 为准</td>
</tr>
<tr>
<td>receiver__username</td>
<td>string</td>
<td>否</td>
<td>邮件接收者，包含用户名，用户需在蓝鲸平台注册，多个以逗号分隔，若 receiver、receiver__username 同时存在，以 receiver 为准</td>
</tr>
<tr>
<td>sender</td>
<td>string</td>
<td>否</td>
<td>发件人</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>是</td>
<td>邮件主题</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>是</td>
<td>邮件内容</td>
</tr>
<tr>
<td>cc</td>
<td>string</td>
<td>否</td>
<td>抄送人，包含邮件完整地址，多个以逗号分隔</td>
</tr>
<tr>
<td>cc__username</td>
<td>string</td>
<td>否</td>
<td>抄送人，包含用户名，用户需在蓝鲸平台注册，多个以逗号分隔，若 cc、cc__username 同时存在，以 cc 为准</td>
</tr>
<tr>
<td>body_format</td>
<td>string</td>
<td>否</td>
<td>邮件格式，包含&#39;Html&#39;, &#39;Text&#39;，默认为&#39;Html&#39;</td>
</tr>
<tr>
<td>is_content_base64</td>
<td>bool</td>
<td>否</td>
<td>邮件内容是否 base64 编码，默认 False，不编码，请使用 base64.b64encode 方法编码</td>
</tr>
<tr>
<td>attachments</td>
<td>list</td>
<td>否</td>
<td>邮件附件</td>
</tr>
</tbody>
</table>
<h5 id="attachments">attachments</h5>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>filename</td>
<td>string</td>
<td>是</td>
<td>文件名</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>是</td>
<td>文件内容，文件内容为原文件内容的 base64 编码字符串</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>否</td>
<td>文件类型，默认为文件名后缀，如 a.png 文件类型为 &#39;png&#39;</td>
</tr>
<tr>
<td>disposition</td>
<td>string</td>
<td>否</td>
<td>文件 Content-Disposition，图片文件(type=image, jpg, png, jpeg)默认为 &#39;inline&#39;，其他文件默认为 &#39;attachment&#39;</td>
</tr>
<tr>
<td>content_id</td>
<td>string</td>
<td>否</td>
<td>文件 Content-ID，文件为图片文件时生效；默认为 &#39;&lt;文件名&gt;&#39;</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;receiver&quot;: &quot;admin@bking.com&quot;,
    &quot;sender&quot;: &quot;admin@bking.com&quot;,
    &quot;title&quot;: &quot;This is a Test&quot;,
    &quot;content&quot;: &quot;&lt;html&gt;Welcome to Blueking&lt;/html&gt;&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: &quot;00&quot;,
    &quot;message&quot;: &quot;OK&quot;,
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/cmsi/send_msg/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>通用消息发送接口</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>msg_type</td>
<td>string</td>
<td>是</td>
<td>发送信息的类型，可通过 get_msg_type 组件获取</td>
</tr>
<tr>
<td>receiver__username</td>
<td>string</td>
<td>是</td>
<td>接收者，包含用户名，用户需在蓝鲸平台注册，多个以逗号分隔</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>是</td>
<td>主题</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>是</td>
<td>内容</td>
</tr>
<tr>
<td>sender</td>
<td>string</td>
<td>否</td>
<td>发件人，msg_type 为 mail 时有效</td>
</tr>
<tr>
<td>cc__username</td>
<td>string</td>
<td>否</td>
<td>抄送人，包含用户名，用户需在蓝鲸平台注册，多个以逗号分隔，msg_type 为 mail 时有效</td>
</tr>
<tr>
<td>body_format</td>
<td>string</td>
<td>否</td>
<td>邮件格式，包含'Html', 'Text'，默认为'Html'， msg_type 为 mail 时有效</td>
</tr>
<tr>
<td>attachments</td>
<td>list</td>
<td>否</td>
<td>邮件附件， msg_type 为 mail 时有效</td>
</tr>
<tr>
<td>date</td>
<td>string</td>
<td>否</td>
<td>通知发送时间，默认为当前时间 "YYYY-mm-dd HH:MM"，msg_type 为 weixin 时有效</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>否</td>
<td>通知尾部文字，msg_type 为 weixin 时有效</td>
</tr>
<tr>
<td>wx_qy_agentid</td>
<td>string</td>
<td>否</td>
<td>企业微信 AgentId，msg_type 为 weixin 时有效</td>
</tr>
<tr>
<td>wx_qy_corpsecret</td>
<td>string</td>
<td>否</td>
<td>企业微信 CorpSecret，msg_type 为 weixin 时有效</td>
</tr>
<tr>
<td>is_content_base64</td>
<td>bool</td>
<td>否</td>
<td>通知文字 content 是否 base64 编码，默认 False，不编码，若编码请使用 base64.b64encode 方法</td>
</tr>
</tbody>
</table>
<h5 id="attachments">attachments</h5>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>filename</td>
<td>string</td>
<td>是</td>
<td>文件名</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>是</td>
<td>文件内容，文件内容为原文件内容的 base64 编码字符串"</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>否</td>
<td>文件类型，默认为文件名后缀，如 a.png 文件类型为 'png'</td>
</tr>
<tr>
<td>disposition</td>
<td>string</td>
<td>否</td>
<td>文件 Content-Disposition，图片文件(type=image, jpg, png, jpeg)默认为 'inline'，其他文件默认为 'attachment'</td>
</tr>
<tr>
<td>content_id</td>
<td>string</td>
<td>否</td>
<td>文件 Content-ID，文件为图片文件时生效；默认为 '&lt;文件名&gt;'</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb-test&quot;,
    &quot;bk_app_secret&quot;: &quot;esb-test-secret&quot;,
    &quot;bk_username&quot;: &quot;admin&quot;,
    &quot;msg_type&quot;: &quot;mail&quot;,
    &quot;receiver__username&quot;: &quot;admin,yunchao&quot;,
    &quot;title&quot;: &quot;xxx&quot;,
    &quot;content&quot;: &quot;xxx&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;OK&quot;,
    &quot;data&quot;: [],
    &quot;request_id&quot;: &quot;sdfdfdfsdfasdasdasas&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/cmsi/send_sms/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>发送短信</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>receiver</td>
<td>string</td>
<td>否</td>
<td>短信接收者，包含接收者电话号码，多个以逗号分隔，若 receiver、receiver__username 同时存在，以 receiver 为准</td>
</tr>
<tr>
<td>receiver__username</td>
<td>string</td>
<td>否</td>
<td>短信接收者，包含用户名，用户需在蓝鲸平台注册，多个以逗号分隔，若 receiver、receiver__username 同时存在，以 receiver 为准</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>是</td>
<td>短信内容</td>
</tr>
<tr>
<td>is_content_base64</td>
<td>bool</td>
<td>否</td>
<td>消息内容是否 base64 编码，默认 False，不编码，请使用 base64.b64encode 方法编码</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;receiver&quot;: &quot;1234567890&quot;,
    &quot;receiver__username&quot;: &quot;admin&quot;,
    &quot;content&quot;: &quot;Welcome to Blueking&quot;,
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: &quot;00&quot;,
    &quot;message&quot;: &quot;OK&quot;,
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/cmsi/send_voice_msg/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>公共语音通知</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>auto_read_message</td>
<td>string</td>
<td>是</td>
<td>自动语音读字信息</td>
</tr>
<tr>
<td>user_list_information</td>
<td>array</td>
<td>否</td>
<td>待通知的用户列表，自动语音通知列表，若 user_list_information、receiver__username 同时存在，以 user_list_information 为准</td>
</tr>
<tr>
<td>receiver__username</td>
<td>string</td>
<td>否</td>
<td>待通知的用户列表，包含用户名，用户需在蓝鲸平台注册，多个以逗号分隔，若 user_list_information、receiver__username 同时存在，以 user_list_information 为准</td>
</tr>
</tbody>
</table>
<h4 id="user_list_information">user_list_information</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>username</td>
<td>string</td>
<td>是</td>
<td>被通知人</td>
</tr>
<tr>
<td>mobile_phone</td>
<td>string</td>
<td>否</td>
<td>被通知人手机号</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;auto_read_message&quot;: &quot;This is a test&quot;,
    &quot;user_list_information&quot;: [{
        &quot;username&quot;: &quot;admin&quot;,
        &quot;mobile_phone&quot;: &quot;1234567890&quot;,
    }]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: &quot;00&quot;,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;instance_id&quot;: &quot;2662152044&quot;
    }
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/cmsi/send_weixin/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>发送微信消息，支持微信公众号消息，及微信企业号消息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>receiver</td>
<td>string</td>
<td>否</td>
<td>微信接收者，包含绑定在指定公众号上的微信用户的 openid 或 企业号上的微信用户的用户 ID，多个以逗号分隔</td>
</tr>
<tr>
<td>receiver__username</td>
<td>string</td>
<td>否</td>
<td>微信接收者，包含用户名，用户需在蓝鲸平台注册，多个以逗号分隔，若 receiver、receiver__username 同时存在，以 receiver 为准</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>是</td>
<td>消息内容</td>
</tr>
<tr>
<td>wx_qy_agentid</td>
<td>string</td>
<td>否</td>
<td>agentid of WeChat app</td>
</tr>
<tr>
<td>wx_qy_corpsecret</td>
<td>string</td>
<td>否</td>
<td>secret of WeChat app</td>
</tr>
</tbody>
</table>
<h4 id="data">data 参数包含内容</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>heading</td>
<td>string</td>
<td>是</td>
<td>通知头部文字</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>是</td>
<td>通知文字</td>
</tr>
<tr>
<td>date</td>
<td>string</td>
<td>否</td>
<td>通知发送时间，默认为当前时间 &#34;YYYY-mm-dd HH:MM&#34;</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>否</td>
<td>通知尾部文字</td>
</tr>
<tr>
<td>is_message_base64</td>
<td>bool</td>
<td>否</td>
<td>通知文字 message 是否 base64 编码，默认 False，不编码，若编码请使用 base64.b64encode 方法</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;receiver&quot;: &quot;xxx&quot;,
    &quot;data&quot;: {
        &quot;heading&quot;: &quot;blueking alarm&quot;,
        &quot;message&quot;: &quot;This is a test.&quot;,
        &quot;date&quot;: &quot;2017-02-22 15:36&quot;,
        &quot;remark&quot;: &quot;This is a test!&quot;
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: &quot;00&quot;,
    &quot;message&quot;: &quot;OK&quot;,
}</code></pre><h1 id="api-esb-api">后台 API 和 ESB API 说明</h1>
<h2 id="_1">背景</h2>
<p>由于高性能的 APIGateway2.0 尚未发布企业版, 所以为了性能考虑, 模型/策略/鉴权等接口目前没有接入 ESB, 直接后台 API 调用; 而 SaaS 上无权限申请/授权接口等, 接入了 ESB</p>
<p>目前权限中心提供的接口分为两类:
1. 后台 API, URL 前缀: <code>/api/v1/[model | policy | systems]</code>
    1.1 model <a href="../02-Model/00-API.md">模型注册及更新 API</a>
    1.2 policy <a href="../04-Auth/01-SDK.md">策略查询 API</a> / <a href="../04-Auth/02-DirectAPI.md">直接鉴权 API</a>
    1.3 systems 系统相关  <a href="../08-Query/01-PolicyGet.md">查询策略 API</a>
2. 组件 API, URL 前缀: <code>/api/c/compapi/v2/iam/[application | authorization]</code>
    1.1  application <a href="../05-Application/01-GenerateURL.md">5. 生成无权限申请 URL</a>
    1.2  authorization <a href="../07-ResourceCreatorAction/01-Attribute.md">新建关联属性授权接口</a>
    1.3 authorization <a href="../06-GrantRevoke/01-Topology.md">资源拓扑授权/回收</a></p>
<p>未来, APIGateway 2.0 企业版发布后, 会全部统一接入 APIGateway, 对于接入系统来说, 就是一套系统, 一种调用方式.</p>
<h2 id="api">后台 API</h2>
<p>直接调用 IAM 后台 API, 请仔细阅读 <a href="./02-APIBasicInfo.md">接口协议前置说明</a> 中对 request header/body 以及 response 的说明</p>
<p>调用地址:
- 如果是企业版 SaaS, 直接通过环境变量获取: <code>BK_IAM_V3_APP_CODE</code> (权限中心 SaaS 的 app_code, 用于跳转到权限中心的 URL 拼接) / <code>BK_IAM_V3_INNER_HOST</code>(权限中心后台的访问地址)
- 如果是非 SaaS 的其他平台, 需要部署时渲染 <code>__BKIAM_HOST__:__BKIAM_PORT__</code></p>
<p>相关链接:
- <a href="../../../HowTo/FAQ/ErrorCode.md">后台接口错误码说明</a></p>
<h2 id="esb-api">ESB API</h2>
<p>需要遵守企业版 ESB 的接口协议. eedev 联调环境, 可以通过 <code>https://{PAAS_DOMAIN}/esb/api_docs/system/IAM/</code> 查看权限中心接入 ESB 的具体文档</p>
<p>ESB 调用地址:
- 如果是企业版 SaaS, 使用 ESB SDK 调用,   API 调用说明 <code>https://{PAAS_DOMAIN}/esb/guide/page/use_component</code>
- 如果是企业版 SaaS, 直接通过 http 访问, 可以通过环境变量获取: <code>BK_PAAS_INNER_HOST</code>即 PaaS 的内网域名, 拼接<code>{BK_PAAS_INNER_HOST}/api/c/compapi/v2/iam/</code>
- 如果是非企业版 SaaS 的其他平台, 请使用 PaaS 内网地址或域名访问组件 <code>{PAAS_DOMAIN}/api/c/compapi/v2/iam/</code>. </p><h2 id="_1">接口协议前置说明</h2>
<p>Request Header:</p>
<ul>
<li><code>X-Bk-App-Code</code>   蓝鲸应用 app_code</li>
<li><code>X-Bk-App-Secret</code>  蓝鲸应用 app_secret</li>
<li><code>X-Bk-IAM-Version</code> IAM Policy 协议版本号, 不传默认为 1. (只有鉴权/策略相关的接口涉及, 暂时不需要关注)</li>
</ul>
<p>Response Header:
-  <code>X-Request-Id</code>  请求 request_id, 请记录, 用于错误排查</p>
<p>Response Body: 遵循蓝鲸官方 API 协议进行返回, <code>code != 0</code> 表示出错, <code>message</code>包含具体信息</p>
<pre class="codehilite"><code class="language-bash">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
    }
}</code></pre>


<p><strong>重要</strong>: 调用权限中心 API 都会返回一个<code>request_id</code>, 请在日志中记录, 以便后续联调及正式环境中进行问题排查; </p>
<hr />
<h2 id="resources">接口协议中<code>resources</code>字段说明</h2>
<p>Request 的 json body 中<code>resources</code></p>
<blockquote>
<p><code>resources</code>是一个列表
<code>resources</code>代表<code>一个资源</code></p>
</blockquote>
<p>如果是独立系统, 那么<code>resources</code>只有一个 item</p>
<pre class="codehilite"><code class="language-json">    &quot;resources&quot;: [
    {
        &quot;system&quot;: &quot;bk_paas&quot;,
        &quot;type&quot;: &quot;app&quot;,
        &quot;id&quot;: &quot;bk_framework&quot;
    }]</code></pre>


<p>如果是跨系统资源依赖, 那么<code>resources</code>有多个 item, 包含跨系统依赖资源, 例如 job 脚本是否有在 cmdb 某个主机上的执行权限</p>
<pre class="codehilite"><code class="language-json">    &quot;resources&quot;: [
    {
        &quot;system&quot;: &quot;bk_job&quot;,
        &quot;type&quot;: &quot;script&quot;,
        &quot;id&quot;: &quot;run&quot;
    },
    {
        &quot;system&quot;: &quot;bk_cmdb&quot;,
        &quot;type&quot;: &quot;host&quot;,
        &quot;id&quot;: &quot;192.168.1.1&quot;
    }]</code></pre>


<p>所以, 写批量接口批量确认一批资源权限
- <code>resources</code>表示一个资源, 类型是 <code>[resource,]</code>
- <code>resources_list</code>表示一批资源, 类型是 <code>[resources, resources]</code> 即, <code>[ [resource,],  [resource,], ]</code></p><h1 id="_1">系统间接口鉴权</h1>
<h2 id="-">接入系统 -&gt; 权限中心</h2>
<h3 id="1">1. 场景</h3>
<ol>
<li>模型注册 (<a href="../02-Model/00-API.md">模型注册接口协议</a>)</li>
<li>拉取策略/鉴权 (<a href="../04-Auth/01-SDK.md">SDK 鉴权接口协议</a>)</li>
</ol>
<h3 id="2">2. 鉴权逻辑</h3>
<p>使用蓝鲸 app_code/app_secret 进行鉴权 </p>
<p>Request Header:</p>
<pre class="codehilite"><code class="language-bash">X-Bk-App-Code 蓝鲸应用app_code
X-Bk-App-Secret 蓝鲸应用app_secret</code></pre>


<p>没有权限将返回:</p>
<pre class="codehilite"><code class="language-bash">status: 200
response_body:
# 没有提供app_code/app_secret
{
    &quot;code&quot;: 1901401,
    &quot;message&quot;: &quot;unauthorized: app code and app secret required&quot;,
    &quot;data&quot;: {}
}
# app_code或app_secret错误
{
    &quot;code&quot;: 1901401,
    &quot;message&quot;: &quot;unauthorized: app code or app secret wrong&quot;,
    &quot;data&quot;: {}
}</code></pre>


<hr />
<h2 id="-_1">权限中心 -&gt; 接入系统</h2>
<p>接入系统暴露的接口是可以查询资源实例/属性等信息的, 可能包含敏感信息, 所以需要对权限中心资源拉取接口做鉴权.</p>
<h3 id="1_1">1. 场景</h3>
<p>资源拉取 (<a href="../03-Callback/01-API.md">资源拉取接口协议</a>)</p>
<h3 id="2_1">2. 鉴权逻辑</h3>
<p><strong>注意</strong>: 目前只支持<code>none</code>或<code>basic</code>, 相对复杂的<code>digest</code>/<code>signature</code>规划中</p>
<ol>
<li>注册系统时(<a href="../02-Model/10-System.md">新增系统接口协议</a>), 需要确定鉴权方式: <code>none</code>/<code>basic</code>/<code>digest</code>/<code>signature</code> </li>
<li>系统注册成功, 会生成一个<code>token</code></li>
<li>当权限中心调用<code>接入系统</code>的时候, 会根据接入系统注册的鉴权方式和上一步生成的 token, 生成对应的请求, 然后调用<code>接入系统</code></li>
<li>接入系统需要根据注册系统选择的鉴权方式, 对权限中心发过来的请求进行鉴权.</li>
</ol>
<p><strong>鉴权方式:</strong>
- <code>none</code>: 不鉴权, 意味着所有资源拉取接口没有权限控制(<a href="../03-Callback/01-API.md">资源拉取接口协议</a>). <code>不推荐, 可以在测试联调时使用</code>
- <code>basic</code>: http basic auth, 权限中心调用接入系统, 生成 header<code>Authorization: Basic base64(username:password)</code> (其中<code>username=bk_iam, password={token}</code>), <code>接入系统</code>解析请求后, 要使用 token 进行鉴权.  <code>推荐, 同蓝鲸体系部署在同一个内网的服务</code> - 已支持
- <code>digest</code>: http digest auth, 权限中心调用接入系统, 使用摘要算法生成 header<code>Authorization: Digest xxxx</code>, <code>接入系统</code>解析请求后, 需要使用 token 进行鉴权. <code>同蓝鲸体系部署在同一个内网的服务, 对安全性进一步需求的服务(实现方和调用方的逻辑较为复杂, 出问题不好调试)</code> - 暂不支持
- <code>signature</code>: 使用签名算法, 生成 header<code>X-Bk-IAM-Signature: xxx</code> (尚未确认协议). <code>接入系统</code>解析请求后, 需要使用 token 进行鉴权. <code>外网服务或对安全性有很高要求的服务</code>- 暂不支持</p>
<p><code>接入系统</code>解析请求后, 需要使用 token 进行鉴权:</p>
<ul>
<li>使用<code>app_code/app_secret</code>到权限中心查询<code>token</code> (<a href="../02-Model/16-Token.md">查询 token 协议</a>) (建议, 查询回来后缓存起来)</li>
</ul><h1 id="api">模型注册 API</h1>
<ul>
<li><a href="./00-Concepts.md">名词及概念</a></li>
<li><a href="./10-System.md">系统 System</a></li>
<li><a href="./11-ResourceType.md">资源类型 ResourceType</a></li>
<li><a href="./12-InstanceSelection.md">实例视图 InstanceSelection</a></li>
<li><a href="./13-Action.md">操作 Action</a></li>
<li><a href="./14-ActionGroup.md">操作组 ActionGroup</a></li>
<li><a href="./15-CommonQuery.md">通用查询 Common Query</a></li>
<li><a href="./16-Token.md">系统 token 查询</a></li>
<li><a href="./17-CommonActions.md">常用操作配置 CommonActions</a></li>
<li><a href="./18-FeatureShieldRules.md">功能开关配置 FeatureShieldRules</a></li>
<li><a href="./19-ResourceCreatorAction.md">新建关联配置 ResourceCreatorAction</a></li>
</ul><h1 id="_1">名词及概念</h1>
<p>说明: 1. 概念 2.限制(例如正则校验/非空/全局唯一等等)</p>
<blockquote>
<p>所有更新(<code>PUT</code>)操作, 如果传了<code>key</code>并给了<code>空值</code>, 那么执行的是<code>置空操作</code>; 如果没有传<code>key</code>, 表示不更新该字段</p>
</blockquote>
<h2 id="1-system-saas">1. System: 接入权限中心的 SaaS 或平台或第三方系统</h2>
<ul>
<li>id: 系统的唯一标识，可直接使用 app_code 的值作为唯一标识，但 app_code 还用于接口的认证，值可以一样，但需支持 id 和 app_code 可单独配置不一样的，同时对于 cmdb 这种被依赖的系统，需要保证所有版本的系统 ID 都一样；只允许小写字母开头、包含小写字母、数字、下划线(_)和连接符(-)， 最长 32 个字符。</li>
<li>name: 系统名称，注册时权限中心不允许与已存在系统同名</li>
<li>name_en: 系统英文名，国际化时切换到英文版本显示</li>
<li>description:  系统描述</li>
<li>description_en: 系统描述描述英文, 国际化切换到英文版本展示</li>
<li>clients： 有权限调用权限中心获取或操作该系统权限相关数据的客户端列表，即 app_code list，多个使用英文逗号分隔， 比如 BCS 由一个客户端 bk_bcs 注册，但是需要多个客户端（bk_bcs,bk_bcs_app,bk_devops,bk_harbor）都可以调用鉴权接口进行该系统的鉴权 </li>
<li>provider_config.host：权限中心回调接入系统时需要的配置文件，权限中心需要调用接入系统拉取资源实例接口，所以需要接入系统 API 的 HOST, HOST 格式：scheme://netloc，与 resource_type.provider_config.path 配合使用. <code>例如system.provider_config.host=http://cmdb.consul, resource_type.provider_config.path=/api/v1/resources</code>, 那么将调用<code>http://cmdb.consul/api/v1/resources</code>去拉取该资源类型相关信息</li>
<li>provider_config.auth: 权限中心调用接入系统吸取资源信息需要用的的接口鉴权方法, 目前支持<code>none/basic</code>, (<code>digest/signature</code>规划中), 接入系统需要实现相应的鉴权逻辑, 确保是合法的 iam 请求. <a href="../01-Overview/03-APIAuth.md">系统间调用接口鉴权:权限中心-&gt;接入系统</a></li>
<li>provider_config.healthz: 权限中心调用接入系统的 healthz 检查系统是否健康; 与 provider_config.host 配合使用, <code>例如system.provider_config.host=http://cmdb.consul, provider_config.healthz=/healthz/</code>, 那么将调用<code>http://cmdb.consul/healthz/</code>检查系统是否健康. </li>
</ul>
<hr />
<h2 id="2-resourcetype">2. ResourceType: 操作对象的资源类别</h2>
<ul>
<li>id: 资源类型的唯一标识，接入系统下唯一，只允许小写字母开头、包含小写字母、数字、下划线(_)和连接符(-)，最长 32 个字符。</li>
<li>name: 资源类型名称，系统下唯一</li>
<li>name_en:  资源类型英文名，国际化时切换到英文版本显示</li>
<li>description: 资源类型描述</li>
<li>description_en: 资源类型描述英文, 国际化切换到英文版本展示</li>
<li>parents: 资源类型的直接上级，可多个直接上级，可以是自身系统的资源类型或其他系统的资源类型, 可为空列表，不允许重复，数据仅用于权限中心产品上显示  </li>
<li>provider_config: 权限中心调用查询资源实例接口需要的配置文件，包括权限中心调用查询资源实例接口的 URL 的 path，与 system.provider_config.host 配合使用. <code>例如system.provider_config.host=http://cmdb.consul, resource_type.provider_config.path=/api/v1/resources</code>, 那么将调用<code>http://cmdb.consul/api/v1/resources</code>去拉取该资源类型相关信息</li>
</ul>
<hr />
<h2 id="3-instanceselection">3. InstanceSelection: 实例视图</h2>
<ul>
<li>id: 实例视图的唯一标识，接入系统下唯一，只允许小写字母开头、包含小写字母、数字、下划线(_)和连接符(-)，最长 32 个字符。</li>
<li>name: 实例视图名称，系统下唯一</li>
<li>name_en:  实例视图英文名，国际化时切换到英文版本显示</li>
<li>resource_type_chain：实例视图包含的资源类型的层级链路</li>
<li>is_dynamic：是否是动态拓扑视图，<code>默认为false</code>，如果是动态拓扑视图, 需要在<code>list_instance</code>中实现<code>child_type</code>来拉取到下一级的资源类型, <a href="../03-Callback/12-list_instance.md">具体参考</a><ul>
<li>使用动态拓扑视图的所有下级资源类型的系统 id 必须与 root 节点的系统 id 相同, 不能出现系统 id 不同的情况, 会导致配置出错误的权限</li>
<li>使用动态拓扑视图时, 权限中心不会校验用户提交的数据是否与视图匹配, 并且在创建依赖操作时, 如果发现是动态拓扑视图, 不会产生依赖操作</li>
</ul>
</li>
</ul>
<hr />
<h2 id="4-action">4. Action: 权限操作，比如增删改查</h2>
<ul>
<li>id: 操作的唯一标识，接入系统下唯一，只允许小写字母开头、包含小写字母、数字、下划线(_)和连接符(-)，最长 32 个字符。</li>
<li>name: 操作名称，系统下唯一</li>
<li>name_en:  操作英文名，国际化时切换到英文版本显示</li>
<li>description: 操作描述</li>
<li>description_en: 描述英文, 国际化切换到英文版本展示</li>
<li>type: 操作的类型，枚举值包括<code>create\delete\view\edit\list\manage\execute</code> 比如创建类操作需要标识为"create"，无法分类可为空字符串，目前权限中心仅仅对创建类操作有相关处理</li>
<li>related_actions: related_actions: 操作的依赖操作，当用户申请的操作权限必须依赖其他操作权限（暂不支持跨系统操作关联）时，比如用户申请 作业编辑，必须依赖 作业查看 的操作权限，作业查看 就是 作业编辑 的依赖操作。在产品层表现就是：当用户勾选 作业编辑 时，系统在创建申请单时，会自动申请 作业查看 权限。 </li>
<li>related_resource_types： 操作的对象资源类型列表，列表顺序与产品展示、鉴权校验 顺序 必须保持一致 <a href="../../../../权限中心/产品白皮书/术语解释/Trem.md#依赖资源">产品说明: 依赖资源</a><ul>
<li>system_id： 资源类型的来源系统，可以是自身系统或其他系统</li>
<li>scope：限制该操作对该资源的选择范围，条件表达式协议: <a href="../..//Expression/01-Schema.md">协议详情</a> <a href="../../../../权限中心/产品白皮书/术语解释/Trem.md#资源范围">产品说明: 资源范围</a></li>
<li>selection_mode: 选择类型, 即资源在权限中心产品上配置权限时的作用范围<ul>
<li>等于<code>instance</code>, 仅可选择实例, <code>默认值</code></li>
<li>等于<code>attribute</code>, 仅可配置属性, 此时<code>instance_selections</code>配置不生效</li>
<li>等于<code>all</code>, 可以同时选择实例和配置属性</li>
</ul>
</li>
<li>related_instance_selections：关联的实例视图，可以关联本系统定义的实例视图, 也可以配置其他系统定义的(如果<code>selection_mode=attribute</code>不用配置该字段). 该字段的功能表现在权限中心产品上配置权限时的实例选择方式 <a href="../../../../权限中心/产品白皮书/术语解释/Trem.md#实例视图">产品说明: 实例选择视图</a><ul>
<li>system_id：实例视图的系统</li>
<li>id：实例视图的 ID</li>
<li>ignore_iam_path：是否忽略路径，<code>默认为false</code>，在 IAM 产品上选择实例视图配置权限的资源时，<strong>如果选到 Action 关联的资源类型实例，而不是上级或祖先（选择了中间节点，ignore_iam_path 是不起作用的）</strong>，那么对于<code>ignore_iam_path=true</code>时权限保存类似：<code>id=192.168.1.1</code>，若<code>ignore_iam_path=false</code>时则权限保存类似：<code>id=192.168.1.1 AND _bk_iam_path_= /biz,1/set,2/module,3/</code><ul>
<li>ignore_iam_path 由 false 变更为 true 时，已配置的权限（类似：<code>id=192.168.1.1 AND _bk_iam_path_= /biz,1/set,2/module,3/</code>）将无法通过 id 直接通过鉴权</li>
<li>ignore_iam_path 由 true 变更为 false 时，已配置的权限（类似：<code>id=192.168.1.1</code>）无论任何路径都可以通过鉴权</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr />
<h2 id="5-version">5.版本号 version</h2>
<ul>
<li>仅仅作为在权限中心产品上进行 New 的更新提醒。<a href="../../../../权限中心/产品白皮书/术语解释/Trem.md#版本">产品说明：版本号</a></li>
<li>对于 ResourceType，对比该系统的所有 ResourceType 的 Version，最大的 version 将在产品上显示 New 的提示</li>
<li>对于 Action，对比该系统的所有 Action 的 Version，最大的 version 将在产品上显示 New 的提示</li>
</ul><h1 id="system-api">系统 System API</h1>
<h3 id="_1">参数说明</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">系统 id, 全局唯一, 只允许小写字母开头、包含小写字母、数字、下划线(_)和连接符(-), 最长 32 个字符.</td>
</tr>
<tr>
<td align="left">name</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">系统名称，全局唯一</td>
</tr>
<tr>
<td align="left">name_en</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">系统英文名，国际化时切换到英文版本显示</td>
</tr>
<tr>
<td align="left">description</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">系统描述，全局唯一</td>
</tr>
<tr>
<td align="left">description_en</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">系统描述英文，国际化时切换到英文版本显示</td>
</tr>
<tr>
<td align="left">clients</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">有权限调用的客户端，即有权限调用的 app_code 列表，多个使用英文逗号分隔，注册系统时会校验 Header 头里的 app_code 必须在列表里 <a href="./00-Concepts.md">更多概念说明</a></td>
</tr>
<tr>
<td align="left">provider_config</td>
<td align="left">Object</td>
<td align="left">是</td>
<td align="left">权限中心回调接入系统的配置文件 <a href="./00-Concepts.md">更多概念说明</a></td>
</tr>
</tbody>
</table>
<p>provider_config 内元素 参数：</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">host</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">权限中心调用查询资源实例接口的 HOST，格式：scheme://netloc，与 resource_type.provider_config.path 配合使用</td>
</tr>
<tr>
<td align="left">auth</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">权限中心调用查询资源实例接口的鉴权方式, 当前可选: <code>none</code>/<code>basic</code>, 详细说明文档 <a href="../01-Overview/03-APIAuth.md">系统间调用接口鉴权:权限中心-&gt;接入系统</a></td>
</tr>
<tr>
<td align="left">healthz</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">权限中心调用接入系统的 healthz 检查系统是否健康; 与 provider_config.host 配合使用, <code>例如system.provider_config.host=http://cmdb.consul, provider_config.healthz=/healthz/</code>, 那么将调用<code>http://cmdb.consul/healthz/</code>检查系统是否健康.</td>
</tr>
</tbody>
</table>
<h3 id="1-system">1. 新增 system</h3>
<p>注意: </p>
<ul>
<li>一个 app_code 只能创建一个 system, 且 system_id 必须等于 app_code; 如果不符合要求, 接口返回 <code>1901400 bad request:system_id should be the app_code!</code></li>
<li>创建 system 时如果没有把自己加入 clients, 会自动将当前发起<code>新增system</code>的 app_code 加入<code>clients</code></li>
</ul>
<hr />
<h4 id="url">URL</h4>
<blockquote>
<p>POST /api/v1/model/systems</p>
</blockquote>
<h4 id="request">Request</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;id&quot;: &quot;bk_cmdb&quot;,
    &quot;name&quot;: &quot;配置平台&quot;,
    &quot;name_en&quot;: &quot;CMDB&quot;,
    &quot;description&quot;: &quot;配置平台是一个...&quot;,
    &quot;description_en&quot;: &quot;CMDB is a...&quot;,
    &quot;clients&quot;: &quot;bk_cmdb,cmdb&quot;,
    &quot;provider_config&quot;: {
        &quot;host&quot;: &quot;http://cmdb.service.consul&quot;,
        &quot;auth&quot;: &quot;basic&quot;,
        &quot;healthz&quot;: &quot;/api/v1/healthz&quot;
    }
}</code></pre>


<h4 id="response">Response</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;id&quot;: &quot;bk_cmdb&quot;
    }
}</code></pre>


<h3 id="2-system">2. 更新 system</h3>
<p><code>路径中system_id是唯一标识; body中只需要传入要更新的字段, 其中对于provider_config是全覆盖更新，不支持只更新provider_config中某个字段</code></p>
<p>注意: 
- 更新 system 时如果没有把自己加入 clients, 会自动将当前发起<code>更新system</code>的 app_code 加入<code>clients</code>(即, 更新发起者无法将自己移除<code>clients</code>)</p>
<h4 id="url_1">URL</h4>
<blockquote>
<p>PUT /api/v1/model/systems/{system_id}</p>
</blockquote>
<h4 id="parameters">Parameters</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">位置</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">系统 ID</td>
</tr>
</tbody>
</table>
<h4 id="request_1">Request</h4>
<p><code>json
{
    "name": "配置平台",
    "name_en": "CMDB",
    "clients": "bk_cmdb,cmdb",
    "provider_config": {
        "host": "http://cmdb_new.service.consul"
    }
}</code></p>
<h4 id="response_1">Response</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h1 id="resourcetype-api">资源类型 ResourceType API</h1>
<h3 id="_1">参数说明</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源类型 id, 系统下唯一, 只允许小写字母开头、包含小写字母、数字、下划线(_)和连接符(-),最长 32 个字符.</td>
</tr>
<tr>
<td align="left">name</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源类型名称，系统下唯一</td>
</tr>
<tr>
<td align="left">name_en</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源类型英文名，国际化时切换到英文版本显示</td>
</tr>
<tr>
<td align="left">description</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">资源类型名称，系统下唯一</td>
</tr>
<tr>
<td align="left">description_en</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">资源类型英文名，国际化时切换到英文版本显示</td>
</tr>
<tr>
<td align="left">parents</td>
<td align="left">Array[Object]</td>
<td align="left">否</td>
<td align="left">资源类型的直接上级，可多个直接上级，可以是自身系统的资源类型或其他系统的资源类型, 可为空列表，不允许重复，数据仅用于权限中心产品上显示</td>
</tr>
<tr>
<td align="left">provider_config</td>
<td align="left">Object</td>
<td align="left">是</td>
<td align="left">权限中心调用查询资源实例接口的配置文件，与 system.provider_config.host 配合使用 <a href="./00-Concepts.md">更多概念说明</a></td>
</tr>
<tr>
<td align="left">version</td>
<td align="left">int</td>
<td align="left">否</td>
<td align="left">版本号，允许为空，仅仅作为在权限中心上进行 New 的更新提醒  <a href="./00-Concepts.md">更多概念说明</a></td>
</tr>
</tbody>
</table>
<p>parents 元素参数说明</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">直接上级资源类型的来源系统 ID</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">直接上级资源类型 ID</td>
</tr>
</tbody>
</table>
<p>provider_config 内元素 参数：</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">path</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">权限中心调用查询资源实例接口的 URL 的 PATH，与 system.provider_config.host 配合使用</td>
</tr>
</tbody>
</table>
<h3 id="1-resourcetype">1. 新增 resourceType</h3>
<p>限制:
- 一个系统只能创建最多 50 个 resourceType</p>
<h4 id="url">URL</h4>
<blockquote>
<p>POST /api/v1/model/systems/{system_id}/resource-types</p>
</blockquote>
<h4 id="parameters">Parameters</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">位置</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">系统 ID</td>
</tr>
</tbody>
</table>
<h4 id="request">Request</h4>
<pre class="codehilite"><code class="language-json">[
    {
        &quot;id&quot;: &quot;biz_set&quot;,
        &quot;name&quot;: &quot;业务集&quot;,
        &quot;name_en&quot;: &quot;biz_set&quot;,
        &quot;description&quot;: &quot;业务集是...&quot;,
        &quot;description_en&quot;: &quot;biz_set is a ...&quot;,
        &quot;parents&quot;: [],
        &quot;provider_config&quot;: {
            &quot;path&quot;: &quot;/api/v1/resources/biz_set/query&quot;
        },
        &quot;version&quot;: 1
    },
    {
        &quot;id&quot;: &quot;biz&quot;,
        &quot;name&quot;: &quot;业务&quot;,
        &quot;name_en&quot;: &quot;biz&quot;,
        &quot;description&quot;: &quot;业务是...&quot;,
        &quot;description_en&quot;: &quot;biz is a ...&quot;,
        &quot;parents&quot;: [
            {&quot;system_id&quot;: &quot;bk_cmdb&quot;, &quot;id&quot;: &quot;biz_set&quot;}            
        ],
        &quot;provider_config&quot;: {
            &quot;path&quot;: &quot;/api/v1/resources/biz/query&quot;
        },
        &quot;version&quot;: 1
    },
    {
        &quot;id&quot;: &quot;dir&quot;, 
        &quot;name&quot;: &quot;目录&quot;,
        &quot;name_en&quot;: &quot;dir&quot;, 
        &quot;description&quot;: &quot;目录是...&quot;,
        &quot;description_en&quot;: &quot;dir is a ...&quot;,
        &quot;parents&quot;: [
            {&quot;system_id&quot;: &quot;bk_cmdb&quot;, &quot;id&quot;: &quot;biz&quot;}
        ],
        &quot;provider_config&quot;: {
            &quot;path&quot;: &quot;/api/v1/resources/dir/query&quot;
        },
        &quot;version&quot;: 1
    },  
    {
        &quot;id&quot;: &quot;set&quot;, 
        &quot;name&quot;: &quot;集群&quot;,
        &quot;name_en&quot;: &quot;set&quot;, 
        &quot;description&quot;: &quot;集群是...&quot;,
        &quot;description_en&quot;: &quot;set is a ...&quot;,
        &quot;parents&quot;: [
            {&quot;system_id&quot;: &quot;bk_cmdb&quot;, &quot;id&quot;: &quot;biz&quot;},
            {&quot;system_id&quot;: &quot;bk_cmdb&quot;, &quot;id&quot;: &quot;dir&quot;}
        ],
        &quot;provider_config&quot;: {
            &quot;path&quot;: &quot;/api/v1/resources/set/query&quot;
        },
        &quot;version&quot;: 1
    },
    {
        &quot;id&quot;: &quot;module&quot;, 
        &quot;name&quot;: &quot;模块&quot;,
        &quot;name_en&quot;: &quot;module&quot;, 
        &quot;description&quot;: &quot;模块是...&quot;,
        &quot;description_en&quot;: &quot;module is a ...&quot;,
        &quot;parents&quot;: [
            {&quot;system_id&quot;: &quot;bk_cmdb&quot;, &quot;id&quot;: &quot;set&quot;}
        ],
        &quot;provider_config&quot;: {
            &quot;path&quot;: &quot;/api/v1/resources/module/query&quot;
        },
        &quot;version&quot;: 1
    },
    {
        &quot;id&quot;: &quot;host&quot;, 
        &quot;name&quot;: &quot;主机&quot;,
        &quot;name_en&quot;: &quot;host&quot;, 
        &quot;description&quot;: &quot;主机是...&quot;,
        &quot;description_en&quot;: &quot;host is a ...&quot;,
        &quot;parents&quot;: [
            {&quot;system_id&quot;: &quot;bk_cmdb&quot;, &quot;id&quot;: &quot;module&quot;}
        ],
        &quot;provider_config&quot;: {
            &quot;path&quot;: &quot;/api/v1/resources/host/query&quot;
        },
        &quot;version&quot;: 1
    }
]</code></pre>


<h4 id="response">Response</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre>


<h3 id="2-resourcetype">2. 修改 resourceType</h3>
<h4 id="url_1">URL</h4>
<blockquote>
<p>PUT /api/v1/model/systems/{system_id}/resource-types/{resource_type_id}</p>
</blockquote>
<h4 id="parameters_1">Parameters</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">位置</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">系统 ID</td>
</tr>
<tr>
<td align="left">resource_type_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">资源类型 ID</td>
</tr>
</tbody>
</table>
<h4 id="request_1">Request</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;name&quot;: &quot;业务新&quot;,
    &quot;name_en&quot;: &quot;biz new&quot;,
    &quot;description&quot;: &quot;业务新...&quot;,
    &quot;description_en&quot;: &quot;biz new is ....&quot;,
    &quot;provider_config&quot;: {
        &quot;path&quot;: &quot;/api/v2/resources/biz/query&quot;
    },
    &quot;version&quot;: 2
}</code></pre>


<h4 id="response_1">Response</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre>


<h3 id="3-resourcetype">3. 删除 resourceType</h3>
<p>必须同时满足以下两个条件才能成功删除资源类型
1. 该资源类型不作为其他的上级资源，具体遍历所有资源类型的 parents 是否存在该资源类型
2. 该资源类型不作为 Action 的操作对象资源类型，具体遍历所有 Action 的 related_resource_types 是否存在该资源类型</p>
<h4 id="url_2">URL</h4>
<p>批量删除 (需要 Request.Body)</p>
<blockquote>
<p>DELETE /api/v1/model/systems/{system_id}/resource-types</p>
</blockquote>
<p>单个删除 (不需要 Request.Body)</p>
<blockquote>
<p>DELETE /api/v1/model/systems/{system_id}/resource-types/{resource_type_id}</p>
</blockquote>
<h4 id="parameters_2">Parameters</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">位置</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">系统 ID</td>
</tr>
<tr>
<td align="left">resource_type_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">资源类型 ID</td>
</tr>
<tr>
<td align="left">check_existence</td>
<td align="left">boolean</td>
<td align="left">否</td>
<td align="left">query</td>
<td align="left">默认会检查 id 存在, 不存在将导致删除失败,  设置 false 不检查 id 是否存在, 直接走删除(<code>delete from table where id in []</code>)</td>
</tr>
</tbody>
</table>
<h4 id="request_2">Request</h4>
<pre class="codehilite"><code class="language-json">[
    {
        &quot;id&quot;: &quot;biz&quot;
    },
    {
        &quot;id&quot;: &quot;set&quot;
    }
]</code></pre>


<h4 id="response_2">Response</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h1 id="instanceselection-api">实例视图 InstanceSelection API</h1>
<h3 id="_1">参数说明</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">实例视图 id, 系统下唯一, 只允许小写字母开头、包含小写字母、数字、下划线(_)和连接符(-),最长 32 个字符.</td>
</tr>
<tr>
<td align="left">name</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">实例视图名称，系统下唯一</td>
</tr>
<tr>
<td align="left">name_en</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">实例视图的英文名，国际化时切换到英文版本显示，系统下唯一</td>
</tr>
<tr>
<td align="left">is_dynamic</td>
<td align="left">bool</td>
<td align="left">否</td>
<td align="left">是否是动态拓扑视图，<code>默认为false</code>，<a href="./00-Concepts.md">更多概念说明</a></td>
</tr>
<tr>
<td align="left">resource_type_chain</td>
<td align="left">Array(Object)</td>
<td align="left">是</td>
<td align="left">资源类型的层级链路</td>
</tr>
</tbody>
</table>
<p>resource_type_chain 里的元素 </p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源类型的来源系统 ID</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源类型 ID</td>
</tr>
</tbody>
</table>
<h3 id="1-instanceselection">1. 新增 instanceSelection</h3>
<p>限制:
- 一个系统只能创建最多 50 个 instanceSelection</p>
<h4 id="url">URL</h4>
<blockquote>
<p>POST /api/v1/model/systems/{system_id}/instance-selections</p>
</blockquote>
<h4 id="parameters">Parameters</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">位置</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">系统 ID</td>
</tr>
</tbody>
</table>
<h4 id="request">Request</h4>
<pre class="codehilite"><code class="language-json">[
    {
        &quot;id&quot;: &quot;free_host&quot;,
        &quot;name&quot;: &quot;空闲主机&quot;,
        &quot;name_en&quot;: &quot;free host&quot;,
        &quot;resource_type_chain&quot;: [{
            &quot;system_id&quot;: &quot;bk_cmdb&quot;,
            &quot;id&quot;: &quot;host&quot;
        }]
    },
    {
        &quot;id&quot;: &quot;biz_topology&quot;,
        &quot;name&quot;: &quot;业务拓扑&quot;,
        &quot;name_en&quot;: &quot;biz topology&quot;,
        &quot;resource_type_chain&quot;: [{
                &quot;system_id&quot;: &quot;bk_cmdb&quot;,
                &quot;id&quot;: &quot;biz&quot;
            },
            {
                &quot;system_id&quot;: &quot;bk_cmdb&quot;,
                &quot;id&quot;: &quot;set&quot;
            },
            {
                &quot;system_id&quot;: &quot;bk_cmdb&quot;,
                &quot;id&quot;: &quot;module&quot;
            },
            {
                &quot;system_id&quot;: &quot;bk_cmdb&quot;,
                &quot;id&quot;: &quot;host&quot;
            }
        ]
    }
]</code></pre>


<h4 id="response">Response</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre>


<h3 id="2-instanceselection">2. 修改 instanceSelection</h3>
<h4 id="url_1">URL</h4>
<blockquote>
<p>PUT /api/v1/model/systems/{system_id}/instance-selections/{instance_selection_id}</p>
</blockquote>
<h4 id="parameters_1">Parameters</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">位置</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">系统 ID</td>
</tr>
<tr>
<td align="left">instance_selection_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">实例视图 ID</td>
</tr>
</tbody>
</table>
<h4 id="request_1">Request</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;id&quot;: &quot;free_host1&quot;,
    &quot;name&quot;: &quot;空闲主机1&quot;,
    &quot;name_en&quot;: &quot;free host1&quot;,
    &quot;resource_type_chain&quot;: [{
        &quot;system_id&quot;: &quot;bk_cmdb&quot;,
        &quot;id&quot;: &quot;host&quot;
    }]
}</code></pre>


<h4 id="response_1">Response</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre>


<h3 id="3-instanceselection">3. 删除 instanceSelection</h3>
<p>必须满足以下条件才能成功删除实例视图:
1. 该实例视图没有被本系统的 Action 关联资源操作引用，具体遍历所有 Action 的 related_resource_types 中的 related_instance_selections 是否存在该实例视图</p>
<h4 id="url_2">URL</h4>
<p>批量删除 (需要 Request.Body)</p>
<blockquote>
<p>DELETE  /api/v1/model/systems/{system_id}/instance-selections</p>
</blockquote>
<p>单个删除 (不需要 Request.Body)</p>
<blockquote>
<p>DELETE /api/v1/model/systems/{system_id}/instance-selections/{instance_selection_id}</p>
</blockquote>
<h4 id="parameters_2">Parameters</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">位置</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">系统 ID</td>
</tr>
<tr>
<td align="left">instance_selection_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">实例视图 ID</td>
</tr>
<tr>
<td align="left">check_existence</td>
<td align="left">boolean</td>
<td align="left">否</td>
<td align="left">query</td>
<td align="left">默认会检查 id 存在, 不存在将导致删除失败, 设置 false 不检查 id 是否存在, 直接走删除( <code>delete from table where id in []</code> )</td>
</tr>
</tbody>
</table>
<h4 id="request_2">Request</h4>
<pre class="codehilite"><code class="language-json">[
    {
        &quot;id&quot;: &quot;free_host&quot;
    },
    {
        &quot;id&quot;: &quot;biz_topology&quot;
    }
]</code></pre>


<h4 id="response_2">Response</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h1 id="action-api">操作 Action API</h1>
<h3 id="_1">参数说明</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">操作 id, 系统下唯一, 只允许小写字母开头、包含小写字母、数字、下划线(_)和连接符(-). 最长 32 个字符.</td>
</tr>
<tr>
<td align="left">name</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">操作名称，系统下唯一，参考<a href="../../NamingRules.md">命名规范</a></td>
</tr>
<tr>
<td align="left">name_en</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">操作英文名，国际化时切换到英文版本显示，参考<a href="../../NamingRules.md">命名规范</a></td>
</tr>
<tr>
<td align="left">description</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">操作描述</td>
</tr>
<tr>
<td align="left">description_en</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">操作描述英文，国际化时切换到英文版本显示</td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">操作的类型，枚举值包括<code>create\delete\view\edit\list\manage\execute\use</code> 比如创建类操作需要标识为"create"，无法分类可为空字符串</td>
</tr>
<tr>
<td align="left">related_resource_types</td>
<td align="left">Array(Object)</td>
<td align="left">否</td>
<td align="left">操作的对象，资源类型列表，列表顺序与<code>产品展示</code>、<code>鉴权校验</code> 顺序 必须保持一致。<code>如果操作无需关联资源实例，这里为空即可。</code>  <strong>注意这是一个有序的列表!</strong>:</td>
</tr>
<tr>
<td align="left">related_actions</td>
<td align="left">Array(string)</td>
<td align="left">否</td>
<td align="left">操作的依赖操作, 由操作 ID 组成的字符串列表, 用于在申请权限时同时创建依赖权限  <a href="./00-Concepts.md">更多概念说明</a></td>
</tr>
<tr>
<td align="left">version</td>
<td align="left">int</td>
<td align="left">否</td>
<td align="left">版本号，允许为空，仅仅作为在权限中心上进行 New 的更新提醒 <a href="./00-Concepts.md">更多概念说明</a></td>
</tr>
</tbody>
</table>
<p>related_resource_types 里的元素</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源类型的来源系统，可以是自身系统或其他系统</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源类型 ID，操作关联多个资源类型时，<code>同一个related_resource_types里 id 不能重复</code></td>
</tr>
<tr>
<td align="left">name_alias</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">资源类型名称的别名，同一个资源类型对于不同 Action 可以有各自的显示名称</td>
</tr>
<tr>
<td align="left">name_alias_en</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">资源类型名称的别名英文名</td>
</tr>
<tr>
<td align="left">scope</td>
<td align="left">Object</td>
<td align="left">否</td>
<td align="left">选填，限制该操作对该资源的选择范围，<a href="../../Expression/01-Schema.md">条件表达式协议</a></td>
</tr>
<tr>
<td align="left">selection_mode</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">选择类型, 即资源在权限中心产品上配置权限时的作用范围, 可选: <code>instance</code>/<code>attribute</code>/<code>all</code>, 如果不设置, 默认为<code>instance</code>, <a href="./00-Concepts.md">更多概念说明</a></td>
</tr>
<tr>
<td align="left">related_instance_selections</td>
<td align="left">Array(Object)</td>
<td align="left">否</td>
<td align="left">关联的实例视图，即资源在权限中心产品上配置权限时的选择方式; 可以配置本系统的实例视图, 也可以配置其他系统的实例视图(如果<code>selection_mode=attribute</code>则该字段不用配置; 如果没有设置<code>selection_mode</code>或<code>selection_mode=instance/all</code>, 此时这个字段不能为空)</td>
</tr>
</tbody>
</table>
<p>related_instance_selections 里的元素 </p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">实例视图的来源系统 ID</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">实例视图 ID</td>
</tr>
<tr>
<td align="left">ignore_iam_path</td>
<td align="left">bool</td>
<td align="left">否</td>
<td align="left">是否配置的权限忽略路径，<code>默认为false</code>，<a href="./00-Concepts.md">更多概念说明</a></td>
</tr>
</tbody>
</table>
<p>注册后，IAM 配置权限时拉取资源的逻辑，请查看<a href="../03-Callback/01-API.md">资源拉取接口协议</a></p>
<p><strong>重要说明：</strong> 
- Action 关联的资源类型必须在权限中心已经注册的，否则 Action 将注册失败
- 若关联的资源类型的自身系统的，则需要先注册该资源类型
- 若关联的资源类型是依赖其他系统的，则需要等依赖系统注册该资源类型后才可以进行该 Action 注册</p>
<h3 id="1-action">1. 添加 action</h3>
<p>限制:
- 一个系统只能创建最多 100 个 action, 所以如果操作会超过 100 个, 需要思考模型的正确性/合理性(例如把实例抽象到了 action 导致 action 随实例增多而增多)</p>
<h4 id="url">URL</h4>
<blockquote>
<p>POST  /api/v1/model/systems/{system_id}/actions</p>
</blockquote>
<h4 id="parameters">Parameters</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">位置</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">系统 ID</td>
</tr>
</tbody>
</table>
<h4 id="request">Request</h4>
<pre class="codehilite"><code class="language-json">[
    {
        &quot;id&quot;: &quot;biz_create&quot;,
        &quot;name&quot;: &quot;业务创建&quot;,
        &quot;name_en&quot;: &quot;biz_create&quot;,
        &quot;description&quot;: &quot;业务创建是...&quot;,
        &quot;description_en&quot;: &quot;biz_create is...&quot;,
        &quot;type&quot;: &quot;create&quot;,
        &quot;related_resource_types&quot;: [],
        &quot;version&quot;: 1
    },
    {
        &quot;id&quot;: &quot;host_edit&quot;,
        &quot;name&quot;: &quot;主机编辑&quot;,
        &quot;name_en&quot;: &quot;host_edit&quot;,
        &quot;type&quot;: &quot;&quot;,
        &quot;related_resource_types&quot;: [
            {
                &quot;system_id&quot;: &quot;bk_cmdb&quot;,
                &quot;id&quot;: &quot;host&quot;,
                &quot;name_alias&quot;:  &quot;&quot;,
                &quot;name_alias_en&quot;: &quot;&quot;,
                &quot;selection_mode&quot;: &quot;instance&quot;,
                &quot;related_instance_selections&quot;: [
                    {
                        &quot;system_id&quot;: &quot;bk_cmdb&quot;,
                        &quot;id&quot;: &quot;free_host&quot;,
                        &quot;ignore_iam_path&quot;: false,
                    }, 
                    {
                        &quot;system_id&quot;: &quot;bk_cmdb&quot;,
                        &quot;id&quot;: &quot;biz_topology&quot;,
                        &quot;ignore_iam_path&quot;: false,
                    }, 
                    {
                        &quot;system_id&quot;: &quot;bk_cmdb&quot;,
                        &quot;id&quot;: &quot;biz_set_topology&quot;,
                        &quot;ignore_iam_path&quot;: false,
                    }
                ]
            }
        ],
        &quot;related_actions&quot;: [&quot;view&quot;, &quot;delete&quot;],
        &quot;version&quot;: 1
    }
]</code></pre>


<h4 id="response">Response</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre>


<h3 id="2-action">2. 修改 action</h3>
<p><strong>重点：</strong>
- 可更新 name\name_en\type\version\related_resource_types 这 5 个 key 的值， 如果传了对应<code>key</code>并给了<code>空值</code>, 那么执行的是<code>置空操作</code>; 如果没有传<code>key</code>, 表示不更新该字段；
- <code>特别：对于related_resource_types是一个完全覆盖操作，不能单独更新related_resource_types里的某个key的值</code></p>
<h4 id="url_1">URL</h4>
<blockquote>
<p>PUT /api/v1/model/systems/{system_id}/actions/{action_id}</p>
</blockquote>
<h4 id="parameters_1">Parameters</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">位置</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">系统 ID</td>
</tr>
<tr>
<td align="left">action_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">操作 ID</td>
</tr>
</tbody>
</table>
<h4 id="request_1">Request</h4>
<pre class="codehilite"><code class="language-json">{
   &quot;name&quot;:&quot;主机编辑New&quot;,
   &quot;name_en&quot;:&quot;host_edit&quot;,
   &quot;description&quot;:&quot;主机编辑New是...&quot;,
   &quot;description_en&quot;:&quot;host_edit is...&quot;,
   &quot;related_resource_types&quot;:[
      {
         &quot;system_id&quot;:&quot;bk_cmdb&quot;,
         &quot;id&quot;:&quot;host&quot;,
         &quot;name_alias&quot;:&quot;&quot;,
         &quot;name_alias_en&quot;:&quot;&quot;,
         &quot;selection_mode&quot;: &quot;instance&quot;,
         &quot;related_instance_selections&quot;:[
                    {
                        &quot;system_id&quot;: &quot;bk_cmdb&quot;,
                        &quot;id&quot;: &quot;free_host&quot;,
                        &quot;ignore_iam_path&quot;: false,
                    }, 
                    {
                        &quot;system_id&quot;: &quot;bk_cmdb&quot;,
                        &quot;id&quot;: &quot;biz_topology&quot;,
                        &quot;ignore_iam_path&quot;: false,
                    }
         ]
      }
   ],
   &quot;related_actions&quot;: [&quot;view&quot;, &quot;delete&quot;],
   &quot;version&quot;:2
}</code></pre>


<h4 id="response_1">Response</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre>


<h3 id="3-action">3. 删除 action</h3>
<p>说明：
- 删除 Action 成功后，将会删除该 Action 相关权限，该删除操作不可逆，请谨慎调用</p>
<h4 id="url_2">URL</h4>
<p>批量删除 (需要 Request.Body)</p>
<blockquote>
<p>DELETE  /api/v1/model/systems/{system_id}/actions</p>
</blockquote>
<p>单个删除 (不需要 Request.Body)</p>
<blockquote>
<p>DELETE /api/v1/model/systems/{system_id}/actions/{action_id}</p>
</blockquote>
<h4 id="parameters_2">Parameters</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">位置</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">系统 ID</td>
</tr>
<tr>
<td align="left">action_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">操作 ID</td>
</tr>
<tr>
<td align="left">check_existence</td>
<td align="left">boolean</td>
<td align="left">否</td>
<td align="left">query</td>
<td align="left">默认会检查 id 存在, 不存在将导致删除失败, 设置 false 不检查 id 是否存在, 直接走删除( <code>delete from table where id in []</code> )</td>
</tr>
</tbody>
</table>
<h4 id="request_2">Request</h4>
<pre class="codehilite"><code class="language-json">[
    {
        &quot;id&quot;: &quot;host_edit&quot;
    }
]</code></pre>


<h4 id="response_2">Response</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h1 id="actiongroup-api">操作组 ActionGroup API</h1>
<h3 id="_1">参数说明</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">name</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">操作组名称</td>
</tr>
<tr>
<td align="left">name_en</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">操作组英文名，国际化时切换到英文版本显示</td>
</tr>
<tr>
<td align="left">actions</td>
<td align="left">Array(Object)</td>
<td align="left">否</td>
<td align="left">操作列表</td>
</tr>
<tr>
<td align="left">sub_groups</td>
<td align="left">Array(Object)</td>
<td align="left">否</td>
<td align="left">下一级操作组</td>
</tr>
</tbody>
</table>
<p>注意:</p>
<ol>
<li>最多<code>两级</code>操作组(即第一级<code>sub_gropus</code>下的操作组不能有下一级<code>sub_groups</code>), 如果嵌套超过两级, 会返回错误 <code>1901400(more than 2-levels action_group, current only support 2-levels)</code> </li>
<li>同一个操作组的<code>actions</code>和<code>sub_groups</code> 不能同时为空 <code>1901400(actions and sub_groups can't be empty at the same time)</code></li>
<li>action 可以挂在一级或二级的<code>操作组</code>上, 但是, 同一个 action 只能挂在一个<code>一级操作组</code>/<code>二级操作组</code>下; 即, action_id 全局 json 内唯一;   <code>1901400(one action can belong only one group)</code> </li>
<li>会校验每一个<code>action_id</code>; 必须是系统注册的合法<code>action_id</code>; 所以使用接口调用注册或者使用 migration 注册时, <code>action_id</code>对应的操作必须先注册, 再更新<code>action_groups</code></li>
</ol>
<h3 id="1">1. 注册或更新 操作组</h3>
<h4 id="url">URL</h4>
<p>注册</p>
<blockquote>
<p>POST /api/v1/model/systems/{system_id}/configs/action_groups</p>
</blockquote>
<p>更新 (整个列表完全覆盖更新)</p>
<blockquote>
<p>PUT /api/v1/model/systems/{system_id}/configs/action_groups</p>
</blockquote>
<h4 id="parameters">Parameters</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">位置</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">系统 ID</td>
</tr>
</tbody>
</table>
<h4 id="request">Request</h4>
<pre class="codehilite"><code class="language-json">[
    {
        &quot;name&quot;: &quot;管理权限&quot;,
        &quot;name_en&quot;: &quot;Admin Permissions&quot;,
        &quot;actions&quot;: [
            {
                &quot;id&quot;: &quot;create_biz&quot;
            },
            {
                &quot;id&quot;: &quot;delete_biz&quot;
            }
        ]
    },
    {
        &quot;name&quot;: &quot;运维&quot;,
        &quot;name_en&quot;: &quot;Devops Permissions&quot;,
        &quot;sub_groups&quot;: [
            {
                &quot;name&quot;: &quot;主机权限&quot;,
                &quot;name_en&quot;: &quot;Host Permissions&quot;,
                &quot;actions&quot;: [
                    {
                        &quot;id&quot;: &quot;view_host&quot;
                    },
                    {
                        &quot;id&quot;: &quot;create_host&quot;
                    }
                ]
            }
        ]
    }
]</code></pre>


<h4 id="response">Response</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h1 id="common-query-api">通用查询 Common Query API</h1>
<h3 id="1">1. 查询系统注册的信息</h3>
<h4 id="url">URL</h4>
<blockquote>
<p>GET /api/v1/model/systems/{system_id}/query</p>
</blockquote>
<h4 id="parameters">Parameters</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">位置</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">系统 ID</td>
</tr>
<tr>
<td align="left">fields</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">query</td>
<td align="left">需要查询的信息类型，枚举值：base_info(基础信息), resource_types(资源类型)，actions(操作)，action_groups (操作组), instance_selections(实例视图), resource_creator_actions(新建关联配置), common_actions(常用操作) 多个以英文逗号分隔，空值时查询所有注册的信息</td>
</tr>
</tbody>
</table>
<h4 id="request">Request</h4>
<pre class="codehilite"><code class="language-json">fields=base_info,resource_types,actions,action_groups,instance_selections,resource_creator_actions</code></pre>


<h4 id="response">Response</h4>
<p>说明：
- 返回的信息数据结构与注册时的数据结构一致</p>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        // 基础信息
        &quot;base_info&quot;: {
            &quot;id&quot;: &quot;bk_cmdb&quot;,
            &quot;name&quot;: &quot;配置平台&quot;,
            &quot;name_en&quot;: &quot;CMDB&quot;,
            &quot;description&quot;: &quot;配置平台是...&quot;,
            &quot;description_en&quot;: &quot;CMDB is...&quot;,
            &quot;clients&quot;: &quot;bk_cmdb,cmdb&quot;,
            &quot;provider_config&quot;: {
                &quot;host&quot;: &quot;http://cmdb.service.consul&quot;,
                &quot;auth&quot;: &quot;basic&quot;
            }
        },
        // 资源类型
        &quot;resource_types&quot;: [
            {
                &quot;id&quot;: &quot;host&quot;, 
                &quot;name&quot;: &quot;主机&quot;,
                &quot;name_en&quot;: &quot;host&quot;, 
                &quot;description&quot;: &quot;主机是...&quot;,
                &quot;description_en&quot;: &quot;host is...&quot;, 
                &quot;parents&quot;: [
                    {&quot;system_id&quot;: &quot;bk_cmdb&quot;, &quot;id&quot;: &quot;module&quot;}
                ],
                &quot;provider_config&quot;: {
                    &quot;path&quot;: &quot;/api/v1/resources/host/query&quot;
                }
                &quot;version&quot;: 1
           }, 
           {
                &quot;id&quot;: &quot;biz&quot;,
                &quot;name&quot;: &quot;业务&quot;,
                &quot;name_en&quot;: &quot;biz&quot;,
                &quot;description&quot;: &quot;业务是...&quot;,
                &quot;description_en&quot;: &quot;biz is...&quot;,
                &quot;parents&quot;: [
                    {&quot;system_id&quot;: &quot;bk_cmdb&quot;, &quot;id&quot;: &quot;biz_set&quot;}            
                ],
                &quot;provider_config&quot;: {
                    &quot;path&quot;: &quot;/api/v1/resources/biz_set/query&quot;
                }
                &quot;version&quot;: 1
            }
        ],
        // 操作
        &quot;actions&quot;: [
            {
                &quot;id&quot;: &quot;host_edit&quot;,
                &quot;name&quot;: &quot;主机编辑New&quot;,
                &quot;name_en&quot;: &quot;host_edit&quot;,
                &quot;description&quot;: &quot;主机编辑New是...&quot;,
                &quot;description_en&quot;: &quot;host_edit is...&quot;,
                &quot;type&quot;: &quot;&quot;,
                &quot;related_resource_types&quot;: [
                    {
                        &quot;system_id&quot;: &quot;bk_cmdb&quot;,
                        &quot;id&quot;: &quot;host&quot;,
                        &quot;name_alias&quot;:  &quot;服务器&quot;,
                        &quot;name_alias_en&quot;: &quot;server&quot;,
                        &quot;instance_selections&quot;: [
                            {
                                &quot;name&quot;: &quot;资源池主机&quot;,
                                &quot;name_en&quot;: &quot;free host&quot;,
                                &quot;resource_type_chain&quot;: [{&quot;system_id&quot;: &quot;bk_cmdb&quot;, &quot;id&quot;: &quot;host&quot;}]
                            }, 
                            {
                                &quot;name&quot;: &quot;业务拓扑&quot;,
                                &quot;name_en&quot;: &quot;biz topology&quot;,
                                &quot;resource_type_chain&quot;: [{&quot;system_id&quot;: &quot;bk_cmdb&quot;, &quot;id&quot;: &quot;biz&quot;}, {&quot;system_id&quot;: &quot;bk_cmdb&quot;, &quot;id&quot;: &quot;set&quot;}, {&quot;system_id&quot;: &quot;bk_cmdb&quot;, &quot;id&quot;: &quot;module&quot;}, {&quot;system_id&quot;: &quot;bk_cmdb&quot;, &quot;id&quot;: &quot;host&quot;}]
                            },
                            {
                                &quot;name&quot;: &quot;业务集拓扑&quot;,
                                &quot;name_en&quot;: &quot;biz set topology&quot;
                                &quot;resource_type_chain&quot;: [{&quot;system_id&quot;: &quot;bk_cmdb&quot;, &quot;id&quot;: &quot;biz_set&quot;}, {&quot;system_id&quot;: &quot;bk_cmdb&quot;, &quot;id&quot;: &quot;set&quot;}, {&quot;system_id&quot;: &quot;bk_cmdb&quot;, &quot;id&quot;: &quot;module&quot;}, {&quot;system_id&quot;: &quot;bk_cmdb&quot;, &quot;id&quot;: &quot;host&quot;}]
                            }
                        ]
                    }
                ],
                &quot;version&quot;: 1,
            }
        ],
        // 实例视图
        &quot;instance_selections&quot;: [
            {
                &quot;id&quot;: &quot;view1&quot;,
                &quot;name&quot;: &quot;实例选择11&quot;,
                &quot;name_en&quot;: &quot;view11&quot;,
                &quot;resource_type_chain&quot;: [
                    {
                        &quot;id&quot;: &quot;bbbdd&quot;,
                        &quot;system_id&quot;: &quot;aaacc&quot;
                    }
                ]
            }
        ],
        &quot;resource_creator_actions&quot;: {
            &quot;config&quot;:[
                {
                    &quot;id&quot;:&quot;biz&quot;,
                    &quot;actions&quot;:[
                        {
                            &quot;id&quot;:&quot;biz_edit&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;biz_view&quot;,
                            &quot;required&quot;:true
                        },
                        {
                            &quot;id&quot;:&quot;set_create&quot;,
                            &quot;required&quot;:false
                        }
                    ],
                    &quot;sub_resource_types&quot;:[
                        {
                            &quot;id&quot;:&quot;set&quot;,
                            &quot;actions&quot;:[
                                {
                                    &quot;id&quot;:&quot;set_edit&quot;,
                                    &quot;required&quot;:false
                                },
                                {
                                    &quot;id&quot;:&quot;set_view&quot;,
                                    &quot;required&quot;:false
                                },
                                {
                                    &quot;id&quot;:&quot;module_create&quot;,
                                    &quot;required&quot;:false
                                }
                            ],
                            &quot;sub_resource_types&quot;:[
                                {
                                    &quot;id&quot;:&quot;module&quot;,
                                    &quot;actions&quot;:[
                                        {
                                            &quot;id&quot;:&quot;module_edit&quot;,
                                            &quot;required&quot;:false
                                        },
                                        {
                                            &quot;id&quot;:&quot;module_view&quot;,
                                            &quot;required&quot;:false
                                        },
                                        {
                                            &quot;id&quot;:&quot;host_create&quot;,
                                            &quot;required&quot;:false
                                        }
                                    ],
                                    &quot;sub_resource_types&quot;:[
                                        {
                                            &quot;id&quot;:&quot;host&quot;,
                                            &quot;actions&quot;:[
                                                {
                                                    &quot;id&quot;:&quot;host_edit&quot;,
                                                    &quot;required&quot;:false
                                                },
                                                {
                                                    &quot;id&quot;:&quot;host_view&quot;,
                                                    &quot;required&quot;:false
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    }
}</code></pre><h1 id="token-api">系统 token 查询 API</h1>
<h3 id="token">查询系统 token</h3>
<p>用于<code>权限中心</code> 调用 <code>接入系统</code> 拉取资源信息相关接口的鉴权</p>
<h4 id="url">URL</h4>
<blockquote>
<p>GET /api/v1/model/systems/{system_id}/token</p>
</blockquote>
<h4 id="parameters">Parameters</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">位置</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">系统 ID</td>
</tr>
</tbody>
</table>
<h4 id="response">Response</h4>
<pre class="codehilite"><code class="language-bash">{
    &quot;code&quot;: 0,
    &quot;data&quot;: {
        &quot;token&quot;: &quot;dk9httsqmq4bbdu7aqq6cqp1az6i8org&quot;
    },
    &quot;message&quot;: &quot;ok&quot;
}</code></pre><h1 id="commonactions-api">常用操作配置 CommonActions API</h1>
<h3 id="_1">参数说明</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">name</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">常用操作名称</td>
</tr>
<tr>
<td align="left">name_en</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">常用操作英文名，国际化时切换到英文版本显示</td>
</tr>
<tr>
<td align="left">actions</td>
<td align="left">Array(Object)</td>
<td align="left">是</td>
<td align="left">操作列表</td>
</tr>
</tbody>
</table>
<h3 id="1">1. 注册或更新 常用操作</h3>
<h4 id="url">URL</h4>
<p>注册</p>
<blockquote>
<p>POST /api/v1/model/systems/{system_id}/configs/common_actions</p>
</blockquote>
<p>更新 (整个列表完全覆盖更新)</p>
<blockquote>
<p>PUT /api/v1/model/systems/{system_id}/configs/common_actions</p>
</blockquote>
<h4 id="parameters">Parameters</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">位置</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">系统 ID</td>
</tr>
</tbody>
</table>
<h4 id="request">Request</h4>
<pre class="codehilite"><code class="language-json">[
    {
        &quot;name&quot;: &quot;测试&quot;,
        &quot;name_en&quot;: &quot;test&quot;,
        &quot;actions&quot;: [
            {
                &quot;id&quot;: &quot;biz_delete&quot;
            }
        ]
    }
]</code></pre>


<h4 id="response">Response</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h1 id="featureshieldrules-api">功能开关配置 FeatureShieldRules API</h1>
<h3 id="_1">参数说明</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">effect</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">支持黑白名单，值为 deny 或 allow</td>
</tr>
<tr>
<td align="left">feature</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">开启或关闭的功能</td>
</tr>
<tr>
<td align="left">action</td>
<td align="left">Object</td>
<td align="left">是</td>
<td align="left">操作</td>
</tr>
</tbody>
</table>
<p>feature 字段枚举值说明：</p>
<p>| 枚举值 | 说明 |
|:---|:---|:---|
| application.custom_permission.grant | 申请自定义权限 |
| application.custom_permission.renew | 申请自定义权限续期 |
| user_permission.custom_permission.delete | 自定义权限删除 |</p>
<p>action 字段说明：</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">Action 的唯一标识，<code>特别说明:</code> 如果功能是针对整个接入系统，则 id 为 *</td>
</tr>
</tbody>
</table>
<p><code>特别说明</code>：
1. 多条 allow/deny 规则判断最终 effect 的逻辑（类似 Nginx 的 IP 白名单判断），即判断某个功能开启或关闭逻辑：</p>
<pre class="codehilite"><code class="language-bash">在某个功能下的该系统的某个Action的开启与否：allow *[开启] &gt; allow action_id[开启] &gt; deny *[关闭] &gt; deny action_id[关闭] &gt; 默认开启
（1）如果存在allow * 或 allow action_id 的规则匹配，则开启
（3）如果不存在allow * 和 allow action_id 规则，但有deny * 或者deny action_id 规则匹配，则关闭
（4）如果没有任何规则匹配，则默认开启

一般来说，只需要配置屏蔽的功能即可</code></pre>


<ol>
<li>对于依赖操作，如果被屏蔽了，则不会创建依赖操作，比如 edit 依赖 view，但是 view 被屏蔽了，则申请 edit 权限时，不会创建其依赖操作 view</li>
</ol>
<h3 id="1">1. 注册或更新 功能开关规则</h3>
<h4 id="url">URL</h4>
<p>注册</p>
<blockquote>
<p>POST /api/v1/model/systems/{system_id}/configs/feature_shield_rules</p>
</blockquote>
<p>更新 (整个列表完全覆盖更新)</p>
<blockquote>
<p>PUT /api/v1/model/systems/{system_id}/configs/feature_shield_rules</p>
</blockquote>
<h4 id="parameters">Parameters</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">位置</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">系统 ID</td>
</tr>
</tbody>
</table>
<h4 id="request">Request</h4>
<pre class="codehilite"><code class="language-json">[
    // 对于自定义申请，屏蔽整个该接入系统所有Action，即该接入系统不支持自定义申请
    {
        &quot;effect&quot;: &quot;deny&quot;,
        &quot;feature&quot;: &quot;application.custom_permission.grant&quot;,
        &quot;action&quot;: {
            &quot;id&quot;: &quot;*&quot;
        }
    },
    // 对于个人权限，接入系统某个Aciton的自定义权限不允许被删除
    {
        &quot;effect&quot;: &quot;deny&quot;,
        &quot;feature&quot;: &quot;user_permission.custom_permission.delete&quot;,
        &quot;action&quot;: {
            &quot;id&quot;: &quot;access_business&quot;
        }
    }
]</code></pre>


<h4 id="response">Response</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h1 id="resourcecreatoraction-api">新建关联配置 ResourceCreatorAction API</h1>
<h3 id="_1">参数说明</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">config</td>
<td align="left">array(object)</td>
<td align="left">是</td>
<td align="left">新建关联的配置文件，包含了每种资源类型对应的创建时可以对创建者进行授权的 Action</td>
</tr>
</tbody>
</table>
<p>config 里的每个元素的字段说明:</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源类型的唯一标识</td>
</tr>
<tr>
<td align="left">actions</td>
<td align="left">array(object)</td>
<td align="left">是</td>
<td align="left">对应资源被创建时可以对创建者进行授权的 Action 列表</td>
</tr>
<tr>
<td align="left">sub_resource_types</td>
<td align="left">array(object)</td>
<td align="left">否</td>
<td align="left">子资源类型相关可授权的 Action 相关配置信息，列表每个元素同 config 列表里的每个元素一样，这是个递归结构</td>
</tr>
</tbody>
</table>
<p>actions 里的每个元素的字段说明：</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">Action 的唯一标识</td>
</tr>
<tr>
<td align="left">required</td>
<td align="left">bool</td>
<td align="left">是</td>
<td align="left">该 Action 是否是必须的，即后续权限中心支持企业和用户修改创建者赋权时，该 Action 能否不被选择授予</td>
</tr>
</tbody>
</table>
<p><strong><code>required 字段特别说明</code></strong></p>
<blockquote>
<p>假设资源类型 host 产生时可以对 host_edit 、host_view、host_delete 这 3 个权限授权，且 host_delete 配置 required=true</p>
</blockquote>
<ul>
<li>
<p>后续权限中心将支持用户和企业自定义这个新建关联的配置时，host_delete 是必选的，无法去除</p>
</li>
<li>
<p>如果用户自定义新建管理的配置是 host 产生时对 host_view、host_delete 这 2 个权限授权（host_edit 和 host_view 由于 required=false，所以是可以配置为不授权的），那么该用户在接入系统新增 host 后，自动拥有 host_view 和 host_delete</p>
</li>
</ul>
<p><code>注意:</code>
1. 层级结构是依据资源的层级
2. 后续权限中心将会支持这份配置可由企业全局修改和每个用户自定义</p>
<h3 id="1">1. 注册或更新 新建关联配置</h3>
<h4 id="url">URL</h4>
<p>注册</p>
<blockquote>
<p>POST /api/v1/model/systems/{system_id}/configs/resource_creator_actions</p>
</blockquote>
<p>更新 (整个列表完全覆盖更新)</p>
<blockquote>
<p>PUT /api/v1/model/systems/{system_id}/configs/resource_creator_actions</p>
</blockquote>
<h4 id="parameters">Parameters</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">位置</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">系统 ID</td>
</tr>
</tbody>
</table>
<h4 id="request">Request</h4>
<ul>
<li>[样例] cmdb 可能的新建关联配置</li>
</ul>
<pre class="codehilite"><code class="language-json">{
    &quot;config&quot;:[
        {
            &quot;id&quot;:&quot;biz&quot;,
            &quot;actions&quot;:[
                {
                    &quot;id&quot;:&quot;biz_edit&quot;,
                    &quot;required&quot;:false
                },
                {
                    &quot;id&quot;:&quot;biz_view&quot;,
                    &quot;required&quot;:true
                },
                {
                    &quot;id&quot;:&quot;set_create&quot;,
                    &quot;required&quot;:false
                }
            ],
            &quot;sub_resource_types&quot;:[
                {
                    &quot;id&quot;:&quot;set&quot;,
                    &quot;actions&quot;:[
                        {
                            &quot;id&quot;:&quot;set_edit&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;set_view&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;module_create&quot;,
                            &quot;required&quot;:false
                        }
                    ],
                    &quot;sub_resource_types&quot;:[
                        {
                            &quot;id&quot;:&quot;module&quot;,
                            &quot;actions&quot;:[
                                {
                                    &quot;id&quot;:&quot;module_edit&quot;,
                                    &quot;required&quot;:false
                                },
                                {
                                    &quot;id&quot;:&quot;module_view&quot;,
                                    &quot;required&quot;:false
                                },
                                {
                                    &quot;id&quot;:&quot;host_create&quot;,
                                    &quot;required&quot;:false
                                }
                            ],
                            &quot;sub_resource_types&quot;:[
                                {
                                    &quot;id&quot;:&quot;host&quot;,
                                    &quot;actions&quot;:[
                                        {
                                            &quot;id&quot;:&quot;host_edit&quot;,
                                            &quot;required&quot;:false
                                        },
                                        {
                                            &quot;id&quot;:&quot;host_view&quot;,
                                            &quot;required&quot;:false
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}</code></pre>


<ul>
<li>[样例] 标准运维新建关联配置</li>
</ul>
<pre class="codehilite"><code class="language-json">{
    &quot;config&quot;:[
        {
            &quot;id&quot;:&quot;project&quot;,
            &quot;actions&quot;:[
                {
                    &quot;id&quot;:&quot;project_fast_create_task&quot;,
                    &quot;required&quot;:false
                },
                {
                    &quot;id&quot;:&quot;flow_create&quot;,
                    &quot;required&quot;:false
                },
                {
                    &quot;id&quot;:&quot;project_edit&quot;,
                    &quot;required&quot;:false
                },
                {
                    &quot;id&quot;:&quot;project_view&quot;,
                    &quot;required&quot;:false
                }
            ],
            &quot;sub_resource_types&quot;:[
                {
                    &quot;id&quot;:&quot;common_flow&quot;,
                    &quot;actions&quot;:[
                        {
                            &quot;id&quot;:&quot;common_flow_view&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;common_flow_edit&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;common_flow_delete&quot;,
                            &quot;required&quot;:false
                        }
                    ]
                },
                {
                    &quot;id&quot;:&quot;flow&quot;,
                    &quot;actions&quot;:[
                        {
                            &quot;id&quot;:&quot;flow_create_periodic_task&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;flow_create_mini_app&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;flow_create_task&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;flow_delete&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;flow_edit&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;flow_view&quot;,
                            &quot;required&quot;:false
                        }
                    ]
                },
                {
                    &quot;id&quot;:&quot;mini_app&quot;,
                    &quot;actions&quot;:[
                        {
                            &quot;id&quot;:&quot;mini_app_create_task&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;mini_app_delete&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;mini_app_edit&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;mini_app_view&quot;,
                            &quot;required&quot;:false
                        }
                    ]
                },
                {
                    &quot;id&quot;:&quot;periodic_task&quot;,
                    &quot;actions&quot;:[
                        {
                            &quot;id&quot;:&quot;periodic_task_view&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;periodic_task_edit&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;periodic_task_delete&quot;,
                            &quot;required&quot;:false
                        }
                    ]
                },
                {
                    &quot;id&quot;:&quot;task&quot;,
                    &quot;actions&quot;:[
                        {
                            &quot;id&quot;:&quot;task_view&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;task_edit&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;task_operate&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;task_claim&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;task_delete&quot;,
                            &quot;required&quot;:false
                        },
                        {
                            &quot;id&quot;:&quot;task_clone&quot;,
                            &quot;required&quot;:false
                        }
                    ]
                }
            ]
        }
    ]
}</code></pre>


<h4 id="response">Response</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h1 id="_1">名词及概念说明</h1>
<h2 id="1-resource">1. 资源实例 Resource</h2>
<ul>
<li>id：资源实例唯一标识，<code>需要保证对于一个系统同一种资源类型下id唯一</code></li>
<li>type: 资源类型的 ID，比如主机、集群、业务即 host、set、biz</li>
<li>name: 资源实例名称，比如 192.168.1.1</li>
<li>display_name: 资源实例展示名称，比如 大区 1(qq 大区)</li>
</ul>
<h2 id="2">2. 可用于配置权限的<code>属性</code>和<code>属性值</code></h2>
<p>可以使用资源属性配置权限, 例如用户 1 可以操作所有<code>os=linux</code>的主机;</p>
<p>为了实现这个功能, 需要从接入系统拉取可以配置权限的属性及属性值列表;</p>
<p>比如：在配置平台中，<code>主机</code>有属性<code>地区</code>，属性值, 枚举: 中国、美国、新加坡、日本等，则：</p>
<pre class="codehilite"><code class="language-bash">属性 id = &quot;area&quot;
属性 display_name = &quot;地区&quot;
属性值 id = &quot;China&quot;
属性值  display_name = &quot;中国&quot;</code></pre>


<p>属性值 id 的类型支持 <code>string/int/bool</code>; 以配置平台主机属性为例：</p>
<pre class="codehilite"><code class="language-json">[string]
属性 id = &quot;os&quot;
属性 display_name = &quot;操作系统&quot;
属性值 id = &quot;linux&quot; 
属性值 display_name = &quot;Linux&quot; 

[int]
属性 id = &quot;isp&quot;
属性 display_name = &quot;运营商&quot;
属性值 id = 1 
属性值 display_name = &quot;中国电信&quot;

[bool]
属性 id = &quot;is_public&quot;
属性 display_name = &quot;是否公共&quot;
属性值 id = true
属性值 display_name = &quot;是&quot; </code></pre>


<h2 id="3-path">3. 特殊属性：路径(path)属性说明</h2>
<p><a href="../../ResourceTopology.md">资源拓扑 Path 说明</a></p><h1 id="api">资源拉取 API</h1>
<h2 id="api_1">API 地址</h2>
<p>接入系统注册模型到权限中心时
- 注册<code>system</code>有提供<code>system.provider_config.host</code>; 假设为<code>http://cmdb.consul</code>
- 注册<code>resource_type</code>有提供<code>system.provider_config.path</code>; 假设为<code>/api/v1/resources</code></p>
<p>那么权限中心将调用<code>http://cmdb.consul/api/v1/resources</code>去拉取该资源类型相关信息</p>
<p>即: 接入系统需要实现一个 API, 用于权限中心拉取不同资源类型的信息;</p>
<p>需要支持: (一个接口根据参数做分发)
1. list_attr 查询某个资源类型可用于配置权限的属性列表
2. list_attr_value 获取一个资源类型某个属性的值列表
3. list_instance 根据过滤条件查询实例
4. fetch_instance_info 批量获取资源实例详情
5. list_instance_by_policy 根据策略表达式查询资源实例
6. search_instance 搜索资源实例</p>
<hr />
<h2 id="_1">接口协议前置说明</h2>
<p>Request Header: 
- <a href="../01-Overview/03-APIAuth.md">系统间调用接口鉴权:权限中心-&gt;接入系统</a></p>
<ul>
<li><code>Blueking-Language</code>  国际化多语言，值为：zh-cn 或 en，当值为 en 时，则接口数据返回中包含的 display_name 字段的值为英文，否则默认返回中文；</li>
<li><code>X-Request-Id</code>  请求 request_id, 请记录, 用于错误排查</li>
</ul>
<p>Response Header:
-  <code>X-Request-Id</code>  将请求 Header 头里的 request_id 返回, 用于错误排查</p>
<p>Response Body: 遵循蓝鲸官方 API 协议进行返回, <code>code != 0</code> 表示出错, <code>message</code>包含具体信息</p>
<pre class="codehilite"><code class="language-bash">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
    }
}</code></pre>


<p><strong>重要</strong>: 接入系统 API 都需要返回一个<code>request_id</code>, 权限中心将会在日志中记录, 以便后续联调及正式环境中进行问题排查; </p>
<hr />
<h2 id="_2">协议</h2>
<ul>
<li>Method: POST</li>
<li>Path: <code>system.provider_config.host</code> + <code>system.provider_config.path</code></li>
<li>Request.Body:</li>
</ul>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">type</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">对应查询的资源类型</td>
</tr>
<tr>
<td align="left">method</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">需要查询资源信息的方式，不同方式对应查询资源的不同信息，目前值有：<a href="./10-list_attr.md">list_attr</a>、<a href="./11-list_attr_value.md">list_attr_value</a>、 <a href="./12-list_instance.md">list_instance</a>、<a href="./13-fetch_instance_info.md">fetch_instance_info</a>、<a href="./14-list_instance_by_policy.md">list_instance_by_policy</a>、<a href="./15-search_instance.md">search_instance</a>，具体每个值的协议请往下看</td>
</tr>
<tr>
<td align="left">filter</td>
<td align="left">object</td>
<td align="left">否</td>
<td align="left">根据不同查询方式(method)，传入不同的过滤参数</td>
</tr>
<tr>
<td align="left">page</td>
<td align="left">object</td>
<td align="left">否</td>
<td 0="0" 10_="10," _offset_:="&quot;offset&quot;:" align="left" limit:="limit:">当返回数据需要支持分页时，需要参数，具体包含 limit 和 offset 字段，其值类型为 int，比如 </td>
</tr>
</tbody>
</table>
<ul>
<li>Response.Body: </li>
</ul>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">code</td>
<td align="left">int</td>
<td align="left">是</td>
<td align="left">表示请求是否成功，0 表示成功，<code>code != 0</code> 表示出错</td>
</tr>
<tr>
<td align="left">message</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">code != 0 时，message 表示错误信息，code=0 时 可返回 ok 或空字符串</td>
</tr>
<tr>
<td align="left">data</td>
<td align="left">object/array</td>
<td align="left">是</td>
<td align="left">根据不同查询方式(method)，返回的内容也不一样，类型可为数组或者字典</td>
</tr>
</tbody>
</table>
<ul>
<li>code 字段特别说明：</li>
</ul>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>code = 401</code></td>
<td align="left">代表接口认证失败</td>
</tr>
<tr>
<td align="left"><code>code = 404</code></td>
<td align="left">代表查询的 type(资源类型)或 method(查询资源信息的方式) 不存在，或其他不存在的返回，message 为具体错误信息</td>
</tr>
<tr>
<td align="left"><code>code = 500</code></td>
<td align="left">代表查询时出现系统错误或异常，message 为具体错误或异常信息</td>
</tr>
<tr>
<td align="left"><code>code = 422</code></td>
<td align="left">代表查询时，特别是有过滤搜索时，扫描的资源内容过多，拒绝返回数据</td>
</tr>
<tr>
<td align="left"><code>code = 406</code></td>
<td align="left">代表搜索时 keyword 不符合要求</td>
</tr>
<tr>
<td align="left"><code>code = 429</code></td>
<td align="left">代表接口请求超过接入系统的频率控制</td>
</tr>
</tbody>
</table>
<ul>
<li>说明<ul>
<li>接口只提供给 iam 使用, 需要单独 url/鉴权/逻辑等, 避免同现有业务使用 api 重复</li>
<li>上面的 URL 只是一个示例, 可自行定义, 注册到权限中心即可</li>
<li>需要支持版本, url 格式如<code>/api/v1/</code>, 确保后续可以进行 api 升级</li>
<li>性能要求: </li>
</ul>
</li>
</ul>
<pre class="codehilite"><code class="language-bash">[list_attr] 
&lt; 50ms

[list_attr_value]
无keyword搜索和id过滤条件 &lt; 50ms
keyword搜索 &lt; 100ms
批量 id 过滤（id数量小于10个）&lt; 100ms
批量 id 过滤（id数量大于10个）&lt; 200ms

[list_instance]
按照资源的上级过滤查询 &lt; 50ms

[fetch_instance_info] 性能敏感，由于用于鉴权，所以必须严格保证该接口性能
单个资源获取 &lt; 20ms
批量资源获取 &lt; 100ms

[list_instance_by_policy]
&lt; 500ms

[search_instance]
按照资源实例进行keyword搜索查询 &lt; 100ms</code></pre><h1 id="list_attr">list_attr</h1>
<h2 id="list_attr_1">list_attr 查询某个资源类型可用于配置权限的属性列表</h2>
<blockquote>
<p>在权限中心里用于（1）<code>产品</code>上按照属性配置权限（2）<code>产品</code>上回显权限</p>
</blockquote>
<p>比如: 在配置平台中，主机的可用于配置权限的属性列表：os(操作系统)/country(国家)/province(省份)/isp(运营商) 等</p>
<h3 id="requestbody">Request.Body</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">type</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">对应查询的资源类型(ResourceType)</td>
</tr>
<tr>
<td align="left">method</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">值为：list_attr</td>
</tr>
</tbody>
</table>
<pre class="codehilite"><code class="language-json">{
    &quot;type&quot;: &quot;host&quot;,
    &quot;method&quot;: &quot;list_attr&quot;
}</code></pre>


<h3 id="responsebody">Response.Body</h3>
<p>data 字段，类型为 Array</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源属性的唯一标识</td>
</tr>
<tr>
<td align="left">display_name</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源属性的展示名称</td>
</tr>
</tbody>
</table>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: [
        {&quot;id&quot;: &quot;os&quot;, &quot;display_name&quot;: &quot;操作系统&quot;},
        {&quot;id&quot;: &quot;country&quot;, &quot;display_name&quot;: &quot;国家&quot;},
        {&quot;id&quot;: &quot;province&quot;, &quot;display_name&quot;: &quot;省份&quot;},
        {&quot;id&quot;: &quot;isp&quot;, &quot;display_name&quot;: &quot;运营商&quot;}
    ]
}</code></pre><h1 id="list_attr_value">list_attr_value</h1>
<h2 id="list_attr_value_1">list_attr_value 获取一个资源类型某个属性的值列表</h2>
<blockquote>
<p>可用于配置权限的属性 的值列表</p>
<p>在权限中心产品里用于（1）<code>产品</code>上按照属性配置权限（2）<code>产品</code>上回显权限</p>
</blockquote>
<p>比如: 在配置平台中，主机(host)资源的操作系统属性(os)可用于配置权限，对应的操作系统属性的值列表：linux(Linux)、windows(Windows)、mac(Mac)</p>
<h3 id="_1">需支持的过滤查询</h3>
<ul>
<li>keyword 搜索<ul>
<li>接入系统获取到 keyword 后，可选择 id 或 display_name 进行模糊搜索过滤，模糊搜索规则可以是前缀匹配或包含子串等其他匹配规则</li>
</ul>
</li>
<li>批量 id 过滤</li>
</ul>
<p>简单例子：
【keyword 搜索】</p>
<pre class="codehilite"><code class="language-json">&quot;filter&quot;: {
    &quot;attr&quot;: &quot;os&quot;,
    &quot;keyword&quot;: &quot;Li&quot; 
}</code></pre>


<p>【批量 id 过滤】</p>
<pre class="codehilite"><code class="language-json">&quot;filter&quot;: {
    &quot;attr&quot;: &quot;os&quot;,
    &quot;ids&quot;: [&quot;linux&quot;, &quot;windows&quot;]
}</code></pre>


<h3 id="requestbody">Request.Body</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">type</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">对应查询的资源类型</td>
</tr>
<tr>
<td align="left">method</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">值为：list_attr_value</td>
</tr>
<tr>
<td align="left">filter</td>
<td align="left">object</td>
<td align="left">是</td>
<td align="left">根据 2.1 里需支持的过滤查询，传入不同的参数</td>
</tr>
<tr>
<td align="left">page</td>
<td align="left">object</td>
<td align="left">是</td>
<td align="left">返回数据需要支持分页，该参数必填，具体说明请查看 <a href="./01-API.md">需实现接口的基础协议里的 Request.Body.page 字段</a>, <code>limit 最大为1000</code></td>
</tr>
</tbody>
</table>
<p>filter 字段</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">attr</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">需要查询的资源属性 id</td>
</tr>
<tr>
<td align="left">keyword</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">资源属性值的搜索关键字</td>
</tr>
<tr>
<td align="left">ids</td>
<td align="left">Array(string/int/bool)</td>
<td align="left">否</td>
<td align="left">资源属性值 ID 列表, <a href="./00-Concepts.md">值的数据类型详细说明</a></td>
</tr>
</tbody>
</table>
<ul>
<li>无过滤条件</li>
</ul>
<pre class="codehilite"><code class="language-json">{
    &quot;type&quot;: &quot;host&quot;,
    &quot;method&quot;: &quot;list_attr_value&quot;,
    &quot;filter&quot;: {
        &quot;attr&quot;: &quot;os&quot;
    },
    &quot;page&quot;: {
        &quot;offset&quot;: 0,
        &quot;limit&quot;: 20
    }
}</code></pre>


<ul>
<li>有过滤条件</li>
</ul>
<pre class="codehilite"><code class="language-json">{
    &quot;type&quot;: &quot;host&quot;,
    &quot;method&quot;: &quot;list_attr_value&quot;,
    &quot;filter&quot;: {
        &quot;attr&quot;: &quot;os&quot;,
        &quot;keyword&quot;: &quot;Li&quot;
    },
    &quot;page&quot;: {
        &quot;offset&quot;: 0,
        &quot;limit&quot;: 20
    }
}</code></pre>


<h3 id="responsebody">Response.Body</h3>
<p>data 字段，类型为 Dict</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">count</td>
<td align="left">int</td>
<td align="left">是</td>
<td align="left">查询到的总数量</td>
</tr>
<tr>
<td align="left">results</td>
<td align="left">array(object)</td>
<td align="left">是</td>
<td align="left">对应的属性值列表</td>
</tr>
</tbody>
</table>
<p>results 字段，类型 Array</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">string/int/bool</td>
<td align="left">是</td>
<td align="left">资源属性值的唯一标识, <a href="./00-Concepts.md">值的数据类型详细说明</a></td>
</tr>
<tr>
<td align="left">display_name</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源属性值的展示名称</td>
</tr>
</tbody>
</table>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;count&quot;: 100,
        &quot;results&quot;: [
            {&quot;id&quot;: &quot;linux&quot;, &quot;display_name&quot;: &quot;Linux&quot;},
            {&quot;id&quot;: &quot;windows&quot;, &quot;display_name&quot;: &quot;Windows&quot;},
            {&quot;id&quot;: &quot;mac&quot;, &quot;display_name&quot;: &quot;Mac&quot;}
        ]
    }
}</code></pre><h1 id="list_instance">list_instance</h1>
<h2 id="list_instance_1">list_instance 根据过滤条件查询实例</h2>
<blockquote>
<p>在权限中心里用于（1）<code>产品</code>上按照资源拓扑树选择资源实例</p>
</blockquote>
<h3 id="_1">需支持的过滤查询</h3>
<ul>
<li>按照资源的上级过滤查询</li>
</ul>
<p>简单例子：</p>
<p>【按照资源的上级过滤查询】</p>
<pre class="codehilite"><code class="language-json">&quot;filter&quot;: {
    &quot;parent&quot;: {
        &quot;type&quot;: &quot;module&quot;,
        &quot;id&quot;: &quot;m1&quot;
    }
}</code></pre>


<h3 id="requestbody">Request.Body</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">type</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">对应查询的资源类型</td>
</tr>
<tr>
<td align="left">method</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">值为：list_instance</td>
</tr>
<tr>
<td align="left">filter</td>
<td align="left">object</td>
<td align="left">否</td>
<td align="left">根据 3.1 里需支持的过滤查询，传入不同的参数</td>
</tr>
<tr>
<td align="left">page</td>
<td align="left">object</td>
<td align="left">是</td>
<td align="left">返回数据需要支持分页，该参数必填，具体说明请查看 <a href="./01-API.md">需实现接口的基础协议里的 Request.Body.page 字段</a>, <code>limit 最大为1000</code></td>
</tr>
</tbody>
</table>
<p>filter 字段</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">parent</td>
<td align="left">object</td>
<td align="left">否</td>
<td align="left">资源的直接上级，具体包含 type 和 id，type 为直接上级资源的类型，id 为直接上级资源实例 ID</td>
</tr>
</tbody>
</table>
<ul>
<li>无条件查询</li>
</ul>
<pre class="codehilite"><code class="language-json">{
    &quot;type&quot;: &quot;host&quot;,
    &quot;method&quot;: &quot;list_instance&quot;,
    &quot;page&quot;: {
        &quot;offset&quot;: 0,
        &quot;limit&quot;: 20
    }
}</code></pre>


<ul>
<li>上级过滤查询</li>
</ul>
<pre class="codehilite"><code class="language-json">{
    &quot;type&quot;: &quot;host&quot;,
    &quot;method&quot;: &quot;list_instance&quot;,
    &quot;filter&quot;: {
        &quot;parent&quot;: {
            &quot;type&quot;: &quot;module&quot;,
            &quot;id&quot;: &quot;m1&quot;
        }
    },
    &quot;page&quot;: {
        &quot;offset&quot;: 0,
        &quot;limit&quot;: 20
    }
}</code></pre>


<h3 id="responsebody">Response.Body</h3>
<p>data 字段，类型为 Dict</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">count</td>
<td align="left">int</td>
<td align="left">是</td>
<td align="left">查询到的资源实例的总数量</td>
</tr>
<tr>
<td align="left">results</td>
<td align="left">array(object)</td>
<td align="left">是</td>
<td align="left">对应的资源实例列表</td>
</tr>
</tbody>
</table>
<p>results 字段 ，类型 Array</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源实例的唯一标识</td>
</tr>
<tr>
<td align="left">display_name</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源实例的展示名称</td>
</tr>
<tr>
<td align="left">child_type</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">非必填，仅仅"用户管理"系统定制的字段，其他系统不需要返回，表示该资源实例的下一层资源类型，仅仅用于动态资源层级，且其下一层与本层类型一致的情况，空值表示已经无下一层级，该数据将用于在权限中心产品拉取同一资源动态层级拓扑</td>
</tr>
</tbody>
</table>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;count&quot;: 100,
        &quot;results&quot;: [
            {&quot;id&quot;: &quot;h1&quot;, &quot;display_name&quot;: &quot;192.168.1.1&quot;},
            {&quot;id&quot;: &quot;h2&quot;, &quot;display_name&quot;: &quot;192.168.1.2&quot;},
            {&quot;id&quot;: &quot;h3&quot;, &quot;display_name&quot;: &quot;192.168.1.3&quot;}
        ]
    }
}</code></pre><h1 id="fetch_instance_info">fetch_instance_info</h1>
<h2 id="fetch_instance_info_1">fetch_instance_info 批量获取资源实例详情</h2>
<blockquote>
<p>在权限中心里用于（1）<code>产品</code>上回显权限（2）<code>鉴权</code>上依赖资源的查询</p>
</blockquote>
<h3 id="_1">需支持的查询</h3>
<ul>
<li>批量属性 attr 列表</li>
</ul>
<p>简单例子：</p>
<p>【批量属性 attr 列表】</p>
<p>比如查询主机 h1 和主机 h2 的 路径(path)、名称(name)、操作系统(os)和所属国家(country)</p>
<pre class="codehilite"><code class="language-json">&quot;filter&quot;: {
    &quot;ids&quot;: [&quot;h1&quot;, &quot;h2&quot;],  // 资源实例ID
    &quot;attrs&quot;: [&quot;_bk_iam_path_&quot;, &quot;display_name&quot;, &quot;os&quot;, &quot;country&quot;] // 属性列表
}</code></pre>


<h3 id="requestbody">Request.Body</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">type</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">对应查询的资源类型</td>
</tr>
<tr>
<td align="left">method</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">值为：fetch_instance_info</td>
</tr>
<tr>
<td align="left">filter</td>
<td align="left">object</td>
<td align="left">是</td>
<td align="left">根据需支持的查询，传入不同的参数</td>
</tr>
</tbody>
</table>
<p>filter 字段:</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">ids</td>
<td align="left">array(string)</td>
<td align="left">是</td>
<td align="left">需要查询的资源实例的唯一标识列表, <code>最多1000个</code></td>
</tr>
<tr>
<td align="left">attrs</td>
<td align="left">array(string)</td>
<td align="left">否</td>
<td align="left">需要查询的资源属性列表，比如["<em>bk_iam_path</em>", "os"]，空列表或无该参数则表示查询所有属性</td>
</tr>
</tbody>
</table>
<ul>
<li>无查询条件，表示查询资源的所有属性</li>
</ul>
<pre class="codehilite"><code class="language-json">{
    &quot;type&quot;: &quot;host&quot;,
    &quot;method&quot;: &quot;fetch_instance_info&quot;,
    &quot;filter&quot;: {
        &quot;ids&quot;: [&quot;h1&quot;, &quot;h2&quot;]
    }
}</code></pre>


<ul>
<li>有过滤条件</li>
</ul>
<pre class="codehilite"><code class="language-json">{
    &quot;type&quot;: &quot;host&quot;,
    &quot;method&quot;: &quot;fetch_instance_info&quot;,
    &quot;filter&quot;: {
        &quot;ids&quot;: [&quot;h1&quot;, &quot;h2&quot;],
        &quot;attrs&quot;: [&quot;_bk_iam_path_&quot;, &quot;os&quot;, &quot;country&quot;]
    }
}</code></pre>


<h3 id="responsebody">Response.Body</h3>
<p>data 字段，类型为 Array</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源实例的唯一标识</td>
</tr>
<tr>
<td align="left"><code>&lt;attr&gt;</code></td>
<td align="left">string/int/bool 或 array(string/int/bool)</td>
<td align="left">是</td>
<td align="left">根据查询条件中的 attrs 返回，无 attrs 参数则返回所有属性</td>
</tr>
</tbody>
</table>
<p><code>特殊属性</code>:  <a href="../../ResourceTopology.md">path 属性说明</a></p>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;ok&quot;,
    &quot;data&quot;: [
        {
            &quot;id&quot;: &quot;h1&quot;,
            &quot;os&quot;: &quot;Linux&quot;,
            &quot;country&quot;: &quot;China&quot;,
            &quot;isp&quot;: 1,
            &quot;is_public&quot;: true,
            &quot;_bk_iam_path_&quot;: [
                &quot;/biz,1/set,1/module,1/&quot;,
                &quot;/biz,1/set,1/module,2/&quot;
            ]
        },
        {
            &quot;id&quot;: &quot;h2&quot;,
            &quot;os&quot;: &quot;Windows&quot;,
            &quot;country&quot;: &quot;China&quot;,
            &quot;isp&quot;: 3,
            &quot;is_public&quot;: false,
            &quot;_bk_iam_path_&quot;: [
                &quot;/biz,1/set,1/module,1/&quot;,
                &quot;/biz_set,1/set,2/module,2/&quot;
            ]
        }
    ]
}</code></pre><h1 id="list_instance_by_policy">list_instance_by_policy</h1>
<h2 id="list_instance_by_policy_1">list_instance_by_policy 根据策略表达式查询资源实例</h2>
<blockquote>
<p>在权限中心里用于（1）<code>产品</code>上动态查询资源实例进行预览</p>
</blockquote>
<h3 id="requestbody">Request.Body</h3>
<p>| 字段 |  类型 |是否必须  | 描述  |
|:---|:---|:---|:---||
| type | string | 是 | 对应查询的资源类型 |
| method |string | 是 | 值为：list_instance_by_policy |
| filter | object | 是 | 查询条件 |
| page | object | 是 | 返回数据需要支持分页，该参数必填，具体说明请查看 <a href="./01-API.md">需实现接口的基础协议里的 Request.Body.page 字段</a>|</p>
<p>filter 字段</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">expression</td>
<td align="left">object</td>
<td align="left">是</td>
<td align="left">资源的表达式，<a href="../../Expression/01-Schema.md">协议请查看</a></td>
</tr>
</tbody>
</table>
<pre class="codehilite"><code class="language-json">{
    &quot;type&quot;: &quot;host&quot;,
    &quot;method&quot;: &quot;list_instance_by_policy&quot;,
    &quot;filter&quot;: {
        &quot;expression&quot;: {
            &quot;op&quot;: &quot;OR&quot;,
            &quot;content&quot;: [
            {
                &quot;op&quot;: &quot;in&quot;,
                &quot;field&quot;: &quot;host.id&quot;,
                &quot;value&quot;: [1, 2, 3]
            },
            {
                &quot;op&quot;: &quot;eq&quot;,
                &quot;field&quot;: &quot;host.os&quot;,
                &quot;value&quot;: &quot;linux&quot;
            },
            {
                &quot;op&quot;: &quot;eq&quot;,
                &quot;field&quot;: &quot;host.owner&quot;,
                &quot;value&quot;: &quot;admin&quot;
            },
            {
                &quot;op&quot;: &quot;OR&quot;,
                &quot;content&quot;: [
                {
                    &quot;op&quot;: &quot;starts_with&quot;,
                    &quot;field&quot;: &quot;host._bk_iam_path_&quot;,
                    &quot;value&quot;: &quot;/biz,1/&quot;
                },
                {
                    &quot;op&quot;: &quot;starts_with&quot;,
                    &quot;field&quot;: &quot;host._bk_iam_path_&quot;,
                    &quot;value&quot;: &quot;/biz,2/&quot;
                }]
            },
            {
                &quot;op&quot;: &quot;AND&quot;,
                &quot;content&quot;: [
                {
                    &quot;op&quot;: &quot;eq&quot;,
                    &quot;field&quot;: &quot;host.biz&quot;,
                    &quot;value&quot;: &quot;bk&quot;
                },
                {
                    &quot;op&quot;: &quot;eq&quot;,
                    &quot;field&quot;: &quot;host.status&quot;,
                    &quot;value&quot;: &quot;online&quot;
                }]
            }]
        }
    },
    &quot;page&quot;: {
        &quot;offset&quot;: 0,
        &quot;limit&quot;: 20
    }    
}</code></pre>


<h3 id="responsebody">Response.Body</h3>
<p>data 字段，类型为 Dict</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">count</td>
<td align="left">int</td>
<td align="left">是</td>
<td align="left">查询到的资源实例的总数量</td>
</tr>
<tr>
<td align="left">results</td>
<td align="left">array(object)</td>
<td align="left">是</td>
<td align="left">对应到的资源实例列表</td>
</tr>
</tbody>
</table>
<p>results 字段 ，类型 Array</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源实例的唯一标识</td>
</tr>
<tr>
<td align="left">display_name</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源实例的展示名称</td>
</tr>
</tbody>
</table>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;count&quot;: 100,
        &quot;results&quot;: [
            {&quot;id&quot;: &quot;h1&quot;, &quot;display_name&quot;: &quot;192.168.1.1&quot;},
            {&quot;id&quot;: &quot;h2&quot;, &quot;display_name&quot;: &quot;192.168.1.2&quot;},
            {&quot;id&quot;: &quot;h3&quot;, &quot;display_name&quot;: &quot;192.168.1.3&quot;}
        ]
    }
}</code></pre><h1 id="search_instance">search_instance</h1>
<h2 id="search_instance_1">search_instance 根据过滤条件和搜索关键字查询实例</h2>
<blockquote>
<p>在权限中心里用于（1）<code>产品</code>上搜索资源实例（1）<code>产品</code>上支持拓扑树的资源搜索</p>
</blockquote>
<h3 id="_1">需支持的过滤查询</h3>
<ul>
<li>按照资源实例进行 Keyword 搜索查询<ul>
<li>接入系统获取到 keyword 后，可支持对应资源实例的唯一标识 id、名称 name、展示名称 display_name 等字段进行模糊搜索过滤，<code>默认必须支持display_name搜索</code>，搜索结果为<code>包含关键词</code>。</li>
</ul>
</li>
<li>按照资源的上级 + 资源实例 Keyword 搜索 查询</li>
</ul>
<p><strong>重要</strong>：
<code>搜索不要区分大小写！！！</code>
<code>搜索不要区分大小写！！！</code>
<code>搜索不要区分大小写！！！</code></p>
<p>简单例子：</p>
<p>【按照资源实例进行 Keyword 搜索查询】</p>
<pre class="codehilite"><code class="language-json">&quot;filter&quot;: {
    &quot;keyword&quot;: &quot;192.168.&quot;
}</code></pre>


<p>【按照资源的上级 + 资源实例 Keyword 搜索 查询】</p>
<pre class="codehilite"><code class="language-json">&quot;filter&quot;: {
    &quot;parent&quot;: {
        &quot;type&quot;: &quot;module&quot;,
        &quot;id&quot;: &quot;m1&quot;
    },
    &quot;keyword&quot;: &quot;192.168.&quot;
}</code></pre>


<p><strong><code>特别注意</code></strong>
由于 keyword 搜索可能性能很低，接入系统需要做<code>频率控制</code>和实现适当的<code>缓存机制</code>，否则可能会引发接入系统负载过高而导致正常业务服务的故障</p>
<h3 id="requestbody">Request.Body</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">type</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">对应查询的资源类型</td>
</tr>
<tr>
<td align="left">method</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">值为：search_instance</td>
</tr>
<tr>
<td align="left">filter</td>
<td align="left">object</td>
<td align="left">否</td>
<td align="left">根据 6.1 里需支持的过滤查询，传入不同的参数</td>
</tr>
<tr>
<td align="left">page</td>
<td align="left">object</td>
<td align="left">是</td>
<td align="left">返回数据需要支持分页，该参数必填，具体说明请查看 <a href="./01-API.md">需实现接口的基础协议里的 Request.Body.page 字段</a>, <code>limit 最大为1000</code></td>
</tr>
</tbody>
</table>
<p>filter 字段</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">keyword</td>
<td align="left">object</td>
<td align="left">是</td>
<td align="left">资源实例的搜索关键字</td>
</tr>
<tr>
<td align="left">parent</td>
<td align="left">object</td>
<td align="left">否</td>
<td align="left">资源的直接上级，具体包含 type 和 id，type 为直接上级资源的类型，id 为直接上级资源实例 ID  <code>两种情况下可为空，(1) 本身资源类型无上级 (2) 权限中心产品上只需要根据Keyword全局搜索该资源类型，可能场景如某种资源类型的下拉框过滤选择</code></td>
</tr>
</tbody>
</table>
<ul>
<li>Keyword 搜索查询</li>
</ul>
<pre class="codehilite"><code class="language-json">{
    &quot;type&quot;: &quot;host&quot;,
    &quot;method&quot;: &quot;search_instance&quot;,
    &quot;filter&quot;: {
        &quot;keyword&quot;: &quot;192.168.&quot;
    },
    &quot;page&quot;: {
        &quot;offset&quot;: 0,
        &quot;limit&quot;: 20
    }
}</code></pre>


<ul>
<li>上级+Keyword 搜索查询</li>
</ul>
<pre class="codehilite"><code class="language-bash">{
    &quot;type&quot;: &quot;host&quot;,
    &quot;method&quot;: &quot;search_instance&quot;,
    &quot;filter&quot;: {
       &quot;parent&quot;: {
            &quot;type&quot;: &quot;module&quot;,
            &quot;id&quot;: &quot;m1&quot;
        }
        &quot;keyword&quot;: &quot;192.168.&quot;
    },
    &quot;page&quot;: {
        &quot;offset&quot;: 0,
        &quot;limit&quot;: 20
    }
}</code></pre>


<h3 id="responsebody">Response.Body</h3>
<p>code 字段说明
- <code>code = 422</code> 代表 Keyword 搜索时，扫描的资源内容过多，无法支持，拒绝返回数据，对于 IAM 产品上将提示用户完善搜索条件再搜索
- <code>code = 429</code> 代表接口超过接入系统的频率控制 </p>
<p>data 字段，类型为 Dict</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">count</td>
<td align="left">int</td>
<td align="left">是</td>
<td align="left">查询到的资源实例的总数量</td>
</tr>
<tr>
<td align="left">results</td>
<td align="left">array(object)</td>
<td align="left">是</td>
<td align="left">对应的资源实例列表</td>
</tr>
</tbody>
</table>
<p>results 字段 ，类型 Array</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源实例的唯一标识</td>
</tr>
<tr>
<td align="left">display_name</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源实例的展示名称</td>
</tr>
<tr>
<td align="left">child_type</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">非必填，仅仅"用户管理"系统定制的字段，其他系统不需要返回，表示该资源实例的下一层资源类型，仅仅用于动态资源层级，且其下一层与本层类型一致的情况，空值表示已经无下一层级，该数据将用于在权限中心产品拉取同一资源动态层级拓扑</td>
</tr>
</tbody>
</table>
<ul>
<li>正常查询返回</li>
</ul>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;count&quot;: 100,
        &quot;results&quot;: [
            {&quot;id&quot;: &quot;h1&quot;, &quot;display_name&quot;: &quot;192.168.1.1&quot;},
            {&quot;id&quot;: &quot;h2&quot;, &quot;display_name&quot;: &quot;192.168.1.2&quot;},
            {&quot;id&quot;: &quot;h3&quot;, &quot;display_name&quot;: &quot;192.168.1.3&quot;}
        ]
    }
}</code></pre>


<ul>
<li>搜到的 Keyword 不满足要求，即 keyword 的参数校验规则，比如，可能对于某些资源类型，keyword 至少 2 个字符才进行搜索<ul>
<li><code>对于message字段，必须清楚提示keyword的校验规则</code></li>
</ul>
</li>
</ul>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 406,
    &quot;message&quot;: &quot;the length of keyword should be greater than or equals to 2&quot;,
    &quot;data&quot;: {}
}</code></pre>


<ul>
<li>搜索结果分页返回，如果个别资源类型因为搜索结果过多而导致性能问题，无法返回时，</li>
<li><code>对于这种情况，权限中心产品上将会提示用户完善Keyword，尽量精确</code></li>
</ul>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 422,
    &quot;message&quot;: &quot;not support, too much data found&quot;,
    &quot;data&quot;: {}
}</code></pre>


<ul>
<li>接口超过调用频率控制</li>
</ul>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 429,
    &quot;message&quot;: &quot;exceed api rate limiting&quot;,
    &quot;data&quot;: {}
}</code></pre><h1 id="sdk-api">SDK 鉴权 API</h1>
<h2 id="_1">说明</h2>
<p>重要:</p>
<ol>
<li>不存在跨系统资源依赖
        - 那么请求中可以不带 resources，此时会返回 用户 在 这个系统 的这个操作 的所有策略，然后在本地进行计算;<ul>
<li>所以不存在跨系统资源依赖，可以做批量接口，一次策略查询，然后遍历本地的多个资源，逐一计算结果 (此时少了 N-1 次 IO 查询)</li>
</ul>
</li>
<li>如果存在跨系统资源依赖<ul>
<li>请求策略查询，一定要带上跨系统依赖资源，上面的示例，一定要带上 bk_cmdb; 因为权限中心需要到被依赖系统拉取相关的内容进行计算</li>
<li>所以存在跨系统资源依赖，不能做批量接口; 除非本地的多个资源依赖的是同一个其他系统资源，例如 10 个 job 作业依赖的同一个 cmdb 主机，要鉴权</li>
</ul>
</li>
<li>如果传了 resources<ul>
<li>会走两阶段计算</li>
<li>权限中心会拿 requests 中传递的资源，先行进行计算，得到中间结果(也是策略)，返回给接入系统，接入系统继续计算</li>
</ul>
</li>
</ol>
<h2 id="1-policy-query">1. policy query 拉取权限策略</h2>
<p>sdk 接入, 需要实现</p>
<ol>
<li>鉴权: 拉取权限策略</li>
<li>获取有权限的资源列表</li>
</ol>
<p>两个将使用同一个接口, 从服务端拉取策略列表</p>
<p>返回结果中包含条件表达式. 具体见<a href="../../../Reference/Expression/01-Schema.md">条件表达式协议</a></p>
<h3 id="11-url">1.1 URL</h3>
<blockquote>
<p>POST /api/v1/policy/query</p>
</blockquote>
<h3 id="12-request">1.2 Request</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">系统唯一标识</td>
</tr>
<tr>
<td align="left">subject</td>
<td align="left">subject</td>
<td align="left">是</td>
<td align="left">鉴权实体</td>
</tr>
<tr>
<td align="left">action</td>
<td align="left">action</td>
<td align="left">是</td>
<td align="left">操作</td>
</tr>
<tr>
<td align="left">resources</td>
<td align="left">Array(resource_node)</td>
<td align="left">是</td>
<td align="left">资源实例, 资源类型的顺序必须操作注册时的顺序一致;可以为空列表</td>
</tr>
</tbody>
</table>
<p>action</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">操作 ID</td>
</tr>
</tbody>
</table>
<p>subject</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">type</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">授权对象类型, 当前只支持 user</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">授权对象 ID</td>
</tr>
</tbody>
</table>
<p>resource_node</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源系统 ID</td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源类型 ID</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源实例 ID</td>
</tr>
<tr>
<td align="left">attribute</td>
<td align="left">对象</td>
<td align="left">是</td>
<td align="left">资源属性</td>
</tr>
</tbody>
</table>
<h4 id="cmdb">无 cmdb 依赖</h4>
<pre class="codehilite"><code class="language-json"># 1. 
{
    &quot;system&quot;: &quot;bk_job&quot;,
    &quot;subject&quot;:
    {
        &quot;type&quot;: &quot;user&quot;,
        &quot;id&quot;: &quot;admin&quot;
    },
    &quot;action&quot;: {
        &quot;id&quot;: &quot;edit&quot;
    },
    &quot;resources&quot;: []
}</code></pre>


<h4 id="cmdb_1">有 cmdb 依赖</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;system&quot;: &quot;bk_job&quot;,
    &quot;subject&quot;:
    {
        &quot;type&quot;: &quot;user&quot;,
        &quot;id&quot;: &quot;admin&quot;
    },
    &quot;action&quot;: {
        &quot;id&quot;: &quot;execute&quot;
    },
    &quot;resources&quot;: [
    {
        &quot;system&quot;: &quot;bk_cmdb&quot;,
        &quot;type&quot;: &quot;host&quot;,
        &quot;id&quot;: &quot;192.168.1.1&quot;
    }]
}</code></pre>


<h3 id="13-response">1.3 Response</h3>
<blockquote>
<p>Status: 200 OK</p>
</blockquote>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;ok&quot;,
    &quot;data&quot;: {  // 条件表达式
        &quot;field&quot;: &quot;host.id&quot;,
        &quot;op&quot;: &quot;any&quot;,
        &quot;value&quot;: []
    }
}</code></pre>


<h2 id="2-policy-query-by-actions">2. policy query by actions 批量拉取一批操作的权限策略</h2>
<p>场景: 接入系统需要对同一资源类型的一批资源实例的多个操作鉴权, 比如资源实例列表页显示多个操作是否有权限</p>
<p>约束:</p>
<ol>
<li>一批资源的资源类型必须是一样的</li>
<li>action 如果对 cmdb 资源有依赖, 依赖的 cmdb 资源实例必须是同一个</li>
</ol>
<p>SDK 实现:</p>
<ol>
<li>批量拉取一批操作的权限策略</li>
<li>本地遍历计算资源实例是否有权限</li>
</ol>
<h3 id="21-url">2.1 URL</h3>
<blockquote>
<p>POST /api/v1/policy/query_by_actions</p>
</blockquote>
<h3 id="22-request">2.2 Request</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">系统唯一标识</td>
</tr>
<tr>
<td align="left">subject</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">subject</td>
</tr>
<tr>
<td align="left">actions</td>
<td align="left">Array(action)</td>
<td align="left">是</td>
<td align="left">操作列表</td>
</tr>
<tr>
<td align="left">resources</td>
<td align="left">Array(resource_node)</td>
<td align="left">是</td>
<td align="left">资源实例, 资源类型的顺序必须操作注册时的顺序一致</td>
</tr>
</tbody>
</table>
<p>action</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">操作 ID</td>
</tr>
</tbody>
</table>
<p>subject</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">type</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">授权对象类型, 当前只支持 user</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">授权对象 ID</td>
</tr>
</tbody>
</table>
<p>resource_node</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源系统 ID</td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源类型 ID</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源实例 ID</td>
</tr>
<tr>
<td align="left">attribute</td>
<td align="left">对象</td>
<td align="left">是</td>
<td align="left">资源属性</td>
</tr>
</tbody>
</table>
<h4 id="cmdb_2">无 cmdb 依赖</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;system&quot;: &quot;bk_job&quot;,
    &quot;subject&quot;:
    {
        &quot;type&quot;: &quot;user&quot;,
        &quot;id&quot;: &quot;admin&quot;
    },
    &quot;actions&quot;: [
        {
            &quot;id&quot;: &quot;edit&quot;
        },
        {
            &quot;id&quot;: &quot;view&quot;
        }
    ],
    &quot;resources&quot;: []
}</code></pre>


<h4 id="cmdb_3">有 cmdb 依赖</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;system&quot;: &quot;bk_job&quot;,
    &quot;subject&quot;:
    {
        &quot;type&quot;: &quot;user&quot;,
        &quot;id&quot;: &quot;admin&quot;
    },
    &quot;actions&quot;: [
        {
            &quot;id&quot;: &quot;execute&quot;
        },
        {
            &quot;id&quot;: &quot;quick_execute&quot;
        }
    ],
    &quot;resources&quot;: [
    {
        &quot;system&quot;: &quot;bk_cmdb&quot;,
        &quot;type&quot;: &quot;host&quot;,
        &quot;id&quot;: &quot;192.168.1.1&quot;
    }]
}</code></pre>


<h3 id="23-response">2.3 Response</h3>
<blockquote>
<p>Status: 200 OK</p>
</blockquote>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;ok&quot;,
    &quot;data&quot;: [ // action的顺序与请求中的acitons顺序一致
        {
            &quot;action&quot;:{
                &quot;id&quot;:&quot;edit&quot;
            },
            &quot;condition&quot;: {  // 条件表达式
                &quot;field&quot;: &quot;host.id&quot;,
                &quot;op&quot;: &quot;any&quot;,
                &quot;value&quot;: []
            }
        },
        {
            &quot;action&quot;:{
                &quot;id&quot;:&quot;view&quot;
            },
            &quot;condition&quot;: {  // 条件表达式
                &quot;field&quot;: &quot;host.id&quot;,
                &quot;op&quot;: &quot;any&quot;,
                &quot;value&quot;: []
            }
        }
    ]
}</code></pre>


<h2 id="3-query_by_ext_resources">3. query_by_ext_resources 批量第三方依赖鉴权策略查询</h2>
<h3 id="31">3.1 背景</h3>
<p>本系统的操作依赖外部系统资源类型, 需要大批量使用外部资源实例鉴权</p>
<p>例如: 用户在作业平台需要触发上千台主机上批量执行某个作业, 比如 需要在 host1, host2 上执行 job1</p>
<p>这个接口, 支持拉取策略的同时, 帮助接入系统到<code>依赖系统</code>拉取策略计算需要的资源信息; </p>
<p>接入系统同时拿到<code>策略</code>和<code>资源信息</code>, 就可以完成计算, 确认是否有权限;</p>
<p>注: 由于大批量遍历计算 expression 属于 cpu 密集计算, 如果计算放在 IAM, 在并发批量计算时, 会导致 IAM 服务 CPU 资源不足, 进而服务不可用, 所以需要把计算分散到接入系统分布计算, 减轻 IAM 服务的压力</p>
<h4 id="1-1000">场景 1: 外部依赖资源实例的数量<strong>不</strong>超过 1000 个</h4>
<p>使用建议:</p>
<p>直接使用<code>query_by_ext_resources</code>接口查询策略表达式与资源实例相关信息到本地后遍历计算是否有权限</p>
<h4 id="2-1000">场景 2: 外部依赖资源实例的数量<strong>超过</strong>了 1000 个</h4>
<hr />
<p>使用建议:</p>
<ol>
<li>使用<code>policy/query</code>接口查询策略表达式</li>
<li>本地计算表达式中是否有<code>any</code>, 是否有实例<code>id in ["id1", "id2"]</code>初步计算部分外部依赖资源实例是否权限</li>
<li>对于在第二步中计算无权限的资源实例, 再分批次(每次不超过 1000 个)调用<code>query_by_ext_resources</code>接口查询策略表达式与资源实例相关信息到本地后遍历计算是否有权限</li>
</ol>
<h3 id="32">3.2 使用方式</h3>
<ol>
<li>在 request body 中 resources 传 job1 相关的资源信息, 在 ext_resources 中传第三方依赖的 host1, host2</li>
<li>返回的结果中 expression 是过滤了 request 中 resource 相关条件后的条件表达式, 结果的 ext_resources 返回填充属性的资源信息</li>
<li><strong>鉴权计算</strong>: 接入系统拿到 ext_resource 后遍历每个 host 实例带入 expression 中计算得到鉴权结果</li>
</ol>
<p>注意:</p>
<ul>
<li>request 中 resources 与 ext_resources 的关系, 当前 ext_resources 只能有一种第三方依赖类型的实例, resource 必须为 action 依赖的其它资源类型的实例</li>
<li>ext_resources 一次查询不能超过 1000 个, 如果超过建议分批次查询</li>
</ul>
<hr />
<h3 id="33">3.3 协议</h3>
<h4 id="331-url">3.3.1 URL</h4>
<blockquote>
<p>POST /api/v1/policy/query_by_ext_resources</p>
</blockquote>
<h4 id="332-request">3.3.2 Request</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;system&quot;: &quot;bk_job&quot;,
  &quot;subject&quot;: {
    &quot;type&quot;: &quot;user&quot;,
    &quot;id&quot;: &quot;admin&quot;
  },
  &quot;action&quot;: {
    &quot;id&quot;: &quot;execute&quot;
  },
  &quot;resources&quot;: [  # 参与过滤策略的资源实例, 每种资源类型只能传1个, 可以不传, 不传时返回的表达式包含操作关联所有的资源类型的条件
    {
      &quot;system&quot;: &quot;bk_job&quot;,
      &quot;type&quot;: &quot;job&quot;,
      &quot;id&quot;: &quot;job1&quot;,
      &quot;attribute&quot;: {}
    }
  ],
  &quot;ext_resources&quot;: [  # 不参与计算的资源类型, 可以批量传入, IAM会向第三方系统查询资源的属性信息, 一次最多1000个
    {
      &quot;system&quot;: &quot;bk_cmdb&quot;,
      &quot;type&quot;: &quot;host&quot;,
      &quot;ids&quot;: [
        &quot;host1&quot;,
        &quot;host2&quot;
      ]
    }
  ]
}</code></pre>


<h4 id="333-response">3.3.3 Response</h4>
<blockquote>
<p>Status: 200 OK</p>
</blockquote>
<pre class="codehilite"><code class="language-json">{
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;ok&quot;,
  &quot;data&quot;: {
    &quot;expression&quot;: {  # 已经代入request中resources计算过后的表达式
      &quot;op&quot;: &quot;AND&quot;,
      &quot;content&quot;: [
        {
          &quot;op&quot;: &quot;in&quot;,
          &quot;field&quot;: &quot;host.id&quot;,
          &quot;value&quot;: [
            &quot;host1&quot;,
            &quot;host2&quot;
          ]
        },
        {
          &quot;op&quot;: &quot;starts_with&quot;,
          &quot;field&quot;: &quot;host._bk_iam_path_&quot;,
          &quot;value&quot;: [
            &quot;/biz,5/&quot;
          ]
        }
      ]
    },
    &quot;ext_resources&quot;: [  # 查询得到的第三方资源实例, 填充了与表达式相关的属性
      {
        &quot;system&quot;: &quot;bk_cmdb&quot;,
        &quot;type&quot;: &quot;host&quot;,
        &quot;instances&quot;: [
          {
            &quot;id&quot;: &quot;host1&quot;,
            &quot;attribute&quot;: {
              &quot;_bk_iam_path_&quot;: [
                &quot;/biz,5/&quot;
              ]
            }
          },
          {
            &quot;id&quot;: &quot;host2&quot;,
            &quot;attribute&quot;: {
              &quot;_bk_iam_path_&quot;: [
                &quot;/biz,5/&quot;
              ]
            }
          }
        ]
      }
    ]
  }
}</code></pre><h1 id="api">直接鉴权 API</h1>
<blockquote>
<p>中大型系统/平台类系统不要使用这个接口</p>
</blockquote>
<p>注意:</p>
<ul>
<li>这个 API 是给非 SDK 接入/无跨系统资源依赖的小型系统/脚本/后台任务使用的.</li>
<li>如果是普通接入系统(非脚本/定时任务等)，建议使用多语言 SDK 进行处理</li>
<li>使用直接鉴权 API，需要提供完整的信息，所有计算会在服务端完成，此时会同其他所有系统共用计算资源，性能可能不及本地 sdk 计算(本地 sdk 还可以做缓存等行为提升性能)</li>
<li>获取某个用户有某个权限的资源列表无法通过此 API 实现; 需要通过策略查询接口查询得到策略，解析表达式后，转换成自身存储的查询条件</li>
<li>该接口耗费服务端资源较大，后续会进行流控/熔断/服务降级</li>
</ul>
<h2 id="1-policy-auth">1. policy auth</h2>
<h3 id="11-url">1.1 URL</h3>
<blockquote>
<p>POST /api/v1/policy/auth</p>
</blockquote>
<h3 id="12-request">1.2 Request</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">系统唯一标识</td>
</tr>
<tr>
<td align="left">subject</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">subject</td>
</tr>
<tr>
<td align="left">action</td>
<td align="left">object</td>
<td align="left">是</td>
<td align="left">操作</td>
</tr>
<tr>
<td align="left">resources</td>
<td align="left">Array(resource_node)</td>
<td align="left">是</td>
<td align="left">资源实例, 资源类型的顺序必须操作注册时的顺序一致</td>
</tr>
</tbody>
</table>
<p>action</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">操作 ID</td>
</tr>
</tbody>
</table>
<p>subject</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">type</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">授权对象类型, 当前只支持 user</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">授权对象 ID</td>
</tr>
</tbody>
</table>
<p>resource_node</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源系统 ID</td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源类型 ID</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源实例 ID</td>
</tr>
<tr>
<td align="left">attribute</td>
<td align="left">对象</td>
<td align="left">是</td>
<td align="left">资源属性</td>
</tr>
</tbody>
</table>
<pre class="codehilite"><code class="language-json">{
    &quot;system&quot;: &quot;bk_job&quot;,
    &quot;subject&quot;: {
        &quot;type&quot;: &quot;user&quot;,
        &quot;id&quot;: &quot;admin&quot;
    },
    &quot;action&quot;: {
        &quot;id&quot;: &quot;execute&quot;
    },
    &quot;resources&quot;: [{   // 资源类型的顺序必须操作注册时的顺序一致, 否则会导致鉴权失败!
        &quot;system&quot;: &quot;bk_job&quot;,
        &quot;type&quot;: &quot;job&quot;,
        &quot;id&quot;: &quot;ping&quot;,
        &quot;attribute&quot;: {  // 资源的属性值可能有多个, 目前支持string/int/boolean, 以及路径stringList
            &quot;os&quot;: &quot;linux&quot;,
            &quot;_bk_iam_path_&quot;: [&quot;/biz,1/set,2/&quot;],
            &quot;is_ready&quot;: true,
            &quot;area_id&quot;: 200
        }
    }, {
        &quot;system&quot;: &quot;bk_cmdb&quot;,
        &quot;type&quot;: &quot;host&quot;,
        &quot;id&quot;: &quot;192.168.1.1&quot;,
        &quot;attribute&quot;: {} // 外部资源的属性由iam负责查询属性, 接入方不需要传入
    }]
}</code></pre>


<h3 id="13-response">1.3 Response</h3>
<p>Response 字段说明, 表格</p>
<blockquote>
<p>Status: 200 OK</p>
</blockquote>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;ok&quot;,
    &quot;data&quot;: {
        &quot;allowed&quot;: true
    }
}</code></pre>


<h2 id="2-policy-auth-by-resources">2. policy auth by resources</h2>
<p>鉴权场景: 查看一个 <code>用户</code> 有没有 100 台 <code>资源A</code> 的 <code>编辑</code>  权限
限制: resources_list 最大能传 100 个资源</p>
<h3 id="21-url">2.1 URL</h3>
<blockquote>
<p>POST /api/v1/policy/auth_by_resources</p>
</blockquote>
<h3 id="22-request">2.2 Request</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">系统唯一标识</td>
</tr>
<tr>
<td align="left">subject</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">subject</td>
</tr>
<tr>
<td align="left">action</td>
<td align="left">object</td>
<td align="left">是</td>
<td align="left">操作</td>
</tr>
<tr>
<td align="left">resources_list</td>
<td align="left">Array(resources)</td>
<td align="left">是</td>
<td align="left">资源实例列表, 资源类型的顺序必须操作注册时的顺序一致</td>
</tr>
</tbody>
</table>
<p>action</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">操作 ID</td>
</tr>
</tbody>
</table>
<p>subject</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">type</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">授权对象类型, 当前只支持 user</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">授权对象 ID</td>
</tr>
</tbody>
</table>
<p>resources</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">resources</td>
<td align="left">Array(resource_node)</td>
<td align="left">是</td>
<td align="left">一个资源</td>
</tr>
</tbody>
</table>
<p>resource_node</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源系统 ID</td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源类型 ID</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源实例 ID</td>
</tr>
<tr>
<td align="left">attribute</td>
<td align="left">对象</td>
<td align="left">是</td>
<td align="left">资源属性</td>
</tr>
</tbody>
</table>
<pre class="codehilite"><code class="language-json">{
    &quot;system&quot;: &quot;bk_job&quot;,
    &quot;subject&quot;: {
        &quot;type&quot;: &quot;user&quot;,
        &quot;id&quot;: &quot;admin&quot;
    },
    &quot;action&quot;: {
        &quot;id&quot;: &quot;execute&quot;
    },
    &quot;resources_list&quot;: [
        [{   // 第一个资源
            &quot;system&quot;: &quot;bk_job&quot;,
            &quot;type&quot;: &quot;job&quot;,
            &quot;id&quot;: &quot;ping&quot;,
            &quot;attribute&quot;: {
                &quot;os&quot;: &quot;linux&quot;,
                &quot;_bk_iam_path_&quot;: [&quot;/biz,1/set,2/&quot;],
                &quot;is_ready&quot;: true,
                &quot;area_id&quot;: 200
            }
        }, {
            &quot;system&quot;: &quot;bk_cmdb&quot;,
            &quot;type&quot;: &quot;host&quot;,
            &quot;id&quot;: &quot;192.168.1.1&quot;,
            &quot;attribute&quot;: {}
        }],
        [{    // 第二个资源
            &quot;system&quot;: &quot;bk_job&quot;,
            &quot;type&quot;: &quot;job&quot;,
            &quot;id&quot;: &quot;ping2&quot;,
            &quot;attribute&quot;: {
                &quot;os&quot;: &quot;linux&quot;,
                &quot;_bk_iam_path_&quot;: [&quot;/biz,1/set,2/&quot;],
                &quot;is_ready&quot;: true,
                &quot;area_id&quot;: 200
            }
        }, {
            &quot;system&quot;: &quot;bk_cmdb&quot;,
            &quot;type&quot;: &quot;host2&quot;,
            &quot;id&quot;: &quot;192.168.2.2&quot;,
            &quot;attribute&quot;: {}
        }]
    ]
}</code></pre>


<h3 id="23-response">2.3 Response</h3>
<p>Response 字段说明, 表格</p>
<blockquote>
<p>Status: 200 OK</p>
</blockquote>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;ok&quot;,
    &quot;data&quot;: {
        &quot;bk_job,job,ping/bk_cmdb,host,192.168.1.1&quot;: false,
        &quot;bk_job,job,ping2/bk_cmdb,host2,192.168.2.2&quot;: false
    }
}</code></pre>


<h2 id="3-policy-auth-by-actions">3. policy auth by actions</h2>
<p>鉴权场景: 查看一个<code>用户</code>有没有<code>资源A</code>的<code>查看</code>/<code>编辑</code>/<code>删除</code>权限
限制: actions 最大能传 10 个操作</p>
<h3 id="31-url">3.1 URL</h3>
<blockquote>
<p>POST /api/v1/policy/auth_by_actions</p>
</blockquote>
<h3 id="32-request">3.2 Request</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">系统唯一标识</td>
</tr>
<tr>
<td align="left">subject</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">subject</td>
</tr>
<tr>
<td align="left">actions</td>
<td align="left">Array(action)</td>
<td align="left">是</td>
<td align="left">操作</td>
</tr>
<tr>
<td align="left">resources</td>
<td align="left">Array(resource_node)</td>
<td align="left">是</td>
<td align="left">资源实例, 资源类型的顺序必须操作注册时的顺序一致</td>
</tr>
</tbody>
</table>
<p>action</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">操作 ID</td>
</tr>
</tbody>
</table>
<p>subject</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">type</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">授权对象类型, 当前只支持 user</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">授权对象 ID</td>
</tr>
</tbody>
</table>
<p>resource_node</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源系统 ID</td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源类型 ID</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源实例 ID</td>
</tr>
<tr>
<td align="left">attribute</td>
<td align="left">对象</td>
<td align="left">是</td>
<td align="left">资源属性</td>
</tr>
</tbody>
</table>
<pre class="codehilite"><code class="language-json">{
    &quot;system&quot;: &quot;bk_job&quot;,
    &quot;subject&quot;: {
        &quot;type&quot;: &quot;user&quot;,
        &quot;id&quot;: &quot;admin&quot;
    },
    &quot;actions&quot;: [{
        &quot;id&quot;: &quot;execute&quot;
    }, {
        &quot;id&quot;: &quot;view&quot;
    }],
    &quot;resources&quot;: [{   // 资源类型的顺序必须操作注册时的顺序一致, 否则会导致鉴权失败!
        &quot;system&quot;: &quot;bk_job&quot;,
        &quot;type&quot;: &quot;job&quot;,
        &quot;id&quot;: &quot;ping&quot;,
        &quot;attribute&quot;: {  // 资源的属性值可能有多个, 目前支持string/int/boolean, 以及路径stringList
            &quot;os&quot;: &quot;linux&quot;,
            &quot;_bk_iam_path_&quot;: [&quot;/biz,1/set,2/&quot;],
            &quot;is_ready&quot;: true,
            &quot;area_id&quot;: 200
        }
    }, {
        &quot;system&quot;: &quot;bk_cmdb&quot;,
        &quot;type&quot;: &quot;host&quot;,
        &quot;id&quot;: &quot;192.168.1.1&quot;,
        &quot;attribute&quot;: {}  // 外部资源的属性由iam负责查询属性, 接入方不需要传入
    }]
}</code></pre>


<h3 id="33-response">3.3 Response</h3>
<blockquote>
<p>Status: 200 OK</p>
</blockquote>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;ok&quot;,
    &quot;data&quot;: {
        &quot;execute&quot;: true,
        &quot;view&quot;: false
    }
}</code></pre><h1 id="url">生成无权限申请 URL</h1>
<blockquote>
<p>此文档向接入系统说明接入系统在用户无权限需要提醒用户申请时使用的 api</p>
</blockquote>
<h3 id="_1">接入系统权限申请</h3>
<p>用户在接入系统进行操作时, 如果没有某些权限, 此时需要跳转到权限中心申请对应权限.
权限中心申请页面, 需要自动填充相关的申请信息.
所以, 需要接入系统, 将相关信息预先提交到权限中心, 权限中心返回<code>权限申请URL</code></p>
<p>流程:
1. 组装权限申请信息
2. 请求 API, 获取权限申请 url
3. url 渲染到前端表单, 用户点击后, 跳转到权限中心的权限申请页面</p>
<p>具体无权限交互可以查看 <a href="../../../HowTo/NoPermissionApply.md">文档</a></p>
<h4 id="url_1">URL</h4>
<blockquote>
<p>POST /api/c/compapi/v2/iam/application/
<code>特别说明:该 API 为ESB API</code> <a href="../01-Overview/01-BackendAPIvsESBAPI.md">ESB API 说明</a></p>
</blockquote>
<h4 id="_2">通用参数</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">bk_app_code</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">应用 ID</td>
</tr>
<tr>
<td align="left">bk_app_secret</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td align="left">bk_token</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td align="left">bk_username</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">当前用户用户名，仅仅在 ESB 里配置免登录态验证白名单中的应用，才可以用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="request">Request</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">系统 id</td>
</tr>
<tr>
<td align="left">actions</td>
<td align="left">数组</td>
<td align="left">是</td>
<td align="left">申请权限的操作</td>
</tr>
</tbody>
</table>
<p>actions</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">操作 id</td>
</tr>
<tr>
<td align="left">related_resource_types</td>
<td align="left">数组</td>
<td align="left">是</td>
<td align="left">操作关联的资源类型, <code>资源类型的顺序必须操作注册时的顺序一致</code> (<a href="../../../Reference/API/02-Model/13-Action.md">操作注册 API</a>)</td>
</tr>
</tbody>
</table>
<p>related_resource_types</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源类型的系统 id</td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源类型</td>
</tr>
<tr>
<td align="left">instances</td>
<td align="left">数组[数组]</td>
<td align="left">否</td>
<td align="left">资源实例,可选</td>
</tr>
<tr>
<td align="left">attributes</td>
<td align="left">数组</td>
<td align="left">否</td>
<td align="left">实例属性,可选</td>
</tr>
</tbody>
</table>
<p>related_resource_types.instances</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">type</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源类型</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源实例 id</td>
</tr>
</tbody>
</table>
<p>related_resource_types.attributes</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">属性 key</td>
</tr>
<tr>
<td align="left">name</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">属性 key 名称</td>
</tr>
<tr>
<td align="left">values</td>
<td align="left">数组</td>
<td align="left">是</td>
<td align="left">属性的可选值</td>
</tr>
</tbody>
</table>
<p>related_resource_types.attributes.values</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">属性 value</td>
</tr>
<tr>
<td align="left">name</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">属性 value 名称</td>
</tr>
</tbody>
</table>
<pre class="codehilite"><code class="language-json">{
  &quot;system&quot;: &quot;bk_job&quot;,  # 权限的系统
  &quot;actions&quot;: [
    {
      &quot;id&quot;: &quot;execute_job&quot;,  # 操作id
      &quot;related_resource_types&quot;: [  # 关联的资源类型, 无关联资源类型的操作, 必须为空, 资源类型的顺序必须操作注册时的顺序一致
        {
          &quot;system&quot;: &quot;bk_job&quot;,  # 资源类型所属的系统id
          &quot;type&quot;: &quot;job&quot;,  # 资源类型
          &quot;instances&quot;: [  # 申请权限的资源实例
            [  # 带层级的实例表示
              {
                &quot;type&quot;: &quot;job&quot;,  # 层级节点的资源类型
                &quot;id&quot;: &quot;job1&quot;,  # 层级节点的资源实例id
              }
            ]
          ]
        },
        {
          &quot;system&quot;: &quot;bk_cmdb&quot;,  # 资源类型所属的系统id
          &quot;type&quot;: &quot;host&quot;,  # 操作依赖的另外一个资源类型
          &quot;instances&quot;: [
            [
              {
                &quot;type&quot;: &quot;biz&quot;,
                &quot;id&quot;: &quot;biz1&quot;,
              }, {
                &quot;type&quot;: &quot;set&quot;,
                &quot;id&quot;: &quot;set1&quot;,
              }, {
                &quot;type&quot;: &quot;module&quot;,
                &quot;id&quot;: &quot;module1&quot;,
              }, {
                &quot;type&quot;: &quot;host&quot;,
                &quot;id&quot;: &quot;host1&quot;,
              }
            ]
          ],
          &quot;attributes&quot;: [  # 支持配置实例的属性值
            {
              &quot;id&quot;: &quot;os&quot;,  # 属性的key
              &quot;name&quot;: &quot;操作系统&quot;,
              &quot;values&quot;: [
                {
                  &quot;id&quot;: &quot;linux&quot;,  # 属性的value, 可以有多个
                  &quot;name&quot;: &quot;linux&quot;
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}</code></pre>


<h4 id="response">Response</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;data&quot;: {
    &quot;url&quot;: &quot;https://{PAAS_DOMAIN}/o/bk_iam_app/perm-apply?system_id=bk_job&amp;amp;tid=09d432dccac74ec4aa17629f5f83715f&quot;  # 链接有效期10分钟
  },
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;OK&quot;
}</code></pre>


<p>data</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">url</td>
<td align="left">字符串</td>
<td align="left">权限申请重定向 URL</td>
</tr>
</tbody>
</table>
<h3 id="_3">返回结果错误说明</h3>
<p>由于跳转申请后，产品上需要显示的时资源实例名称，而不是 ID，所以权限中心会回调查询接入系统
1. 如果未提供查询相关接口,则错误码 code=1902204
2. 如果查询不到资源实例的名称或接入系统不存在对应的资源实例，则错误码 code=1902416
3. 会校验 <code>related_resource_types</code>操作关联的资源类型, <code>资源类型的顺序必须操作注册时的顺序一致</code> (<a href="../../../Reference/API/02-Model/13-Action.md">操作注册 API</a>), 如果不一致, 错误码 <code>1902417</code>, 具体见文档 <a href="../../../HowTo/FAQ/ErrorCode.md">错误码</a></p><h2 id="_1">第三方鉴权失败返回权限申请数据协议</h2>
<h4 id="_2">背景</h4>
<p>标准运维调用作业平台执行作业, 如果是因为鉴权失败导致执行失败, 作业平台需要返回以下错误信息到标准运维, 标准运维使用以下数据展示需要申请的权限信息, 然后再调用以上 API 到权限中心申请权限</p>
<h4 id="http">建议：接口 HTTP 状态码</h4>
<p>http status_code = <code>200</code></p>
<h3 id="response-body">返回接口 response body 协议</h3>
<blockquote>
<p><code>字段code = 9900403 , 且需要有 permission字段返回需要对应申请的权限数据</code></p>
</blockquote>
<pre class="codehilite"><code class="language-json">{
  &quot;code&quot;: 9900403,
  &quot;message&quot;: &quot;&quot;,
  &quot;data&quot;: null,
  &quot;permission&quot;: {
    &quot;system_id&quot;: &quot;bk_job&quot;,
    &quot;system_name&quot;: &quot;作业平台&quot;,
    &quot;actions&quot;: [
      {
        &quot;id&quot;: &quot;execute_job&quot;,
        &quot;name&quot;: &quot;执行作业&quot;,
        &quot;related_resource_types&quot;: [
          {
            &quot;system_id&quot;: &quot;bk_job&quot;,
            &quot;system_name&quot;: &quot;作业平台&quot;,
            &quot;type&quot;: &quot;job&quot;,
            &quot;type_name&quot;: &quot;作业&quot;,
            &quot;instances&quot;: [
              [
                {
                  &quot;type&quot;: &quot;job&quot;,
                  &quot;type_name&quot;: &quot;作业&quot;,
                  &quot;id&quot;: &quot;job1&quot;,
                  &quot;name&quot;: &quot;作业1&quot;
                }
              ]
            ]
          },
          {
            &quot;system_id&quot;: &quot;bk_cmdb&quot;,
            &quot;system_name&quot;: &quot;配置平台&quot;,
            &quot;type&quot;: &quot;host&quot;,
            &quot;type_name&quot;: &quot;主机&quot;,
            &quot;instances&quot;: [
              [
                {
                  &quot;type&quot;: &quot;biz&quot;,
                  &quot;type_name&quot;: &quot;业务&quot;,
                  &quot;id&quot;: &quot;biz1&quot;,
                  &quot;name&quot;: &quot;业务1&quot;
                },
                {
                  &quot;type&quot;: &quot;set&quot;,
                  &quot;type_name&quot;: &quot;集群&quot;,
                  &quot;id&quot;: &quot;set1&quot;,
                  &quot;name&quot;: &quot;集群1&quot;
                },
                {
                  &quot;type&quot;: &quot;module&quot;,
                  &quot;type_name&quot;: &quot;模块&quot;,
                  &quot;id&quot;: &quot;module1&quot;,
                  &quot;name&quot;: &quot;模块1&quot;
                },
                {
                  &quot;type&quot;: &quot;host&quot;,
                  &quot;type_name&quot;: &quot;主机&quot;,
                  &quot;id&quot;: &quot;host1&quot;,
                  &quot;name&quot;: &quot;主机1&quot;
                }
              ]
            ]
          }
        ]
      }
    ]
  }
}</code></pre><h1 id="_1">资源拓扑授权/回收</h1>
<h3 id="_2">参数说明</h3>
<p><code>resources.path</code>的说明</p>
<p>示例 1: 拓扑层级授权到资源实例, <em>业务 1-集群 2-主机 1</em></p>
<pre class="codehilite"><code class="language-json">{
  &quot;system&quot;: &quot;bk_cmdb&quot;,
  &quot;type&quot;: &quot;host&quot;,
  &quot;path&quot;: [
    {
      &quot;type&quot;: &quot;biz&quot;,
      &quot;id&quot;: &quot;1&quot;,
      &quot;name&quot;: &quot;biz1&quot;
    },
    {
      &quot;type&quot;: &quot;set&quot;,
      &quot;id&quot;: &quot;2&quot;,
      &quot;name&quot;: &quot;set2&quot;
    },
    {
      &quot;type&quot;: &quot;host&quot;,
      &quot;id&quot;: &quot;1&quot;,
      &quot;name&quot;: &quot;host1&quot;
    }
  ]
}</code></pre>


<p>示例 2: 拓扑层级前缀, <em>业务 1-任意集群</em>, 此时只有业务 1 的集群下的主机会有权限</p>
<p><code>注意</code>: </p>
<ul>
<li>业务 1 下的主机与业务 1 下任意集群的主机的定义是不一样的</li>
<li><code>业务1下的主机</code>包含业务 1 下可能的<code>所有拓扑</code>下的所有主机</li>
<li><code>业务1下集群的所有主机</code>, 只包含特定拓扑 <code>业务-集群</code> 下的所有主机</li>
<li>为避免权限放大, 在拓扑层级授权时需要把选择到的拓扑节点的下一级的任意带上, 比如选择的是 <code>业务1</code>, 授权时传 <code>业务1-任意集群</code></li>
</ul>
<pre class="codehilite"><code class="language-json">{
  &quot;system&quot;: &quot;bk_cmdb&quot;,
  &quot;type&quot;: &quot;host&quot;,
  &quot;path&quot;: [
    {
      &quot;type&quot;: &quot;biz&quot;,
      &quot;id&quot;: &quot;1&quot;,
      &quot;name&quot;: &quot;biz1&quot;
    },
    {
      &quot;type&quot;: &quot;set&quot;,
      &quot;id&quot;: &quot;*&quot;,
      &quot;name&quot;: &quot;&quot;
    }
  ]
}</code></pre>


<h3 id="_3">资源拓扑授权/回收</h3>
<p>对单个资源拓扑, 单个操作的授权与回收接口</p>
<p><code>注意</code>: </p>
<ul>
<li><code>resources.type</code>的是操作关联的资源类型, <code>resources.path</code>是资源类型能选择的拓扑层级</li>
<li><code>resources.path</code>的路径必须与接入系统注册的资源实例选择视图的拓扑层级一致, 否则授权的拓扑层级在权限中心会出现在视图中选择不中(打不上勾)的情况</li>
</ul>
<hr />
<h4 id="url">URL</h4>
<blockquote>
<p>POST /api/c/compapi/v2/iam/authorization/path/
<code>特别说明:该 API 为ESB API</code> <a href="../01-Overview/01-BackendAPIvsESBAPI.md">ESB API 说明</a></p>
</blockquote>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">bk_app_code</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">应用 ID</td>
</tr>
<tr>
<td align="left">bk_app_secret</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td align="left">bk_token</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td align="left">bk_username</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">当前用户用户名，仅仅在 ESB 里配置免登录态验证白名单中的应用，才可以用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="request">Request</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">asynchronous</td>
<td align="left">布尔</td>
<td align="left">是</td>
<td align="left">是否异步调用, 默认 否, 当前只支持同步</td>
</tr>
<tr>
<td align="left">operate</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">grant 或 revoke</td>
</tr>
<tr>
<td align="left">system</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">系统 id</td>
</tr>
<tr>
<td align="left">action</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">操作</td>
</tr>
<tr>
<td align="left">subject</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">授权对象</td>
</tr>
<tr>
<td align="left">resources</td>
<td align="left">数组[对象]</td>
<td align="left">是</td>
<td align="left">资源拓扑, 资源类型的顺序必须操作注册时的顺序一致</td>
</tr>
</tbody>
</table>
<p>action</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">操作 ID</td>
</tr>
</tbody>
</table>
<p>subject</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">type</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">授权对象类型, 当前只支持 user</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">授权对象 ID</td>
</tr>
</tbody>
</table>
<p>resources</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源系统 ID</td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源类型 ID</td>
</tr>
<tr>
<td align="left">path</td>
<td align="left">数组[对象]</td>
<td align="left">是</td>
<td align="left">资源的拓扑</td>
</tr>
</tbody>
</table>
<p>resources.path</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">type</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">拓扑节点类型 ID</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">拓扑节点实例 ID</td>
</tr>
<tr>
<td align="left">name</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">拓扑节点实例名称</td>
</tr>
</tbody>
</table>
<pre class="codehilite"><code class="language-json">{
  &quot;asynchronous&quot;: false,  # 默认false, 当前只支持同步
  &quot;operate&quot;: &quot;grant&quot;,   # grant 授权 revoke 回收
  &quot;system&quot;: &quot;bk_cmdb&quot;,
  &quot;action&quot;: {
    &quot;id&quot;: &quot;edit_host&quot;
  },
  &quot;subject&quot;: {  # 当前只能对user授权
    &quot;type&quot;: &quot;user&quot;,
    &quot;id&quot;: &quot;admin&quot;
  },
  &quot;resources&quot;: [  # 操作依赖多个资源类型的情况下, 表示一个组合资源, 资源类型的顺序必须操作注册时的顺序一致
    {
      &quot;system&quot;: &quot;bk_cmdb&quot;,
      &quot;type&quot;: &quot;host&quot;,
      &quot;path&quot;: [
        {
          &quot;type&quot;: &quot;biz&quot;,
          &quot;id&quot;: &quot;1&quot;,
          &quot;name&quot;: &quot;biz1&quot;
        },{
          &quot;type&quot;: &quot;set&quot;,
          &quot;id&quot;: &quot;*&quot;,
          &quot;name&quot;: &quot;&quot;
        }
      ]
    }
  ]
}</code></pre>


<h4 id="response">Response</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">policy_id</td>
<td align="left">数值</td>
<td align="left">权限策略 id</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">expression</td>
<td align="left">对象</td>
<td align="left">权限表达式</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Status: 200 OK</p>
</blockquote>
<pre class="codehilite"><code class="language-json">{
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;ok&quot;,
  &quot;data&quot;: {
    &quot;policy_id&quot;: 1,
    &quot;expression&quot;: {  # 表达式是整个action的所有条件的组合, 包括用户已有的权限与新增的path授权的条件
      &quot;op&quot;: &quot;OR&quot;,
      &quot;content&quot;: [
        {  # 表达式中新增的路径授权
          &quot;field&quot;: &quot;host._bk_iam_path_&quot;,
          &quot;op&quot;: &quot;starts_with&quot;,
          &quot;value&quot;: [
            &quot;/biz,1/set,*/&quot;
          ]
        },
        {
          &quot;field&quot;: &quot;host.id&quot;,
          &quot;op&quot;: &quot;in&quot;,
          &quot;value&quot;: [
            &quot;host1&quot;,
            &quot;host2&quot;
          ]
        }
      ]
    }
  }
}</code></pre>


<h4 id="response-when-async">Response when async (未实现)</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;ok&quot;,
  &quot;data&quot;: {
    &quot;task_id&quot;: 1  // 任务id
  }
}</code></pre><h1 id="_1">批量资源拓扑授权/回收</h1>
<p>对多个资源拓扑, 多个操作的授权与回收接口</p>
<p><code>resources.paths</code>是批量的资源实例拓扑, 具体说明可以参考<a href="../06-GrantRevoke/01-Topology.md">资源拓扑授权/回收</a></p>
<hr />
<h4 id="url">URL</h4>
<blockquote>
<p>POST /api/c/compapi/v2/iam/authorization/batch_path/
<code>特别说明:该 API 为ESB API</code> <a href="../01-Overview/01-BackendAPIvsESBAPI.md">ESB API 说明</a></p>
</blockquote>
<h4 id="_2">通用参数</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">bk_app_code</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">应用 ID</td>
</tr>
<tr>
<td align="left">bk_app_secret</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td align="left">bk_token</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td align="left">bk_username</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">当前用户用户名，仅仅在 ESB 里配置免登录态验证白名单中的应用，才可以用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="request">Request</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">asynchronous</td>
<td align="left">布尔</td>
<td align="left">是</td>
<td align="left">是否异步调用, 默认 否, 当前只支持同步</td>
</tr>
<tr>
<td align="left">operate</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">grant 或 revoke</td>
</tr>
<tr>
<td align="left">system</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">系统 id</td>
</tr>
<tr>
<td align="left">actions</td>
<td align="left">数组[对象]</td>
<td align="left">是</td>
<td align="left">操作</td>
</tr>
<tr>
<td align="left">subject</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">授权对象</td>
</tr>
<tr>
<td align="left">resources</td>
<td align="left">数组[对象]</td>
<td align="left">是</td>
<td align="left">资源拓扑, 资源类型的顺序必须操作注册时的顺序一致</td>
</tr>
</tbody>
</table>
<p>actions</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">操作 ID</td>
</tr>
</tbody>
</table>
<p>subject</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">type</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">授权对象类型, 当前只支持 user</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">授权对象 ID</td>
</tr>
</tbody>
</table>
<p>resources</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源系统 ID</td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">资源类型 ID</td>
</tr>
<tr>
<td align="left">paths</td>
<td align="left">数组[[对象]]</td>
<td align="left">是</td>
<td align="left">批量资源拓扑，<code>最多1000个</code></td>
</tr>
</tbody>
</table>
<p>resources.paths</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">type</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">拓扑节点类型 ID</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">拓扑节点实例 ID</td>
</tr>
<tr>
<td align="left">name</td>
<td align="left">字符串</td>
<td align="left">是</td>
<td align="left">拓扑节点实例名称</td>
</tr>
</tbody>
</table>
<pre class="codehilite"><code class="language-json">{
  &quot;asynchronous&quot;: false,
  &quot;operate&quot;: &quot;grant&quot;,
  &quot;system&quot;: &quot;bk_cmdb&quot;,
  &quot;actions&quot;: [  # 批量的操作
    {
      &quot;id&quot;: &quot;edit_host&quot;
    }
  ],
  &quot;subject&quot;: {
    &quot;type&quot;: &quot;user&quot;,
    &quot;id&quot;: &quot;admin&quot;
  },
  &quot;resources&quot;: [
    {  # 操作关联的资源类型, 必须与所有的actions都匹配, 资源类型的顺序必须操作注册时的顺序一致
      &quot;system&quot;: &quot;bk_cmdb&quot;,
      &quot;type&quot;: &quot;host&quot;,
      &quot;paths&quot;: [  # 批量资源拓扑
        [
          {
            &quot;type&quot;: &quot;biz&quot;,
            &quot;id&quot;: &quot;1&quot;,
            &quot;name&quot;: &quot;biz1&quot;
          },
          {
            &quot;type&quot;: &quot;set&quot;,
            &quot;id&quot;: &quot;*&quot;,
            &quot;name&quot;: &quot;&quot;
          }
        ]
      ]
    }
  ]
}</code></pre>


<h4 id="response">Response</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">policy_id</td>
<td align="left">数值</td>
<td align="left">权限策略 id</td>
</tr>
<tr>
<td align="left">action</td>
<td align="left">对象</td>
<td align="left">操作</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Status: 200 OK</p>
</blockquote>
<pre class="codehilite"><code class="language-json">{
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;ok&quot;,
  &quot;data&quot;: [
    {
      &quot;action&quot;: {
        &quot;id&quot;: &quot;edit_host&quot;
      },
      &quot;policy_id&quot;: 1
    }
  ]
}</code></pre>


<h4 id="response-when-async">Response when async (未实现)</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;ok&quot;,
  &quot;data&quot;: {
    &quot;task_id&quot;: 1  // 任务id
  }
}</code></pre><h1 id="_1">新建关联属性授权接口</h1>
<h3 id="_2">接口基本说明</h3>
<ul>
<li>
<p>背景：</p>
<ul>
<li>接入系统上批量资源实例被创建时，对应的创建者应该需要赋予依赖这批实例的某个属性的相关权限<ul>
<li>比如批量作业创建时，创建者需要有属性为 creator=xxx 的作业的编辑、删除和查看权限</li>
</ul>
</li>
</ul>
</li>
<li>
<p>流程:</p>
<ul>
<li>
<ol>
<li><strong>用户</strong>在<strong>接入系统</strong>上产生资源实例</li>
</ol>
</li>
<li>
<ol>
<li><strong>接入系统</strong>请求 API,  <strong>权限中心</strong>根据 <a href="../02-Model/19-ResourceCreatorAction.md">新建关联</a> 配置对应创建者进行授权</li>
</ol>
</li>
</ul>
</li>
<li>
<p>接口描述： </p>
<ul>
<li>接入系统根据资源实例创建，对创建者进行相关属性授权</li>
</ul>
</li>
<li>
<p><code>接口特别说明</code></p>
<ul>
<li>新建关联的 Actions 对应的依赖资源类型必须 selection_mode 为 all 或 attribute（Action 无关联实例除外）且只能有一种依赖资源，否则新建关联授权时会被<code>自动忽略</code></li>
</ul>
</li>
</ul>
<hr />
<h4 id="url">URL</h4>
<blockquote>
<p>POST /api/c/compapi/v2/iam/authorization/resource_creator_action_attribute/
<code>特别说明:该 API 为ESB API</code> <a href="../01-Overview/01-BackendAPIvsESBAPI.md">ESB API 说明</a></p>
</blockquote>
<h4 id="parameters">Parameters</h4>
<ul>
<li>通用参数</li>
</ul>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">bk_app_code</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">应用 ID</td>
</tr>
<tr>
<td align="left">bk_app_secret</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td align="left">bk_token</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td align="left">bk_username</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">当前用户用户名，仅仅在 ESB 里配置免登录态验证白名单中的应用，才可以用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<ul>
<li>接口参数</li>
</ul>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">系统唯一标识</td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源类型的唯一标识</td>
</tr>
<tr>
<td align="left">creator</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源实例的创建者</td>
</tr>
<tr>
<td align="left">attributes</td>
<td align="left">array(object)</td>
<td align="left">是</td>
<td align="left">资源属性列表，<code>多个属性之间的权限逻辑是AND</code></td>
</tr>
</tbody>
</table>
<p>attributes 列表的元素说明</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源属性的唯一标识</td>
</tr>
<tr>
<td align="left">name</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源属性的名称</td>
</tr>
<tr>
<td align="left">values</td>
<td align="left">array(object)</td>
<td align="left">是</td>
<td align="left">资源属性的值，支持多个值，<code>多个值之间的权限逻辑是OR</code></td>
</tr>
</tbody>
</table>
<p>values 列表的元素说明</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源属性值的唯一标识</td>
</tr>
<tr>
<td align="left">name</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">资源属性值的名称</td>
</tr>
</tbody>
</table>
<h4 id="request">Request</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;system&quot;: &quot;bk_sops&quot;,
    &quot;type&quot;:&quot;task&quot;,
    &quot;creator&quot;:&quot;admin&quot;,
    &quot;attributes&quot;: [
        {
            &quot;id&quot;:&quot;owner&quot;,
            &quot;name&quot;:&quot;任务所属者&quot;,
            &quot;values&quot;: [
                {
                    &quot;id&quot;: &quot;admin&quot;,
                    &quot;name&quot;: &quot;admin(管理员)&quot;
                }
            ]
        }
    ]
}</code></pre>


<h4 id="response">Response</h4>
<p>data 数组元素</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">action</td>
<td align="left">object</td>
<td align="left">creator 被授权对应的 Action</td>
</tr>
<tr>
<td align="left">policy_id</td>
<td align="left">int</td>
<td align="left">creator 被授权对应的策略 ID</td>
</tr>
</tbody>
</table>
<p>action</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">操作 ID</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Status: 200 OK</p>
</blockquote>
<pre class="codehilite"><code class="language-json">{
  &quot;data&quot;: [  // 表示creator被授权对应的Action和策略ID列表
    {
        &quot;action&quot;: {
            &quot;id&quot;: &quot;edit&quot;
        },
        &quot;policy_id&quot;: 1
    },
    {
        &quot;action&quot;: {
            &quot;id&quot;: &quot;list&quot;
        },
        &quot;policy_id&quot;: 2
    },
    {
        &quot;action&quot;: {
            &quot;id&quot;: &quot;delete&quot;
        },
        &quot;policy_id&quot;: 3
    },
    {
        &quot;action&quot;: {
            &quot;id&quot;: &quot;view&quot;
        },
        &quot;policy_id&quot;: 4
    }
  ],
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;OK&quot;
}</code></pre><h1 id="api">查询类 API</h1>
<h2 id="_1">背景</h2>
<p>接入系统通过 LBAC 方案接入, 可以自由控制资源权限的授权和回收;</p>
<p>此时能感知到对应策略的<code>PolicyID</code>;</p>
<p>权限中心后台提供了以下查询接口, 用于接入系统查询<code>自己系统</code>的<code>权限信息</code></p>
<p>可以配合策略变更的<code>发布-订阅</code>机制, 做定时全量的策略拉取, 用于数据校准;</p>
<p>(类似于 k8s 的 list-watch 机制, list 调用全量查询接口, watch 使用发布订阅机制感知到增量变化)</p>
<h2 id="_2">接口前置说明</h2>
<p>请阅读 <a href="../01-Overview/02-APIBasicInfo.md">接口协议前置说明</a></p><h1 id="policy-get">policy get 获取某条策略详情</h1>
<p>根据策略 ID, 获取策略详情</p>
<p>注意:
- 如果<code>policy_id</code>对应记录不存在(错误的 ID 或者已经被删除), 将会返回<code>code=1901404(NotFoundError)</code> 
- 只能查询自己系统的策略详情, 如果是其他系统的 policy ID, 将会返回<code>code=1901403(ForbiddenError)</code> 
- 返回结果中<code>expired_at</code>为过期时间, 需二次判定是否过期(查回来一刻可能还没过期, 但是传递使用时可能已过期)</p>
<h4 id="url">URL</h4>
<blockquote>
<p>GET /api/v1/systems/{system_id}/policies/{policy_id}</p>
</blockquote>
<h4 id="parameters">Parameters</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">位置</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">系统 ID</td>
</tr>
<tr>
<td align="left">policy_id</td>
<td align="left">integer</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">策略 ID</td>
</tr>
</tbody>
</table>
<h4 id="response">Response</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;ok&quot;,
    &quot;data&quot;: {
        &quot;version&quot;: &quot;1&quot;,
        &quot;id&quot;: 2,
        &quot;system&quot;: &quot;bk_cmdb&quot;,
        &quot;subject&quot;: {
            &quot;type&quot;: &quot;user&quot;,
            &quot;id&quot;: &quot;admin&quot;,
            &quot;name&quot;: &quot;管理员&quot;
        },
        &quot;action&quot;: {
            &quot;id&quot;: &quot;view_host&quot;
        },
        &quot;expression&quot;: {
            &quot;content&quot;: [
                {
                    &quot;field&quot;: &quot;host.id&quot;,
                    &quot;op&quot;: &quot;any&quot;,
                    &quot;value&quot;: []
                }
            ],
            &quot;op&quot;: &quot;OR&quot;
        },
        &quot;expired_at&quot;: 4102444800
    }
}</code></pre><h1 id="policy-list">policy list 拉取系统下某个操作的策略列表</h1>
<p>用于接入系统批量拉取某个 action 的所有策略; 全量带翻页; 
接入系统可以利用这个接口, 定期拉取策略进行全量校验及<code>补偿</code></p>
<p>关于 timestamp 的说明:
- 由于策略是带过期时间的, 翻页查询的过程是一个时间跨度比较长的操作, 如果每一页实时查询<code>当前未过期</code>的策略列表, 那么整体结果集及固定页码里面的策略内容将会动态变化; 接入系统无法真正拉取某个操作<code>全量</code>策略
- 这个接口拉取第一页, 默认设置<code>timestamp</code>为当天<code>00:00:00</code>的时间戳, 例如<code>1593273600</code>
- 当翻第二页到最后一页的过程中, 接入系统建议将<code>timestamp</code>作为参数传入; 以定位一个<code>锚点</code>; 防止翻页过程中跨天导致的策略列表动态变化; (如果不担心这个, 可以一直不传)
- <code>timestamp</code> 最小为<code>当前时间-24小时</code></p>
<p>注意:
- 查询回去的每条策略中<code>expired_at</code>为过期时间, 接入系统在使用前需要再次判定是否过期
- 只能查询自己系统的<code>action_id</code>, 如果是在本系统找不到这个<code>action_id</code>不存在, 将会返回<code>code=1901404(NotFoundError)</code> </p>
<hr />
<h4 id="url">URL</h4>
<blockquote>
<p>GET  /api/v1/systems/{system_id}/policies</p>
</blockquote>
<h4 id="parameters">Parameters</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">位置</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">系统 ID</td>
</tr>
<tr>
<td align="left">action_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">query</td>
<td align="left">操作 ID(action id), 必须是这个系统注册到权限中心的合法 Action</td>
</tr>
<tr>
<td align="left">page</td>
<td align="left">integer</td>
<td align="left">否</td>
<td align="left">query</td>
<td align="left">页码, 不传默认为<code>1</code></td>
</tr>
<tr>
<td align="left">page_size</td>
<td align="left">integer</td>
<td align="left">否</td>
<td align="left">query</td>
<td align="left">单页大小,不传默认<code>100</code>, 限制单页最大<code>500</code></td>
</tr>
<tr>
<td align="left">timestamp</td>
<td align="left">integer</td>
<td align="left">否</td>
<td align="left">query</td>
<td align="left">查询时间戳, 锚点</td>
</tr>
</tbody>
</table>
<p>示例: <code>action_id=edit_host&amp;page=1&amp;page_size=100&amp;timestamp=1592899208</code></p>
<h4 id="response">Response</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;ok&quot;,
    &quot;data&quot;: {
        &quot;metadata&quot;: {
            &quot;system&quot;: &quot;bk_cmdb&quot;,
            &quot;action&quot;: {
                &quot;id&quot;: &quot;edit_host&quot;
            },
            &quot;timestamp&quot;: 1593273600
        },
        &quot;count&quot;: 3,
        &quot;results&quot;: [
            {
                &quot;version&quot;: &quot;1&quot;,
                &quot;id&quot;: 3,
                &quot;subject&quot;: {
                    &quot;type&quot;: &quot;user&quot;,
                    &quot;id&quot;: &quot;test2&quot;,
                    &quot;name&quot;: &quot;test2&quot;
                },
                &quot;expression&quot;: {
                    &quot;content&quot;: [
                        {
                            &quot;field&quot;: &quot;host.id&quot;,
                            &quot;op&quot;: &quot;eq&quot;,
                            &quot;value&quot;: &quot;192.168.1.1&quot;
                        }
                    ],
                    &quot;op&quot;: &quot;OR&quot;
                },
                &quot;expired_at&quot;: 4102444800
            },
            {
                &quot;version&quot;: &quot;1&quot;,
                &quot;id&quot;: 4,
                &quot;subject&quot;: {
                    &quot;type&quot;: &quot;user&quot;,
                    &quot;id&quot;: &quot;test1&quot;,
                    &quot;name&quot;: &quot;test1&quot;
                },
                &quot;expression&quot;: {
                    &quot;content&quot;: [
                        {
                            &quot;field&quot;: &quot;host.system&quot;,
                            &quot;op&quot;: &quot;eq&quot;,
                            &quot;value&quot;: &quot;linux&quot;
                        }
                    ],
                    &quot;op&quot;: &quot;OR&quot;
                },
                &quot;expired_at&quot;: 4102444800
            },
            {
                &quot;version&quot;: &quot;1&quot;,
                &quot;id&quot;: 7,
                &quot;subject&quot;: {
                    &quot;type&quot;: &quot;user&quot;,
                    &quot;id&quot;: &quot;admin&quot;,
                    &quot;name&quot;: &quot;管理员&quot;
                },
                &quot;expression&quot;: {
                    &quot;content&quot;: [
                        {
                            &quot;field&quot;: &quot;host.id&quot;,
                            &quot;op&quot;: &quot;any&quot;,
                            &quot;value&quot;: []
                        }
                    ],
                    &quot;op&quot;: &quot;OR&quot;
                },
                &quot;expired_at&quot;: 4102444800
            }
        ]
    }
}</code></pre><h1 id="policy-subjects-id">policy subjects 根据策略 ID 拉群策略对应的用户信息</h1>
<p>基于 LBAC 方案, 最终每个资源会打上一批 label, 这批 label 对应一批 Policy IDs
查询这个资源的有某个权限的用户列表时, 可以将这批 Policy IDs 作为这个接口参数, 查询<code>用户列表</code></p>
<p>注意: 
- 只能查询自己系统的策略列表对应的<code>用户列表</code>
- 如果 policyID 是其他系统的, 将会被<code>过滤掉</code>, 接口正常, 但对应的 policyId 不会出现在结果列表中</p>
<h4 id="url">URL</h4>
<blockquote>
<p>GET /api/v1/systems/{system_id}/policies/-/subjects</p>
</blockquote>
<h4 id="parameters">Parameters</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">是否必须</th>
<th align="left">位置</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">system_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">path</td>
<td align="left">系统 ID</td>
</tr>
<tr>
<td align="left">ids</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">query</td>
<td align="left">策略 id, 多个以英文逗号分隔</td>
</tr>
</tbody>
</table>
<p>示例: <code>ids=2,3,4,7,9</code></p>
<h4 id="response">Response</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;ok&quot;,
    &quot;data&quot;: [
        {
            &quot;id&quot;: 2,
            &quot;subject&quot;: {
                &quot;type&quot;: &quot;user&quot;,
                &quot;id&quot;: &quot;admin&quot;,
                &quot;name&quot;: &quot;管理员&quot;
            }
        },
        {
            &quot;id&quot;: 3,
            &quot;subject&quot;: {
                &quot;type&quot;: &quot;user&quot;,
                &quot;id&quot;: &quot;test2&quot;,
                &quot;name&quot;: &quot;test2&quot;
            }
        },
        {
            &quot;id&quot;: 4,
            &quot;subject&quot;: {
                &quot;type&quot;: &quot;user&quot;,
                &quot;id&quot;: &quot;test1&quot;,
                &quot;name&quot;: &quot;test1&quot;
            }
        },
        {
            &quot;id&quot;: 7,
            &quot;subject&quot;: {
                &quot;type&quot;: &quot;user&quot;,
                &quot;id&quot;: &quot;admin&quot;,
                &quot;name&quot;: &quot;管理员&quot;
            }
        }
    ]
}</code></pre><h2 id="api">蓝鲸用户管理 API 简介</h2>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="./department_ancestor.md">department_ancestor</a></td>
<td>查询部门全部祖先 (旧版接口，不推荐使用，后续会下架，请尽快迁移)</td>
</tr>
<tr>
<td><a href="./list_department_profiles.md">list_department_profiles</a></td>
<td>查询部门的用户信息 (v2)</td>
</tr>
<tr>
<td><a href="./list_departments.md">list_departments</a></td>
<td>查询部门 (v2)</td>
</tr>
<tr>
<td><a href="./list_profile_departments.md">list_profile_departments</a></td>
<td>查询用户的部门信息 (v2)</td>
</tr>
<tr>
<td><a href="./list_users.md">list_users</a></td>
<td>查询用户 (v2)</td>
</tr>
<tr>
<td><a href="./retrieve_department.md">retrieve_department</a></td>
<td>查询单个部门信息 (v2)</td>
</tr>
<tr>
<td><a href="./retrieve_user.md">retrieve_user</a></td>
<td>查询单个用户信息 (v2)</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/usermanage/department_ancestor/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询部门全部祖先，包括自己</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>整数</td>
<td>是</td>
<td>部门 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;id&quot;: 296
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;Success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: [
        {
            &quot;id&quot;: 291,
            &quot;name&quot;: &quot;数字公司&quot;,
            &quot;has_children&quot;: true
        },
        {
            &quot;id&quot;: 296,
            &quot;name&quot;: &quot;开发组&quot;,
            &quot;has_children&quot;: false
        }
    ],
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>结果</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>部门名</td>
</tr>
<tr>
<td>has_children</td>
<td>bool</td>
<td>是否有子部门</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>部门 ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/usermanage/list_department_profiles/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>请求某部门的用户信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>lookup_field</td>
<td>字符串</td>
<td>否</td>
<td>查询字段, 默认为 'id'</td>
</tr>
<tr>
<td>recursive</td>
<td>布尔</td>
<td>否</td>
<td>是否级联查询部门用户,默认为否</td>
</tr>
<tr>
<td>no_page</td>
<td>布尔</td>
<td>否</td>
<td>是否不分页一次性返回所有结果，默认为否</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;recursive&quot;: true
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;Success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: [
        {&quot;username&quot;:&quot;GW67279&quot;,&quot;id&quot;:90909},
        {&quot;username&quot;:&quot;GW67280&quot;,&quot;id&quot;:90910},
        {&quot;username&quot;:&quot;GW67281&quot;,&quot;id&quot;:90911}
    ],
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>结果</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/usermanage/list_departments/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取部门列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>lookup_field</td>
<td>字符串</td>
<td>否</td>
<td>查找字段, 默认值为 'id'</td>
</tr>
<tr>
<td>page</td>
<td>整数</td>
<td>否</td>
<td>页码</td>
</tr>
<tr>
<td>no_page</td>
<td>布尔</td>
<td>否</td>
<td>是否返回全部结果，默认为否</td>
</tr>
<tr>
<td>page_size</td>
<td>整数</td>
<td>否</td>
<td>每页结果数量</td>
</tr>
<tr>
<td>fields</td>
<td>字符串</td>
<td>否</td>
<td>返回值字段, 例如"username,id"</td>
</tr>
<tr>
<td>exact_lookups</td>
<td>字符串</td>
<td>否</td>
<td>精确查找内容列表, 例如"jack,pony"</td>
</tr>
<tr>
<td>fuzzy_lookups</td>
<td>字符串</td>
<td>否</td>
<td>模糊查找内容列表, 例如"jack,pony"</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;fields&quot;: &quot;name,id&quot;,
  &quot;no_page&quot;: true
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;Success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: [{
        &quot;id&quot;: 4,
        &quot;name&quot;: &quot;PaaS&quot;,
    }],
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>结果</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/usermanage/list_profile_departments/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>请求某个用户的部门信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>lookup_field</td>
<td>字符串</td>
<td>否</td>
<td>查询字段, 默认为 'username'</td>
</tr>
<tr>
<td>with_family</td>
<td>布尔</td>
<td>否</td>
<td>结果是否返回部门树, 默认为否</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;with_family&quot;: true
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;Success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: [{
        &quot;id&quot;: 4,
        &quot;name&quot;: &quot;PaaS&quot;,
        &quot;family&quot;: [
           {&quot;id&quot;: 5, &quot;name&quot;: &quot;BlueKing1&quot;},
           {&quot;id&quot;: 6, &quot;name&quot;: &quot;BlueKing2&quot;},
        ]
    }],
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>结果</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/usermanage/list_users/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取用户列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>lookup_field</td>
<td>字符串</td>
<td>否</td>
<td>查找字段, 默认值为 'username'</td>
</tr>
<tr>
<td>page</td>
<td>整数</td>
<td>否</td>
<td>页码</td>
</tr>
<tr>
<td>no_page</td>
<td>布尔</td>
<td>否</td>
<td>是否返回全部结果，默认为否</td>
</tr>
<tr>
<td>page_size</td>
<td>整数</td>
<td>否</td>
<td>每页结果数量</td>
</tr>
<tr>
<td>fields</td>
<td>字符串</td>
<td>否</td>
<td>返回值字段, 例如"username,id"</td>
</tr>
<tr>
<td>exact_lookups</td>
<td>字符串</td>
<td>否</td>
<td>精确查找内容列表, 例如"jack,pony"</td>
</tr>
<tr>
<td>fuzzy_lookups</td>
<td>字符串</td>
<td>否</td>
<td>模糊查找内容列表, 例如"jack,pony"</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;fields&quot;: &quot;username,id&quot;,
  &quot;no_page&quot;: true
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;Success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: [{
        &quot;id&quot;: 4,
        &quot;username&quot;: &quot;jackma&quot;,
    }],
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>结果</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/usermanage/retrieve_department/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询部门具体信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>lookup_field</td>
<td>字符串</td>
<td>否</td>
<td>查询字段, 默认为 'username'</td>
</tr>
<tr>
<td>fields</td>
<td>字符串</td>
<td>否</td>
<td>返回字段, 例如 "username,id"</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;fields&quot;: &quot;name,id&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;Success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: {
        &quot;id&quot;: 4,
        &quot;username&quot;: &quot;PaaS&quot;,
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>结果</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/usermanage/retrieve_user/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询用户具体详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>lookup_field</td>
<td>字符串</td>
<td>否</td>
<td>查询字段, 默认为 'username'</td>
</tr>
<tr>
<td>fields</td>
<td>字符串</td>
<td>否</td>
<td>返回字段, 例如 "username,id"</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;fields&quot;: &quot;username,id&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;Success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: {
        &quot;id&quot;: 4,
        &quot;username&quot;: &quot;jackma&quot;,
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>结果</td>
</tr>
</tbody>
</table><h2 id="api">配置平台 API 简介</h2>
<p><strong>蓝鲸配置平台是一款面向应用的 CMDB，在 ITIL 体系里，CMDB 是构建其它流程的基石，而在蓝鲸智云体系里，配置平台就扮演着基石的角色，为应用提供了各种运维场景的配置数据服务。</strong></p>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="./add_host_lock.md">add_host_lock</a></td>
<td>新加主机锁</td>
</tr>
<tr>
<td><a href="./add_host_to_resource.md">add_host_to_resource</a></td>
<td>新增主机到资源池</td>
</tr>
<tr>
<td><a href="./add_instance_association.md">add_instance_association</a></td>
<td>新建模型实例之间的关联关系</td>
</tr>
<tr>
<td><a href="./add_label_for_service_instance.md">add_label_for_service_instance</a></td>
<td>为服务实例添加标签</td>
</tr>
<tr>
<td><a href="./batch_create_proc_template.md">batch_create_proc_template</a></td>
<td>批量创建进程模板</td>
</tr>
<tr>
<td><a href="./batch_delete_inst.md">batch_delete_inst</a></td>
<td>批量删除实例</td>
</tr>
<tr>
<td><a href="./batch_delete_set.md">batch_delete_set</a></td>
<td>批量删除集群</td>
</tr>
<tr>
<td><a href="./batch_update_host.md">batch_update_host</a></td>
<td>批量更新主机属性</td>
</tr>
<tr>
<td><a href="./batch_update_inst.md">batch_update_inst</a></td>
<td>批量更新对象实例</td>
</tr>
<tr>
<td><a href="./bind_role_privilege.md">bind_role_privilege</a></td>
<td>绑定角色权限</td>
</tr>
<tr>
<td><a href="./clone_host_property.md">clone_host_property</a></td>
<td>克隆主机属性</td>
</tr>
<tr>
<td><a href="./create_biz_custom_field.md">create_biz_custom_field</a></td>
<td>创建业务自定义模型属性</td>
</tr>
<tr>
<td><a href="./create_business.md">create_business</a></td>
<td>新建业务</td>
</tr>
<tr>
<td><a href="./create_classification.md">create_classification</a></td>
<td>添加模型分类</td>
</tr>
<tr>
<td><a href="./create_cloud_area.md">create_cloud_area</a></td>
<td>创建云区域</td>
</tr>
<tr>
<td><a href="./create_custom_query.md">create_custom_query</a></td>
<td>添加自定义查询</td>
</tr>
<tr>
<td><a href="./create_dynamic_group.md">create_dynamic_group</a></td>
<td>创建动态分组</td>
</tr>
<tr>
<td><a href="./create_inst.md">create_inst</a></td>
<td>创建实例</td>
</tr>
<tr>
<td><a href="./create_module.md">create_module</a></td>
<td>创建模块</td>
</tr>
<tr>
<td><a href="./create_object.md">create_object</a></td>
<td>创建模型</td>
</tr>
<tr>
<td><a href="./create_object_attribute.md">create_object_attribute</a></td>
<td>创建模型属性</td>
</tr>
<tr>
<td><a href="./create_process_instance.md">create_process_instance</a></td>
<td>创建进程实例</td>
</tr>
<tr>
<td><a href="./create_service_category.md">create_service_category</a></td>
<td>新建服务分类</td>
</tr>
<tr>
<td><a href="./create_service_instance.md">create_service_instance</a></td>
<td>创建服务实例</td>
</tr>
<tr>
<td><a href="./create_service_template.md">create_service_template</a></td>
<td>新建服务模板</td>
</tr>
<tr>
<td><a href="./create_set.md">create_set</a></td>
<td>创建集群</td>
</tr>
<tr>
<td><a href="./create_set_template.md">create_set_template</a></td>
<td>新建集群模板</td>
</tr>
<tr>
<td><a href="./delete_business.md">delete_business</a></td>
<td>删除业务</td>
</tr>
<tr>
<td><a href="./delete_classification.md">delete_classification</a></td>
<td>删除模型分类</td>
</tr>
<tr>
<td><a href="./delete_cloud_area.md">delete_cloud_area</a></td>
<td>删除云区域</td>
</tr>
<tr>
<td><a href="./delete_custom_query.md">delete_custom_query</a></td>
<td>删除自定义查询</td>
</tr>
<tr>
<td><a href="./delete_dynamic_group.md">delete_dynamic_group</a></td>
<td>删除动态分组</td>
</tr>
<tr>
<td><a href="./delete_host.md">delete_host</a></td>
<td>删除主机</td>
</tr>
<tr>
<td><a href="./delete_host_lock.md">delete_host_lock</a></td>
<td>删除主机锁</td>
</tr>
<tr>
<td><a href="./delete_inst.md">delete_inst</a></td>
<td>删除实例</td>
</tr>
<tr>
<td><a href="./delete_instance_association.md">delete_instance_association</a></td>
<td>删除模型实例之间的关联关系</td>
</tr>
<tr>
<td><a href="./delete_module.md">delete_module</a></td>
<td>删除模块</td>
</tr>
<tr>
<td><a href="./delete_object.md">delete_object</a></td>
<td>删除模型</td>
</tr>
<tr>
<td><a href="./delete_object_attribute.md">delete_object_attribute</a></td>
<td>删除对象模型属性</td>
</tr>
<tr>
<td><a href="./delete_process_instance.md">delete_process_instance</a></td>
<td>删除进程实例</td>
</tr>
<tr>
<td><a href="./delete_proc_template.md">delete_proc_template</a></td>
<td>删除进程模板</td>
</tr>
<tr>
<td><a href="./delete_related_inst_asso.md">delete_related_inst_asso</a></td>
<td>删除某实例所有的关联关系（包含其作为关联关系原模型和关联关系目标模型的情况）</td>
</tr>
<tr>
<td><a href="./delete_service_category.md">delete_service_category</a></td>
<td>删除服务分类</td>
</tr>
<tr>
<td><a href="./delete_service_instance.md">delete_service_instance</a></td>
<td>删除服务实例</td>
</tr>
<tr>
<td><a href="./delete_service_template.md">delete_service_template</a></td>
<td>删除服务模板</td>
</tr>
<tr>
<td><a href="./delete_set.md">delete_set</a></td>
<td>删除集群</td>
</tr>
<tr>
<td><a href="./delete_set_template.md">delete_set_template</a></td>
<td>删除集群模板</td>
</tr>
<tr>
<td><a href="./execute_dynamic_group.md">execute_dynamic_group</a></td>
<td>执行动态分组</td>
</tr>
<tr>
<td><a href="./find_host_biz_relations.md">find_host_biz_relations</a></td>
<td>查询主机业务关系信息</td>
</tr>
<tr>
<td><a href="./find_host_by_service_template.md">find_host_by_service_template</a></td>
<td>查询服务模板下的主机</td>
</tr>
<tr>
<td><a href="./find_host_by_set_template.md">find_host_by_set_template</a></td>
<td>查询集群模板下的主机</td>
</tr>
<tr>
<td><a href="./find_host_by_topo.md">find_host_by_topo</a></td>
<td>查询拓扑节点下的主机</td>
</tr>
<tr>
<td><a href="./find_host_snapshot_batch.md">find_host_snapshot_batch</a></td>
<td>批量查询主机快照</td>
</tr>
<tr>
<td><a href="./find_host_topo_relation.md">find_host_topo_relation</a></td>
<td>获取主机与拓扑的关系</td>
</tr>
<tr>
<td><a href="./find_instance_association.md">find_instance_association</a></td>
<td>查询模型实例之间的关联关系</td>
</tr>
<tr>
<td><a href="./find_module_batch.md">find_module_batch</a></td>
<td>批量查询某业务的模块详情</td>
</tr>
<tr>
<td><a href="./find_module_host_relation.md">find_module_host_relation</a></td>
<td>根据模块 ID 查询主机和模块的关系</td>
</tr>
<tr>
<td><a href="./find_module_with_relation.md">find_module_with_relation</a></td>
<td>根据条件查询业务下的模块</td>
</tr>
<tr>
<td><a href="./find_object_association.md">find_object_association</a></td>
<td>查询模型之间的关联关系</td>
</tr>
<tr>
<td><a href="./find_set_batch.md">find_set_batch</a></td>
<td>批量查询某业务的集群详情</td>
</tr>
<tr>
<td><a href="./find_topo_node_paths.md">find_topo_node_paths</a></td>
<td>查询业务拓扑节点的拓扑路径</td>
</tr>
<tr>
<td><a href="./get_biz_internal_module.md">get_biz_internal_module</a></td>
<td>查询业务的空闲机/故障机/待回收模块</td>
</tr>
<tr>
<td><a href="./get_custom_query_data.md">get_custom_query_data</a></td>
<td>根据自定义查询获取数据</td>
</tr>
<tr>
<td><a href="./get_custom_query_detail.md">get_custom_query_detail</a></td>
<td>获取自定义查询详情</td>
</tr>
<tr>
<td><a href="./get_dynamic_group.md">get_dynamic_group</a></td>
<td>查询指定动态分组</td>
</tr>
<tr>
<td><a href="./get_host_base_info.md">get_host_base_info</a></td>
<td>获取主机详情</td>
</tr>
<tr>
<td><a href="./get_mainline_object_topo.md">get_mainline_object_topo</a></td>
<td>查询主线模型的业务拓扑</td>
</tr>
<tr>
<td><a href="./get_operation_log.md">get_operation_log</a></td>
<td>获取操作日志</td>
</tr>
<tr>
<td><a href="./get_proc_template.md">get_proc_template</a></td>
<td>获取进程模板</td>
</tr>
<tr>
<td><a href="./get_service_template.md">get_service_template</a></td>
<td>获取服务模板</td>
</tr>
<tr>
<td><a href="./list_biz_hosts.md">list_biz_hosts</a></td>
<td>查询业务下的主机</td>
</tr>
<tr>
<td><a href="./list_biz_hosts_topo.md">list_biz_hosts_topo</a></td>
<td>查询业务下的主机和拓扑信息</td>
</tr>
<tr>
<td><a href="./list_hosts_without_biz.md">list_hosts_without_biz</a></td>
<td>没有业务 ID 的主机查询</td>
</tr>
<tr>
<td><a href="./list_process_detail_by_ids.md">list_process_detail_by_ids</a></td>
<td>查询某业务下进程 ID 对应的进程详情</td>
</tr>
<tr>
<td><a href="./list_process_instance.md">list_process_instance</a></td>
<td>查询进程实例列表</td>
</tr>
<tr>
<td><a href="./list_proc_template.md">list_proc_template</a></td>
<td>查询进程模板列表</td>
</tr>
<tr>
<td><a href="./list_resource_pool_hosts.md">list_resource_pool_hosts</a></td>
<td>查询资源池中的主机</td>
</tr>
<tr>
<td><a href="./list_service_category.md">list_service_category</a></td>
<td>查询服务分类列表</td>
</tr>
<tr>
<td><a href="./list_service_instance.md">list_service_instance</a></td>
<td>查询服务实例列表</td>
</tr>
<tr>
<td><a href="./list_service_instance_by_host.md">list_service_instance_by_host</a></td>
<td>通过主机查询关联的服务实例列表</td>
</tr>
<tr>
<td><a href="./list_service_instance_detail.md">list_service_instance_detail</a></td>
<td>获取服务实例详细信息</td>
</tr>
<tr>
<td><a href="./list_service_instance_by_set_template.md">list_service_instance_by_set_template</a></td>
<td>通过集群模版查询关联的服务实例列表</td>
</tr>
<tr>
<td><a href="./list_service_template.md">list_service_template</a></td>
<td>服务模板列表查询</td>
</tr>
<tr>
<td><a href="./list_set_template.md">list_set_template</a></td>
<td>查询集群模板</td>
</tr>
<tr>
<td><a href="./list_set_template_related_service_template.md">list_set_template_related_service_template</a></td>
<td>获取某集群模版下的服务模版列表</td>
</tr>
<tr>
<td><a href="./remove_label_from_service_instance.md">remove_label_from_service_instance</a></td>
<td>从服务实例移除标签</td>
</tr>
<tr>
<td><a href="./resource_watch.md">resource_watch</a></td>
<td>监听资源变化事件</td>
</tr>
<tr>
<td><a href="./search_biz_inst_topo.md">search_biz_inst_topo</a></td>
<td>查询业务实例拓扑</td>
</tr>
<tr>
<td><a href="./search_business.md">search_business</a></td>
<td>查询业务</td>
</tr>
<tr>
<td><a href="./search_classifications.md">search_classifications</a></td>
<td>查询模型分类</td>
</tr>
<tr>
<td><a href="./search_cloud_area.md">search_cloud_area</a></td>
<td>查询云区域</td>
</tr>
<tr>
<td><a href="./search_custom_query.md">search_custom_query</a></td>
<td>查询自定义查询</td>
</tr>
<tr>
<td><a href="./search_dynamic_group.md">search_dynamic_group</a></td>
<td>搜索动态分组</td>
</tr>
<tr>
<td><a href="./search_host_lock.md">search_host_lock</a></td>
<td>查询主机锁</td>
</tr>
<tr>
<td><a href="./search_hostidentifier.md">search_hostidentifier</a></td>
<td>根据条件查询主机身份</td>
</tr>
<tr>
<td><a href="./search_inst.md">search_inst</a></td>
<td>查询实例</td>
</tr>
<tr>
<td><a href="./search_inst_association_topo.md">search_inst_association_topo</a></td>
<td>根据关联关系实例查询模型实例</td>
</tr>
<tr>
<td><a href="./search_inst_asst_object_inst_base_info.md">search_inst_asst_object_inst_base_info</a></td>
<td>查询实例关联模型实例基本信息</td>
</tr>
<tr>
<td><a href="./search_inst_by_object.md">search_inst_by_object</a></td>
<td>查询实例详情</td>
</tr>
<tr>
<td><a href="./search_module.md">search_module</a></td>
<td>查询模块</td>
</tr>
<tr>
<td><a href="./search_objects.md">search_objects</a></td>
<td>查询模型</td>
</tr>
<tr>
<td><a href="./search_object_attribute.md">search_object_attribute</a></td>
<td>查询对象模型属性</td>
</tr>
<tr>
<td><a href="./search_object_topo.md">search_object_topo</a></td>
<td>查询普通模型拓扑</td>
</tr>
<tr>
<td><a href="./search_related_inst_asso.md">search_related_inst_asso</a></td>
<td>查询某实例所有的关联关系（包含其作为关联关系原模型和关联关系目标模型的情况）</td>
</tr>
<tr>
<td><a href="./search_set.md">search_set</a></td>
<td>查询集群</td>
</tr>
<tr>
<td><a href="./search_subscription.md">search_subscription</a></td>
<td>查询订阅</td>
</tr>
<tr>
<td><a href="./search_topo_tree.md">search_topo_tree</a></td>
<td>搜索业务拓扑树</td>
</tr>
<tr>
<td><a href="./subscribe_event.md">subscribe_event</a></td>
<td>订阅事件</td>
</tr>
<tr>
<td><a href="./sync_set_template_to_set.md">sync_set_template_to_set</a></td>
<td>集群模板同步</td>
</tr>
<tr>
<td><a href="./transfer_host_module.md">transfer_host_module</a></td>
<td>业务内主机转移模块</td>
</tr>
<tr>
<td><a href="./transfer_host_to_faultmodule.md">transfer_host_to_faultmodule</a></td>
<td>上交主机到业务的故障机模块</td>
</tr>
<tr>
<td><a href="./transfer_host_to_idlemodule.md">transfer_host_to_idlemodule</a></td>
<td>上交主机到业务的空闲机模块</td>
</tr>
<tr>
<td><a href="./transfer_host_to_resourcemodule.md">transfer_host_to_resourcemodule</a></td>
<td>上交主机至资源池</td>
</tr>
<tr>
<td><a href="./transfer_resourcehost_to_idlemodule.md">transfer_resourcehost_to_idlemodule</a></td>
<td>资源池主机分配至业务的空闲机模块</td>
</tr>
<tr>
<td><a href="./transfer_sethost_to_idle_module.md">transfer_sethost_to_idle_module</a></td>
<td>清空业务下集群/模块中主机</td>
</tr>
<tr>
<td><a href="./unsubcribe_event.md">unsubcribe_event</a></td>
<td>退订事件</td>
</tr>
<tr>
<td><a href="./update_biz_custom_field.md">update_biz_custom_field</a></td>
<td>更新业务自定义模型属性</td>
</tr>
<tr>
<td><a href="./update_business.md">update_business</a></td>
<td>修改业务</td>
</tr>
<tr>
<td><a href="./update_business_enable_status.md">update_business_enable_status</a></td>
<td>修改业务启用状态</td>
</tr>
<tr>
<td><a href="./update_classification.md">update_classification</a></td>
<td>更新模型分类</td>
</tr>
<tr>
<td><a href="./update_cloud_area.md">update_cloud_area</a></td>
<td>更新云区域</td>
</tr>
<tr>
<td><a href="./update_custom_query.md">update_custom_query</a></td>
<td>更新自定义查询</td>
</tr>
<tr>
<td><a href="./update_dynamic_group.md">update_dynamic_group</a></td>
<td>更新动态分组</td>
</tr>
<tr>
<td><a href="./update_event_subscribe.md">update_event_subscribe</a></td>
<td>修改订阅</td>
</tr>
<tr>
<td><a href="./update_host.md">update_host</a></td>
<td>更新主机属性</td>
</tr>
<tr>
<td><a href="./update_host_cloud_area_field.md">update_host_cloud_area_field</a></td>
<td>更新主机的云区域字段</td>
</tr>
<tr>
<td><a href="./update_inst.md">update_inst</a></td>
<td>更新对象实例</td>
</tr>
<tr>
<td><a href="./update_module.md">update_module</a></td>
<td>更新模块</td>
</tr>
<tr>
<td><a href="./update_object.md">update_object</a></td>
<td>更新定义</td>
</tr>
<tr>
<td><a href="./update_object_attribute.md">update_object_attribute</a></td>
<td>更新对象模型属性</td>
</tr>
<tr>
<td><a href="./update_object_topo_graphics.md">update_object_topo_graphics</a></td>
<td>更新拓扑图</td>
</tr>
<tr>
<td><a href="./update_process_instance.md">update_process_instance</a></td>
<td>更新进程实例</td>
</tr>
<tr>
<td><a href="./update_proc_template.md">update_proc_template</a></td>
<td>更新进程模板</td>
</tr>
<tr>
<td><a href="./update_service_category.md">update_service_category</a></td>
<td>更新服务分类</td>
</tr>
<tr>
<td><a href="./update_service_template.md">update_service_template</a></td>
<td>更新服务模板</td>
</tr>
<tr>
<td><a href="./update_set.md">update_set</a></td>
<td>更新集群</td>
</tr>
<tr>
<td><a href="./update_set_template.md">update_set_template</a></td>
<td>编辑集群模板</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/add_host_lock/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据主机的 id 列表对主机加锁，新加主机锁，如果主机已经加过锁，同样提示加锁成功(v3.8.6)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id_list</td>
<td>int array</td>
<td>是</td>
<td>主机 ID 列表</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
   &quot;id_list&quot;:[1, 2, 3]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: null
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/add_host_to_resource/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>新增主机到资源池</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>host_info</td>
<td>dict</td>
<td>是</td>
<td>主机信息</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>否</td>
<td>业务 ID</td>
</tr>
</tbody>
</table>
<h4 id="host_info">host_info</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_host_innerip</td>
<td>string</td>
<td>是</td>
<td>主机内网 ip</td>
</tr>
<tr>
<td>import_from</td>
<td>string</td>
<td>是</td>
<td>主机导入来源,以 api 方式导入为 3</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>是</td>
<td>云区域 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;host_info&quot;: {
        &quot;0&quot;: {
            &quot;bk_host_innerip&quot;: &quot;10.0.0.1&quot;,
            &quot;bk_cloud_id&quot;: 0,
            &quot;import_from&quot;: &quot;3&quot;
        }
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/add_instance_association/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>新增模型实例之间的关联关系.</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>metadata</td>
<td>object</td>
<td>Yes</td>
<td>meta data</td>
</tr>
<tr>
<td>condition</td>
<td>string map</td>
<td>Yes</td>
<td>查询条件</td>
</tr>
</tbody>
</table>
<p>metadata params</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>label</td>
<td>string map</td>
<td>Yes</td>
<td>标签信息</td>
</tr>
</tbody>
</table>
<p>label params</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>Yes</td>
<td>业务 id</td>
</tr>
</tbody>
</table>
<p>condition params</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_asst_id</td>
<td>string</td>
<td>Yes</td>
<td>模型之间关系关系的唯一 id</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int64</td>
<td>Yes</td>
<td>源模型实例 id</td>
</tr>
<tr>
<td>bk_asst_inst_id</td>
<td>int64</td>
<td>Yes</td>
<td>目标模型实例 id</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_obj_asst_id&quot;: &quot;bk_switch_belong_bk_host&quot;,
    &quot;bk_inst_id&quot;: 11,
    &quot;bk_asst_inst_id&quot;: 21,
    &quot;metadata&quot;:{
        &quot;label&quot;:{
            &quot;bk_biz_id&quot;:&quot;1&quot;
        }
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;id&quot;: 1038
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int64</td>
<td>新增的实例关联关系身份 id</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/add_label_for_service_instance/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据服务实例 id 和设置的标签为服务实例添加标签</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instance_ids</td>
<td>array</td>
<td>是</td>
<td>无</td>
</tr>
<tr>
<td>labels</td>
<td>object</td>
<td>是</td>
<td>无</td>
</tr>
</tbody>
</table>
<h4 id="labels">labels 字段说明</h4>
<ul>
<li>key 校验规则: <code>^[a-zA-Z]([a-z0-9A-Z\-_.]*[a-z0-9A-Z])?$</code></li>
<li>value 校验规则: <code>^[a-z0-9A-Z]([a-z0-9A-Z\-_.]*[a-z0-9A-Z])?$</code></li>
</ul>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;instance_ids&quot;: [59, 62],
  &quot;labels&quot;: {
    &quot;key1&quot;: &quot;value1&quot;,
    &quot;key2&quot;: &quot;value2&quot;
  }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;permission&quot;: null,
  &quot;data&quot;: null
}</code></pre>


<h3 id="_9">返回结果说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/batch_create_proc_template/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>批量创建进程模板</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>service_template_id</td>
<td>int</td>
<td>否</td>
<td>服务模板 ID</td>
</tr>
<tr>
<td>processes</td>
<td>array</td>
<td>是</td>
<td>进程模板信息</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;service_template_id&quot;: 1,
  &quot;processes&quot;: [
    {
      &quot;spec&quot;: {
          &quot;auto_start&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: false
          },
          &quot;auto_time_gap&quot;: {
            &quot;as_default_value&quot;: false
          },
          &quot;bind_ip&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: &quot;1&quot;
          },
          &quot;bk_biz_id&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: 2
          },
          &quot;bk_func_id&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: &quot;1&quot;
          },
          &quot;bk_func_name&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: &quot;nginx&quot;
          },
          &quot;bk_process_id&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: 3
          },
          &quot;bk_process_name&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: &quot;&quot;
          },
          &quot;bk_supplier_account&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: &quot;&quot;
          },
          &quot;create_time&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: &quot;2019-05-06T07:12:35.082Z&quot;
          },
          &quot;description&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: &quot;a simple description&quot;
          },
          &quot;face_stop_cmd&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: &quot;./stop.sh&quot;
          },
          &quot;last_time&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: &quot;2019-05-06T07:12:35.082Z&quot;
          },
          &quot;pid_file&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: &quot;&quot;
          },
          &quot;port&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: &quot;8000,8001,8003,8004&quot;
          },
          &quot;priority&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: 1
          },
          &quot;proc_num&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: 1
          },
          &quot;protocol&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: &quot;1&quot;
          },
          &quot;reload_cmd&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: &quot;&quot;
          },
          &quot;restart_cmd&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: &quot;./restart.sh&quot;
          },
          &quot;start_cmd&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: &quot;./start.sh&quot;
          },
          &quot;stop_cmd&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: &quot;./stop.sh&quot;
          },
          &quot;timeout&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: 60
          },
          &quot;user&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: &quot;&quot;
          },
          &quot;work_path&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: &quot;/data/bkce&quot;
          },
          &quot;bk_start_param_regex&quot;: {
            &quot;as_default_value&quot;: true,
            &quot;value&quot;: &quot;&quot;
          }
        }
      }
  ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;permission&quot;: null,
  &quot;data&quot;: [[52]]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>成功创建的进程模板 ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/batch_delete_inst/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>批量删除对象实例</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>模型 ID</td>
</tr>
<tr>
<td>inst_ids</td>
<td>int array</td>
<td>是</td>
<td>实例 ID 集合</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;bk_obj_id&quot;: &quot;test&quot;,
    &quot;delete&quot;:{
    &quot;inst_ids&quot;:[123]
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: &quot;success&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/batch_delete_set/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>对指定业务 id 下通过集群 id 批量删除集群</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>inst_ids</td>
<td>int array</td>
<td>是</td>
<td>集群 ID 集合</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_biz_id&quot;:0,
    &quot;delete&quot;: {
    &quot;inst_ids&quot;: [123]
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: &quot;success&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/batch_update_host/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据主机 id 和属性批量更新主机属性（不能用于更新主机属性中的云区域字段）</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>update</td>
<td>object array</td>
<td>是</td>
<td>主机被更新的属性和值，最多 500 条</td>
</tr>
</tbody>
</table>
<h4 id="update">update</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>properties</td>
<td>object</td>
<td>是</td>
<td>主机被更新的属性和值，不能用于更新主机属性中的云区域字段</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>int</td>
<td>是</td>
<td>用于更新的主机 ID</td>
</tr>
</tbody>
</table>
<h4 id="properties">properties</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_host_name</td>
<td>string</td>
<td>否</td>
<td>主机名，也可以为其它属性，不能用于更新主机属性中的云区域字段</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>否</td>
<td>主要维护人，也可以为其它属性，不能用于更新主机属性中的云区域字段</td>
</tr>
<tr>
<td>bk_comment</td>
<td>string</td>
<td>否</td>
<td>备注，也可以为其它属性，不能用于更新主机属性中的云区域字段</td>
</tr>
<tr>
<td>bk_isp_name</td>
<td>string</td>
<td>否</td>
<td>所属运营商，也可以为其它属性，不能用于更新主机属性中的云区域字段</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_supplier_account&quot;:&quot;0&quot;,
    &quot;update&quot;:[
      {
        &quot;properties&quot;:{
          &quot;bk_host_name&quot;:&quot;batch_update&quot;,
          &quot;operator&quot;: &quot;admin&quot;,
          &quot;bk_comment&quot;: &quot;test&quot;,
          &quot;bk_isp_name&quot;: &quot;1&quot;
        },
        &quot;bk_host_id&quot;:46
      }
    ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: null
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/batch_update_inst/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>批量更新对象实例</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>模型 ID</td>
</tr>
<tr>
<td>update</td>
<td>object array</td>
<td>是</td>
<td>实例被更新的字段及值</td>
</tr>
</tbody>
</table>
<h4 id="update">update</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>否</td>
<td>实例名，也可以为其它自定义字段</td>
</tr>
<tr>
<td>datas</td>
<td>object</td>
<td>是</td>
<td>实例被更新的字段取值</td>
</tr>
<tr>
<td>inst_id</td>
<td>int</td>
<td>是</td>
<td>指明 datas 用于更新的具体实例</td>
</tr>
</tbody>
</table>
<h4 id="datas">datas</h4>
<p><strong>datas 是 map 类型的对象，key 是实例对应的模型定义的字段，value 是字段的取值</strong></p>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_supplier_account&quot;:&quot;0&quot;,
    &quot;bk_obj_id&quot;:&quot;test&quot;,
    &quot;update&quot;:[
        {
          &quot;datas&quot;:{
            &quot;bk_inst_name&quot;:&quot;batch_update&quot;
          },
          &quot;inst_id&quot;:46
         }
        ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: &quot;success&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/bind_role_privilege/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/clone_host_property/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>克隆主机属性</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_org_ip</td>
<td>string</td>
<td>是</td>
<td>源主机 ip, 只支持传入单 ip</td>
</tr>
<tr>
<td>bk_dst_ip</td>
<td>string</td>
<td>是</td>
<td>目标主机 ip, 多个 ip 用","分割</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>否</td>
<td>云区域 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_biz_id&quot;:2,
    &quot;bk_org_ip&quot;:&quot;127.0.0.1&quot;,
    &quot;bk_dst_ip&quot;:&quot;127.0.0.2&quot;,
    &quot;bk_cloud_id&quot;:0
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: null
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_biz_custom_field/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建业务自定义模型属性</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 id</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>否</td>
<td>数据的创建者</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>否</td>
<td>数据的描述信息</td>
</tr>
<tr>
<td>editable</td>
<td>bool</td>
<td>否</td>
<td>表明数据是否可编辑</td>
</tr>
<tr>
<td>isonly</td>
<td>bool</td>
<td>否</td>
<td>表明唯一性</td>
</tr>
<tr>
<td>ispre</td>
<td>bool</td>
<td>否</td>
<td>true:预置字段,false:非内置字段</td>
</tr>
<tr>
<td>isreadonly</td>
<td>bool</td>
<td>否</td>
<td>true:只读，false:非只读</td>
</tr>
<tr>
<td>isrequired</td>
<td>bool</td>
<td>否</td>
<td>true:必填，false:可选</td>
</tr>
<tr>
<td>option</td>
<td>string</td>
<td>否</td>
<td _min_:_1_max_:_2_="&quot;min&quot;:&quot;1&quot;,&quot;max&quot;:&quot;2&quot;">用户自定义内容，存储的内容及格式由调用方决定，以数字类型为例（</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>否</td>
<td>单位</td>
</tr>
<tr>
<td>placeholder</td>
<td>string</td>
<td>否</td>
<td>占位符</td>
</tr>
<tr>
<td>bk_property_group</td>
<td>string</td>
<td>否</td>
<td>字段分栏的名字</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>模型 ID</td>
</tr>
<tr>
<td>bk_property_id</td>
<td>string</td>
<td>是</td>
<td>模型的属性 ID</td>
</tr>
<tr>
<td>bk_property_name</td>
<td>string</td>
<td>是</td>
<td>模型属性名，用于展示</td>
</tr>
<tr>
<td>bk_property_type</td>
<td>string</td>
<td>是</td>
<td>定义的属性字段用于存储数据的数据类型,可取值范围（singlechar,longchar,int,enum,date,time,objuser,singleasst,multiasst,timezone,bool）</td>
</tr>
<tr>
<td>bk_asst_obj_id</td>
<td>string</td>
<td>否</td>
<td>如果有关联其它的模型，那么就必需设置此字段，否则就不需要设置</td>
</tr>
</tbody>
</table>
<h4 id="bk_property_type">bk_property_type</h4>
<table>
<thead>
<tr>
<th>标识</th>
<th>名字</th>
</tr>
</thead>
<tbody>
<tr>
<td>singlechar</td>
<td>短字符</td>
</tr>
<tr>
<td>longchar</td>
<td>长字符</td>
</tr>
<tr>
<td>int</td>
<td>整形</td>
</tr>
<tr>
<td>enum</td>
<td>枚举类型</td>
</tr>
<tr>
<td>date</td>
<td>日期</td>
</tr>
<tr>
<td>time</td>
<td>时间</td>
</tr>
<tr>
<td>objuser</td>
<td>用户</td>
</tr>
<tr>
<td>singleasst</td>
<td>单关联</td>
</tr>
<tr>
<td>multiasst</td>
<td>多关联</td>
</tr>
<tr>
<td>timezone</td>
<td>时区</td>
</tr>
<tr>
<td>bool</td>
<td>布尔</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_biz_id&quot;: 2,
    &quot;creator&quot;: &quot;user&quot;,
    &quot;description&quot;: &quot;test&quot;,
    &quot;editable&quot;: true,
    &quot;isonly&quot;: false,
    &quot;ispre&quot;: false,
    &quot;isreadonly&quot;: false,
    &quot;isrequired&quot;: false,
    &quot;option&quot;: {&quot;min&quot;:1,&quot;max&quot;:2},
    &quot;unit&quot;: &quot;1&quot;,
    &quot;placeholder&quot;: &quot;test&quot;,
    &quot;bk_property_group&quot;: &quot;default&quot;,
    &quot;bk_obj_id&quot;: &quot;cc_test_inst&quot;,
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;bk_property_id&quot;: &quot;cc_test&quot;,
    &quot;bk_property_name&quot;: &quot;cc_test&quot;,
    &quot;bk_property_type&quot;: &quot;singlechar&quot;,
    &quot;bk_asst_obj_id&quot;: &quot;test&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;bk_biz_id&quot;: 2,
        &quot;id&quot;: 7,
        &quot;bk_supplier_account&quot;: &quot;0&quot;,
        &quot;bk_obj_id&quot;: &quot;cc_test_inst&quot;,
        &quot;bk_property_id&quot;: &quot;cc_test&quot;,
        &quot;bk_property_name&quot;: &quot;cc_test&quot;,
        &quot;bk_property_group&quot;: &quot;default&quot;,
        &quot;bk_property_index&quot;: 4,
        &quot;unit&quot;: &quot;1&quot;,
        &quot;placeholder&quot;: &quot;test&quot;,
        &quot;editable&quot;: true,
        &quot;ispre&quot;: false,
        &quot;isrequired&quot;: false,
        &quot;isreadonly&quot;: false,
        &quot;isonly&quot;: false,
        &quot;bk_issystem&quot;: false,
        &quot;bk_isapi&quot;: false,
        &quot;bk_property_type&quot;: &quot;singlechar&quot;,
        &quot;option&quot;: {&quot;min&quot;:1,&quot;max&quot;:2},
        &quot;description&quot;: &quot;test&quot;,
        &quot;creator&quot;: &quot;user&quot;,
        &quot;create_time&quot;: &quot;2020-03-25 17:12:08&quot;,
        &quot;last_time&quot;: &quot;2020-03-25 17:12:08&quot;,
        &quot;bk_property_group_name&quot;: &quot;default&quot;
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务自定义字段的业务 id</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>数据的创建者</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>数据的描述信息</td>
</tr>
<tr>
<td>editable</td>
<td>bool</td>
<td>表明数据是否可编辑</td>
</tr>
<tr>
<td>isonly</td>
<td>bool</td>
<td>表明唯一性</td>
</tr>
<tr>
<td>ispre</td>
<td>bool</td>
<td>true:预置字段,false:非内置字段</td>
</tr>
<tr>
<td>isreadonly</td>
<td>bool</td>
<td>true:只读，false:非只读</td>
</tr>
<tr>
<td>isrequired</td>
<td>bool</td>
<td>true:必填，false:可选</td>
</tr>
<tr>
<td>option</td>
<td>string</td>
<td>用户自定义内容，存储的内容及格式由调用方决定</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>单位</td>
</tr>
<tr>
<td>placeholder</td>
<td>string</td>
<td>占位符</td>
</tr>
<tr>
<td>bk_property_group</td>
<td>string</td>
<td>字段分栏的名字</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>模型 ID</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_property_id</td>
<td>string</td>
<td>模型的属性 ID</td>
</tr>
<tr>
<td>bk_property_name</td>
<td>string</td>
<td>模型属性名，用于展示</td>
</tr>
<tr>
<td>bk_property_type</td>
<td>string</td>
<td>定义的属性字段用于存储数据的数据类型 （singlechar,longchar,int,enum,date,time,objuser,singleasst,multiasst,timezone,bool)</td>
</tr>
<tr>
<td>bk_asst_obj_id</td>
<td>string</td>
<td>如果有关联其它的模型，那么就必需设置此字段，否则就不需要设置</td>
</tr>
</tbody>
</table>
<h4 id="bk_property_type_1">bk_property_type</h4>
<table>
<thead>
<tr>
<th>标识</th>
<th>名字</th>
</tr>
</thead>
<tbody>
<tr>
<td>singlechar</td>
<td>短字符</td>
</tr>
<tr>
<td>longchar</td>
<td>长字符</td>
</tr>
<tr>
<td>int</td>
<td>整形</td>
</tr>
<tr>
<td>enum</td>
<td>枚举类型</td>
</tr>
<tr>
<td>date</td>
<td>日期</td>
</tr>
<tr>
<td>time</td>
<td>时间</td>
</tr>
<tr>
<td>objuser</td>
<td>用户</td>
</tr>
<tr>
<td>singleasst</td>
<td>单关联</td>
</tr>
<tr>
<td>multiasst</td>
<td>多关联</td>
</tr>
<tr>
<td>timezone</td>
<td>时区</td>
</tr>
<tr>
<td>bool</td>
<td>布尔</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_business/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>新建业务</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>是</td>
<td>业务数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_name</td>
<td>string</td>
<td>是</td>
<td>业务名</td>
</tr>
<tr>
<td>bk_biz_maintainer</td>
<td>string</td>
<td>是</td>
<td>运维人员</td>
</tr>
<tr>
<td>bk_biz_productor</td>
<td>string</td>
<td>是</td>
<td>产品人员</td>
</tr>
<tr>
<td>bk_biz_developer</td>
<td>string</td>
<td>是</td>
<td>开发人员</td>
</tr>
<tr>
<td>bk_biz_tester</td>
<td>string</td>
<td>是</td>
<td>测试人员</td>
</tr>
<tr>
<td>time_zone</td>
<td>string</td>
<td>是</td>
<td>时区</td>
</tr>
<tr>
<td>language</td>
<td>string</td>
<td>是</td>
<td>语言, "1"代表中文, "2"代表英文</td>
</tr>
<tr>
<td><strong>注意：此处的输入参数仅对必填以及系统内置的参数做了说明，其余需要填写的参数取决于用户自己定义的属性字段</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;data&quot;: {
        &quot;bk_biz_name&quot;: &quot;cc_app_test&quot;,
        &quot;bk_biz_maintainer&quot;: &quot;admin&quot;,
        &quot;bk_biz_productor&quot;: &quot;admin&quot;,
        &quot;bk_biz_developer&quot;: &quot;admin&quot;,
        &quot;bk_biz_tester&quot;: &quot;admin&quot;,
        &quot;time_zone&quot;: &quot;Asia/Shanghai&quot;,
        &quot;language&quot;: &quot;1&quot;
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;bk_biz_id&quot;: 2
    }
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_classification/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>添加模型分类</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_classification_id</td>
<td>string</td>
<td>是</td>
<td>分类 ID，英文描述用于系统内部使用</td>
</tr>
<tr>
<td>bk_classification_name</td>
<td>string</td>
<td>是</td>
<td>分类名</td>
</tr>
<tr>
<td>bk_classification_icon</td>
<td>string</td>
<td>否</td>
<td>模型分类的图标,取值可参考，取值可参考<a href="resource_define/classIcon.json">(classIcon.json)</a></td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_classification_id&quot;: &quot;cs_test&quot;,
    &quot;bk_classification_name&quot;: &quot;test_name&quot;,
    &quot;bk_classification_icon&quot;: &quot;icon-cc-business&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;id&quot;: 18
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>新增数据记录的 ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_cloud_area/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据云区域名字创建云区域</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_name</td>
<td>string</td>
<td>是</td>
<td>云区域名字</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_cloud_name&quot;: &quot;test1&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;permission&quot;: null,
    &quot;data&quot;: {
        &quot;created&quot;: {
            &quot;id&quot;: 2
        }
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>created</td>
<td>object</td>
<td>创建成功，返回信息</td>
</tr>
</tbody>
</table>
<h4 id="datacreated">data.created</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>云区域 id, bk_cloud_id</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_custom_query/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>添加自定义查询</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>info</td>
<td>string</td>
<td>是</td>
<td>通用查询条件</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>收藏的名称</td>
</tr>
</tbody>
</table>
<h4 id="info">info</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>否</td>
<td>对象名,可以为 biz,set,module,host,object</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>否</td>
<td>查询输出字段</td>
</tr>
<tr>
<td>condition</td>
<td>array</td>
<td>否</td>
<td>查询条件</td>
</tr>
</tbody>
</table>
<h4 id="infoconditioncondition">info.condition.condition</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>field</td>
<td>string</td>
<td>否</td>
<td>对象的字段</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>否</td>
<td>操作符, $eq 为相等，$ne 为不等，$in 为属于，$nin 为不属于</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>否</td>
<td>字段对应的值</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;info&quot;: &quot;{\&quot;condition\&quot;:[{\&quot;bk_obj_id\&quot;:\&quot;biz\&quot;,\&quot;condition\&quot;:[{\&quot;field\&quot;:\&quot;default\&quot;,\&quot;operator\&quot;:\&quot;$ne\&quot;,\&quot;value\&quot;:1}],\&quot;fields\&quot;:[]},{\&quot;bk_obj_id\&quot;:\&quot;set\&quot;,\&quot;condition\&quot;:[],\&quot;fields\&quot;:[]},{\&quot;bk_obj_id\&quot;:\&quot;module\&quot;,\&quot;condition\&quot;:[],\&quot;fields\&quot;:[]},{\&quot;bk_obj_id\&quot;:\&quot;host\&quot;,\&quot;condition\&quot;:[{\&quot;field\&quot;:\&quot;bk_host_innerip\&quot;,\&quot;operator\&quot;:\&quot;$eq\&quot;,\&quot;value\&quot;:\&quot;127.0.0.1\&quot;}],\&quot;fields\&quot;:[\&quot;bk_host_innerip\&quot;,\&quot;bk_host_outerip\&quot;,\&quot;bk_agent_status\&quot;]}]}&quot;,
    &quot;name&quot;: &quot;api1&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;id&quot;: &quot;b80nu3dmjrccd9i5r1eg&quot;
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>自定义查询主键 ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_dynamic_group/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建动态分组 (V3.9.6)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>动态分组的目标资源对象类型,目前可以为 host,set</td>
</tr>
<tr>
<td>info</td>
<td>object</td>
<td>是</td>
<td>通用查询条件</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>动态分组名称</td>
</tr>
</tbody>
</table>
<h4 id="infocondition">info.condition</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>条件对象资源类型, host 类型的动态分组支持的 info.conditon:set,module,host；set 类型的动态分组支持的 info.condition:set</td>
</tr>
<tr>
<td>condition</td>
<td>array</td>
<td>是</td>
<td>查询条件</td>
</tr>
</tbody>
</table>
<h4 id="infoconditioncondition">info.condition.condition</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>field</td>
<td>string</td>
<td>是</td>
<td>对象的字段</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>操作符, op 值为 eq(相等)/ne(不等)/in(属于)/nin(不属于)</td>
</tr>
<tr>
<td>value</td>
<td>object</td>
<td>是</td>
<td>字段对应的值</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;bk_obj_id&quot;: &quot;host&quot;,
    &quot;name&quot;: &quot;my-dynamic-group&quot;,
    &quot;info&quot;: {
        &quot;condition&quot;:[
            {
                &quot;bk_obj_id&quot;:&quot;set&quot;,
                &quot;condition&quot;:[
                    {
                        &quot;field&quot;:&quot;default&quot;,
                        &quot;operator&quot;:&quot;$ne&quot;,
                        &quot;value&quot;:1
                    }
                ]
            },
            {
                &quot;bk_obj_id&quot;:&quot;module&quot;,
                &quot;condition&quot;:[
                    {
                        &quot;field&quot;:&quot;default&quot;,
                        &quot;operator&quot;:&quot;$ne&quot;,
                        &quot;value&quot;:1
                    }
                ]
            },
            {
                &quot;bk_obj_id&quot;:&quot;host&quot;,
                &quot;condition&quot;:[
                    {
                        &quot;field&quot;:&quot;bk_host_innerip&quot;,
                        &quot;operator&quot;:&quot;$eq&quot;,
                        &quot;value&quot;:&quot;127.0.0.1&quot;
                    }
                ]
            }
        ]
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;id&quot;: &quot;XXXXXXXX&quot;
    }
}</code></pre>


<h3 id="_9">返回结果参数</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>创建成功后返回新的动态分组主键 ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_inst/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建实例</p>
<ul>
<li>该接口只适用于自定义层级模型和通用模型实例上，不适用于业务、集群、模块、主机等模型实例</li>
</ul>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>模型 ID</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>是</td>
<td>实例名</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>否</td>
<td>业务 ID， 当创建的是自定义主线层级模型实例时则必传</td>
</tr>
<tr>
<td>bk_parent_id</td>
<td>int</td>
<td>否</td>
<td>当创建的是自定义主线层级模型实例时则必传，代表父层级实例 ID</td>
</tr>
</tbody>
</table>
<p>注意：当操作的是自定义主线层级模型实例时，而又有使用权限中心的，对于 cmdb 小于 3.9 的版本，还需要传包含实例所在业务 id 的 metadata 参数，否则会导致权限中心鉴权失败，格式为
"metadata": {
    "label": {
        "bk_biz_id": "64"
    }
}</p>
<p>其它属于实例属性的字段均也可为入参。</p>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_obj_id: &quot;switch&quot;,
    &quot;bk_inst_name&quot;: &quot;example18&quot;,
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;bk_biz_id&quot;: 0
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;bk_inst_id&quot;: 67
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>实例 id</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_module/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_set_id</td>
<td>int</td>
<td>是</td>
<td>集群 id</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>是</td>
<td>业务数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_parent_id</td>
<td>int</td>
<td>是</td>
<td>父实例节点的 ID，当前实例节点的上一级实例节点，在拓扑结构中对于 module 一般指的是 set 的 bk_set_id</td>
</tr>
<tr>
<td>bk_module_name</td>
<td>string</td>
<td>是</td>
<td>模块名</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;bk_set_id&quot;: 10,
    &quot;data&quot;: {
        &quot;bk_parent_id&quot;: 10,
        &quot;bk_module_name&quot;: &quot;test&quot;
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;bk_module_id&quot;: 10
    }
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_object/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建模型</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>creator</td>
<td>string</td>
<td>否</td>
<td>本条数据创建者</td>
</tr>
<tr>
<td>bk_classification_id</td>
<td>string</td>
<td>是</td>
<td>对象模型的分类 ID，只能用英文字母序列命名</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>对象模型的 ID，只能用英文字母序列命名</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>是</td>
<td>对象模型的名字，用于展示，可以使用人类可以阅读的任何语言</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>否</td>
<td>对象模型的 ICON 信息，用于前端显示，取值可参考<a href="/static/esb/api_docs/res/cc/modleIcon.json">(modleIcon.json)</a></td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;creator&quot;: &quot;admin&quot;,
    &quot;bk_classification_id&quot;: &quot;test&quot;,
    &quot;bk_obj_name&quot;: &quot;test&quot;,
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;bk_obj_icon&quot;: &quot;icon-cc-business&quot;,
    &quot;bk_obj_id&quot;: &quot;test&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;id&quot;: 1038
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>新增的数据记录的 ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_object_attribute/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建模型属性</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>creator</td>
<td>string</td>
<td>否</td>
<td>数据的创建者</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>否</td>
<td>数据的描述信息</td>
</tr>
<tr>
<td>editable</td>
<td>bool</td>
<td>否</td>
<td>表明数据是否可编辑</td>
</tr>
<tr>
<td>isonly</td>
<td>bool</td>
<td>否</td>
<td>表明唯一性</td>
</tr>
<tr>
<td>ispre</td>
<td>bool</td>
<td>否</td>
<td>true:预置字段,false:非内置字段</td>
</tr>
<tr>
<td>isreadonly</td>
<td>bool</td>
<td>否</td>
<td>true:只读，false:非只读</td>
</tr>
<tr>
<td>isrequired</td>
<td>bool</td>
<td>否</td>
<td>true:必填，false:可选</td>
</tr>
<tr>
<td>option</td>
<td>string</td>
<td>否</td>
<td _min_:_1_max_:_2_="&quot;min&quot;:&quot;1&quot;,&quot;max&quot;:&quot;2&quot;">用户自定义内容，存储的内容及格式由调用方决定，以数字类型为例（</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>否</td>
<td>单位</td>
</tr>
<tr>
<td>placeholder</td>
<td>string</td>
<td>否</td>
<td>占位符</td>
</tr>
<tr>
<td>bk_property_group</td>
<td>string</td>
<td>否</td>
<td>字段分栏的名字</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>模型 ID</td>
</tr>
<tr>
<td>bk_property_id</td>
<td>string</td>
<td>是</td>
<td>模型的属性 ID</td>
</tr>
<tr>
<td>bk_property_name</td>
<td>string</td>
<td>是</td>
<td>模型属性名，用于展示</td>
</tr>
<tr>
<td>bk_property_type</td>
<td>string</td>
<td>是</td>
<td>定义的属性字段用于存储数据的数据类型,可取值范围（singlechar,longchar,int,enum,date,time,objuser,singleasst,multiasst,timezone,bool）</td>
</tr>
<tr>
<td>bk_asst_obj_id</td>
<td>string</td>
<td>否</td>
<td>如果有关联其它的模型，那么就必需设置此字段，否则就不需要设置</td>
</tr>
</tbody>
</table>
<h4 id="bk_property_type">bk_property_type</h4>
<table>
<thead>
<tr>
<th>标识</th>
<th>名字</th>
</tr>
</thead>
<tbody>
<tr>
<td>singlechar</td>
<td>短字符</td>
</tr>
<tr>
<td>longchar</td>
<td>长字符</td>
</tr>
<tr>
<td>int</td>
<td>整形</td>
</tr>
<tr>
<td>enum</td>
<td>枚举类型</td>
</tr>
<tr>
<td>date</td>
<td>日期</td>
</tr>
<tr>
<td>time</td>
<td>时间</td>
</tr>
<tr>
<td>objuser</td>
<td>用户</td>
</tr>
<tr>
<td>singleasst</td>
<td>单关联</td>
</tr>
<tr>
<td>multiasst</td>
<td>多关联</td>
</tr>
<tr>
<td>timezone</td>
<td>时区</td>
</tr>
<tr>
<td>bool</td>
<td>布尔</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;creator&quot;: &quot;user&quot;,
    &quot;description&quot;: &quot;test&quot;,
    &quot;editable&quot;: true,
    &quot;isonly&quot;: false,
    &quot;ispre&quot;: false,
    &quot;isreadonly&quot;: false,
    &quot;isrequired&quot;: false,
    &quot;option&quot;: {&quot;min&quot;:&quot;1&quot;,&quot;max&quot;:&quot;2&quot;},
    &quot;unit&quot;: &quot;1&quot;,
    &quot;placeholder&quot;: &quot;test&quot;,
    &quot;bk_property_group&quot;: &quot;default&quot;,
    &quot;bk_obj_id&quot;: &quot;cc_test_inst&quot;,
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;bk_property_id&quot;: &quot;cc_test&quot;,
    &quot;bk_property_name&quot;: &quot;cc_test&quot;,
    &quot;bk_property_type&quot;: &quot;singlechar&quot;,
    &quot;bk_asst_obj_id&quot;: &quot;test&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;id&quot;: 7,
        &quot;bk_supplier_account&quot;: &quot;0&quot;,
        &quot;bk_obj_id&quot;: &quot;cc_test_inst&quot;,
        &quot;bk_property_id&quot;: &quot;cc_test&quot;,
        &quot;bk_property_name&quot;: &quot;cc_test&quot;,
        &quot;bk_property_group&quot;: &quot;default&quot;,
        &quot;bk_property_index&quot;: 4,
        &quot;unit&quot;: &quot;1&quot;,
        &quot;placeholder&quot;: &quot;test&quot;,
        &quot;editable&quot;: true,
        &quot;ispre&quot;: false,
        &quot;isrequired&quot;: false,
        &quot;isreadonly&quot;: false,
        &quot;isonly&quot;: false,
        &quot;bk_issystem&quot;: false,
        &quot;bk_isapi&quot;: false,
        &quot;bk_property_type&quot;: &quot;singlechar&quot;,
        &quot;option&quot;: {&quot;min&quot;:&quot;1&quot;,&quot;max&quot;:&quot;2&quot;},
        &quot;description&quot;: &quot;test&quot;,
        &quot;creator&quot;: &quot;user&quot;,
        &quot;create_time&quot;: &quot;2020-03-25 17:12:08&quot;,
        &quot;last_time&quot;: &quot;2020-03-25 17:12:08&quot;,
        &quot;bk_property_group_name&quot;: &quot;default&quot;
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>creator</td>
<td>string</td>
<td>数据的创建者</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>数据的描述信息</td>
</tr>
<tr>
<td>editable</td>
<td>bool</td>
<td>表明数据是否可编辑</td>
</tr>
<tr>
<td>isonly</td>
<td>bool</td>
<td>表明唯一性</td>
</tr>
<tr>
<td>ispre</td>
<td>bool</td>
<td>true:预置字段,false:非内置字段</td>
</tr>
<tr>
<td>isreadonly</td>
<td>bool</td>
<td>true:只读，false:非只读</td>
</tr>
<tr>
<td>isrequired</td>
<td>bool</td>
<td>true:必填，false:可选</td>
</tr>
<tr>
<td>option</td>
<td>string</td>
<td>用户自定义内容，存储的内容及格式由调用方决定</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>单位</td>
</tr>
<tr>
<td>placeholder</td>
<td>string</td>
<td>占位符</td>
</tr>
<tr>
<td>bk_property_group</td>
<td>string</td>
<td>字段分栏的名字</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>模型 ID</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_property_id</td>
<td>string</td>
<td>模型的属性 ID</td>
</tr>
<tr>
<td>bk_property_name</td>
<td>string</td>
<td>模型属性名，用于展示</td>
</tr>
<tr>
<td>bk_property_type</td>
<td>string</td>
<td>定义的属性字段用于存储数据的数据类型 （singlechar,longchar,int,enum,date,time,objuser,singleasst,multiasst,timezone,bool)</td>
</tr>
<tr>
<td>bk_asst_obj_id</td>
<td>string</td>
<td>如果有关联其它的模型，那么就必需设置此字段，否则就不需要设置</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务自定义字段的业务 id</td>
</tr>
</tbody>
</table>
<h4 id="bk_property_type_1">bk_property_type</h4>
<table>
<thead>
<tr>
<th>标识</th>
<th>名字</th>
</tr>
</thead>
<tbody>
<tr>
<td>singlechar</td>
<td>短字符</td>
</tr>
<tr>
<td>longchar</td>
<td>长字符</td>
</tr>
<tr>
<td>int</td>
<td>整形</td>
</tr>
<tr>
<td>enum</td>
<td>枚举类型</td>
</tr>
<tr>
<td>date</td>
<td>日期</td>
</tr>
<tr>
<td>time</td>
<td>时间</td>
</tr>
<tr>
<td>objuser</td>
<td>用户</td>
</tr>
<tr>
<td>singleasst</td>
<td>单关联</td>
</tr>
<tr>
<td>multiasst</td>
<td>多关联</td>
</tr>
<tr>
<td>timezone</td>
<td>时区</td>
</tr>
<tr>
<td>bool</td>
<td>布尔</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_process_instance/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据服务实例 ID 和进程实例属性值创建进程实例</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>service_instance_id</td>
<td>int</td>
<td>是</td>
<td>服务实例 ID</td>
</tr>
<tr>
<td>processes</td>
<td>array</td>
<td>是</td>
<td>进程实例中不同于模板的属性值</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;service_instance_id&quot;: 48,
  &quot;processes&quot;: [
    {
      &quot;process_info&quot;: {
        &quot;bk_supplier_account&quot;: &quot;0&quot;,
        &quot;bind_ip&quot;: &quot;1&quot;,
        &quot;description&quot;: &quot;&quot;,
        &quot;start_cmd&quot;: &quot;&quot;,
        &quot;restart_cmd&quot;: &quot;&quot;,
        &quot;pid_file&quot;: &quot;&quot;,
        &quot;auto_start&quot;: false,
        &quot;timeout&quot;: 30,
        &quot;protocol&quot;: &quot;1&quot;,
        &quot;auto_time_gap&quot;: 60,
        &quot;reload_cmd&quot;: &quot;&quot;,
        &quot;bk_func_name&quot;: &quot;java&quot;,
        &quot;work_path&quot;: &quot;/data/bkce&quot;,
        &quot;stop_cmd&quot;: &quot;&quot;,
        &quot;face_stop_cmd&quot;: &quot;&quot;,
        &quot;port&quot;: &quot;8008,8443&quot;,
        &quot;bk_process_name&quot;: &quot;job_java&quot;,
        &quot;user&quot;: &quot;&quot;,
        &quot;proc_num&quot;: 1,
        &quot;priority&quot;: 1,
        &quot;bk_biz_id&quot;: 2,
        &quot;bk_func_id&quot;: &quot;&quot;,
        &quot;bk_process_id&quot;: 1
      }
    }
  ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: [64]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>新建的进程实例 ID 列表</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_service_category/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建服务分类</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>服务分类名称</td>
</tr>
<tr>
<td>parent_id</td>
<td>int</td>
<td>否</td>
<td>父节点 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;name&quot;: &quot;test101&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: {
    &quot;bk_biz_id&quot;: 1,
    &quot;id&quot;: 6,
    &quot;name&quot;: &quot;test5&quot;,
    &quot;root_id&quot;: 5,
    &quot;parent_id&quot;: 5,
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;is_built_in&quot;: false
  }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>新建的服务分类信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>服务分类 ID</td>
<td></td>
</tr>
<tr>
<td>root_id</td>
<td>integer</td>
<td>服务分类根节点 ID</td>
<td></td>
</tr>
<tr>
<td>parent_id</td>
<td>integer</td>
<td>服务分类父节点 ID</td>
<td></td>
</tr>
<tr>
<td>is_built_in</td>
<td>bool</td>
<td>是否是内置节点</td>
<td>内置节点不允许编辑</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_service_instance/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>批量创建服务实例，如果模块绑定了服务模板，则服务实例也会根据模板创建，创建服务实例的进程参数内也必须提供每个进程对应的进程模板 ID</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_module_id</td>
<td>int</td>
<td>否</td>
<td>模块 ID</td>
</tr>
<tr>
<td>instances</td>
<td>array</td>
<td>是</td>
<td>需要创建的服务实例信息</td>
</tr>
</tbody>
</table>
<h4 id="instances">instances 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>instances.bk_host_id</td>
<td>int</td>
<td>主机 ID</td>
<td>服务实例绑定的主机 ID</td>
</tr>
<tr>
<td>instances.processes</td>
<td>array</td>
<td>进程信息</td>
<td>服务实例下新建的进程信息</td>
</tr>
<tr>
<td>instances.processes.process_template_id</td>
<td>int</td>
<td>进程模板 ID</td>
<td>如果模块没有绑定服务模板则填 0</td>
</tr>
<tr>
<td>instances.processes.process_info</td>
<td>object</td>
<td>进程实例信息</td>
<td>如果进程绑定有模板，则仅模板中没有锁定的字段有效</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;name&quot;: &quot;test1&quot;,
  &quot;bk_module_id&quot;: 60,
  &quot;instances&quot;: [
    {
      &quot;bk_host_id&quot;: 2,
      &quot;processes&quot;: [
        {
          &quot;process_template_id&quot;: 1,
          &quot;process_info&quot;: {
            &quot;bk_supplier_account&quot;: &quot;0&quot;,
            &quot;bind_ip&quot;: &quot;1&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;start_cmd&quot;: &quot;&quot;,
            &quot;restart_cmd&quot;: &quot;&quot;,
            &quot;pid_file&quot;: &quot;&quot;,
            &quot;auto_start&quot;: false,
            &quot;timeout&quot;: 30,
            &quot;protocol&quot;: &quot;1&quot;,
            &quot;auto_time_gap&quot;: 60,
            &quot;reload_cmd&quot;: &quot;&quot;,
            &quot;bk_func_name&quot;: &quot;java&quot;,
            &quot;work_path&quot;: &quot;/data/bkce&quot;,
            &quot;stop_cmd&quot;: &quot;&quot;,
            &quot;face_stop_cmd&quot;: &quot;&quot;,
            &quot;port&quot;: &quot;8008,8443&quot;,
            &quot;bk_process_name&quot;: &quot;job_java&quot;,
            &quot;user&quot;: &quot;&quot;,
            &quot;proc_num&quot;: 1,
            &quot;priority&quot;: 1,
            &quot;bk_biz_id&quot;: 2,
            &quot;bk_func_id&quot;: &quot;&quot;,
            &quot;bk_process_id&quot;: 1
          }
        }
      ]
    }
  ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: [53]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>新建的服务实例 ID 列表</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_service_template/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据传入的服务模板名称的服务分类 ID 创建指定名称和服务分类的服务模板</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>服务模板名称</td>
</tr>
<tr>
<td>service_category_id</td>
<td>int</td>
<td>是</td>
<td>服务分类 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;name&quot;: &quot;test4&quot;,
  &quot;service_category_id&quot;: 1
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;permission&quot;: null,
  &quot;data&quot;: {
    &quot;bk_biz_id&quot;: 1,
    &quot;id&quot;: 52,
    &quot;name&quot;: &quot;test4&quot;,
    &quot;service_category_id&quot;: 1,
    &quot;creator&quot;: &quot;admin&quot;,
    &quot;modifier&quot;: &quot;admin&quot;,
    &quot;create_time&quot;: &quot;2019-09-18T23:09:44.251970453+08:00&quot;,
    &quot;last_time&quot;: &quot;2019-09-18T23:09:44.251970568+08:00&quot;,
    &quot;bk_supplier_account&quot;: &quot;0&quot;
  }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>integer</td>
<td>总数</td>
<td></td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>返回结果</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="info">info 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>服务模板 ID</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>array</td>
<td>服务模板名称</td>
<td></td>
</tr>
<tr>
<td>service_category_id</td>
<td>integer</td>
<td>服务模板 ID</td>
<td></td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_set/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建集群</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>是</td>
<td>集群数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_parent_id</td>
<td>int</td>
<td>是</td>
<td>父节点的 ID</td>
</tr>
<tr>
<td>bk_set_name</td>
<td>string</td>
<td>是</td>
<td>集群名字</td>
</tr>
<tr>
<td>default</td>
<td>int</td>
<td>否</td>
<td>0-普通集群，1-内置模块集合，默认为 0</td>
</tr>
<tr>
<td>set_template_id</td>
<td>int</td>
<td>否</td>
<td>集群模板 ID，需要通过集群模板创建集群时必填</td>
</tr>
</tbody>
</table>
<p><strong>注意：其它需要的字段由模型定义</strong></p>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;data&quot;: {
        &quot;bk_parent_id&quot;: 1,
        &quot;bk_set_name&quot;: &quot;test-set&quot;,
        &quot;bk_set_desc&quot;: &quot;test-set&quot;,
        &quot;bk_capacity&quot;: 1000,
        &quot;description&quot;: &quot;description&quot;,
        &quot;set_template_id&quot;: 1
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;bk_set_id&quot;: 1
    }
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_set_template/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>在指定业务 id 下创建指定名称的集群模板，创建的集群模板通过指定的服务模板 id 去包含服务模板</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>集群模板名称</td>
</tr>
<tr>
<td>service_template_ids</td>
<td>array</td>
<td>是</td>
<td>服务模板 ID 列表</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;name&quot;: &quot;test&quot;,
    &quot;bk_biz_id&quot;: 20,
    &quot;service_template_ids&quot;: [59]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;permission&quot;: null,
    &quot;data&quot;: {
        &quot;id&quot;: 6,
        &quot;name&quot;: &quot;test&quot;,
        &quot;bk_biz_id&quot;: 20,
        &quot;version&quot;: 0,
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;modifier&quot;: &quot;admin&quot;,
        &quot;create_time&quot;: &quot;2019-11-27T17:24:10.671658+08:00&quot;,
        &quot;last_time&quot;: &quot;2019-11-27T17:24:10.671658+08:00&quot;,
        &quot;bk_supplier_account&quot;: &quot;0&quot;
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>集群模板 ID</td>
</tr>
<tr>
<td>name</td>
<td>array</td>
<td>集群模板名称</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>version</td>
<td>int</td>
<td>集群模板版本</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>modifier</td>
<td>string</td>
<td>最后修改人员</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间</td>
</tr>
<tr>
<td>last_time</td>
<td>string</td>
<td>更新时间</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>开发商账号</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_business/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除业务</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 id</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_classification/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>通过模型分类 ID 删除模型分类</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>是</td>
<td>分类数据记录 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;delete&quot;:{
    &quot;id&quot; : 0
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: &quot;success&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_cloud_area/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据云区域 ID 删除云区域</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>是</td>
<td>云区域 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: &quot;success&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_custom_query/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除自定义查询</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>是</td>
<td>主键 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;id&quot;: &quot;xxx&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_dynamic_group/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除动态分组 (V3.9.6)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>是</td>
<td>动态分组主键 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;id&quot;: &quot;XXXXXXXX&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_host/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除主机</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>string</td>
<td>是</td>
<td>主机 id，多个以逗号分隔</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_host_id&quot;: &quot;1,2,3&quot;,
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_host_lock/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据主机 ID 列表删除主机锁(v3.8.6)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id_list</td>
<td>int array</td>
<td>是</td>
<td>主机 ID 列表</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
   &quot;id_list&quot;: [1, 2, 3]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: null
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_inst/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>指定模型 ID 和实例 ID 删除指定模型下的对象实例</p>
<ul>
<li>该接口只适用于自定义层级模型和通用模型实例上，不适用于业务、集群、模块、主机等模型实例</li>
</ul>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>模型 ID</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>是</td>
<td>实例 ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>否</td>
<td>业务 ID， 当删除的是自定义主线层级模型实例时则必传</td>
</tr>
</tbody>
</table>
<p>注意：当操作的是自定义主线层级模型实例时，而又有使用权限中心的，对于 cmdb 小于 3.9 的版本，还需要传包含实例所在业务 id 的 metadata 参数，否则会导致权限中心鉴权失败，格式为
"metadata": {
    "label": {
        "bk_biz_id": "64"
    }
}</p>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;bk_obj_id&quot;: &quot;test&quot;,
    &quot;bk_inst_id&quot;: 0
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: &quot;success&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_instance_association/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据模型实例关联关系的唯一身份 id,删除模型实例之间的关联关系。</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int64</td>
<td>Yes</td>
<td>模型实例关联关系的唯一身份 id</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;id&quot;: 1
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: &quot;success&quot;
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_module/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 id</td>
</tr>
<tr>
<td>bk_set_id</td>
<td>int</td>
<td>是</td>
<td>集群 id</td>
</tr>
<tr>
<td>bk_module_id</td>
<td>int</td>
<td>是</td>
<td>模块 id</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;bk_set_id&quot;: 1,
    &quot;bk_module_id&quot;: 1
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_object/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据模型 id 删除模型</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>否</td>
<td>被删除的数据记录的 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;id&quot; : 0
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: &quot;success&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_object_attribute/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除对象模型属性，可以删除业务自定义字段</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>否</td>
<td>被删除的数据记录的唯一标识 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;id&quot; : 0
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: &quot;success&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_process_instance/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据进程实例 ID 列表删除进程实例</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>process_instance_ids</td>
<td>int</td>
<td>是</td>
<td>进程实例 ID 列表</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;process_instance_ids&quot;: [54]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: null
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_proc_template/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据进程模板 ID 列表删除进程模板</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>process_templates</td>
<td>array</td>
<td>是</td>
<td>进程模板 ID 列表</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;process_templates&quot;: [50]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: false,
  &quot;code&quot;: 1199056,
  &quot;message&quot;: &quot;禁止删除被引用记录&quot;,
  &quot;data&quot;: &quot;&quot;
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_related_inst_asso/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据实例关联关系的 ID 删除实例之间的关联。(生效版本：3.5.40)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">必选</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">id</td>
<td align="left">int</td>
<td align="left">是</td>
<td align="left">实例关联关系的 ID， 最多 500 个</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;id&quot;:[1,2]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;permission&quot;: null,
    &quot;data&quot;: null
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_service_category/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据服务分类 ID 删除服务分类</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>是</td>
<td>服务分类 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;id&quot;: 6
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: false,
  &quot;code&quot;: 1199054,
  &quot;message&quot;: &quot;内置结点，禁止删除&quot;,
  &quot;data&quot;: &quot;&quot;
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_service_instance/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据服务实例 ID 列表批量删除服务实例</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>service_instance_ids</td>
<td>array</td>
<td>是</td>
<td>服务实例 ID 列表</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;service_instance_ids&quot;: [48]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: null
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_service_template/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据服务模板 ID 删除服务模板</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>service_template_id</td>
<td>int</td>
<td>是</td>
<td>服务模板 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;service_template_id&quot;: 1
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: false,
  &quot;code&quot;: 1199056,
  &quot;message&quot;: &quot;禁止删除被引用记录&quot;,
  &quot;data&quot;: &quot;&quot;
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_set/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除集群</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 id</td>
</tr>
<tr>
<td>bk_set_id</td>
<td>int</td>
<td>是</td>
<td>集群 id</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;bk_set_id&quot;: 10
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_set_template/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据业务 ID 和集群模板 ID 列表删除指定业务下的集群模板</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>set_template_ids</td>
<td>array</td>
<td>是</td>
<td>集群模板 ID 列表</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;bk_biz_id&quot;: 20,
    &quot;set_template_ids&quot;: [59]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;permission&quot;: null,
    &quot;data&quot;: null
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/execute_dynamic_group/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据指定动态分组规则查询获取数据 (V3.9.6)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>是</td>
<td>动态分组主键 ID</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>是</td>
<td>主机属性列表，控制返回结果的主机里有哪些字段，能够加速接口请求和减少网络流量传输,目标资源不具备指定的字段时该字段将被忽略</td>
</tr>
<tr>
<td>disable_counter</td>
<td>bool</td>
<td>否</td>
<td>是否返回总记录条数，默认返回</td>
</tr>
<tr>
<td>page</td>
<td>object</td>
<td>是</td>
<td>分页设置</td>
</tr>
</tbody>
</table>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大 200</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>检索排序， 默认按照创建时间排序</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;disable_counter&quot;: true,
    &quot;id&quot;: &quot;XXXXXXXX&quot;,
    &quot;fields&quot;: [
        &quot;bk_host_id&quot;,
        &quot;bk_cloud_id&quot;,
        &quot;bk_host_innerip&quot;,
        &quot;bk_host_name&quot;
    ],
    &quot;page&quot;:{
        &quot;start&quot;: 0,
        &quot;limit&quot;: 10
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;count&quot;: 1,
        &quot;info&quot;: [
            {
                &quot;bk_obj_id&quot;: &quot;host&quot;,
                &quot;bk_host_id&quot;: 1,
                &quot;bk_host_name&quot;: &quot;nginx-1&quot;,
                &quot;bk_host_innerip&quot;: &quot;10.0.0.1&quot;,
                &quot;bk_cloud_id&quot;: 0
            }
        ]
    }
}</code></pre>


<h3 id="_9">返回结果参数</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>当前规则能匹配到的总记录条数（用于调用者进行预分页，实际单次请求返回数量以及数据是否全部拉取完毕以 JSON Array 解析数量为准）</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>dict 数组，主机实际数据, 当动态分组为 host 查询时返回 host 自身属性信息,当动态分组为 set 查询时返回 set 信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/find_host_biz_relations/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据主机 ID 查询业务相关信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_host_id</td>
<td>int array</td>
<td>是</td>
<td>主机 ID 数组，ID 个数不能超过 500</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>否</td>
<td>业务 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_host_id&quot;: [
        3,
        4
    ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;result&quot;:true,
  &quot;code&quot;:0,
  &quot;message&quot;:&quot;success&quot;,
  &quot;data&quot;: [
    {
      &quot;bk_biz_id&quot;: 3,
      &quot;bk_host_id&quot;: 3,
      &quot;bk_module_id&quot;: 59,
      &quot;bk_set_id&quot;: 11,
      &quot;bk_supplier_account&quot;: &quot;0&quot;
    },
    {
      &quot;bk_biz_id&quot;: 3,
      &quot;bk_host_id&quot;: 3,
      &quot;bk_module_id&quot;: 60,
      &quot;bk_set_id&quot;: 11,
      &quot;bk_supplier_account&quot;: &quot;0&quot;
    },
    {
      &quot;bk_biz_id&quot;: 3,
      &quot;bk_host_id&quot;: 3,
      &quot;bk_module_id&quot;: 61,
      &quot;bk_set_id&quot;: 12,
      &quot;bk_supplier_account&quot;: &quot;0&quot;
    },
    {
      &quot;bk_biz_id&quot;: 3,
      &quot;bk_host_id&quot;: 4,
      &quot;bk_module_id&quot;: 60,
      &quot;bk_set_id&quot;: 11,
      &quot;bk_supplier_account&quot;: &quot;0&quot;
    }
  ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<p>data 字段说明：</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>int</td>
<td>主机 ID</td>
</tr>
<tr>
<td>bk_module_id</td>
<td>int</td>
<td>模块 ID</td>
</tr>
<tr>
<td>bk_set_id</td>
<td>int</td>
<td>集群 ID</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>开发商账户</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/find_host_by_service_template/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>获取服务模板下的主机 (v3.8.6)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_service_template_ids</td>
<td>int array</td>
<td>是</td>
<td>服务模板 ID 列表，最多可填 500 个</td>
</tr>
<tr>
<td>bk_module_ids</td>
<td>int array</td>
<td>否</td>
<td>模块 ID 列表, 最多可填 500 个</td>
</tr>
<tr>
<td>fields</td>
<td>string array</td>
<td>是</td>
<td>主机属性列表，控制返回结果的模块信息里有哪些字段</td>
</tr>
<tr>
<td>page</td>
<td>object</td>
<td>是</td>
<td>分页信息</td>
</tr>
</tbody>
</table>
<h4 id="page">page 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大 500</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_biz_id&quot;: 5,
    &quot;bk_service_template_ids&quot;: [
        48,
        49
    ],
    &quot;bk_module_ids&quot;: [
        65,
        68
    ],
    &quot;fields&quot;: [
        &quot;bk_host_id&quot;,
        &quot;bk_cloud_id&quot;
    ],
    &quot;page&quot;: {
        &quot;start&quot;: 0,
        &quot;limit&quot;: 10
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        &quot;count&quot;: 6,
        &quot;info&quot;: [
            {
                &quot;bk_cloud_id&quot;: 0,
                &quot;bk_host_id&quot;: 1
            },
            {
                &quot;bk_cloud_id&quot;: 0,
                &quot;bk_host_id&quot;: 2
            },
            {
                &quot;bk_cloud_id&quot;: 0,
                &quot;bk_host_id&quot;: 3
            },
            {
                &quot;bk_cloud_id&quot;: 0,
                &quot;bk_host_id&quot;: 4
            },
            {
                &quot;bk_cloud_id&quot;: 0,
                &quot;bk_host_id&quot;: 7
            },
            {
                &quot;bk_cloud_id&quot;: 0,
                &quot;bk_host_id&quot;: 8
            }
        ]
    }
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/find_host_by_set_template/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>获取集群模板下的主机 (v3.8.6)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_service_template_ids</td>
<td>int array</td>
<td>是</td>
<td>集群模板 ID 列表，最多可填 500 个</td>
</tr>
<tr>
<td>bk_set_ids</td>
<td>int array</td>
<td>否</td>
<td>集群 ID 列表, 最多可填 500 个</td>
</tr>
<tr>
<td>fields</td>
<td>string array</td>
<td>是</td>
<td>主机属性列表，控制返回结果的模块信息里有哪些字段</td>
</tr>
<tr>
<td>page</td>
<td>object</td>
<td>是</td>
<td>分页信息</td>
</tr>
</tbody>
</table>
<h4 id="page">page 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大 500</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_biz_id&quot;: 5,
    &quot;bk_set_template_ids&quot;: [
        1,
        3
    ],
    &quot;bk_set_ids&quot;: [
        13,
        14
    ],
    &quot;fields&quot;: [
        &quot;bk_host_id&quot;,
        &quot;bk_cloud_id&quot;
    ],
    &quot;page&quot;: {
        &quot;start&quot;: 0,
        &quot;limit&quot;: 10
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        &quot;count&quot;: 7,
        &quot;info&quot;: [
            {
                &quot;bk_cloud_id&quot;: 0,
                &quot;bk_host_id&quot;: 1
            },
            {
                &quot;bk_cloud_id&quot;: 0,
                &quot;bk_host_id&quot;: 3
            },
            {
                &quot;bk_cloud_id&quot;: 0,
                &quot;bk_host_id&quot;: 4
            },
            {
                &quot;bk_cloud_id&quot;: 0,
                &quot;bk_host_id&quot;: 5
            },
            {
                &quot;bk_cloud_id&quot;: 0,
                &quot;bk_host_id&quot;: 6
            },
            {
                &quot;bk_cloud_id&quot;: 0,
                &quot;bk_host_id&quot;: 7
            },
            {
                &quot;bk_cloud_id&quot;: 0,
                &quot;bk_host_id&quot;: 8
            }
        ]
    }
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/find_host_by_topo/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询拓扑节点下的主机 (v3.8.13)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>拓扑节点模型 ID，不可为 biz</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>是</td>
<td>拓扑节点实例 ID</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>是</td>
<td>主机属性列表，控制返回结果的主机里有哪些字段，能够加速接口请求和减少网络流量传输</td>
</tr>
<tr>
<td>page</td>
<td>object</td>
<td>是</td>
<td>分页信息</td>
</tr>
</tbody>
</table>
<h4 id="page">page 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大 500</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_biz_id&quot;: 5,
    &quot;bk_obj_id&quot;: &quot;xxx&quot;,
    &quot;bk_inst_id&quot;: 10,
    &quot;fields&quot;: [
        &quot;bk_host_id&quot;,
        &quot;bk_cloud_id&quot;
    ],
    &quot;page&quot;: {
        &quot;start&quot;: 0,
        &quot;limit&quot;: 10
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        &quot;count&quot;: 2,
        &quot;info&quot;: [
            {
                &quot;bk_cloud_id&quot;: 0,
                &quot;bk_host_id&quot;: 1
            },
            {
                &quot;bk_cloud_id&quot;: 0,
                &quot;bk_host_id&quot;: 2
            }
        ]
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>记录条数</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>主机实际数据</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/find_host_snapshot_batch/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据主机实例 ID 列表和想要获取的主机快照属性列表批量获取主机快照 (v3.8.6)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_ids</td>
<td>int array</td>
<td>是</td>
<td>主机实例 ID 列表, 即 bk_host_id 列表，最多可填 200 个</td>
</tr>
<tr>
<td>fields</td>
<td>string array</td>
<td>是</td>
<td>主机快照属性列表，控制返回结果的主机快照信息里有哪些字段<br>目前支持字段有：bk_host_id,bk_all_ips</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_ids&quot;: [
        1,
        2
    ],
    &quot;fields&quot;: [
        &quot;bk_host_id&quot;,
        &quot;bk_all_ips&quot;
    ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: [
        {
            &quot;bk_all_ips&quot;: {
                &quot;interface&quot;: [
                    {
                        &quot;addrs&quot;: [
                            {
                                &quot;ip&quot;: &quot;192.xx.xx.xx&quot;
                            },
                            {
                                &quot;ip&quot;: &quot;fe80::xx:xx:xx:xx&quot;
                            }
                        ],
                        &quot;mac&quot;: &quot;52:xx:xx:xx:xx:xx&quot;
                    },
                    {
                        &quot;addrs&quot;: [
                            {
                                &quot;ip&quot;: &quot;192.xx.xx.xx&quot;
                            }
                        ],
                        &quot;mac&quot;: &quot;02:xx:xx:xx:xx:xx&quot;
                    }
                ]
            },
            &quot;bk_host_id&quot;: 1
        },
        {
            &quot;bk_all_ips&quot;: {
                &quot;interface&quot;: [
                    {
                        &quot;addrs&quot;: [
                            {
                                &quot;ip&quot;: &quot;172.xx.xx.xx&quot;
                            },
                            {
                                &quot;ip&quot;: &quot;fe80::xx:xx:xx:xx&quot;
                            }
                        ],
                        &quot;mac&quot;: &quot;52:xx:xx:xx:xx:xx&quot;
                    },
                    {
                        &quot;addrs&quot;: [
                            {
                                &quot;ip&quot;: &quot;192.xx.xx.xx&quot;
                            }
                        ],
                        &quot;mac&quot;: &quot;02:xx:xx:xx:xx:xx&quot;
                    }
                ]
            },
            &quot;bk_host_id&quot;: 2
        }
    ]
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/find_host_topo_relation/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>获取主机与拓扑的关系</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_set_ids</td>
<td>array</td>
<td>否</td>
<td>集群 ID 列表，最多 200 条</td>
</tr>
<tr>
<td>bk_module_ids</td>
<td>array</td>
<td>否</td>
<td>模块 ID 列表，最多 500 条</td>
</tr>
<tr>
<td>bk_host_ids</td>
<td>array</td>
<td>否</td>
<td>主机 ID 列表，最多 500 条</td>
</tr>
<tr>
<td>page</td>
<td>object</td>
<td>是</td>
<td>分页信息</td>
</tr>
</tbody>
</table>
<h4 id="page">page 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>获取数据偏移位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>过去数据条数限制，建议 为 200</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;page&quot;:{
        &quot;start&quot;:0,
        &quot;limit&quot;:10
    },
    &quot;bk_biz_id&quot;:2,
    &quot;bk_set_ids&quot;: [1, 2],
    &quot;bk_module_ids&quot;: [23, 24],
    &quot;bk_host_ids&quot;: [25, 26]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;permission&quot;: null,
  &quot;data&quot;: {
    &quot;count&quot;: 10,
    &quot;info&quot;: [
        {
        &quot;bk_biz_id&quot;: 3,
        &quot;bk_host_id&quot;: 5,
        &quot;bk_module_id&quot;: 54,
        &quot;bk_set_id&quot;: 10,
        &quot;bk_supplier_account&quot;: &quot;0&quot;
        },
        .....
    ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data 字段说明</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>记录条数</td>
</tr>
<tr>
<td>info</td>
<td>object array</td>
<td>业务下主机与集群，模块，集群的数据详情列表</td>
</tr>
</tbody>
</table>
<h4 id="datainfo">data.info 字段说明</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_set_id</td>
<td>int</td>
<td>集群 ID</td>
</tr>
<tr>
<td>bk_module_id</td>
<td>int</td>
<td>模块 ID</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>int</td>
<td>主机 ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/find_instance_association/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询模型的实例关联关系。</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>metadata</td>
<td>object</td>
<td>Yes</td>
<td>meta data</td>
</tr>
<tr>
<td>condition</td>
<td>string map</td>
<td>Yes</td>
<td>查询条件</td>
</tr>
</tbody>
</table>
<p>metadata params</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>label</td>
<td>string map</td>
<td>Yes</td>
<td>标签信息</td>
</tr>
</tbody>
</table>
<p>label params</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>Yes</td>
<td>业务 ID</td>
</tr>
</tbody>
</table>
<p>condition params</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_asst_id</td>
<td>string</td>
<td>Yes</td>
<td>模型关联关系的唯一 id</td>
</tr>
<tr>
<td>bk_asst_id</td>
<td>string</td>
<td>NO</td>
<td>关联类型的唯一 id</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>NO</td>
<td>源模型 id</td>
</tr>
<tr>
<td>bk_asst_id</td>
<td>string</td>
<td>NO</td>
<td>目标模型 id</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;condition&quot;: {
        &quot;bk_obj_asst_id&quot;: &quot;bk_switch_belong_bk_host&quot;,
        &quot;bk_asst_id&quot;: &quot;&quot;,
        &quot;bk_object_id&quot;: &quot;&quot;,
        &quot;bk_asst_obj_id&quot;: &quot;&quot;
    },
    &quot;metadata&quot;:{
        &quot;label&quot;:{
            &quot;bk_biz_id&quot;:&quot;3&quot;
        }
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: [{
        &quot;bk_obj_asst_id&quot;: &quot;bk_switch_belong_bk_host&quot;,
        &quot;bk_obj_id&quot;:&quot;switch&quot;,
        &quot;bk_asst_obj_id&quot;:&quot;host&quot;,
        &quot;bk_inst_id&quot;:12,
        &quot;bk_asst_inst_id&quot;:13
    }]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int64</td>
<td>the association's unique id</td>
</tr>
<tr>
<td>bk_obj_asst_id</td>
<td>string</td>
<td>自动生成的模型关联关系 id.</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>关联关系源模型 id</td>
</tr>
<tr>
<td>bk_asst_obj_id</td>
<td>string</td>
<td>关联关系目标模型 id</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int64</td>
<td>源模型实例 id</td>
</tr>
<tr>
<td>bk_asst_inst_id</td>
<td>int64</td>
<td>目标模型实例 id</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/find_module_batch/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据业务 ID 和模块实例 ID 列表，加上想要返回的模块属性列表，批量获取指定业务下模块实例的属性信息 (v3.8.6)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_ids</td>
<td>int array</td>
<td>是</td>
<td>模块实例 ID 列表, 即 bk_module_id 列表，最多可填 500 个</td>
</tr>
<tr>
<td>fields</td>
<td>string array</td>
<td>是</td>
<td>模块属性列表，控制返回结果的模块信息里有哪些字段</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_biz_id&quot;: 3,
    &quot;bk_ids&quot;: [
        56,
        57,
        58,
        59,
        60
    ],
    &quot;fields&quot;: [
        &quot;bk_module_id&quot;,
        &quot;bk_module_name&quot;,
        &quot;create_time&quot;
    ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: [
        {
            &quot;bk_module_id&quot;: 60,
            &quot;bk_module_name&quot;: &quot;sm1&quot;,
            &quot;create_time&quot;: &quot;2020-05-15T22:15:51.725+08:00&quot;,
            &quot;default&quot;: 0
        },
        {
            &quot;bk_module_id&quot;: 59,
            &quot;bk_module_name&quot;: &quot;m1&quot;,
            &quot;create_time&quot;: &quot;2020-05-12T21:04:47.286+08:00&quot;,
            &quot;default&quot;: 0
        },
        {
            &quot;bk_module_id&quot;: 58,
            &quot;bk_module_name&quot;: &quot;待回收&quot;,
            &quot;create_time&quot;: &quot;2020-05-12T21:03:37.238+08:00&quot;,
            &quot;default&quot;: 3
        },
        {
            &quot;bk_module_id&quot;: 57,
            &quot;bk_module_name&quot;: &quot;故障机&quot;,
            &quot;create_time&quot;: &quot;2020-05-12T21:03:37.183+08:00&quot;,
            &quot;default&quot;: 2
        },
        {
            &quot;bk_module_id&quot;: 56,
            &quot;bk_module_name&quot;: &quot;空闲机&quot;,
            &quot;create_time&quot;: &quot;2020-05-12T21:03:37.122+08:00&quot;,
            &quot;default&quot;: 1
        }
    ]
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/find_module_host_relation/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据模块 ID 查询主机和模块的关系(v3.8.7)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_module_ids</td>
<td>int array</td>
<td>是</td>
<td>模块 ID 数组，最多 200 条</td>
</tr>
<tr>
<td>module_fields</td>
<td>string array</td>
<td>是</td>
<td>模块属性列表，控制返回结果的模块里有哪些字段</td>
</tr>
<tr>
<td>host_fields</td>
<td>string array</td>
<td>是</td>
<td>主机属性列表，控制返回结果的主机里有哪些字段</td>
</tr>
<tr>
<td>page</td>
<td>object</td>
<td>是</td>
<td>分页参数</td>
</tr>
</tbody>
</table>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>记录开始位置,默认值 0</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大 1000</td>
</tr>
</tbody>
</table>
<p><strong>注: 一个模块下的主机关系可能会拆分多次返回，分页方式是按主机 ID 排序进行分页。</strong></p>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_module_ids&quot;: [
        1,
        2,
        3
    ],
    &quot;module_fields&quot;: [
        &quot;bk_module_id&quot;,
        &quot;bk_module_name&quot;
    ],
    &quot;host_fields&quot;: [
        &quot;bk_host_innerip&quot;,
        &quot;bk_host_id&quot;
    ],
    &quot;page&quot;: {
        &quot;start&quot;: 0,
        &quot;limit&quot;: 500
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: {
    &quot;count&quot;: 2,
    &quot;relation&quot;: [
      {
        &quot;host&quot;: {
          &quot;bk_host_id&quot;: 1,
          &quot;bk_host_innerip&quot;: &quot;127.0.0.1&quot;,
        },
        &quot;modules&quot;: [
          {
            &quot;bk_module_id&quot;: 1,
            &quot;bk_module_name&quot;: &quot;m1&quot;,
          },
          {
            &quot;bk_module_id&quot;: 2,
            &quot;bk_module_name&quot;: &quot;m2&quot;,
          }
        ]
      },
      {
        &quot;host&quot;: {
          &quot;bk_host_id&quot;: 2,
          &quot;bk_host_innerip&quot;: &quot;127.0.0.2&quot;,
        },
        &quot;modules&quot;: [
          {
            &quot;bk_module_id&quot;: 3,
            &quot;bk_module_name&quot;: &quot;m3&quot;,
          }
        ]
      }
    ]
  }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table>
<p>data 字段说明：</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>记录条数</td>
</tr>
<tr>
<td>relation</td>
<td>object array</td>
<td>主机和模块实际数据</td>
</tr>
</tbody>
</table>
<p>info 字段说明:</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>host</td>
<td>object</td>
<td>主机数据</td>
</tr>
<tr>
<td>modules</td>
<td>object array</td>
<td>主机所属的模块信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/find_module_with_relation/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据条件查询业务下的模块 (v3.9.7)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_set_ids</td>
<td>int array</td>
<td>否</td>
<td>集群 ID 列表, 最多可填 200 个</td>
</tr>
<tr>
<td>bk_service_template_ids</td>
<td>int array</td>
<td>否</td>
<td>服务模板 ID 列表</td>
</tr>
<tr>
<td>fields</td>
<td>string array</td>
<td>是</td>
<td>模块属性列表，控制返回结果的模块信息里有哪些字段</td>
</tr>
<tr>
<td>page</td>
<td>object</td>
<td>是</td>
<td>分页信息</td>
</tr>
</tbody>
</table>
<h4 id="page">page 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大 500</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_biz_id&quot;: 2,
    &quot;bk_set_ids&quot;:[1,2],
    &quot;bk_service_template_ids&quot;: [3,4],
    &quot;fields&quot;:[&quot;bk_module_id&quot;, &quot;bk_module_name&quot;],
    &quot;page&quot;: {
        &quot;start&quot;: 0,
        &quot;limit&quot;: 10
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;bk_error_code&quot;: 0,
    &quot;bk_error_msg&quot;: &quot;success&quot;,
    &quot;permission&quot;: null,
    &quot;data&quot;: {
        &quot;count&quot;: 2,
        &quot;info&quot;: [
            {
                &quot;bk_module_id&quot;: 8,
                &quot;bk_module_name&quot;: &quot;license&quot;
            },
            {
                &quot;bk_module_id&quot;: 12,
                &quot;bk_module_name&quot;: &quot;gse_proc&quot;
            }
        ]
    }
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/find_object_association/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询模型的实例之间的关联关系。</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>condition</td>
<td>string map</td>
<td>Yes</td>
<td>查询条件</td>
</tr>
</tbody>
</table>
<p>condition params</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_asst_id</td>
<td>string</td>
<td>Yes</td>
<td>模型的关联类型唯一 id</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>Yes</td>
<td>源模型 id</td>
</tr>
<tr>
<td>bk_asst_id</td>
<td>string</td>
<td>Yes</td>
<td>目标模型 id</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;condition&quot;: {
        &quot;bk_asst_id&quot;: &quot;belong&quot;,
        &quot;bk_obj_id&quot;: &quot;bk_switch&quot;,
        &quot;bk_asst_obj_id&quot;: &quot;bk_host&quot;
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: [
        {
            &quot;id&quot;: 1,
            &quot;bk_obj_asst_id&quot;: &quot;bk_switch_belong_bk_host&quot;,
            &quot;bk_obj_asst_name&quot;: &quot;&quot;,
            &quot;bk_asst_id&quot;: &quot;belong&quot;,
            &quot;bk_asst_name&quot;: &quot;belong&quot;,
            &quot;bk_obj_id&quot;: &quot;bk_switch&quot;,
            &quot;bk_obj_name&quot;: &quot;switch&quot;,
            &quot;bk_asst_obj_id&quot;: &quot;bk_host&quot;,
            &quot;bk_asst_obj_name&quot;: &quot;host&quot;,
            &quot;mapping&quot;: &quot;1:n&quot;,
            &quot;on_delete&quot;: &quot;none&quot;
        }
    ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int64</td>
<td>模型关联关系的身份 id</td>
</tr>
<tr>
<td>bk_obj_asst_id</td>
<td>string</td>
<td>模型关联关系的唯一 id.</td>
</tr>
<tr>
<td>bk_obj_asst_name</td>
<td>string</td>
<td>关联关系的别名.</td>
</tr>
<tr>
<td>bk_asst_id</td>
<td>string</td>
<td>关联类型 id</td>
</tr>
<tr>
<td>bk_asst_name</td>
<td>string</td>
<td>关联类型名称</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>源模型 id</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>源模型名称</td>
</tr>
<tr>
<td>bk_asst_obj_id</td>
<td>string</td>
<td>目标模型 id</td>
</tr>
<tr>
<td>bk_asst_obj_name</td>
<td>string</td>
<td>目标模型名称</td>
</tr>
<tr>
<td>mapping</td>
<td>string</td>
<td>源模型与目标模型关联关系实例的映身关系，可以是以下中的一种[1:1, 1:n, n:n]</td>
</tr>
<tr>
<td>on_delete</td>
<td>string</td>
<td>删除关联关系时的动作, 取值为以下其中的一种 [none, delete_src, delete_dest], "none" 什么也不做, "delete_src" 删除源模型的实例, "delete_dest" 删除目标模型的实例.</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/find_set_batch/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据业务 id 和集群实例 id 列表，以及想要获取的属性列表，批量获取指定业务下集群的属性详情 (v3.8.6)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_ids</td>
<td>int array</td>
<td>是</td>
<td>集群实例 ID 列表, 即 bk_set_id 列表，最多可填 500 个</td>
</tr>
<tr>
<td>fields</td>
<td>string array</td>
<td>是</td>
<td>集群属性列表，控制返回结果的集群信息里有哪些字段</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_biz_id&quot;: 3,
    &quot;bk_ids&quot;: [
        11,
        12
    ],
    &quot;fields&quot;: [
        &quot;bk_set_id&quot;,
        &quot;bk_set_name&quot;,
        &quot;create_time&quot;
    ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: [
        {
            &quot;bk_set_id&quot;: 12,
            &quot;bk_set_name&quot;: &quot;ss1&quot;,
            &quot;create_time&quot;: &quot;2020-05-15T22:15:51.67+08:00&quot;,
            &quot;default&quot;: 0
        },
        {
            &quot;bk_set_id&quot;: 11,
            &quot;bk_set_name&quot;: &quot;set1&quot;,
            &quot;create_time&quot;: &quot;2020-05-12T21:04:36.644+08:00&quot;,
            &quot;default&quot;: 0
        }
    ]
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/find_topo_node_paths/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>该接口用于根据业务拓扑层级中的某个节点实例(包括自定义节层级实例)，查询该节点的父层级一直到业务顶点的路径信息。(v3.9.1)</p>
<p><strong>注意</strong>
该接口有缓存，缓存更新的最长时间为 5 分钟。</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_nodes</td>
<td>object array</td>
<td>是</td>
<td>要查询的业务拓扑实例节点信息列表, 最大查询数量为 1000</td>
</tr>
</tbody>
</table>
<h4 id="bk_nodes">bk_nodes 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>业务拓扑节点模型名称，如 biz,set,module 及自定义层级模型名</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int64</td>
<td>是</td>
<td>该业务拓扑节点的实例 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_nodes&quot;: [
        {
            &quot;bk_obj_id&quot;: &quot;set&quot;,
            &quot;bk_inst_id&quot;: 11
        },
        {
            &quot;bk_obj_id&quot;: &quot;module&quot;,
            &quot;bk_inst_id&quot;: 60
        },
        {
            &quot;bk_obj_id&quot;: &quot;province&quot;,
            &quot;bk_inst_id&quot;: 3
        }
    ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;permission&quot;: null,
    &quot;data&quot;: [
        {
            &quot;bk_obj_id&quot;: &quot;set&quot;,
            &quot;bk_inst_id&quot;: 11,
            &quot;bk_inst_name&quot;: &quot;gz&quot;,
            &quot;bk_paths&quot;: [
                [
                    {
                        &quot;bk_obj_id&quot;: &quot;biz&quot;,
                        &quot;bk_inst_id&quot;: 3,
                        &quot;bk_inst_name&quot;: &quot;demo&quot;
                    },
                    {
                        &quot;bk_obj_id&quot;: &quot;province&quot;,
                        &quot;bk_inst_id&quot;: 3,
                        &quot;bk_inst_name&quot;: &quot;sz&quot;
                    }
                ]
            ]
        },
        {
            &quot;bk_obj_id&quot;: &quot;module&quot;,
            &quot;bk_inst_id&quot;: 60,
            &quot;bk_inst_name&quot;: &quot;m2&quot;,
            &quot;bk_paths&quot;: [
                [
                    {
                        &quot;bk_obj_id&quot;: &quot;biz&quot;,
                        &quot;bk_inst_id&quot;: 3,
                        &quot;bk_inst_name&quot;: &quot;demo&quot;
                    },
                    {
                        &quot;bk_obj_id&quot;: &quot;province&quot;,
                        &quot;bk_inst_id&quot;: 3,
                        &quot;bk_inst_name&quot;: &quot;sz&quot;
                    },
                    {
                        &quot;bk_obj_id&quot;: &quot;set&quot;,
                        &quot;bk_inst_id&quot;: 12,
                        &quot;bk_inst_name&quot;: &quot;set1&quot;
                    }
                ]
            ]
        },
        {
            &quot;bk_obj_id&quot;: &quot;province&quot;,
            &quot;bk_inst_id&quot;: 3,
            &quot;bk_inst_name&quot;: &quot;sz&quot;,
            &quot;bk_paths&quot;: [
                [
                    {
                        &quot;bk_obj_id&quot;: &quot;biz&quot;,
                        &quot;bk_inst_id&quot;: 3,
                        &quot;bk_inst_name&quot;: &quot;demo&quot;
                    }
                ]
            ]
        }
    ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data 说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>业务拓扑节点模型名称，如 biz,set,module 及自定义层级模型名</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int64</td>
<td>该业务拓扑节点的实例 ID</td>
</tr>
<tr>
<td>bk_paths</td>
<td>object array</td>
<td>该节点的层级信息，即从业务到该节点的父节点的层级信息</td>
</tr>
</tbody>
</table>
<h4 id="bk_paths">bk_paths 说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>节点类型</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int64</td>
<td>节点实例 ID</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>节点实例名称</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/get_biz_internal_module/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>根据业务 ID 获取业务空闲机, 故障机和待回收模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_biz_id&quot;:0,
    &quot;bk_supplier_account&quot;:&quot;0&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: {
    &quot;bk_set_id&quot;: 2,
    &quot;bk_set_name&quot;: &quot;空闲机池&quot;,
    &quot;module&quot;: [
      {
        &quot;bk_module_id&quot;: 3,
        &quot;bk_module_name&quot;: &quot;空闲机&quot;
      },
      {
        &quot;bk_module_id&quot;: 4,
        &quot;bk_module_name&quot;: &quot;故障机&quot;
      },
      {
        &quot;bk_module_id&quot;: 5,
        &quot;bk_module_name&quot;: &quot;待回收&quot;
      }
    ]
  }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data 说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_set_id</td>
<td>int64</td>
<td>空闲机, 故障机和待回收模块所属的 set 的实例 ID</td>
</tr>
<tr>
<td>bk_set_name</td>
<td>string</td>
<td>空闲机, 故障机和待回收模块所属的 set 的实例名称</td>
</tr>
</tbody>
</table>
<h4 id="module">module 说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_module_id</td>
<td>int64</td>
<td>空闲机, 故障机或待回收模块的实例 ID</td>
</tr>
<tr>
<td>bk_module_name</td>
<td>string</td>
<td>空闲机, 故障机或待回收模块的实例名称</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/get_custom_query_data/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>根据自定义查询获取数据</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>是</td>
<td>主键 ID</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大 200</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;id&quot;: &quot;xxx&quot;,
    &quot;start&quot;: 0,
    &quot;limit&quot;: 10
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;count&quot;: 1,
        &quot;info&quot;: [
            {
                &quot;biz&quot;: {
                    &quot;bk_biz_id&quot;: 1,
                    &quot;bk_biz_name&quot;: &quot;test&quot;,
                    &quot;bk_biz_maintainer&quot;: &quot;admin&quot;,
                    &quot;bk_biz_productor&quot;: &quot;admin&quot;
                },
                &quot;host&quot;: {
                    &quot;bk_host_id&quot;: 1,
                    &quot;bk_host_name&quot;: &quot;nginx-1&quot;,
                    &quot;bk_host_innerip&quot;: &quot;10.0.0.1&quot;,
                    &quot;bk_cloud_id&quot;: 0
                },
                &quot;module&quot;: {
                    &quot;bk_module_name&quot;: &quot;module-test&quot;
                },
                &quot;set&quot;: {
                    &quot;bk_set_name&quot;: &quot;set-test&quot;
                }
            }
        ]
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>记录条数</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>主机实际数据</td>
</tr>
</tbody>
</table>
<h4 id="datainfo">data.info</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>biz</td>
<td>dict</td>
<td>主机所属的业务信息</td>
</tr>
<tr>
<td>set</td>
<td>dict</td>
<td>主机所属的集群信息</td>
</tr>
<tr>
<td>module</td>
<td>dict</td>
<td>主机所属的模块信息</td>
</tr>
<tr>
<td>host</td>
<td>dict</td>
<td>主机自身属性</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/get_custom_query_detail/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取自定义查询详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>是</td>
<td>主键 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;id&quot;: &quot;xxx&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;bk_biz_id&quot;: 1,
        &quot;name&quot;: &quot;api1&quot;,
        &quot;id&quot;: &quot;bacfet4kd42325venmcg&quot;,
        &quot;info&quot;: &quot;{\&quot;condition\&quot;:[{\&quot;bk_obj_id\&quot;:\&quot;biz\&quot;,\&quot;condition\&quot;:[{\&quot;field\&quot;:\&quot;default\&quot;,\&quot;operator\&quot;:\&quot;$ne\&quot;,\&quot;value\&quot;:1}],\&quot;fields\&quot;:[]},{\&quot;bk_obj_id\&quot;:\&quot;set\&quot;,\&quot;condition\&quot;:[],\&quot;fields\&quot;:[]},{\&quot;bk_obj_id\&quot;:\&quot;module\&quot;,\&quot;condition\&quot;:[],\&quot;fields\&quot;:[]},{\&quot;bk_obj_id\&quot;:\&quot;host\&quot;,\&quot;condition\&quot;:[{\&quot;field\&quot;:\&quot;bk_host_innerip\&quot;,\&quot;operator\&quot;:\&quot;$eq\&quot;,\&quot;value\&quot;:\&quot;127.0.0.1\&quot;}],\&quot;fields\&quot;:[\&quot;bk_host_innerip\&quot;,\&quot;bk_host_outerip\&quot;,\&quot;bk_agent_status\&quot;]}]}&quot;,
        &quot;create_user&quot;: &quot;admin&quot;,
        &quot;create_time&quot;: &quot;2018-03-27T16:22:43.271+08:00&quot;,
        &quot;modify_user&quot;: &quot;admin&quot;,
        &quot;last_time&quot;: &quot;2018-03-27T16:29:26.428+08:00&quot;
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间</td>
</tr>
<tr>
<td>create_user</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>自定义查询主键 ID</td>
</tr>
<tr>
<td>info</td>
<td>string</td>
<td>自定义查询信息</td>
</tr>
<tr>
<td>last_time</td>
<td>string</td>
<td>更新时间</td>
</tr>
<tr>
<td>modify_user</td>
<td>string</td>
<td>修改者</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>自定义查询命名</td>
</tr>
</tbody>
</table>
<h4 id="datainfo">data.info</h4>
<p>| 字段      |  类型     |  描述      |
|-----------|------------|--------|------------|
| bk_obj_id |  string   | 对象名,可以为 biz,set,module,host,object |
| fields    |  array    | 查询输出字段 |
| condition |  array    | 查询条件 |</p>
<h4 id="datainfocondition">data.info.condition</h4>
<p>| 字段      |  类型     |  描述      |
|-----------|------------|--------|------------|
| field     |  string    | 对象的字段 |
| operator  |  string    | 操作符, $eq 为相等，$ne 为不等，$in 为属于，$nin 为不属于 |
| value     |  string    | 字段对应的值 |</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/get_dynamic_group/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>获取动态分组详情 (V3.9.6)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>是</td>
<td>目标动态分组主键 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;id&quot;: &quot;XXXXXXXX&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;bk_biz_id&quot;: 1,
        &quot;name&quot;: &quot;my-dynamic-group&quot;,
        &quot;id&quot;: &quot;XXXXXXXX&quot;,
        &quot;bk_obj_id&quot;: &quot;host&quot;,
        &quot;info&quot;: {
            &quot;condition&quot;:[
                {
                    &quot;bk_obj_id&quot;:&quot;set&quot;,
                    &quot;condition&quot;:[
                        {
                            &quot;field&quot;:&quot;default&quot;,
                            &quot;operator&quot;:&quot;$ne&quot;,
                            &quot;value&quot;:1
                        }
                    ]
                },
                {
                    &quot;bk_obj_id&quot;:&quot;module&quot;,
                    &quot;condition&quot;:[
                        {
                            &quot;field&quot;:&quot;default&quot;,
                            &quot;operator&quot;:&quot;$ne&quot;,
                            &quot;value&quot;:1
                        }
                    ]
                },
                {
                    &quot;bk_obj_id&quot;:&quot;host&quot;,
                    &quot;condition&quot;:[
                        {
                            &quot;field&quot;:&quot;bk_host_innerip&quot;,
                            &quot;operator&quot;:&quot;$eq&quot;,
                            &quot;value&quot;:&quot;127.0.0.1&quot;
                        }
                    ]
                }
            ]
        },
       &quot;create_user&quot;: &quot;admin&quot;,
       &quot;create_time&quot;: &quot;2018-03-27T16:22:43.271+08:00&quot;,
       &quot;modify_user&quot;: &quot;admin&quot;,
       &quot;last_time&quot;: &quot;2018-03-27T16:29:26.428+08:00&quot;
    }
}</code></pre>


<h3 id="_9">返回结果参数</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>动态分组主键 ID</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>动态分组的目标资源对象类型,目前可以为 host,set</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>动态分组命名</td>
</tr>
<tr>
<td>info</td>
<td>object</td>
<td>动态分组规则信息</td>
</tr>
<tr>
<td>last_time</td>
<td>string</td>
<td>更新时间</td>
</tr>
<tr>
<td>modify_user</td>
<td>string</td>
<td>修改者</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间</td>
</tr>
<tr>
<td>create_user</td>
<td>string</td>
<td>创建者</td>
</tr>
</tbody>
</table>
<h4 id="datainfocondition">data.info.condition</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>条件对象资源类型, host 类型的动态分组支持的 info.conditon:set,module,host；set 类型的动态分组支持的 info.condition:set</td>
</tr>
<tr>
<td>condition</td>
<td>array</td>
<td>查询条件</td>
</tr>
</tbody>
</table>
<h4 id="datainfoconditioncondition">data.info.condition.condition</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>field</td>
<td>string</td>
<td>对象的字段</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>操作符, op 值为 eq(相等)/ne(不等)/in(属于)/nin(不属于)</td>
</tr>
<tr>
<td>value</td>
<td>object</td>
<td>字段对应的值</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/get_host_base_info/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取主机基础信息详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>int</td>
<td>是</td>
<td>主机 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_host_id&quot;: 10000
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: [
        {
            &quot;bk_property_id&quot;: &quot;bk_host_name&quot;,
            &quot;bk_property_name&quot;: &quot;host name&quot;,
            &quot;bk_property_value&quot;: &quot;centos7&quot;
        },
        {
            &quot;bk_property_id&quot;: &quot;bk_host_id&quot;,
            &quot;bk_property_name&quot;: &quot;host ID&quot;,
            &quot;bk_property_value&quot;: &quot;10000&quot;
        }
    ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_property_id</td>
<td>string</td>
<td>属性 id</td>
</tr>
<tr>
<td>bk_property_name</td>
<td>string</td>
<td>属性名称</td>
</tr>
<tr>
<td>bk_property_value</td>
<td>string</td>
<td>属性值</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/get_mainline_object_topo/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取主线模型的业务拓扑</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_supplier_account&quot;:&quot;0&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: [
    {
      &quot;bk_obj_id&quot;: &quot;biz&quot;,
      &quot;bk_obj_name&quot;: &quot;业务&quot;,
      &quot;bk_supplier_account&quot;: &quot;0&quot;,
      &quot;bk_next_obj&quot;: &quot;set&quot;,
      &quot;bk_next_name&quot;: &quot;集群&quot;,
      &quot;bk_pre_obj_id&quot;: &quot;&quot;,
      &quot;bk_pre_obj_name&quot;: &quot;&quot;
    },
    {
      &quot;bk_obj_id&quot;: &quot;set&quot;,
      &quot;bk_obj_name&quot;: &quot;集群&quot;,
      &quot;bk_supplier_account&quot;: &quot;0&quot;,
      &quot;bk_next_obj&quot;: &quot;module&quot;,
      &quot;bk_next_name&quot;: &quot;模块&quot;,
      &quot;bk_pre_obj_id&quot;: &quot;biz&quot;,
      &quot;bk_pre_obj_name&quot;: &quot;业务&quot;
    },
    {
      &quot;bk_obj_id&quot;: &quot;module&quot;,
      &quot;bk_obj_name&quot;: &quot;模块&quot;,
      &quot;bk_supplier_account&quot;: &quot;0&quot;,
      &quot;bk_next_obj&quot;: &quot;host&quot;,
      &quot;bk_next_name&quot;: &quot;主机&quot;,
      &quot;bk_pre_obj_id&quot;: &quot;set&quot;,
      &quot;bk_pre_obj_name&quot;: &quot;集群&quot;
    },
    {
      &quot;bk_obj_id&quot;: &quot;host&quot;,
      &quot;bk_obj_name&quot;: &quot;主机&quot;,
      &quot;bk_supplier_account&quot;: &quot;0&quot;,
      &quot;bk_next_obj&quot;: &quot;&quot;,
      &quot;bk_next_name&quot;: &quot;&quot;,
      &quot;bk_pre_obj_id&quot;: &quot;module&quot;,
      &quot;bk_pre_obj_name&quot;: &quot;模块&quot;
    }
  ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>模型的唯一 ID</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>模型名称</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>开发商帐户名称</td>
</tr>
<tr>
<td>bk_next_obj</td>
<td>string</td>
<td>当前模型的下一个模型唯一 ID</td>
</tr>
<tr>
<td>bk_next_name</td>
<td>string</td>
<td>当前模型的下一个模型名称</td>
</tr>
<tr>
<td>bk_pre_obj_id</td>
<td>string</td>
<td>当前模型的前一个模型的唯一 ID</td>
</tr>
<tr>
<td>bk_pre_obj_name</td>
<td>string</td>
<td>当前模型的前一个模型的名称</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/get_operation_log/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>获取操作日志</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>condition</td>
<td>object</td>
<td>否</td>
<td>查询条件</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数，最大 200</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>排序字段</td>
</tr>
</tbody>
</table>
<h4 id="condition">condition 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>audit_type</td>
<td>string</td>
<td>否</td>
<td>操作的资源类型大类</td>
</tr>
<tr>
<td>user</td>
<td>string</td>
<td>否</td>
<td>操作人</td>
</tr>
<tr>
<td>resource_type</td>
<td>string array</td>
<td>否</td>
<td>操作的具体资源类型</td>
</tr>
<tr>
<td>action</td>
<td>string array</td>
<td>否</td>
<td>操作类型</td>
</tr>
<tr>
<td>operate_from</td>
<td>string</td>
<td>否</td>
<td>操作的来源</td>
</tr>
<tr>
<td>operation_time</td>
<td>string array</td>
<td>否</td>
<td>操作开始和结束时间成对出现</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>否</td>
<td>业务 ID</td>
</tr>
<tr>
<td>resource_id</td>
<td>int</td>
<td>否</td>
<td>资源 ID</td>
</tr>
<tr>
<td>resource_name</td>
<td>string</td>
<td>否</td>
<td>资源名称</td>
</tr>
<tr>
<td>category</td>
<td>string</td>
<td>否</td>
<td>前端使用的资源分类</td>
</tr>
<tr>
<td>label</td>
<td>string array</td>
<td>否</td>
<td>资源标签</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;condition&quot;: {
        &quot;audit_type&quot;: &quot;business_resource&quot;,
        &quot;user&quot;: &quot;admin&quot;,
        &quot;resource_type&quot;: [
            &quot;business&quot;,
            &quot;module&quot;
        ],
        &quot;action&quot;: [
            &quot;create&quot;,
            &quot;update&quot;
        ],
        &quot;operate_from&quot;: &quot;user&quot;,
        &quot;operation_time&quot;: [
            &quot;2020-04-03 00:00:00&quot;,
            &quot;2020-04-03 18:00:00&quot;
        ],
        &quot;bk_biz_id&quot;: 6,
        &quot;resource_id&quot;: 120,
        &quot;resource_name&quot;: &quot;test&quot;,
        &quot;category&quot;: &quot;business&quot;,
        &quot;label&quot;: [
            &quot;biz_topology&quot;
        ]
    },
    &quot;start&quot;: 0,
    &quot;limit&quot;: 10,
    &quot;sort&quot;: &quot;-operation_time&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: null,
    &quot;data&quot;: {
        &quot;count&quot;: 1,
        &quot;info&quot;: [
            {
                &quot;audit_type&quot;: &quot;business_resource&quot;,
                &quot;bk_supplier_account&quot;: &quot;0&quot;,
                &quot;user&quot;: &quot;admin&quot;,
                &quot;resource_type&quot;: &quot;module&quot;,
                &quot;action&quot;: &quot;create&quot;,
                &quot;operate_from&quot;: &quot;user&quot;,
                &quot;operation_detail&quot;: {
                    &quot;bk_biz_id&quot;: 6,
                    &quot;bk_biz_name&quot;: &quot;test_biz&quot;,
                    &quot;resource_id&quot;: 120,
                    &quot;resource_name&quot;: &quot;test&quot;,
                    &quot;details&quot;: {
                        &quot;pre_data&quot;: null,
                        &quot;cur_data&quot;: {
                            &quot;bk_bak_operator&quot;: &quot;&quot;,
                            &quot;bk_biz_id&quot;: 6,
                            &quot;bk_childid&quot;: null,
                            &quot;bk_module_id&quot;: 120,
                            &quot;bk_module_name&quot;: &quot;test&quot;,
                            &quot;bk_module_type&quot;: &quot;1&quot;,
                            &quot;bk_parent_id&quot;: 51,
                            &quot;bk_set_id&quot;: 51,
                            &quot;bk_supplier_account&quot;: &quot;0&quot;,
                            &quot;create_time&quot;: &quot;2020-04-03T09:55:30.574+08:00&quot;,
                            &quot;default&quot;: 0,
                            &quot;last_time&quot;: &quot;2020-04-03T09:55:30.574+08:00&quot;,
                            &quot;operator&quot;: &quot;&quot;
                        },
                        &quot;properties&quot;: [
                            {
                                &quot;bk_property_id&quot;: &quot;bk_biz_id&quot;,
                                &quot;bk_property_name&quot;: &quot;业务ID&quot;
                            },
                            {
                                &quot;bk_property_id&quot;: &quot;bk_set_id&quot;,
                                &quot;bk_property_name&quot;: &quot;集群ID&quot;
                            },
                            {
                                &quot;bk_property_id&quot;: &quot;bk_module_name&quot;,
                                &quot;bk_property_name&quot;: &quot;模块名&quot;
                            },
                            {
                                &quot;bk_property_id&quot;: &quot;bk_childid&quot;,
                                &quot;bk_property_name&quot;: &quot;&quot;
                            },
                            {
                                &quot;bk_property_id&quot;: &quot;bk_module_type&quot;,
                                &quot;bk_property_name&quot;: &quot;模块类型&quot;
                            },
                            {
                                &quot;bk_property_id&quot;: &quot;operator&quot;,
                                &quot;bk_property_name&quot;: &quot;主要维护人&quot;
                            },
                            {
                                &quot;bk_property_id&quot;: &quot;bk_bak_operator&quot;,
                                &quot;bk_property_name&quot;: &quot;备份维护人&quot;
                            }
                        ]
                    },
                    &quot;bk_obj_id&quot;: &quot;module&quot;
                },
                &quot;operation_time&quot;: &quot;2020-04-03 09:55:30&quot;,
                &quot;label&quot;: {
                    &quot;biz_topology&quot;: &quot;&quot;
                }
            }
        ]
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data 字段说明</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>请求记录条数</td>
</tr>
<tr>
<td>info</td>
<td>object array</td>
<td>请求记录数据</td>
</tr>
</tbody>
</table>
<h4 id="info">info 字段说明</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>audit_type</td>
<td>string</td>
<td>操作的资源类型大类</td>
</tr>
<tr>
<td>user</td>
<td>string</td>
<td>操作人</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>开发商 ID</td>
</tr>
<tr>
<td>resource_type</td>
<td>string</td>
<td>操作的具体资源类型</td>
</tr>
<tr>
<td>action</td>
<td>string</td>
<td>操作类型</td>
</tr>
<tr>
<td>operate_from</td>
<td>string</td>
<td>操作的来源</td>
</tr>
<tr>
<td>operation_detail</td>
<td>object</td>
<td>实际操作内容</td>
</tr>
<tr>
<td>operation_time</td>
<td>string</td>
<td>操作时间</td>
</tr>
<tr>
<td>label</td>
<td>object</td>
<td>资源标签</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/get_proc_template/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取单个进程模板信息，url 参数中指定进程模板 ID</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>process_template_id</td>
<td>int</td>
<td>是</td>
<td>进程模板 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;process_template_id&quot;: 49,
  &quot;bk_supplier_account&quot;: &quot;0&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;permission&quot;: null,
  &quot;data&quot;: {
    &quot;count&quot;: 1,
    &quot;info&quot;: [
      {
        &quot;bk_biz_id&quot;: 1,
        &quot;id&quot;: 49,
        &quot;name&quot;: &quot;10.27.0.9_p1_81&quot;,
        &quot;service_template_id&quot;: 50,
        &quot;bk_host_id&quot;: 11,
        &quot;bk_host_innerip&quot;: &quot;10.27.0.9&quot;,
        &quot;bk_module_id&quot;: 56,
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;modifier&quot;: &quot;admin&quot;,
        &quot;create_time&quot;: &quot;2019-07-22T09:54:50.906+08:00&quot;,
        &quot;last_time&quot;: &quot;2019-07-22T09:54:50.906+08:00&quot;,
        &quot;bk_supplier_account&quot;: &quot;0&quot;,
        &quot;service_category_id&quot;: 22,
        &quot;process_instances&quot;: [
          {
            &quot;process&quot;: {
              &quot;bk_biz_id&quot;: 1,
              &quot;proc_num&quot;: 0,
              &quot;stop_cmd&quot;: &quot;&quot;,
              &quot;restart_cmd&quot;: &quot;&quot;,
              &quot;face_stop_cmd&quot;: &quot;&quot;,
              &quot;bk_process_id&quot;: 43,
              &quot;bk_func_name&quot;: &quot;p1&quot;,
              &quot;work_path&quot;: &quot;&quot;,
              &quot;bind_ip&quot;: &quot;0.0.0.0&quot;,
              &quot;priority&quot;: 0,
              &quot;reload_cmd&quot;: &quot;&quot;,
              &quot;bk_process_name&quot;: &quot;p1&quot;,
              &quot;port&quot;: &quot;81&quot;,
              &quot;pid_file&quot;: &quot;&quot;,
              &quot;auto_start&quot;: false,
              &quot;auto_time_gap&quot;: 0,
              &quot;last_time&quot;: &quot;2019-07-22T09:54:50.927+08:00&quot;,
              &quot;create_time&quot;: &quot;2019-07-22T09:54:50.927+08:00&quot;,
              &quot;bk_biz_id&quot;: 3,
              &quot;start_cmd&quot;: &quot;&quot;,
              &quot;bk_func_id&quot;: &quot;&quot;,
              &quot;user&quot;: &quot;&quot;,
              &quot;timeout&quot;: 0,
              &quot;protocol&quot;: &quot;1&quot;,
              &quot;description&quot;: &quot;&quot;,
              &quot;bk_supplier_account&quot;: &quot;0&quot;,
              &quot;bk_start_param_regex&quot;: &quot;&quot;
            },
            &quot;relation&quot;: {
              &quot;bk_biz_id&quot;: 1,
              &quot;bk_process_id&quot;: 43,
              &quot;service_instance_id&quot;: 49,
              &quot;process_template_id&quot;: 48,
              &quot;bk_host_id&quot;: 11,
              &quot;bk_supplier_account&quot;: &quot;0&quot;
            }
          }
        ]
      }
    ]
  }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/get_service_template/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>根据服务模板 ID 获取服务模板</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>service_template_id</td>
<td>int</td>
<td>是</td>
<td>服务模板 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;bk_supplier_account&quot;: &quot;0&quot;,
  &quot;service_template_id&quot;: 51
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        &quot;bk_biz_id&quot;: 3,
        &quot;id&quot;: 51,
        &quot;name&quot;: &quot;mm2&quot;,
        &quot;service_category_id&quot;: 12,
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;modifier&quot;: &quot;admin&quot;,
        &quot;create_time&quot;: &quot;2020-05-26T09:46:15.259Z&quot;,
        &quot;last_time&quot;: &quot;2020-05-26T09:46:15.259Z&quot;,
        &quot;bk_supplier_account&quot;: &quot;0&quot;
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>服务模板 ID</td>
</tr>
<tr>
<td>name</td>
<td>array</td>
<td>服务模板名称</td>
</tr>
<tr>
<td>service_category_id</td>
<td>integer</td>
<td>服务分类 ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/list_biz_hosts/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据业务 ID 查询业务下的主机，可附带其他的过滤信息，如集群 id,模块 id 等</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>page</td>
<td>dict</td>
<td>否</td>
<td>查询条件</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 id</td>
</tr>
<tr>
<td>bk_set_ids</td>
<td>array</td>
<td>否</td>
<td>集群 ID 列表，最多 200 条</td>
</tr>
<tr>
<td>set_cond</td>
<td>array</td>
<td>否</td>
<td>集群查询条件</td>
</tr>
<tr>
<td>bk_module_ids</td>
<td>array</td>
<td>否</td>
<td>模块 ID 列表，最多 500 条</td>
</tr>
<tr>
<td>host_property_filter</td>
<td>object</td>
<td>否</td>
<td>主机属性组合查询条件</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>是</td>
<td>主机属性列表，控制返回结果的主机里有哪些字段，能够加速接口请求和减少网络流量传输</td>
</tr>
</tbody>
</table>
<h4 id="host_property_filter">host_property_filter</h4>
<p>该参数为主机属性字段过滤规则的组合，用于根据主机属性字段搜索主机。组合支持 AND 和 OR 两种方式，可以嵌套，最多嵌套 2 层。
过滤规则为四元组 <code>field</code>, <code>operator</code>, <code>value</code></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>说明</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>field</td>
<td>string</td>
<td>是</td>
<td>无</td>
<td>字段名</td>
<td></td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>无</td>
<td>操作符</td>
<td>可选值 equal,not_equal,in,not_in,less,less_or_equal,greater,greater_or_equal,between,not_between</td>
</tr>
<tr>
<td>value</td>
<td>-</td>
<td>否</td>
<td>无</td>
<td>操作数</td>
<td>不同的 operator 对应不同的 value 格式</td>
</tr>
</tbody>
</table>
<p>组装规则可参考: <a href="https://github.com/Tencent/bk-cmdb/blob/master/src/common/querybuilder/README.md">https://github.com/Tencent/bk-cmdb/blob/master/src/common/querybuilder/README.md</a></p>
<h4 id="set_cond">set_cond</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>field</td>
<td>string</td>
<td>是</td>
<td>取值为集群的字段</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>取值为：$eq $ne</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>是</td>
<td>field 配置的集群字段所对应的值</td>
</tr>
</tbody>
</table>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大 500</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>排序字段</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;page&quot;: {
        &quot;start&quot;: 0,
        &quot;limit&quot;: 10,
        &quot;sort&quot;: &quot;bk_host_id&quot;
    },
    &quot;set_cond&quot;: [
        {
            &quot;field&quot;: &quot;bk_set_name&quot;,
            &quot;operator&quot;: &quot;$eq&quot;,
            &quot;value&quot;: &quot;set1&quot;
        }
    ],
    &quot;bk_biz_id&quot;: 3,
    &quot;bk_module_ids&quot;: [54,56],
    &quot;fields&quot;: [
        &quot;bk_host_id&quot;,
        &quot;bk_cloud_id&quot;,
        &quot;bk_host_innerip&quot;,
        &quot;bk_os_type&quot;,
        &quot;bk_mac&quot;
    ],
    &quot;host_property_filter&quot;: {
        &quot;condition&quot;: &quot;AND&quot;,
        &quot;rules&quot;: [
            {
                &quot;field&quot;: &quot;bk_host_innerip&quot;,
                &quot;operator&quot;: &quot;begins_with&quot;,
                &quot;value&quot;: &quot;192.168&quot;
            },
            {
                &quot;condition&quot;: &quot;OR&quot;,
                &quot;rules&quot;: [
                    {
                        &quot;field&quot;: &quot;bk_os_type&quot;,
                        &quot;operator&quot;: &quot;not_in&quot;,
                        &quot;value&quot;: [
                            &quot;3&quot;
                        ]
                    },
                    {
                        &quot;field&quot;: &quot;bk_cloud_id&quot;,
                        &quot;operator&quot;: &quot;equal&quot;,
                        &quot;value&quot;: 0
                    }
                ]
            }
        ]
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: {
    &quot;count&quot;: 2,
    &quot;info&quot;: [
      {
        &quot;bk_cloud_id&quot;: 0,
        &quot;bk_host_id&quot;: 1,
        &quot;bk_host_innerip&quot;: &quot;192.168.15.18&quot;,
        &quot;bk_mac&quot;: &quot;&quot;,
        &quot;bk_os_type&quot;: null
      },
      {
        &quot;bk_cloud_id&quot;: 0,
        &quot;bk_host_id&quot;: 2,
        &quot;bk_host_innerip&quot;: &quot;192.168.15.4&quot;,
        &quot;bk_mac&quot;: &quot;&quot;,
        &quot;bk_os_type&quot;: null
      }
    ]
  }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>记录条数</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>主机实际数据</td>
</tr>
</tbody>
</table>
<h4 id="datainfo">data.info</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_isp_name</td>
<td>string</td>
<td>所属运营商</td>
<td>0:其它；1:电信；2:联通；3:移动</td>
</tr>
<tr>
<td>bk_sn</td>
<td>string</td>
<td>设备 SN</td>
<td></td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>主要维护人</td>
<td></td>
</tr>
<tr>
<td>bk_outer_mac</td>
<td>string</td>
<td>外网 MAC</td>
<td></td>
</tr>
<tr>
<td>bk_state_name</td>
<td>string</td>
<td>所在国家</td>
<td>CN:中国，详细值，请参考 CMDB 页面</td>
</tr>
<tr>
<td>bk_province_name</td>
<td>string</td>
<td>所在省份</td>
<td></td>
</tr>
<tr>
<td>import_from</td>
<td>string</td>
<td>录入方式</td>
<td>1:excel;2:agent;3:api</td>
</tr>
<tr>
<td>bk_sla</td>
<td>string</td>
<td>SLA 级别</td>
<td>1:L1;2:L2;3:L3</td>
</tr>
<tr>
<td>bk_service_term</td>
<td>int</td>
<td>质保年限</td>
<td>1-10</td>
</tr>
<tr>
<td>bk_os_type</td>
<td>string</td>
<td>操作系统类型</td>
<td>1:Linux;2:Windows;3:AIX</td>
</tr>
<tr>
<td>bk_os_version</td>
<td>string</td>
<td>操作系统版本</td>
<td></td>
</tr>
<tr>
<td>bk_os_bit</td>
<td>int</td>
<td>操作系统位数</td>
<td></td>
</tr>
<tr>
<td>bk_mem</td>
<td>string</td>
<td>内存容量</td>
<td></td>
</tr>
<tr>
<td>bk_mac</td>
<td>string</td>
<td>内网 MAC 地址</td>
<td></td>
</tr>
<tr>
<td>bk_host_outerip</td>
<td>string</td>
<td>外网 IP</td>
<td></td>
</tr>
<tr>
<td>bk_host_name</td>
<td>string</td>
<td>主机名称</td>
<td></td>
</tr>
<tr>
<td>bk_host_innerip</td>
<td>string</td>
<td>内网 IP</td>
<td></td>
</tr>
<tr>
<td>bk_host_id</td>
<td>int</td>
<td>主机 ID</td>
<td></td>
</tr>
<tr>
<td>bk_disk</td>
<td>int</td>
<td>磁盘容量</td>
<td></td>
</tr>
<tr>
<td>bk_cpu_module</td>
<td>string</td>
<td>CPU 型号</td>
<td></td>
</tr>
<tr>
<td>bk_cpu_mhz</td>
<td>int</td>
<td>CPU 频率</td>
<td></td>
</tr>
<tr>
<td>bk_cpu</td>
<td>int</td>
<td>CPU 逻辑核心数</td>
<td>1-1000000</td>
</tr>
<tr>
<td>bk_comment</td>
<td>string</td>
<td>备注</td>
<td></td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>云区域</td>
<td></td>
</tr>
<tr>
<td>bk_bak_operator</td>
<td>string</td>
<td>备份维护人</td>
<td></td>
</tr>
<tr>
<td>bk_asset_id</td>
<td>string</td>
<td>固资编号</td>
<td></td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/list_biz_hosts_topo/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询业务 id 业务下的主机和拓扑信息,可附带一些查询条件</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 id</td>
</tr>
<tr>
<td>page</td>
<td>dict</td>
<td>否</td>
<td>查询条件</td>
</tr>
<tr>
<td>host_property_filter</td>
<td>object</td>
<td>否</td>
<td>主机属性组合查询条件</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>是</td>
<td>主机属性列表，控制返回结果的主机里有哪些字段，能够加速接口请求和减少网络流量传输</td>
</tr>
</tbody>
</table>
<h4 id="host_property_filter">host_property_filter</h4>
<p>该参数为主机属性字段过滤规则的组合，用于根据主机属性字段搜索主机。组合支持 AND 和 OR 两种方式，可以嵌套，最多嵌套 2 层。
过滤规则为四元组 <code>field</code>, <code>operator</code>, <code>value</code></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>说明</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>field</td>
<td>string</td>
<td>是</td>
<td>无</td>
<td>字段名</td>
<td></td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>无</td>
<td>操作符</td>
<td>可选值 equal,not_equal,in,not_in,less,less_or_equal,greater,greater_or_equal,between,not_between</td>
</tr>
<tr>
<td>value</td>
<td>-</td>
<td>否</td>
<td>无</td>
<td>操作数</td>
<td>不同的 operator 对应不同的 value 格式</td>
</tr>
</tbody>
</table>
<p>组装规则可参考: <a href="https://github.com/Tencent/bk-cmdb/blob/master/src/common/querybuilder/README.md">https://github.com/Tencent/bk-cmdb/blob/master/src/common/querybuilder/README.md</a></p>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大值为 500</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>排序字段</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;page&quot;: {
        &quot;start&quot;: 0,
        &quot;limit&quot;: 10,
        &quot;sort&quot;: &quot;bk_host_id&quot;
    },
    &quot;fields&quot;: [
        &quot;bk_host_id&quot;,
        &quot;bk_cloud_id&quot;,
        &quot;bk_host_innerip&quot;,
        &quot;bk_os_type&quot;,
        &quot;bk_mac&quot;
    ],
    &quot;host_property_filter&quot;: {
        &quot;condition&quot;: &quot;AND&quot;,
        &quot;rules&quot;: [
            {
                &quot;field&quot;: &quot;bk_host_innerip&quot;,
                &quot;operator&quot;: &quot;begins_with&quot;,
                &quot;value&quot;: &quot;192.168&quot;
            },
            {
                &quot;condition&quot;: &quot;OR&quot;,
                &quot;rules&quot;: [
                    {
                        &quot;field&quot;: &quot;bk_os_type&quot;,
                        &quot;operator&quot;: &quot;not_in&quot;,
                        &quot;value&quot;: [
                            &quot;3&quot;
                        ]
                    },
                    {
                        &quot;field&quot;: &quot;bk_cloud_id&quot;,
                        &quot;operator&quot;: &quot;equal&quot;,
                        &quot;value&quot;: 0
                    }
                ]
            }
        ]
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: {
    &quot;count&quot;: 3,
    &quot;info&quot;: [
      {
        &quot;host&quot;: {
          &quot;bk_cloud_id&quot;: 0,
          &quot;bk_host_id&quot;: 1,
          &quot;bk_host_innerip&quot;: &quot;192.168.15.18&quot;,
          &quot;bk_mac&quot;: &quot;&quot;,
          &quot;bk_os_type&quot;: null
        },
        &quot;topo&quot;: [
          {
            &quot;bk_set_id&quot;: 11,
            &quot;bk_set_name&quot;: &quot;set1&quot;,
            &quot;module&quot;: [
              {
                &quot;bk_module_id&quot;: 56,
                &quot;bk_module_name&quot;: &quot;m1&quot;
              }
            ]
          }
        ]
      },
      {
        &quot;host&quot;: {
          &quot;bk_cloud_id&quot;: 0,
          &quot;bk_host_id&quot;: 2,
          &quot;bk_host_innerip&quot;: &quot;192.168.15.4&quot;,
          &quot;bk_mac&quot;: &quot;&quot;,
          &quot;bk_os_type&quot;: null
        },
        &quot;topo&quot;: [
          {
            &quot;bk_set_id&quot;: 11,
            &quot;bk_set_name&quot;: &quot;set1&quot;,
            &quot;module&quot;: [
              {
                &quot;bk_module_id&quot;: 56,
                &quot;bk_module_name&quot;: &quot;m1&quot;
              }
            ]
          }
        ]
      },
      {
        &quot;host&quot;: {
          &quot;bk_cloud_id&quot;: 0,
          &quot;bk_host_id&quot;: 3,
          &quot;bk_host_innerip&quot;: &quot;192.168.15.12&quot;,
          &quot;bk_mac&quot;: &quot;&quot;,
          &quot;bk_os_type&quot;: null
        },
        &quot;topo&quot;: [
          {
            &quot;bk_set_id&quot;: 10,
            &quot;bk_set_name&quot;: &quot;空闲机池&quot;,
            &quot;module&quot;: [
              {
                &quot;bk_module_id&quot;: 54,
                &quot;bk_module_name&quot;: &quot;空闲机&quot;
              }
            ]
          }
        ]
      }
    ]
  }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>记录条数</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>主机数据和拓扑信息</td>
</tr>
</tbody>
</table>
<h4 id="datainfo">data.info</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>host</td>
<td>dict</td>
<td>主机实际数据</td>
</tr>
<tr>
<td>topo</td>
<td>array</td>
<td>主机拓扑信息</td>
</tr>
</tbody>
</table>
<h4 id="datainfohost">data.info.host</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_isp_name</td>
<td>string</td>
<td>所属运营商</td>
<td>0:其它；1:电信；2:联通；3:移动</td>
</tr>
<tr>
<td>bk_sn</td>
<td>string</td>
<td>设备 SN</td>
<td></td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>主要维护人</td>
<td></td>
</tr>
<tr>
<td>bk_outer_mac</td>
<td>string</td>
<td>外网 MAC</td>
<td></td>
</tr>
<tr>
<td>bk_state_name</td>
<td>string</td>
<td>所在国家</td>
<td>CN:中国，详细值，请参考 CMDB 页面</td>
</tr>
<tr>
<td>bk_province_name</td>
<td>string</td>
<td>所在省份</td>
<td></td>
</tr>
<tr>
<td>import_from</td>
<td>string</td>
<td>录入方式</td>
<td>1:excel;2:agent;3:api</td>
</tr>
<tr>
<td>bk_sla</td>
<td>string</td>
<td>SLA 级别</td>
<td>1:L1;2:L2;3:L3</td>
</tr>
<tr>
<td>bk_service_term</td>
<td>int</td>
<td>质保年限</td>
<td>1-10</td>
</tr>
<tr>
<td>bk_os_type</td>
<td>string</td>
<td>操作系统类型</td>
<td>1:Linux;2:Windows;3:AIX</td>
</tr>
<tr>
<td>bk_os_version</td>
<td>string</td>
<td>操作系统版本</td>
<td></td>
</tr>
<tr>
<td>bk_os_bit</td>
<td>int</td>
<td>操作系统位数</td>
<td></td>
</tr>
<tr>
<td>bk_mem</td>
<td>string</td>
<td>内存容量</td>
<td></td>
</tr>
<tr>
<td>bk_mac</td>
<td>string</td>
<td>内网 MAC 地址</td>
<td></td>
</tr>
<tr>
<td>bk_host_outerip</td>
<td>string</td>
<td>外网 IP</td>
<td></td>
</tr>
<tr>
<td>bk_host_name</td>
<td>string</td>
<td>主机名称</td>
<td></td>
</tr>
<tr>
<td>bk_host_innerip</td>
<td>string</td>
<td>内网 IP</td>
<td></td>
</tr>
<tr>
<td>bk_host_id</td>
<td>int</td>
<td>主机 ID</td>
<td></td>
</tr>
<tr>
<td>bk_disk</td>
<td>int</td>
<td>磁盘容量</td>
<td></td>
</tr>
<tr>
<td>bk_cpu_module</td>
<td>string</td>
<td>CPU 型号</td>
<td></td>
</tr>
<tr>
<td>bk_cpu_mhz</td>
<td>int</td>
<td>CPU 频率</td>
<td></td>
</tr>
<tr>
<td>bk_cpu</td>
<td>int</td>
<td>CPU 逻辑核心数</td>
<td>1-1000000</td>
</tr>
<tr>
<td>bk_comment</td>
<td>string</td>
<td>备注</td>
<td></td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>云区域</td>
<td></td>
</tr>
<tr>
<td>bk_bak_operator</td>
<td>string</td>
<td>备份维护人</td>
<td></td>
</tr>
<tr>
<td>bk_asset_id</td>
<td>string</td>
<td>固资编号</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="datainfotopo">data.info.topo</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_set_id</td>
<td>int</td>
<td>主机所属的集群 ID</td>
</tr>
<tr>
<td>bk_set_name</td>
<td>string</td>
<td>主机所属的集群名字</td>
</tr>
<tr>
<td>module</td>
<td>array</td>
<td>主机所属的集群下模块信息</td>
</tr>
</tbody>
</table>
<h4 id="datainfotopomodule">data.info.topo.module</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_module_id</td>
<td>int</td>
<td>模块 ID</td>
</tr>
<tr>
<td>bk_module_name</td>
<td>string</td>
<td>模块名字</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/list_hosts_without_biz/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>没有业务信息的主机查询</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>否</td>
<td>业务 id</td>
</tr>
<tr>
<td>page</td>
<td>dict</td>
<td>是</td>
<td>查询条件</td>
</tr>
<tr>
<td>host_property_filter</td>
<td>object</td>
<td>否</td>
<td>主机属性组合查询条件</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>是</td>
<td>主机属性列表，控制返回结果的主机里有哪些字段，能够加速接口请求和减少网络流量传输</td>
</tr>
</tbody>
</table>
<h4 id="host_property_filter">host_property_filter</h4>
<p>该参数为主机属性字段过滤规则的组合，用于根据主机属性字段搜索主机。组合支持 AND 和 OR 两种方式，可以嵌套，最多嵌套 2 层。
过滤规则为四元组 <code>field</code>, <code>operator</code>, <code>value</code></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>说明</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>field</td>
<td>string</td>
<td>是</td>
<td>无</td>
<td>字段名</td>
<td></td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>无</td>
<td>操作符</td>
<td>可选值 equal,not_equal,in,not_in,less,less_or_equal,greater,greater_or_equal,between,not_between</td>
</tr>
<tr>
<td>value</td>
<td>-</td>
<td>否</td>
<td>无</td>
<td>操作数</td>
<td>不同的 operator 对应不同的 value 格式</td>
</tr>
</tbody>
</table>
<p>组装规则可参考: <a href="https://github.com/Tencent/bk-cmdb/blob/master/src/common/querybuilder/README.md">https://github.com/Tencent/bk-cmdb/blob/master/src/common/querybuilder/README.md</a></p>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大 500</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;page&quot;: {
        &quot;start&quot;: 0,
        &quot;limit&quot;: 3
    },
    &quot;fields&quot;: [
        &quot;bk_host_id&quot;,
        &quot;bk_cloud_id&quot;,
        &quot;bk_host_innerip&quot;,
        &quot;bk_os_type&quot;,
        &quot;bk_mac&quot;
    ],
    &quot;host_property_filter&quot;: {
        &quot;condition&quot;: &quot;AND&quot;,
        &quot;rules&quot;: [
            {
                &quot;field&quot;: &quot;bk_host_innerip&quot;,
                &quot;operator&quot;: &quot;begins_with&quot;,
                &quot;value&quot;: &quot;192.168&quot;
            },
            {
                &quot;condition&quot;: &quot;OR&quot;,
                &quot;rules&quot;: [
                    {
                        &quot;field&quot;: &quot;bk_os_type&quot;,
                        &quot;operator&quot;: &quot;not_in&quot;,
                        &quot;value&quot;: [
                            &quot;3&quot;
                        ]
                    },
                    {
                        &quot;field&quot;: &quot;bk_cloud_id&quot;,
                        &quot;operator&quot;: &quot;equal&quot;,
                        &quot;value&quot;: 0
                    }
                ]
            }
        ]
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: {
    &quot;count&quot;: 30,
    &quot;info&quot;: [
      {
        &quot;bk_cloud_id&quot;: 0,
        &quot;bk_host_id&quot;: 1,
        &quot;bk_host_innerip&quot;: &quot;192.168.15.18&quot;,
        &quot;bk_mac&quot;: &quot;&quot;,
        &quot;bk_os_type&quot;: null
      },
      {
        &quot;bk_cloud_id&quot;: 0,
        &quot;bk_host_id&quot;: 2,
        &quot;bk_host_innerip&quot;: &quot;192.168.15.4&quot;,
        &quot;bk_mac&quot;: &quot;&quot;,
        &quot;bk_os_type&quot;: null
      },
      {
        &quot;bk_cloud_id&quot;: 0,
        &quot;bk_host_id&quot;: 3,
        &quot;bk_host_innerip&quot;: &quot;192.168.15.12&quot;,
        &quot;bk_mac&quot;: &quot;&quot;,
        &quot;bk_os_type&quot;: null
      }
    ]
  }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>记录条数</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>主机实际数据</td>
</tr>
</tbody>
</table>
<h4 id="datainfo">data.info</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_isp_name</td>
<td>string</td>
<td>所属运营商</td>
<td>0:其它；1:电信；2:联通；3:移动</td>
</tr>
<tr>
<td>bk_sn</td>
<td>string</td>
<td>设备 SN</td>
<td></td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>主要维护人</td>
<td></td>
</tr>
<tr>
<td>bk_outer_mac</td>
<td>string</td>
<td>外网 MAC</td>
<td></td>
</tr>
<tr>
<td>bk_state_name</td>
<td>string</td>
<td>所在国家</td>
<td>CN:中国，详细值，请参考 CMDB 页面</td>
</tr>
<tr>
<td>bk_province_name</td>
<td>string</td>
<td>所在省份</td>
<td></td>
</tr>
<tr>
<td>import_from</td>
<td>string</td>
<td>录入方式</td>
<td>1:excel;2:agent;3:api</td>
</tr>
<tr>
<td>bk_sla</td>
<td>string</td>
<td>SLA 级别</td>
<td>1:L1;2:L2;3:L3</td>
</tr>
<tr>
<td>bk_service_term</td>
<td>int</td>
<td>质保年限</td>
<td>1-10</td>
</tr>
<tr>
<td>bk_os_type</td>
<td>string</td>
<td>操作系统类型</td>
<td>1:Linux;2:Windows;3:AIX</td>
</tr>
<tr>
<td>bk_os_version</td>
<td>string</td>
<td>操作系统版本</td>
<td></td>
</tr>
<tr>
<td>bk_os_bit</td>
<td>int</td>
<td>操作系统位数</td>
<td></td>
</tr>
<tr>
<td>bk_mem</td>
<td>string</td>
<td>内存容量</td>
<td></td>
</tr>
<tr>
<td>bk_mac</td>
<td>string</td>
<td>内网 MAC 地址</td>
<td></td>
</tr>
<tr>
<td>bk_host_outerip</td>
<td>string</td>
<td>外网 IP</td>
<td></td>
</tr>
<tr>
<td>bk_host_name</td>
<td>string</td>
<td>主机名称</td>
<td></td>
</tr>
<tr>
<td>bk_host_innerip</td>
<td>string</td>
<td>内网 IP</td>
<td></td>
</tr>
<tr>
<td>bk_host_id</td>
<td>int</td>
<td>主机 ID</td>
<td></td>
</tr>
<tr>
<td>bk_disk</td>
<td>int</td>
<td>磁盘容量</td>
<td></td>
</tr>
<tr>
<td>bk_cpu_module</td>
<td>string</td>
<td>CPU 型号</td>
<td></td>
</tr>
<tr>
<td>bk_cpu_mhz</td>
<td>int</td>
<td>CPU 频率</td>
<td></td>
</tr>
<tr>
<td>bk_cpu</td>
<td>int</td>
<td>CPU 逻辑核心数</td>
<td>1-1000000</td>
</tr>
<tr>
<td>bk_comment</td>
<td>string</td>
<td>备注</td>
<td></td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>云区域</td>
<td></td>
</tr>
<tr>
<td>bk_bak_operator</td>
<td>string</td>
<td>备份维护人</td>
<td></td>
</tr>
<tr>
<td>bk_asset_id</td>
<td>string</td>
<td>固资编号</td>
<td></td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/list_process_detail_by_ids/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询某业务下进程 ID 对应的进程详情 (v3.9.8)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int64</td>
<td>Yes</td>
<td>进程所在的业务 ID</td>
</tr>
<tr>
<td>bk_process_ids</td>
<td>int64 array</td>
<td>Yes</td>
<td>进程 ID 列表，最多传 500 个</td>
</tr>
<tr>
<td>fields</td>
<td>string array</td>
<td>No</td>
<td>进程属性列表，控制返回结果的进程实例信息里有哪些字段，能够加速接口请求和减少网络流量传输<br>为空时返回进程所有字段,bk_process_id 为必返回字段</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_process_ids&quot;: [
        43,
        44
    ],
    &quot;fields&quot;: [
        &quot;bk_process_id&quot;,
        &quot;bk_process_name&quot;,
        &quot;bk_func_id&quot;,
        &quot;bk_func_name&quot;
    ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: [
        {
            &quot;bk_func_id&quot;: &quot;&quot;,
            &quot;bk_func_name&quot;: &quot;pr1&quot;,
            &quot;bk_process_id&quot;: 43,
            &quot;bk_process_name&quot;: &quot;pr1&quot;
        },
        {
            &quot;bk_func_id&quot;: &quot;&quot;,
            &quot;bk_func_name&quot;: &quot;pr2&quot;,
            &quot;bk_process_id&quot;: 44,
            &quot;bk_process_name&quot;: &quot;pr2&quot;
        }
    ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/list_process_instance/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据服务实例 ID 查询进程实例列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>service_instance_id</td>
<td>int</td>
<td>是</td>
<td>服务实例 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;service_instance_id&quot;: 54
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: [
    {
      &quot;property&quot;: {
        &quot;auto_start&quot;: false,
        &quot;auto_time_gap&quot;: 60,
        &quot;bk_biz_id&quot;: 2,
        &quot;bk_func_id&quot;: &quot;&quot;,
        &quot;bk_func_name&quot;: &quot;java&quot;,
        &quot;bk_process_id&quot;: 46,
        &quot;bk_process_name&quot;: &quot;job_java&quot;,
        &quot;bk_start_param_regex&quot;: &quot;&quot;,
        &quot;bk_supplier_account&quot;: &quot;0&quot;,
        &quot;create_time&quot;: &quot;2019-06-05T14:59:12.065+08:00&quot;,
        &quot;description&quot;: &quot;&quot;,
        &quot;face_stop_cmd&quot;: &quot;&quot;,
        &quot;last_time&quot;: &quot;2019-06-05T14:59:12.065+08:00&quot;,
          &quot;bk_biz_id&quot;: 1,
        &quot;pid_file&quot;: &quot;&quot;,
        &quot;priority&quot;: 1,
        &quot;proc_num&quot;: 1,
        &quot;reload_cmd&quot;: &quot;&quot;,
        &quot;restart_cmd&quot;: &quot;&quot;,
        &quot;start_cmd&quot;: &quot;&quot;,
        &quot;stop_cmd&quot;: &quot;&quot;,
        &quot;timeout&quot;: 30,
        &quot;user&quot;: &quot;&quot;,
        &quot;work_path&quot;: &quot;/data/bkce&quot;,
        &quot;bind_info&quot;: [
            {
                &quot;enable&quot;: false,  
                &quot;ip&quot;: &quot;127.0.0.1&quot;,  
                &quot;port&quot;: &quot;100&quot;,  
                &quot;protocol&quot;: &quot;1&quot;, 
                &quot;template_row_id&quot;: 1  
            }
        ]
      },
      &quot;relation&quot;: {
          &quot;bk_biz_id&quot;: 1,
        &quot;bk_process_id&quot;: 46,
        &quot;service_instance_id&quot;: 54,
        &quot;process_template_id&quot;: 1,
        &quot;bk_host_id&quot;: 1,
        &quot;bk_supplier_account&quot;: &quot;&quot;
      }
    }
  ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>property</td>
<td>object</td>
<td>进程属性信息</td>
<td></td>
</tr>
<tr>
<td>relation</td>
<td>object</td>
<td>进程与服务实例的关联信息</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="datainfoxpropertybind_infon">data.info[x].property.bind_info[n] 字段说明</h4>
<p>| 字段|类型|说明|
|---|---|---|---|
|enable|bool|端口是否启用||
|ip|string|绑定的 ip||
|port|string|绑定的端口||
|protocol|string|使用的协议||
|row_id|int|实例化使用的模板行索引，进程内唯一|</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/list_proc_template/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据服务模板 ID 查询进程模板信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>service_template_id</td>
<td>int</td>
<td>否</td>
<td>服务模板 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;limit&quot;: {
    &quot;start&quot;: 0,
    &quot;limit&quot;: 1
  },
  &quot;with_name&quot;: true,
  &quot;bk_set_id&quot;: 15,
  &quot;bk_module_id&quot;: 8,
  &quot;bk_host_id&quot;: 11,
  &quot;service_instance_ids&quot;: [49],
  &quot;selectors&quot;: [{
    &quot;key&quot;: &quot;key1&quot;,
    &quot;operator&quot;: &quot;notin&quot;,
    &quot;values&quot;: [&quot;value1&quot;]
  }]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        &quot;count&quot;: 1,
        &quot;info&quot;: [
            {
                &quot;id&quot;: 50,
                &quot;bk_process_name&quot;: &quot;p1&quot;,
                &quot;bk_biz_id&quot;: 1,
                &quot;service_template_id&quot;: 51,
                &quot;property&quot;: {
                    &quot;proc_num&quot;: {
                        &quot;value&quot;: null,
                        &quot;as_default_value&quot;: false
                    },
                    &quot;stop_cmd&quot;: {
                        &quot;value&quot;: &quot;&quot;,
                        &quot;as_default_value&quot;: false
                    },
                    &quot;restart_cmd&quot;: {
                        &quot;value&quot;: &quot;&quot;,
                        &quot;as_default_value&quot;: false
                    },
                    &quot;face_stop_cmd&quot;: {
                        &quot;value&quot;: &quot;&quot;,
                        &quot;as_default_value&quot;: false
                    },
                    &quot;bk_func_name&quot;: {
                        &quot;value&quot;: &quot;p1&quot;,
                        &quot;as_default_value&quot;: true
                    },
                    &quot;work_path&quot;: {
                        &quot;value&quot;: &quot;&quot;,
                        &quot;as_default_value&quot;: false
                    },
                    &quot;priority&quot;: {
                        &quot;value&quot;: null,
                        &quot;as_default_value&quot;: false
                    },
                    &quot;reload_cmd&quot;: {
                        &quot;value&quot;: &quot;&quot;,
                        &quot;as_default_value&quot;: false
                    },
                    &quot;bk_process_name&quot;: {
                        &quot;value&quot;: &quot;p1&quot;,
                        &quot;as_default_value&quot;: true
                    },
                    &quot;pid_file&quot;: {
                        &quot;value&quot;: &quot;&quot;,
                        &quot;as_default_value&quot;: false
                    },
                    &quot;auto_start&quot;: {
                        &quot;value&quot;: false,
                        &quot;as_default_value&quot;: false
                    },
                    &quot;auto_time_gap&quot;: {
                        &quot;value&quot;: null,
                        &quot;as_default_value&quot;: false
                    },
                    &quot;start_cmd&quot;: {
                        &quot;value&quot;: &quot;&quot;,
                        &quot;as_default_value&quot;: false
                    },
                    &quot;bk_func_id&quot;: {
                        &quot;value&quot;: null,
                        &quot;as_default_value&quot;: false
                    },
                    &quot;user&quot;: {
                        &quot;value&quot;: &quot;&quot;,
                        &quot;as_default_value&quot;: false
                    },
                    &quot;timeout&quot;: {
                        &quot;value&quot;: null,
                        &quot;as_default_value&quot;: false
                    },
                    &quot;description&quot;: {
                        &quot;value&quot;: &quot;&quot;,
                        &quot;as_default_value&quot;: false
                    },
                    &quot;bk_start_param_regex&quot;: {
                        &quot;value&quot;: &quot;&quot;,
                        &quot;as_default_value&quot;: false
                    },
                    &quot;bind_info&quot;: {
                        &quot;value&quot;: [
                            {
                                &quot;enable&quot;: {
                                    &quot;value&quot;: false,
                                    &quot;as_default_value&quot;: true
                                },
                                &quot;ip&quot;: {
                                    &quot;value&quot;: &quot;1&quot;,
                                    &quot;as_default_value&quot;: true
                                },
                                &quot;port&quot;: {
                                    &quot;value&quot;: &quot;100&quot;,
                                    &quot;as_default_value&quot;: true
                                },
                                &quot;protocol&quot;: {
                                    &quot;value&quot;: &quot;1&quot;,
                                    &quot;as_default_value&quot;: true
                                },
                                &quot;row_id&quot;: 1
                            }
                        ],
                        &quot;as_default_value&quot;: true
                    }
                },
                &quot;creator&quot;: &quot;admin&quot;,
                &quot;modifier&quot;: &quot;admin&quot;,
                &quot;create_time&quot;: &quot;2019-06-19T15:24:04.763+08:00&quot;,
                &quot;last_time&quot;: &quot;2019-06-19T15:24:04.763+08:00&quot;,
                &quot;bk_supplier_account&quot;: &quot;0&quot;
            }
        ]
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>integer</td>
<td>总数</td>
<td></td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>返回结果</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="info">info 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>进程模板 ID</td>
<td></td>
</tr>
<tr>
<td>bk_process_name</td>
<td>string</td>
<td>进程模板名称</td>
<td></td>
</tr>
<tr>
<td>property</td>
<td>object</td>
<td>进程模板属性</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="datainfoxpropertybind_infovaluen">data.info[x].property.bind_info.value[n] 字段说明</h4>
<p>| 字段|类型|说明|
|---|---|---|---|
|enable|object|端口是否启用||
|ip|object|绑定的 ip||
|port|object|绑定的端口||
|protocol|object|使用的协议||
|row_id|int|模板行索引，进程内唯一|</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/list_resource_pool_hosts/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询资源池中的主机</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>page</td>
<td>dict</td>
<td>否</td>
<td>查询条件</td>
</tr>
<tr>
<td>host_property_filter</td>
<td>object</td>
<td>否</td>
<td>主机属性组合查询条件</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>是</td>
<td>主机属性列表，控制返回结果的主机里有哪些字段，能够加速接口请求和减少网络流量传输</td>
</tr>
</tbody>
</table>
<h4 id="host_property_filter">host_property_filter</h4>
<p>该参数为主机属性字段过滤规则的组合，用于根据主机属性字段搜索主机。组合支持 AND 和 OR 两种方式，可以嵌套，最多嵌套 2 层。
过滤规则为四元组 <code>field</code>, <code>operator</code>, <code>value</code></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>说明</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>field</td>
<td>string</td>
<td>是</td>
<td>无</td>
<td>字段名</td>
<td></td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>无</td>
<td>操作符</td>
<td>可选值 equal,not_equal,in,not_in,less,less_or_equal,greater,greater_or_equal,between,not_between</td>
</tr>
<tr>
<td>value</td>
<td>-</td>
<td>否</td>
<td>无</td>
<td>操作数</td>
<td>不同的 operator 对应不同的 value 格式</td>
</tr>
</tbody>
</table>
<p>组装规则可参考: <a href="https://github.com/Tencent/bk-cmdb/blob/master/src/common/querybuilder/README.md">https://github.com/Tencent/bk-cmdb/blob/master/src/common/querybuilder/README.md</a></p>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大 500</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>排序字段</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;page&quot;: {
        &quot;start&quot;: 0,
        &quot;limit&quot;: 10,
        &quot;sort&quot;: &quot;bk_host_id&quot;
    },
    &quot;fields&quot;: [
        &quot;bk_host_id&quot;,
        &quot;bk_cloud_id&quot;,
        &quot;bk_host_innerip&quot;,
        &quot;bk_os_type&quot;,
        &quot;bk_mac&quot;
    ],
    &quot;host_property_filter&quot;: {
        &quot;condition&quot;: &quot;AND&quot;,
        &quot;rules&quot;: [
        {
            &quot;field&quot;: &quot;bk_host_outerip&quot;,
            &quot;operator&quot;: &quot;begins_with&quot;,
            &quot;value&quot;: &quot;127.0&quot;
        }, {
            &quot;condition&quot;: &quot;OR&quot;,
            &quot;rules&quot;: [{
                &quot;field&quot;: &quot;bk_os_type&quot;,
                &quot;operator&quot;: &quot;not_in&quot;,
                &quot;value&quot;: [&quot;3&quot;]
            }, {
                &quot;field&quot;: &quot;bk_sla&quot;,
                &quot;operator&quot;: &quot;equal&quot;,
                &quot;value&quot;: &quot;1&quot;
            }]
        }]
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: {
    &quot;count&quot;: 1,
    &quot;info&quot;: [
      {
        &quot;bk_cloud_id&quot;: &quot;0&quot;,
        &quot;bk_host_id&quot;: 17,
        &quot;bk_host_innerip&quot;: &quot;192.168.1.1&quot;,
        &quot;bk_mac&quot;: &quot;&quot;,
        &quot;bk_os_type&quot;: &quot;1&quot;
      }
    ]
  }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>记录条数</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>主机实际数据</td>
</tr>
</tbody>
</table>
<h4 id="datainfo">data.info</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_isp_name</td>
<td>string</td>
<td>所属运营商</td>
<td>0:其它；1:电信；2:联通；3:移动</td>
</tr>
<tr>
<td>bk_sn</td>
<td>string</td>
<td>设备 SN</td>
<td></td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>主要维护人</td>
<td></td>
</tr>
<tr>
<td>bk_outer_mac</td>
<td>string</td>
<td>外网 MAC</td>
<td></td>
</tr>
<tr>
<td>bk_state_name</td>
<td>string</td>
<td>所在国家</td>
<td>CN:中国，详细值，请参考 CMDB 页面</td>
</tr>
<tr>
<td>bk_province_name</td>
<td>string</td>
<td>所在省份</td>
<td></td>
</tr>
<tr>
<td>import_from</td>
<td>string</td>
<td>录入方式</td>
<td>1:excel;2:agent;3:api</td>
</tr>
<tr>
<td>bk_sla</td>
<td>string</td>
<td>SLA 级别</td>
<td>1:L1;2:L2;3:L3</td>
</tr>
<tr>
<td>bk_service_term</td>
<td>int</td>
<td>质保年限</td>
<td>1-10</td>
</tr>
<tr>
<td>bk_os_type</td>
<td>string</td>
<td>操作系统类型</td>
<td>1:Linux;2:Windows;3:AIX</td>
</tr>
<tr>
<td>bk_os_version</td>
<td>string</td>
<td>操作系统版本</td>
<td></td>
</tr>
<tr>
<td>bk_os_bit</td>
<td>int</td>
<td>操作系统位数</td>
<td></td>
</tr>
<tr>
<td>bk_mem</td>
<td>string</td>
<td>内存容量</td>
<td></td>
</tr>
<tr>
<td>bk_mac</td>
<td>string</td>
<td>内网 MAC 地址</td>
<td></td>
</tr>
<tr>
<td>bk_host_outerip</td>
<td>string</td>
<td>外网 IP</td>
<td></td>
</tr>
<tr>
<td>bk_host_name</td>
<td>string</td>
<td>主机名称</td>
<td></td>
</tr>
<tr>
<td>bk_host_innerip</td>
<td>string</td>
<td>内网 IP</td>
<td></td>
</tr>
<tr>
<td>bk_host_id</td>
<td>int</td>
<td>主机 ID</td>
<td></td>
</tr>
<tr>
<td>bk_disk</td>
<td>int</td>
<td>磁盘容量</td>
<td></td>
</tr>
<tr>
<td>bk_cpu_module</td>
<td>string</td>
<td>CPU 型号</td>
<td></td>
</tr>
<tr>
<td>bk_cpu_mhz</td>
<td>int</td>
<td>CPU 频率</td>
<td></td>
</tr>
<tr>
<td>bk_cpu</td>
<td>int</td>
<td>CPU 逻辑核心数</td>
<td>1-1000000</td>
</tr>
<tr>
<td>bk_comment</td>
<td>string</td>
<td>备注</td>
<td></td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>云区域</td>
<td></td>
</tr>
<tr>
<td>bk_bak_operator</td>
<td>string</td>
<td>备份维护人</td>
<td></td>
</tr>
<tr>
<td>bk_asset_id</td>
<td>string</td>
<td>固资编号</td>
<td></td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/list_service_category/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询服务分类列表，根据业务 ID 查询，共用服务分类也会返回</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;permission&quot;: null,
  &quot;data&quot;: {
    &quot;count&quot;: 20,
    &quot;info&quot;: [
      {
    &quot;bk_biz_id&quot;: 0,
        &quot;id&quot;: 16,
        &quot;name&quot;: &quot;Apache&quot;,
        &quot;bk_root_id&quot;: 14,
        &quot;bk_parent_id&quot;: 14,
        &quot;bk_supplier_account&quot;: &quot;0&quot;,
        &quot;is_built_in&quot;: true
      },
      {
    &quot;bk_biz_id&quot;: 0,
        &quot;id&quot;: 19,
        &quot;name&quot;: &quot;Ceph&quot;,
        &quot;bk_root_id&quot;: 18,
        &quot;bk_parent_id&quot;: 18,
        &quot;bk_supplier_account&quot;: &quot;0&quot;,
        &quot;is_built_in&quot;: true
      },
      {
    &quot;bk_biz_id&quot;: 1,
        &quot;id&quot;: 1,
        &quot;name&quot;: &quot;Default&quot;,
        &quot;bk_root_id&quot;: 1,
        &quot;bk_supplier_account&quot;: &quot;0&quot;,
        &quot;is_built_in&quot;: true
      }
    ]
  }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>integer</td>
<td>总数</td>
<td></td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>返回结果</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="info">info 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>服务分类 ID</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>服务分类名称</td>
<td></td>
</tr>
<tr>
<td>bk_root_id</td>
<td>integer</td>
<td>根服务分类 ID</td>
<td></td>
</tr>
<tr>
<td>bk_parent_id</td>
<td>integer</td>
<td>父服务分类 ID</td>
<td></td>
</tr>
<tr>
<td>is_built_in</td>
<td>bool</td>
<td>是否内置</td>
<td></td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/list_service_instance/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据业务 id 查询服务实例列表,也可以加上模块 id 等信息查询</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 id</td>
</tr>
<tr>
<td>bk_module_id</td>
<td>int</td>
<td>否</td>
<td>模块 ID</td>
</tr>
<tr>
<td>selectors</td>
<td>int</td>
<td>否</td>
<td>label 过滤功能，operator 可选值: <code>=</code>,<code>!=</code>,<code>exists</code>,<code>!</code>,<code>in</code>,<code>notin</code></td>
</tr>
<tr>
<td>page</td>
<td>object</td>
<td>No</td>
<td>分页参数</td>
</tr>
<tr>
<td>search_key</td>
<td>string</td>
<td>No</td>
<td>名字过滤参数</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;page&quot;: {
    &quot;start&quot;: 0,
    &quot;limit&quot;: 1
  },
  &quot;bk_module_id&quot;: 56,
  &quot;search_key&quot;: &quot;&quot;,
  &quot;selectors&quot;: [{
    &quot;key&quot;: &quot;key1&quot;,
    &quot;operator&quot;: &quot;notin&quot;,
    &quot;values&quot;: [&quot;value1&quot;]
  },{
    &quot;key&quot;: &quot;key1&quot;,
    &quot;operator&quot;: &quot;in&quot;,
    &quot;values&quot;: [&quot;value1&quot;, &quot;value2&quot;]
  }]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: {
    &quot;count&quot;: 1,
    &quot;info&quot;: [
      {
        &quot;bk_biz_id&quot;: 1,
        &quot;id&quot;: 72,
        &quot;name&quot;: &quot;t1&quot;,
        &quot;bk_host_id&quot;: 26,
        &quot;bk_module_id&quot;: 62,
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;modifier&quot;: &quot;admin&quot;,
        &quot;create_time&quot;: &quot;2019-06-20T22:46:00.69+08:00&quot;,
        &quot;last_time&quot;: &quot;2019-06-20T22:46:00.69+08:00&quot;,
        &quot;bk_supplier_account&quot;: &quot;0&quot;
      }
    ]
  }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>integer</td>
<td>总数</td>
<td></td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>返回结果</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="info">info 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>服务实例 ID</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>array</td>
<td>服务实例名称</td>
<td></td>
</tr>
<tr>
<td>service_template_id</td>
<td>integer</td>
<td>服务模板 ID</td>
<td></td>
</tr>
<tr>
<td>bk_module_id</td>
<td>integer</td>
<td>模块 ID</td>
<td></td>
</tr>
<tr>
<td>bk_host_id</td>
<td>integer</td>
<td>主机 ID</td>
<td></td>
</tr>
<tr>
<td>bk_host_innerip</td>
<td>string</td>
<td>内网 IP</td>
<td></td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/list_service_instance_by_host/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据主机 id 获取绑定到主机上的服务实例列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_host_id</td>
<td>int</td>
<td>否</td>
<td>主机 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;page&quot;: {
    &quot;start&quot;: 0,
    &quot;limit&quot;: 1
  },
  &quot;bk_host_id&quot;: 26
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: {
    &quot;count&quot;: 1,
    &quot;info&quot;: [
      {
        &quot;bk_biz_id&quot;: 1,
        &quot;id&quot;: 72,
        &quot;name&quot;: &quot;t1&quot;,
        &quot;bk_host_id&quot;: 26,
        &quot;bk_module_id&quot;: 62,
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;modifier&quot;: &quot;admin&quot;,
        &quot;create_time&quot;: &quot;2019-06-20T22:46:00.69+08:00&quot;,
        &quot;last_time&quot;: &quot;2019-06-20T22:46:00.69+08:00&quot;,
        &quot;bk_supplier_account&quot;: &quot;0&quot;
      }
    ]
  }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>integer</td>
<td>总数</td>
<td></td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>返回结果</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="info">info 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>服务实例 ID</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>array</td>
<td>服务实例名称</td>
<td></td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/list_service_instance_detail/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据业务 id 查询服务实例列表(带进程信息)，可再附加上模块 id 等查询条件</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_module_id</td>
<td>int</td>
<td>否</td>
<td>模块 ID</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>int</td>
<td>否</td>
<td>主机 ID</td>
</tr>
<tr>
<td>service_instance_ids</td>
<td>int</td>
<td>否</td>
<td>服务实例 ID 列表</td>
</tr>
<tr>
<td>selectors</td>
<td>int</td>
<td>否</td>
<td>label 过滤功能，operator 可选值: <code>=</code>,<code>!=</code>,<code>exists</code>,<code>!</code>,<code>in</code>,<code>notin</code></td>
</tr>
<tr>
<td>page</td>
<td>object</td>
<td>是</td>
<td>分页参数</td>
</tr>
</tbody>
</table>
<h4 id="page">page 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大 1000</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;page&quot;: {
    &quot;start&quot;: 0,
    &quot;limit&quot;: 10,
  },
  &quot;bk_module_id&quot;: 8,
  &quot;bk_host_id&quot;: 11,
  &quot;service_instance_ids&quot;: [49],
  &quot;selectors&quot;: [{
    &quot;key&quot;: &quot;key1&quot;,
    &quot;operator&quot;: &quot;notin&quot;,
    &quot;values&quot;: [&quot;value1&quot;]
  }]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;permission&quot;: null,
  &quot;data&quot;: {
    &quot;count&quot;: 1,
    &quot;info&quot;: [
      {
        &quot;bk_biz_id&quot;: 1,
        &quot;id&quot;: 49,
        &quot;name&quot;: &quot;10.27.0.9_p1_81&quot;,
        &quot;service_template_id&quot;: 50,
        &quot;bk_host_id&quot;: 11,
        &quot;bk_module_id&quot;: 56,
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;modifier&quot;: &quot;admin&quot;,
        &quot;create_time&quot;: &quot;2019-07-22T09:54:50.906+08:00&quot;,
        &quot;last_time&quot;: &quot;2019-07-22T09:54:50.906+08:00&quot;,
        &quot;bk_supplier_account&quot;: &quot;0&quot;,
        &quot;service_category_id&quot;: 22,
        &quot;process_instances&quot;: [
          {
            &quot;process&quot;: {
              &quot;bk_biz_id&quot;: 1,
              &quot;proc_num&quot;: 0,
              &quot;stop_cmd&quot;: &quot;&quot;,
              &quot;restart_cmd&quot;: &quot;&quot;,
              &quot;face_stop_cmd&quot;: &quot;&quot;,
              &quot;bk_process_id&quot;: 43,
              &quot;bk_func_name&quot;: &quot;p1&quot;,
              &quot;work_path&quot;: &quot;&quot;,
              &quot;bind_ip&quot;: &quot;0.0.0.0&quot;,
              &quot;priority&quot;: 0,
              &quot;reload_cmd&quot;: &quot;&quot;,
              &quot;bk_process_name&quot;: &quot;p1&quot;,
              &quot;port&quot;: &quot;81&quot;,
              &quot;pid_file&quot;: &quot;&quot;,
              &quot;auto_start&quot;: false,
              &quot;auto_time_gap&quot;: 0,
              &quot;last_time&quot;: &quot;2019-07-22T09:54:50.927+08:00&quot;,
              &quot;create_time&quot;: &quot;2019-07-22T09:54:50.927+08:00&quot;,
              &quot;bk_biz_id&quot;: 3,
              &quot;start_cmd&quot;: &quot;&quot;,
              &quot;bk_func_id&quot;: &quot;&quot;,
              &quot;user&quot;: &quot;&quot;,
              &quot;timeout&quot;: 0,
              &quot;protocol&quot;: &quot;1&quot;,
              &quot;description&quot;: &quot;&quot;,
              &quot;bk_supplier_account&quot;: &quot;0&quot;,
              &quot;bk_start_param_regex&quot;: &quot;&quot;
            },
            &quot;relation&quot;: {
              &quot;bk_biz_id&quot;: 1,
              &quot;bk_process_id&quot;: 43,
              &quot;service_instance_id&quot;: 49,
              &quot;process_template_id&quot;: 48,
              &quot;bk_host_id&quot;: 11,
              &quot;bk_supplier_account&quot;: &quot;0&quot;
            }
          }
        ]
      }
    ]
  }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>integer</td>
<td>总数</td>
<td></td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>返回结果</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="info">info 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>服务实例 ID</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>array</td>
<td>服务实例名称</td>
<td></td>
</tr>
<tr>
<td>service_template_id</td>
<td>integer</td>
<td>服务模板 ID</td>
<td></td>
</tr>
<tr>
<td>bk_host_id</td>
<td>integer</td>
<td>主机 ID</td>
<td></td>
</tr>
<tr>
<td>bk_host_innerip</td>
<td>string</td>
<td>主机 IP</td>
<td></td>
</tr>
<tr>
<td>bk_module_id</td>
<td>integer</td>
<td>模块 ID</td>
<td></td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建人</td>
<td></td>
</tr>
<tr>
<td>modifier</td>
<td>string</td>
<td>修改人</td>
<td></td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间</td>
<td></td>
</tr>
<tr>
<td>last_time</td>
<td>string</td>
<td>修复时间</td>
<td></td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>供应商 ID</td>
<td></td>
</tr>
<tr>
<td>process_instances</td>
<td>数组</td>
<td>进程实例信息</td>
<td>包括</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
<td>业务 ID</td>
</tr>
<tr>
<td>process_instances.process</td>
<td>object</td>
<td>进程实例详情</td>
<td>进程属性字段</td>
</tr>
<tr>
<td>process_instances.relation</td>
<td>object</td>
<td>进程实例的关联信息</td>
<td>比如主机 ID，进程模板 ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/list_service_instance_by_set_template/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据集群模版 id 获取服务实例列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>set_template_id</td>
<td>int</td>
<td>是</td>
<td>集群模版 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;set_template_id&quot;:1,
  &quot;page&quot;: {
    &quot;start&quot;: 0,
    &quot;limit&quot;: 10
  }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;bk_error_code&quot;: 0,
    &quot;bk_error_msg&quot;: &quot;success&quot;,
    &quot;permission&quot;: null,
    &quot;data&quot;: {
        &quot;count&quot;: 2,
        &quot;info&quot;: [
            {
                &quot;bk_biz_id&quot;: 3,
                &quot;id&quot;: 1,
                &quot;name&quot;: &quot;197.193.0.2_lgh-process-1&quot;,
                &quot;labels&quot;: null,
                &quot;service_template_id&quot;: 50,
                &quot;bk_host_id&quot;: 1,
                &quot;bk_module_id&quot;: 59,
                &quot;creator&quot;: &quot;admin&quot;,
                &quot;modifier&quot;: &quot;admin&quot;,
                &quot;create_time&quot;: &quot;2020-10-09T02:46:25.002Z&quot;,
                &quot;last_time&quot;: &quot;2020-10-09T02:46:25.002Z&quot;,
                &quot;bk_supplier_account&quot;: &quot;0&quot;
            },
            {
                &quot;bk_biz_id&quot;: 3,
                &quot;id&quot;: 3,
                &quot;name&quot;: &quot;127.0.122.2_lgh-process-1&quot;,
                &quot;labels&quot;: null,
                &quot;service_template_id&quot;: 50,
                &quot;bk_host_id&quot;: 3,
                &quot;bk_module_id&quot;: 59,
                &quot;creator&quot;: &quot;admin&quot;,
                &quot;modifier&quot;: &quot;admin&quot;,
                &quot;create_time&quot;: &quot;2020-10-09T03:04:19.859Z&quot;,
                &quot;last_time&quot;: &quot;2020-10-09T03:04:19.859Z&quot;,
                &quot;bk_supplier_account&quot;: &quot;0&quot;
            }
        ]
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>integer</td>
<td>总数</td>
<td></td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>返回结果</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="info">info 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>服务实例 ID</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>array</td>
<td>服务实例名称</td>
<td></td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/list_service_template/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据业务 id 查询服务模板列表,可加上服务分类 id 进一步查询</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>service_category_id</td>
<td>int</td>
<td>否</td>
<td>服务分类 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;service_category_id&quot;: 1,
  &quot;page&quot;: {
    &quot;start&quot;: 0,
    &quot;limit&quot;: 10,
    &quot;sort&quot;: &quot;-name&quot;
  }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;permission&quot;: null,
  &quot;data&quot;: {
    &quot;count&quot;: 2,
    &quot;info&quot;: [
      {
        &quot;bk_biz_id&quot;: 1,
        &quot;id&quot;: 51,
        &quot;name&quot;: &quot;test3&quot;,
        &quot;service_category_id&quot;: 1,
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;modifier&quot;: &quot;admin&quot;,
        &quot;create_time&quot;: &quot;2019-09-18T20:31:34.627+08:00&quot;,
        &quot;last_time&quot;: &quot;2019-09-18T20:31:34.627+08:00&quot;,
        &quot;bk_supplier_account&quot;: &quot;0&quot;
      },
      {
    &quot;bk_biz_id&quot;: 1,
        &quot;id&quot;: 50,
        &quot;name&quot;: &quot;test2&quot;,
        &quot;service_category_id&quot;: 1,
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;modifier&quot;: &quot;admin&quot;,
        &quot;create_time&quot;: &quot;2019-09-18T20:31:29.607+08:00&quot;,
        &quot;last_time&quot;: &quot;2019-09-18T20:31:29.607+08:00&quot;,
        &quot;bk_supplier_account&quot;: &quot;0&quot;
      }
    ]
  }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>integer</td>
<td>总数</td>
<td></td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>返回结果</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="info">info 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>服务模板 ID</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>array</td>
<td>服务模板名称</td>
<td></td>
</tr>
<tr>
<td>service_category_id</td>
<td>integer</td>
<td>服务分类 ID</td>
<td></td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/list_set_template/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据业务 id 查询集群模板</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>set_template_ids</td>
<td>array</td>
<td>否</td>
<td>集群模板 ID 数组</td>
</tr>
<tr>
<td>page</td>
<td>object</td>
<td>否</td>
<td>分页信息</td>
</tr>
</tbody>
</table>
<h4 id="page">page 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>否</td>
<td>每页限制条数,最大 1000</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>排序字段，'-'表示倒序</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;bk_supplier_account&quot;: &quot;0&quot;,
  &quot;bk_biz_id&quot;: 10,
  &quot;set_template_ids&quot;:[1, 11],
  &quot;page&quot;: {
    &quot;start&quot;: 0,
    &quot;limit&quot;: 10,
    &quot;sort&quot;: &quot;-name&quot;
  }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;permission&quot;: null,
  &quot;data&quot;: {
    &quot;count&quot;: 2,
    &quot;info&quot;: [
      {
        &quot;id&quot;: 1,
        &quot;name&quot;: &quot;zk1&quot;,
        &quot;bk_biz_id&quot;: 10,
        &quot;version&quot;: 0,
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;modifier&quot;: &quot;admin&quot;,
        &quot;create_time&quot;: &quot;2020-03-16T15:09:23.859+08:00&quot;,
        &quot;last_time&quot;: &quot;2020-03-25T18:59:00.167+08:00&quot;,
        &quot;bk_supplier_account&quot;: &quot;0&quot;
      },
      {
        &quot;id&quot;: 11,
        &quot;name&quot;: &quot;q&quot;,
        &quot;bk_biz_id&quot;: 10,
        &quot;version&quot;: 0,
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;modifier&quot;: &quot;admin&quot;,
        &quot;create_time&quot;: &quot;2020-03-16T15:10:05.176+08:00&quot;,
        &quot;last_time&quot;: &quot;2020-03-16T15:10:05.176+08:00&quot;,
        &quot;bk_supplier_account&quot;: &quot;0&quot;
      }
    ]
  }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>总数</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>返回结果</td>
</tr>
</tbody>
</table>
<h4 id="info">info 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>集群模板 ID</td>
</tr>
<tr>
<td>name</td>
<td>array</td>
<td>集群模板名称</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>version</td>
<td>int</td>
<td>集群模板版本</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>modifier</td>
<td>string</td>
<td>最后修改人员</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间</td>
</tr>
<tr>
<td>last_time</td>
<td>string</td>
<td>更新时间</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>开发商账号</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/list_set_template_related_service_template/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>根据业务 id 和集群模板 id,获取指定业务下某集群模版的服务模版列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>set_template_id</td>
<td>int</td>
<td>是</td>
<td>集群模版 ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;set_template_id&quot;: 1,
  &quot;bk_biz_id&quot;: 3
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: [
        {
            &quot;bk_biz_id&quot;: 3,
            &quot;id&quot;: 48,
            &quot;name&quot;: &quot;sm1&quot;,
            &quot;service_category_id&quot;: 2,
            &quot;creator&quot;: &quot;admin&quot;,
            &quot;modifier&quot;: &quot;admin&quot;,
            &quot;create_time&quot;: &quot;2020-05-15T14:14:57.691Z&quot;,
            &quot;last_time&quot;: &quot;2020-05-15T14:14:57.691Z&quot;,
            &quot;bk_supplier_account&quot;: &quot;0&quot;
        },
        {
            &quot;bk_biz_id&quot;: 3,
            &quot;id&quot;: 49,
            &quot;name&quot;: &quot;sm2&quot;,
            &quot;&quot;: 16,
            &quot;creator&quot;: &quot;admin&quot;,
            &quot;modifier&quot;: &quot;admin&quot;,
            &quot;create_time&quot;: &quot;2020-05-15T14:19:09.813Z&quot;,
            &quot;last_time&quot;: &quot;2020-05-15T14:19:09.813Z&quot;,
            &quot;bk_supplier_account&quot;: &quot;0&quot;
        }
    ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table>
<p>data 字段说明：</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>服务模板 ID</td>
</tr>
<tr>
<td>name</td>
<td>array</td>
<td>服务模板名称</td>
</tr>
<tr>
<td>service_category_id</td>
<td>int</td>
<td>服务分类 ID</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>modifier</td>
<td>string</td>
<td>最后修改人员</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间</td>
</tr>
<tr>
<td>last_time</td>
<td>string</td>
<td>更新时间</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>开发商账号</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/remove_label_from_service_instance/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据业务 id 和服务实例 id，以及需要移除的标签，将指定业务下的服务实例移除标签</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>instance_ids</td>
<td>array</td>
<td>是</td>
<td>服务实例 ID 列表</td>
</tr>
<tr>
<td>keys</td>
<td>array</td>
<td>是</td>
<td>需要移除的标签 key 列表</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;instance_ids&quot;: [60, 62],
  &quot;keys&quot;: [&quot;value1&quot;, &quot;value3&quot;]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;permission&quot;: null,
  &quot;data&quot;: null
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/resource_watch/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>监听系统资源变化产生的事件(v3.8 以上)</p>
<p><strong>该 watch 功能的主要特性包括：</strong></p>
<ul>
<li>
<p>在有限的时间内（目前为 3 小时,可能会调整，请勿依赖此时间）为用户提供高可用的数据变更 watch 服务。</p>
</li>
<li>
<p>在有限时间内，用户可以根据自己上一次事件的 cursor(游标)进行事件回溯或者追数据，适用于异常数据回溯，或者系统变更进行数据补录。</p>
</li>
<li>
<p>支持根据时间点进行变更数据回溯，支持根据游标进行变更数据回溯，支持从当前时间点进行数据变更 watch。</p>
</li>
<li>
<p>支持根据事件类型进行 watch 的能力，包括增、删、改。事件中包含全量的数据。</p>
</li>
<li>
<p>支持主机与主机关系数据变化的事件 watch 能力。</p>
</li>
<li>
<p>采用短长链的设计，当用户通过游标进行事件 watch 时，如果没有事件，则会保持会话连接，在 25s 内有事件变更则直接直接将事件推回。避免用户不断请求，同时保证用户能及时的拿到变更的数据。</p>
</li>
<li>
<p>支持批量事件 watch 能力，提升系统吞吐能力。</p>
</li>
<li>
<p>支持定制关注的事件数据字段，满足用户轻量级的 watch 需求。</p>
</li>
</ul>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_event_types</td>
<td>array   string</td>
<td>否</td>
<td>事件类型，如果填了，即为只关注此类型的事件。可选的值为：create(新增)/update(更新)/delete(删除)。如，若使用 create，则只关注该资源的新增事件。不填为空，则为关注所有。</td>
</tr>
<tr>
<td>bk_fields</td>
<td>array string</td>
<td>看情况</td>
<td>返回的事件中需要返回的字段列表，目前监听主机资源该字段为必填字段，不能置空，主机关系可以置空。置空则默认为返回所有字段。</td>
</tr>
<tr>
<td>bk_start_from</td>
<td>Int64</td>
<td>否</td>
<td>监听事件的起始时间，该值为 unix time 的秒数，即为从 UTC1970 年 1 月 1 日 0 时 0 分 0 秒起至你要 watch 的时间点的总秒数。</td>
</tr>
<tr>
<td>bk_cursor</td>
<td>string</td>
<td>否</td>
<td>监听事件的游标，代表了要开始或者继续 watch(监听)的事件地址，系统会返回这个游标的下一个、或一批事件。</td>
</tr>
<tr>
<td>bk_resource</td>
<td>string</td>
<td>是</td>
<td>要监听的资源类型，枚举值为：host, host_relation, biz, set, module, set_template。其中 host 代表主机详情事件，host_relation 代表主机的关系事件，biz 代表业务详情事件，set 代表集群详情事件，module 代表模块详情事件，set_template 代表集群模板详情事件。</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_event_types&quot;: [&quot;create&quot;,&quot;update&quot;,&quot;delete&quot;],
    &quot;bk_fields&quot;: [&quot;bk_host_innerip&quot;, &quot;bk_mac&quot;],
    &quot;bk_start_from&quot;: 12345678999,
    &quot;bk_cursor&quot;: &quot;MQ0yDTE1ODkyMDcyODENMQ01ZWI3ZWZjNTBiOTA5ZTYyMGFmYWQzZGY=&quot;,
    &quot;bk_resource&quot;: &quot;host&quot;,
    &quot;bk_supplier_account&quot;: &quot;0&quot;
}</code></pre>


<h2 id="_8">返回参数</h2>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;permission&quot;: null,
    &quot;data&quot;: {
        &quot;bk_watched&quot;: true,
        &quot;bk_events&quot;: [
            {
                &quot;bk_cursor&quot;: &quot;MQ0yDTE1ODkyMDcyODENMQ01ZWI3ZWZjNTBiOTA5ZTYyMGFmYWQzZGY=&quot;,
                &quot;bk_resource&quot;: &quot;host&quot;,
                &quot;bk_event_type&quot;: &quot;update&quot;,
                &quot;bk_detail&quot;: {
                    &quot;bk_cpu&quot;: 2
                }
            },
            {
                &quot;bk_cursor&quot;: &quot;MQ0yDTE1ODkzNDExMDcNMQ01ZWI3ZWZjNTBiOTA5ZTYyMGFmYWQzZGY=&quot;,
                &quot;bk_resource&quot;: &quot;host&quot;,
                &quot;bk_event_type&quot;: &quot;update&quot;,
                &quot;bk_detail&quot;: {
                    &quot;bk_cpu&quot;: 2
                }
            }
        ]
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>事件数据详情，是一个有序的数组，数组尾部的事件为新的事件。</td>
</tr>
</tbody>
</table>
<ul>
<li>data 数据描述</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_watched</td>
<td>bool</td>
<td>是否监听到了事件，true：监听到了事件；false:未监听到事件</td>
</tr>
<tr>
<td>bk_events</td>
<td>监听到的事件详情</td>
<td>监听到的事件详情列表，最大长度为 200，后续可能会调，请勿依赖此长度。</td>
</tr>
</tbody>
</table>
<ul>
<li>bk_events 数据描述</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cursor</td>
<td>string</td>
<td>代表当前资源事件的游标值，调用方可以用该游标获取该事件后的下一个事件</td>
</tr>
<tr>
<td>bk_resource</td>
<td>enum string</td>
<td>该事件对应的资源类型</td>
</tr>
<tr>
<td>bk_event_type</td>
<td>enum string</td>
<td>该事件对应的事件类型，枚举值为：create(新增)/update(更新)/delete(删除)。</td>
</tr>
<tr>
<td>bk_detail</td>
<td>object</td>
<td>该事件的对应的资源的详情数据，不同的资源，对应的详情不同。</td>
</tr>
</tbody>
</table>
<h4 id="host_relation-bk_detail">host_relation 资源 bk_detail 字段数据示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_biz_id&quot; : 1,
    &quot;bk_host_id&quot; : 2,
    &quot;bk_module_id&quot; : 3,
    &quot;bk_set_id&quot; : 4,
    &quot;bk_supplier_account&quot; : &quot;0&quot;
}</code></pre>


<h4 id="host-bk_detail">host 资源 bk_detail 字段数据示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_host_name&quot; : &quot;hostname&quot;,
    &quot;bk_mem&quot; : null,
    &quot;bk_cloud_id&quot; : 0,
    &quot;operator&quot; : &quot;user&quot;,
    &quot;bk_cpu&quot; : null,
    &quot;bk_mac&quot; : &quot;&quot;,
    &quot;bk_host_innerip&quot; : &quot;192.168.1.1&quot;,  
    &quot;bk_supplier_account&quot; : &quot;0&quot;,
    ....
}</code></pre>


<h3 id="_10">使用说明</h3>
<p>该接口的使用的流程：</p>
<ol>
<li>
<p>确定起始的监听方式，分别可为：</p>
</li>
<li>
<p>1.1 指定从某一时间开始监听事件</p>
</li>
<li>
<p>1.2 指定当前时间开始监听事件</p>
</li>
<li>
<p>1.3 指定用游标 bk_cursor 位置开始监听事件</p>
</li>
</ol>
<p>确定后，发起请求。</p>
<ol>
<li>cmdb 返回符合你预期的事件列表：</li>
<li>2.1: 如果 bk_watched 为 ture, 表明已经监听到了事件，bk_events 中为事件详情列表，调用方可拿数组最后一个事件的 cursor，用 1.3 步骤中的方式继续进行下一次的 watch。</li>
<li>2.2: 如果 bk_watched 为 false，表明未监听到事件，bk_events 中只有一个事件，拿该事件的 cursor 进行下一次的 watch。</li>
</ol>
<p><strong>注意</strong>：</p>
<p>该事件是有过期时间的，目前为 3 小时，如果过期，事件将会释放，且过期的游标（cursor）也会失效。可以用以下两种方式重新 watch：</p>
<ol>
<li>指定从某一时间开始监听事件</li>
<li>指定当前时间开始监听事件</li>
</ol><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_biz_inst_topo/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询业务实例拓扑</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 id</td>
</tr>
<tr>
<td>level</td>
<td>int</td>
<td>否</td>
<td>拓扑的层级索引，索引取值从 0 开始，默认值为 2，当设置为 -1 的时候会读取完整的业务实例拓扑</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1,
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: [
        {
            &quot;bk_inst_id&quot;: 2,
            &quot;bk_inst_name&quot;: &quot;blueking&quot;,
            &quot;bk_obj_id&quot;: &quot;biz&quot;,
            &quot;bk_obj_name&quot;: &quot;business&quot;,
            &quot;child&quot;: [
                {
                    &quot;bk_inst_id&quot;: 3,
                    &quot;bk_inst_name&quot;: &quot;job&quot;,
                    &quot;bk_obj_id&quot;: &quot;set&quot;,
                    &quot;bk_obj_name&quot;: &quot;set&quot;,
                    &quot;child&quot;: [
                        {
                            &quot;bk_inst_id&quot;: 5,
                            &quot;bk_inst_name&quot;: &quot;job&quot;,
                            &quot;bk_obj_id&quot;: &quot;module&quot;,
                            &quot;bk_obj_name&quot;: &quot;module&quot;,
                            &quot;child&quot;: []
                        }
                    ]
                }
            ]
        }
    ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>实例 ID</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>实例用于展示的名字</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>模型图标的名字</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>模型 ID</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>模型用于展示的名字</td>
</tr>
<tr>
<td>child</td>
<td>array</td>
<td>当前节点下的所有实例的集合</td>
</tr>
</tbody>
</table>
<h4 id="child">child</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>实例 ID</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>实例用于展示的名字</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>模型图标的名字</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>模型 ID</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>模型用于展示的名字</td>
</tr>
<tr>
<td>child</td>
<td>array</td>
<td>当前节点下的所有实例的集合</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_business/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询业务</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>否</td>
<td>指定查询的字段，参数为业务的任意属性，如果不填写字段信息，系统会返回业务的所有字段</td>
</tr>
<tr>
<td>condition</td>
<td>dict</td>
<td>否</td>
<td>查询条件，参数为业务的任意属性，如果不写代表搜索全部数据</td>
</tr>
<tr>
<td>page</td>
<td>dict</td>
<td>否</td>
<td>分页条件</td>
</tr>
</tbody>
</table>
<p>Note: 业务分为两类，未归档的业务和已归档的业务。
- 若要查询已归档的业务，请在 condition 中增加条件<code>bk_data_status:disabled</code>。
- 若要查询未归档的业务，请不要带字段"bk_data_status",或者在 condition 中增条件<code>bk_data_status: {"$ne":disabled"}</code>。</p>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大 200</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>排序字段，通过在字段前面增加 -，如 sort:&#34;-field&#34; 可以表示按照字段 field 降序</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;fields&quot;: [
        &quot;bk_biz_id&quot;,
        &quot;bk_biz_name&quot;
    ],
    &quot;condition&quot;: {
        &quot;bk_biz_name&quot;: &quot;esb-test&quot;
    },
    &quot;page&quot;: {
        &quot;start&quot;: 0,
        &quot;limit&quot;: 10,
        &quot;sort&quot;: &quot;&quot;
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;count&quot;: 1,
        &quot;info&quot;: [
            {
                &quot;bk_biz_id&quot;: 1,
                &quot;bk_biz_name&quot;: &quot;esb-test&quot;
            }
        ]
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>记录条数</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>业务实际数据</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_classifications/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询模型分类</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_supplier_account&quot;: &quot;0&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
     &quot;data&quot;: [
         {
            &quot;bk_classification_icon&quot;: &quot;icon-cc-business&quot;,
            &quot;bk_classification_id&quot;: &quot;bk_host_manage&quot;,
            &quot;bk_classification_name&quot;: &quot;主机管理&quot;,
            &quot;bk_classification_type&quot;: &quot;inner&quot;,
            &quot;id&quot;: 1
         }
     ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_classification_id</td>
<td>string</td>
<td>分类 ID，英文描述用于系统内部使用</td>
</tr>
<tr>
<td>bk_classification_name</td>
<td>string</td>
<td>分类名</td>
</tr>
<tr>
<td>bk_classification_type</td>
<td>string</td>
<td>用于对分类进行分类（如：inner 代码为内置分类，空字符串为自定义分类）</td>
</tr>
<tr>
<td>bk_classification_icon</td>
<td>string</td>
<td>模型分类的图标,取值可参考，取值可参考<a href="resource_define/classIcon.json">(classIcon.json)</a></td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>数据记录 ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_cloud_area/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询云区域</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>condition</td>
<td>object</td>
<td>否</td>
<td>查询条件</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>否</td>
<td>云区域 ID</td>
</tr>
<tr>
<td>bk_cloud_name</td>
<td>string</td>
<td>否</td>
<td>云区域名称</td>
</tr>
<tr>
<td>page</td>
<td>object</td>
<td>是</td>
<td>分页信息</td>
</tr>
</tbody>
</table>
<h4 id="page">page 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>获取数据偏移位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>过去数据条数限制，建议 为 200</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;condition&quot;: {
        &quot;bk_cloud_id&quot;: 12,
        &quot;bk_cloud_name&quot; &quot;aws&quot;,
    },
    &quot;page&quot;:{
        &quot;start&quot;:0,
        &quot;limit&quot;:10
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;permission&quot;: null,
  &quot;data&quot;: {
    &quot;count&quot;: 10,
    &quot;info&quot;: [
         {
            &quot;bk_cloud_id&quot;: 0,
            &quot;bk_cloud_name&quot;: &quot;aws&quot;,
            &quot;bk_supplier_account&quot;: &quot;0&quot;,
            &quot;create_time&quot;: &quot;2019-05-20T14:59:48.354+08:00&quot;,
            &quot;last_time&quot;: &quot;2019-05-20T14:59:48.354+08:00&quot;
        },
        .....
    ]

  }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<p>| 名称  | 类型  | 说明 |
|---|---|---|---|
| count| int| 记录条数 |
| info| object array |  查询到的云区域列表信息 |</p>
<h4 id="datainfo">data.info 字段说明</h4>
<p>| 名称  | 类型  | 说明 |
|---|---|---|---|
| bk_cloud_id | int | 云区域 ID |
| bk_cloud_name | string  | 云区域名字 | 
| create_time | string | 创建时间 |
| last_time | string | 最后修改时间 |</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_custom_query/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询自定义查询</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>condition</td>
<td>dict</td>
<td>否</td>
<td>查询条件，condition 字段为自定义查询的属性字段, 可以是 create_user,modify_user, name</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大 200</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;condition&quot;: {
        &quot;name&quot;: &quot;api1&quot;
    },
    &quot;start&quot;: 0,
    &quot;limit&quot;: 200
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;count&quot;: 1,
        &quot;info&quot;: [
            {
                &quot;bk_biz_id&quot;: 1,
                &quot;id&quot;: &quot;bacfet4kd42325venmcg&quot;,
                &quot;name&quot;: &quot;api1&quot;,
                &quot;info&quot;: &quot;{\&quot;condition\&quot;:[{\&quot;bk_obj_id\&quot;:\&quot;biz\&quot;,\&quot;condition\&quot;:[{\&quot;field\&quot;:\&quot;default\&quot;,\&quot;operator\&quot;:\&quot;$ne\&quot;,\&quot;value\&quot;:1}],\&quot;fields\&quot;:[]},{\&quot;bk_obj_id\&quot;:\&quot;set\&quot;,\&quot;condition\&quot;:[],\&quot;fields\&quot;:[]},{\&quot;bk_obj_id\&quot;:\&quot;module\&quot;,\&quot;condition\&quot;:[],\&quot;fields\&quot;:[]},{\&quot;bk_obj_id\&quot;:\&quot;host\&quot;,\&quot;condition\&quot;:[{\&quot;field\&quot;:\&quot;bk_host_innerip\&quot;,\&quot;operator\&quot;:\&quot;$eq\&quot;,\&quot;value\&quot;:\&quot;127.0.0.1\&quot;}],\&quot;fields\&quot;:[\&quot;bk_host_innerip\&quot;,\&quot;bk_host_outerip\&quot;,\&quot;bk_agent_status\&quot;]}]}&quot;,
                &quot;create_user&quot;: &quot;admin&quot;,
                &quot;create_time&quot;: &quot;2018-03-27T16:22:43.271+08:00&quot;,
                &quot;modify_user&quot;: &quot;admin&quot;,
                &quot;last_time&quot;: &quot;2018-03-27T16:29:26.428+08:00&quot;
            }
        ]
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>记录条数</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>自定义查询数据</td>
</tr>
</tbody>
</table>
<h4 id="datainfo">data.info</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间</td>
</tr>
<tr>
<td>create_user</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>自定义查询主键 ID</td>
</tr>
<tr>
<td>info</td>
<td>string</td>
<td>自定义查询信息</td>
</tr>
<tr>
<td>last_time</td>
<td>string</td>
<td>更新时间</td>
</tr>
<tr>
<td>modify_user</td>
<td>string</td>
<td>修改者</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>自定义查询命名</td>
</tr>
</tbody>
</table>
<h4 id="datainfoinfo">data.info.info</h4>
<p>| 字段      |  类型     |  描述      |
|-----------|------------|--------|------------|
| bk_obj_id |  string   | 对象名,可以为 biz,set,module,host,object |
| fields    |  array    | 查询输出字段 |
| condition |  array    | 查询条件 |</p>
<h4 id="datainfoinfocondition">data.info.info.condition</h4>
<p>| 字段      |  类型     |  描述      |
|-----------|------------|--------|------------|
| field     |  string    | 对象的字段 |
| operator  |  string    | 操作符, $eq 为相等，$ne 为不等，$in 为属于，$nin 为不属于 |
| value     |  string    | 字段对应的值 |</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_dynamic_group/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询动态分组列表 (V3.9.6)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>condition</td>
<td>dict</td>
<td>否</td>
<td>查询条件，condition 字段为自定义查询的属性字段, 可以是 create_user, modify_user, name</td>
</tr>
<tr>
<td>disable_counter</td>
<td>bool</td>
<td>否</td>
<td>是否返回总记录条数，默认返回</td>
</tr>
<tr>
<td>page</td>
<td>object</td>
<td>是</td>
<td>分页设置</td>
</tr>
</tbody>
</table>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大 200</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>检索排序， 默认按照创建时间排序</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;disable_counter&quot;: true,
    &quot;condition&quot;: {
        &quot;name&quot;: &quot;my-dynamic-group&quot;
    },
    &quot;page&quot;:{
        &quot;start&quot;: 0,
        &quot;limit&quot;: 200
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;count&quot;: 0,
        &quot;info&quot;: [
            {
                &quot;bk_biz_id&quot;: 1,
                &quot;id&quot;: &quot;XXXXXXXX&quot;,
                &quot;name&quot;: &quot;my-dynamic-group&quot;,
                &quot;bk_obj_id&quot;: &quot;host&quot;,
                &quot;info&quot;: {
                    &quot;condition&quot;:[
                            {
                                &quot;bk_obj_id&quot;:&quot;set&quot;,
                                &quot;condition&quot;:[
                                    {
                                        &quot;field&quot;:&quot;default&quot;,
                                        &quot;operator&quot;:&quot;$ne&quot;,
                                        &quot;value&quot;:1
                                    }
                                ]
                            },
                            {
                                &quot;bk_obj_id&quot;:&quot;module&quot;,
                                &quot;condition&quot;:[
                                    {
                                        &quot;field&quot;:&quot;default&quot;,
                                        &quot;operator&quot;:&quot;$ne&quot;,
                                        &quot;value&quot;:1
                                    }
                                ]
                            },
                            {
                                &quot;bk_obj_id&quot;:&quot;host&quot;,
                                &quot;condition&quot;:[
                                    {
                                        &quot;field&quot;:&quot;bk_host_innerip&quot;,
                                        &quot;operator&quot;:&quot;$eq&quot;,
                                        &quot;value&quot;:&quot;127.0.0.1&quot;
                                    }
                                ]
                            }
                    ]
                },
                &quot;create_user&quot;: &quot;admin&quot;,
                &quot;create_time&quot;: &quot;2018-03-27T16:22:43.271+08:00&quot;,
                &quot;modify_user&quot;: &quot;admin&quot;,
                &quot;last_time&quot;: &quot;2018-03-27T16:29:26.428+08:00&quot;
            }
        ]
    }
}</code></pre>


<h3 id="_9">返回结果参数</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>当前规则能匹配到的总记录条数（用于调用者进行预分页，实际单次请求返回数量以及数据是否全部拉取完毕以 JSON Array 解析数量为准）</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>自定义查询数据</td>
</tr>
</tbody>
</table>
<h4 id="datainfo">data.info</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>动态分组主键 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>动态分组命名</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>动态分组的目标资源对象类型,目前可以为 host,set</td>
</tr>
<tr>
<td>info</td>
<td>object</td>
<td>动态分组信息</td>
</tr>
<tr>
<td>last_time</td>
<td>string</td>
<td>更新时间</td>
</tr>
<tr>
<td>modify_user</td>
<td>string</td>
<td>修改者</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间</td>
</tr>
<tr>
<td>create_user</td>
<td>string</td>
<td>创建者</td>
</tr>
</tbody>
</table>
<h4 id="datainfoinfocondition">data.info.info.condition</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>对象名,可以为 set,module,host</td>
</tr>
<tr>
<td>condition</td>
<td>array</td>
<td>查询条件</td>
</tr>
</tbody>
</table>
<h4 id="datainfoinfoconditioncondition">data.info.info.condition.condition</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>field</td>
<td>string</td>
<td>对象的字段</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>操作符, op 值为 eq(相等)/ne(不等)/in(属于)/nin(不属于)/like(模糊匹配)</td>
</tr>
<tr>
<td>value</td>
<td>object</td>
<td>字段对应的值</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_host_lock/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据主机 id 列表查询主机锁(v3.8.6)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id_list</td>
<td>int array</td>
<td>是</td>
<td>主机 ID 列表</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
   &quot;id_list&quot;:[1, 2]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        1: true,
        2: false
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>map[int]bool</td>
<td>请求返回的数据, key 是 ID，value 是否上锁</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_hostidentifier/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据条件查询主机身份</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip</td>
<td>dict</td>
<td>否</td>
<td>主机 ip 查询条件</td>
</tr>
<tr>
<td>page</td>
<td>dict</td>
<td>否</td>
<td>分页查询条件</td>
</tr>
</tbody>
</table>
<h4 id="ip">ip</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>array</td>
<td>否</td>
<td>主机 ip 列表</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>否</td>
<td>云区域 ID</td>
</tr>
</tbody>
</table>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大值为 500</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>排序字段</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;ip&quot;: {
        &quot;data&quot;: [
            &quot;192.168.0.1&quot;
        ],
        &quot;bk_cloud_id&quot;: 0
    },
    &quot;page&quot;:{
        &quot;start&quot;:0,
        &quot;limit&quot;:10,
        &quot;sort&quot;:&quot;bk_host_name&quot;
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: {
        &quot;count&quot;: 1,
        &quot;info&quot;: [
            {
                &quot;bk_host_id&quot;: 4,
                &quot;bk_host_name&quot;: &quot;&quot;,
                &quot;bk_supplier_account&quot;: &quot;&quot;,
                &quot;bk_cloud_id&quot;: 0,
                &quot;bk_cloud_name&quot;: &quot;default area&quot;,
                &quot;bk_host_innerip&quot;: &quot;192.168.0.1&quot;,
                &quot;bk_host_outerip&quot;: &quot;&quot;,
                &quot;bk_os_type&quot;: &quot;&quot;,
                &quot;bk_os_name&quot;: &quot;&quot;,
                &quot;bk_mem&quot;: 0,
                &quot;bk_cpu&quot;: 0,
                &quot;bk_disk&quot;: 0,
                &quot;associations&quot;: {
                    &quot;51&quot;: {
                        &quot;bk_biz_id&quot;: 3,
                        &quot;bk_biz_name&quot;: &quot;test&quot;,
                        &quot;bk_set_id&quot;: 8,
                        &quot;bk_set_name&quot;: &quot;test&quot;,
                        &quot;bk_module_id&quot;: 51,
                        &quot;bk_module_name&quot;: &quot;test&quot;,
                        &quot;bk_service_status&quot;: &quot;1&quot;,
                        &quot;bk_set_env&quot;: &quot;3&quot;,
                         &quot;layer&quot;: {
                              &quot;bk_inst_id&quot;: 3,
                              &quot;bk_inst_name&quot;: &quot;a&quot;,
                              &quot;bk_obj_id&quot;: &quot;a&quot;,
                              &quot;child&quot;: {
                                    &quot;bk_inst_id&quot;: 5,
                                    &quot;bk_inst_name&quot;: &quot;b&quot;,
                                    &quot;bk_obj_id&quot;: &quot;b&quot;,
                                    &quot;child&quot;: {}
                              }
                        }
                    }
                },
                &quot;process&quot;: [
                    {
                        &quot;bk_process_id&quot;: 43,
                        &quot;bk_process_name&quot;: &quot;test&quot;,
                        &quot;bind_ip&quot;: &quot;&quot;,
                        &quot;port&quot;: &quot;8000&quot;,
                        &quot;protocol&quot;: &quot;1&quot;,
                        &quot;bk_func_id&quot;: &quot;&quot;,
                        &quot;bk_func_name&quot;: &quot;test&quot;,
                        &quot;bk_start_param_regex&quot;: &quot;&quot;,
                        &quot;bind_info&quot;: [
                            {
                                &quot;enable&quot;: false,  
                                &quot;ip&quot;: &quot;127.0.0.1&quot;,  
                                &quot;port&quot;: &quot;8000&quot;,  
                                &quot;protocol&quot;: &quot;1&quot;, 
                                &quot;template_row_id&quot;: 1  
                            }
                        ],
                        &quot;bind_modules&quot;: [
                            51
                        ]
                    }
                ]
            }
        ]
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>记录条数</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>主机身份数据</td>
</tr>
</tbody>
</table>
<h4 id="datainfon">data.info[n]</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_host_id</td>
<td>int</td>
<td>主机 ID</td>
</tr>
<tr>
<td>bk_host_name</td>
<td>string</td>
<td>主机名称</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>云区域 ID</td>
</tr>
<tr>
<td>bk_cloud_name</td>
<td>string</td>
<td>云区域名称</td>
</tr>
<tr>
<td>bk_host_innerip</td>
<td>string</td>
<td>内网 IP</td>
</tr>
<tr>
<td>bk_host_outerip</td>
<td>string</td>
<td>外网 IP</td>
</tr>
<tr>
<td>bk_os_type</td>
<td>string</td>
<td>操作系统类型</td>
</tr>
<tr>
<td>bk_os_name</td>
<td>string</td>
<td>操作系统名称</td>
</tr>
<tr>
<td>bk_mem</td>
<td>string</td>
<td>内存容量</td>
</tr>
<tr>
<td>bk_cpu</td>
<td>int</td>
<td>CPU 逻辑核心数</td>
</tr>
<tr>
<td>bk_disk</td>
<td>int</td>
<td>磁盘容量</td>
</tr>
<tr>
<td>associations</td>
<td>dict</td>
<td>主机主线关联，key 为主机所属的模块 ID</td>
</tr>
<tr>
<td>process</td>
<td>array</td>
<td>主机进程信息</td>
</tr>
</tbody>
</table>
<h4 id="datainfonassociations">data.info[n].associations</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>主机所属的业务 ID</td>
</tr>
<tr>
<td>bk_biz_name</td>
<td>string</td>
<td>主机所属的业务名字</td>
</tr>
<tr>
<td>bk_set_id</td>
<td>int</td>
<td>主机所属的集群 ID</td>
</tr>
<tr>
<td>bk_set_name</td>
<td>string</td>
<td>主机所属的集群名字</td>
</tr>
<tr>
<td>bk_module_id</td>
<td>int</td>
<td>主机所属的模块 ID</td>
</tr>
<tr>
<td>bk_module_name</td>
<td>string</td>
<td>主机所属的模块名字</td>
</tr>
<tr>
<td>bk_service_status</td>
<td>enum</td>
<td>服务状态:1/2(1:开放,2:关闭)</td>
</tr>
<tr>
<td>bk_set_env</td>
<td>enum</td>
<td>环境类型：1/2/3(1:测试,2:体验,3:正式)</td>
</tr>
<tr>
<td>layer</td>
<td>dict</td>
<td>自定义层级信息</td>
</tr>
</tbody>
</table>
<h4 id="datainfonassociationslayer">data.info[n].associations.layer</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>自定义层级实例 ID</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>自定义层级实例名字</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>int</td>
<td>自定义层级模型 ID</td>
</tr>
<tr>
<td>child</td>
<td>dict</td>
<td>自定义层级信息</td>
</tr>
</tbody>
</table>
<h4 id="datainfonprocess">data.info[n].process</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_process_id</td>
<td>int</td>
<td>进程 ID</td>
</tr>
<tr>
<td>bk_process_name</td>
<td>string</td>
<td>进程名</td>
</tr>
<tr>
<td>bind_ip</td>
<td>string</td>
<td>绑定 IP:1/2/3/4(1:127.0.0.1,2:0.0.0.0,3:第一内网 IP,4:第一外网 IP)</td>
</tr>
<tr>
<td>port</td>
<td>string</td>
<td>主机端口</td>
</tr>
<tr>
<td>protocol</td>
<td>enum</td>
<td>协议:1/2(1:tcp, 2:udp)</td>
</tr>
<tr>
<td>bk_func_id</td>
<td>int</td>
<td>功能 ID</td>
</tr>
<tr>
<td>bk_func_name</td>
<td>string</td>
<td>进程别名</td>
</tr>
<tr>
<td>bk_start_param_regex</td>
<td>string</td>
<td>进程启动参数</td>
</tr>
<tr>
<td>bind_modules</td>
<td>array</td>
<td>进程绑定的模块数组</td>
</tr>
<tr>
<td>bind_info</td>
<td>array</td>
<td>进程绑定信息</td>
</tr>
</tbody>
</table>
<h4 id="datainfonprocessbind_infox">data.info[n].process.bind_info[x] 描述</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>enable</td>
<td>bool</td>
<td>端口是否启用</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>绑定的 ip</td>
</tr>
<tr>
<td>port</td>
<td>string</td>
<td>绑定的端口</td>
</tr>
<tr>
<td>protocol</td>
<td>string</td>
<td>使用的协议</td>
</tr>
<tr>
<td>row_id</td>
<td>int</td>
<td>实例化使用的模板行索引，进程内唯一</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_inst/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据关联关系实例查询模型实例</p>
<ul>
<li>该接口只适用于自定义层级模型和通用模型实例上，不适用于业务、集群、模块、主机等模型实例</li>
</ul>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>模型 ID</td>
</tr>
<tr>
<td>page</td>
<td>object</td>
<td>是</td>
<td>分页参数</td>
</tr>
<tr>
<td>condition</td>
<td>object</td>
<td>否</td>
<td>具有关联关系的模型实例查询条件</td>
</tr>
<tr>
<td>fields</td>
<td>map</td>
<td>否</td>
<td>指定查询模型实例返回的字段,key 为模型 ID，value 为该查询模型要返回的模型属性字段</td>
</tr>
</tbody>
</table>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大 200</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>排序字段</td>
</tr>
</tbody>
</table>
<h4 id="condition">condition</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>field</td>
<td>string</td>
<td>是</td>
<td>取值为模型的字段名</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>取值为：$regex $eq $ne</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>是</td>
<td>field 配置的模型字段名所对应的值</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_obj_id&quot;: &quot;bk_switch&quot;,
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;page&quot;: {
        &quot;start&quot;: 0,
        &quot;limit&quot;: 10,
        &quot;sort&quot;: &quot;bk_inst_id&quot;
    },
    &quot;fields&quot;: {
        &quot;bk_switch&quot;: [
            &quot;bk_asset_id&quot;,
            &quot;bk_inst_id&quot;,
            &quot;bk_inst_name&quot;,
            &quot;bk_obj_id&quot;
        ]
    },
    &quot;condition&quot;: {
        &quot;host&quot;: [
            {
                &quot;field&quot;: &quot;operator&quot;,
                &quot;operator&quot;: &quot;$regex&quot;,
                &quot;value&quot;: &quot;admin&quot;
            }
        ]
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;permission&quot;: null,
    &quot;data&quot;: {
        &quot;count&quot;: 2,
        &quot;info&quot;: [
            {
                &quot;bk_asset_id&quot;: &quot;sw00001&quot;,
                &quot;bk_inst_id&quot;: 1,
                &quot;bk_inst_name&quot;: &quot;sw1&quot;,
                &quot;bk_obj_id&quot;: &quot;bk_switch&quot;
            },
            {
                &quot;bk_asset_id&quot;: &quot;sw00002&quot;,
                &quot;bk_inst_id&quot;: 2,
                &quot;bk_inst_name&quot;: &quot;sw2&quot;,
                &quot;bk_obj_id&quot;: &quot;bk_switch&quot;
            }
        ]
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>记录条数</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>模型实例实际数据</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_inst_association_topo/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询实例关联拓扑</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>无</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>是</td>
<td>无</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_supplier_account&quot;:&quot;0&quot;,
    &quot;bk_obj_id&quot;:&quot;test&quot;,
    &quot;bk_inst_id&quot;:1
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: [{
        &quot;bk_inst_id&quot;:0,
        &quot;bk_inst_name&quot;: &quot;&quot;,
        &quot;bk_obj_icon&quot;: &quot;icon-cc-business&quot;,
        &quot;bk_obj_id&quot;: &quot;biz&quot;,
        &quot;bk_obj_name&quot;: &quot;业务&quot;,
        &quot;count&quot;: 1,
        &quot;children&quot;: [{
            &quot;bk_inst_id&quot;: 2,
            &quot;bk_inst_name&quot;: &quot;蓝鲸&quot;,
            &quot;bk_obj_icon&quot;: &quot;&quot;,
            &quot;bk_obj_id&quot;: &quot;biz&quot;,
            &quot;bk_obj_name&quot;: &quot;业务&quot;
        }],

    }]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>实例 ID</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>实例用于展示的名字</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>模型图标的名字</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>模型 ID</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>模型用于展示的名字</td>
</tr>
<tr>
<td>children</td>
<td>object array</td>
<td>本模型下所有被关联的实例的集合</td>
</tr>
<tr>
<td>count</td>
<td>int</td>
<td>children 包含节点的数量</td>
</tr>
</tbody>
</table>
<h4 id="children">children</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>实例 ID</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>实例用于展示的名字</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>模型图标的名字</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>模型 ID</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>模型用于展示的名字</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_inst_asst_object_inst_base_info/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询实例关联模型实例基本信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>fields</td>
<td>array</td>
<td>否</td>
<td>指定查询的字段，参数为业务的任意属性，如果不填写字段信息，系统会返回业务的所有字段</td>
</tr>
<tr>
<td>condition</td>
<td>dict</td>
<td>否</td>
<td>查询条件</td>
</tr>
<tr>
<td>page</td>
<td>dict</td>
<td>否</td>
<td>分页条件</td>
</tr>
</tbody>
</table>
<h4 id="condition">condition</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>实例模型 ID</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>是</td>
<td>实例 ID</td>
</tr>
<tr>
<td>association_obj_id</td>
<td>string</td>
<td>是</td>
<td>关联对象的模型 ID， 返回 association_obj_id 模型与 bk_inst_id 实例有关联的实例基本数据（bk_inst_id,bk_inst_name）</td>
</tr>
<tr>
<td>is_target_object</td>
<td>bool</td>
<td>否</td>
<td>bk_obj_id 是否为目标模型， 默认 false， 关联关系中的源模型，否则是目标模型</td>
</tr>
</tbody>
</table>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>记录开始位置,默认值 0</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>否</td>
<td>每页限制条数,默认值 20,最大 200</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;condition&quot;: {
        &quot;bk_obj_id&quot;:&quot;bk_switch&quot;, 
        &quot;bk_inst_id&quot;:12, 
        &quot;association_obj_id&quot;:&quot;host&quot;, 
        &quot;is_target_object&quot;:true, 
    },
    &quot;page&quot;: {
        &quot;start&quot;: 0,
        &quot;limit&quot;: 10,
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;permission&quot;: null,
    &quot;data&quot;: {
        &quot;count&quot;: 4,
        &quot;info&quot;: [
            {
                &quot;bk_inst_id&quot;: 1,
                &quot;bk_inst_name&quot;: &quot;127.0.0.3&quot;
            }
        ],
        &quot;page&quot;: {
            &quot;start&quot;: 0,
            &quot;limit&quot;: 1
        }
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<p>| 名称  | 类型  | 说明 |
|---|---|---|---|
| count| int| 记录条数 |
| info| object array |  关联对象的模型 ID， 实例关联模型的实例基本数据（bk_inst_id,bk_inst_name） |
| page| object|分页信息|</p>
<h4 id="datainfo">data.info 字段说明</h4>
<p>| 名称  | 类型  | 说明 |
|---|---|---|---|
| bk_inst_id | int | 实例 ID |
| bk_inst_name | string  | 实例名 | </p>
<h5 id="datainfobk_inst_iddatainfobk_inst_name">data.info.bk_inst_id,data.info.bk_inst_name 字段说明</h5>
<p>不同模型 bk_inst_id, bk_inst_name 对应的值</p>
<p>| 模型   | bk_inst_id   | bk_inst_name |
|---|---|---|---|
|业务 | bk_biz_id | bk_biz_name|
|集群 | bk_set_id | bk_set_name|
|模块 | bk_module_id | bk_module_name|
|进程 | bk_process_id | bk_process_name|
|主机 | bk_host_id | bk_host_inner_ip|
|通用模型 | bk_inst_id | bk_inst_name|</p>
<h4 id="datapage">data.page 字段说明</h4>
<p>| 名称  | 类型  | 说明 |
|---|---|---|---|
|start|int|服务端本次获取数据偏移位置|
|limit|int|服务端返回数据条数限制|</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_inst_by_object/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询给定模型的实例信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>自定义模型 ID</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>否</td>
<td>指定查询的字段</td>
</tr>
<tr>
<td>condition</td>
<td>dict</td>
<td>否</td>
<td>查询条件</td>
</tr>
<tr>
<td>page</td>
<td>dict</td>
<td>否</td>
<td>分页条件</td>
</tr>
</tbody>
</table>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大 200</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>排序字段</td>
</tr>
</tbody>
</table>
<h4 id="fields">fields 参数说明</h4>
<p>参数为查询的目标实例对应的模型定义的所有字段</p>
<h4 id="condition">condition 参数说明</h4>
<p>condition 参数为查询的目标实例对应的模型定义的所有字段</p>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_obj_id&quot;: &quot;xxx&quot;,
    &quot;fields&quot;: [
    ],
    &quot;condition&quot;: {
    },
    &quot;page&quot;: {
        &quot;start&quot;: 0,
        &quot;limit&quot;: 10,
        &quot;sort&quot;: &quot;&quot;
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        &quot;count&quot;: 4,
        &quot;info&quot;: [
            {
                &quot;bk_inst_id&quot;: 0,
                &quot;bk_inst_name&quot;: &quot;default area&quot;,
                &quot;bk_supplier_account&quot;: &quot;123456789&quot;
            }
        ]
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>info 集合中元素的数量</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>查询的模型的实例集合</td>
</tr>
</tbody>
</table>
<h4 id="info">info</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>实例 ID</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>实例名</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>开发商账号</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_module/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 id</td>
</tr>
<tr>
<td>bk_set_id</td>
<td>int</td>
<td>否</td>
<td>集群 ID</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>是</td>
<td>查询字段，字段来自于模块定义的属性字段</td>
</tr>
<tr>
<td>condition</td>
<td>dict</td>
<td>是</td>
<td>查询条件，字段来自于模块定义的属性字段</td>
</tr>
<tr>
<td>page</td>
<td>dict</td>
<td>是</td>
<td>分页条件</td>
</tr>
</tbody>
</table>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>排序字段</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 2,
    &quot;fields&quot;: [
        &quot;bk_module_name&quot;,
        &quot;bk_set_id&quot;
    ],
    &quot;condition&quot;: {
        &quot;bk_module_name&quot;: &quot;test&quot;
    },
    &quot;page&quot;: {
        &quot;start&quot;: 0,
        &quot;limit&quot;: 10
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;count&quot;: 2,
        &quot;info&quot;: [
            {
                &quot;bk_module_name&quot;: &quot;test&quot;,
                &quot;bk_set_id&quot;: 11
            },
            {
                &quot;bk_module_name&quot;: &quot;test&quot;,
                &quot;bk_set_id&quot;: 12
            }
        ]
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>数据数量</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>结果集，其中，所有字段均为模块定义的属性字段</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_objects/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据可选条件查询模型</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>creator</td>
<td>string</td>
<td>否</td>
<td>本条数据创建者</td>
</tr>
<tr>
<td>modifier</td>
<td>string</td>
<td>否</td>
<td>本条数据的最后修改人员</td>
</tr>
<tr>
<td>bk_classification_id</td>
<td>string</td>
<td>否</td>
<td>对象模型的分类 ID，只能用英文字母序列命名</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>否</td>
<td>对象模型的 ID，只能用英文字母序列命名</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>否</td>
<td>对象模型的名字，用于展示，可以使用人类可以阅读的任何语言</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;creator&quot;: &quot;user&quot;,
    &quot;modifier&quot;: &quot;user&quot;,
    &quot;bk_classification_id&quot;: &quot;test&quot;,
    &quot;bk_obj_id&quot;: &quot;biz&quot;,
    &quot;bk_supplier_account&quot;:&quot;0&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: [
        {
            &quot;bk_classification_id&quot;: &quot;bk_organization&quot;,
            &quot;create_time&quot;: &quot;2018-03-08T11:30:28.005+08:00&quot;,
            &quot;creator&quot;: &quot;cc_system&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;id&quot;: 4,
            &quot;bk_ispaused&quot;: false,
            &quot;ispre&quot;: true,
            &quot;last_time&quot;: null,
            &quot;modifier&quot;: &quot;&quot;,
            &quot;bk_obj_icon&quot;: &quot;icon-XXX&quot;,
            &quot;bk_obj_id&quot;: &quot;XX&quot;,
            &quot;bk_obj_name&quot;: &quot;XXX&quot;,
            &quot;position&quot;: &quot;{\&quot;test_obj\&quot;:{\&quot;x\&quot;:-253,\&quot;y\&quot;:137}}&quot;,
            &quot;bk_supplier_account&quot;: &quot;0&quot;
        }
    ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>数据记录的 ID</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>本条数据创建者</td>
</tr>
<tr>
<td>modifier</td>
<td>string</td>
<td>本条数据的最后修改人员</td>
</tr>
<tr>
<td>bk_classification_id</td>
<td>string</td>
<td>对象模型的分类 ID，只能用英文字母序列命名</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>对象模型的 ID，只能用英文字母序列命名</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>对象模型的名字，用于展示</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_ispaused</td>
<td>bool</td>
<td>是否停用, true or false</td>
</tr>
<tr>
<td>ispre</td>
<td>bool</td>
<td>是否预定义, true or false</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>对象模型的 ICON 信息，用于前端显示，取值可参考<a href="/static/esb/api_docs/res/cc/modleIcon.json">(modleIcon.json)</a></td>
</tr>
<tr>
<td>position</td>
<td>json object string</td>
<td>用于前端展示的坐标</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_object_attribute/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>可通过可选参数根据模型 id 或业务 id 查询对象模型属性</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>否</td>
<td>模型 ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>否</td>
<td>业务 id，设置后查询结果包含业务自定义字段</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_obj_id&quot;: &quot;test&quot;,
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;bk_biz_id&quot;: 2
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
   &quot;data&quot;: [
       {
           &quot;bk_biz_id&quot;: 0,
           &quot;bk_asst_obj_id&quot;: &quot;&quot;,
           &quot;bk_asst_type&quot;: 0,
           &quot;create_time&quot;: &quot;2018-03-08T11:30:27.898+08:00&quot;,
           &quot;creator&quot;: &quot;cc_system&quot;,
           &quot;description&quot;: &quot;&quot;,
           &quot;editable&quot;: false,
           &quot;id&quot;: 51,
           &quot;isapi&quot;: false,
           &quot;isonly&quot;: true,
           &quot;ispre&quot;: true,
           &quot;isreadonly&quot;: false,
           &quot;isrequired&quot;: true,
           &quot;last_time&quot;: &quot;2018-03-08T11:30:27.898+08:00&quot;,
           &quot;bk_obj_id&quot;: &quot;process&quot;,
           &quot;option&quot;: &quot;&quot;,
           &quot;placeholder&quot;: &quot;&quot;,
           &quot;bk_property_group&quot;: &quot;default&quot;,
           &quot;bk_property_group_name&quot;: &quot;基础信息&quot;,
           &quot;bk_property_id&quot;: &quot;bk_process_name&quot;,
           &quot;bk_property_index&quot;: 0,
           &quot;bk_property_name&quot;: &quot;进程名称&quot;,
           &quot;bk_property_type&quot;: &quot;singlechar&quot;,
           &quot;bk_supplier_account&quot;: &quot;0&quot;,
           &quot;unit&quot;: &quot;&quot;
       },
       {
            &quot;bk_biz_id&quot;: 2,
            &quot;id&quot;: 7,
            &quot;bk_supplier_account&quot;: &quot;0&quot;,
            &quot;bk_obj_id&quot;: &quot;process&quot;,
            &quot;bk_property_id&quot;: &quot;biz_custom_field&quot;,
            &quot;bk_property_name&quot;: &quot;业务自定义字段&quot;,
            &quot;bk_property_group&quot;: &quot;biz_custom_group&quot;,
            &quot;bk_property_index&quot;: 4,
            &quot;unit&quot;: &quot;&quot;,
            &quot;placeholder&quot;: &quot;&quot;,
            &quot;editable&quot;: true,
            &quot;ispre&quot;: true,
            &quot;isrequired&quot;: false,
            &quot;isreadonly&quot;: false,
            &quot;isonly&quot;: false,
            &quot;bk_issystem&quot;: false,
            &quot;bk_isapi&quot;: false,
            &quot;bk_property_type&quot;: &quot;singlechar&quot;,
            &quot;option&quot;: &quot;&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;creator&quot;: &quot;admin&quot;,
            &quot;create_time&quot;: &quot;2020-03-25 17:12:08&quot;,
            &quot;last_time&quot;: &quot;2020-03-25 17:12:08&quot;,
            &quot;bk_property_group_name&quot;: &quot;业务自定义分组&quot;
       }
   ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>creator</td>
<td>string</td>
<td>数据的创建者</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>数据的描述信息</td>
</tr>
<tr>
<td>editable</td>
<td>bool</td>
<td>表明数据是否可编辑</td>
</tr>
<tr>
<td>isonly</td>
<td>bool</td>
<td>表明唯一性</td>
</tr>
<tr>
<td>ispre</td>
<td>bool</td>
<td>true:预置字段,false:非内置字段</td>
</tr>
<tr>
<td>isreadonly</td>
<td>bool</td>
<td>true:只读，false:非只读</td>
</tr>
<tr>
<td>isrequired</td>
<td>bool</td>
<td>true:必填，false:可选</td>
</tr>
<tr>
<td>option</td>
<td>string</td>
<td>用户自定义内容，存储的内容及格式由调用方决定</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>单位</td>
</tr>
<tr>
<td>placeholder</td>
<td>string</td>
<td>占位符</td>
</tr>
<tr>
<td>bk_property_group</td>
<td>string</td>
<td>字段分栏的名字</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>模型 ID</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_property_id</td>
<td>string</td>
<td>模型的属性 ID</td>
</tr>
<tr>
<td>bk_property_name</td>
<td>string</td>
<td>模型属性名，用于展示</td>
</tr>
<tr>
<td>bk_property_type</td>
<td>string</td>
<td>定义的属性字段用于存储数据的数据类型 （singlechar,longchar,int,enum,date,time,objuser,singleasst,multiasst,timezone,bool)</td>
</tr>
<tr>
<td>bk_asst_obj_id</td>
<td>string</td>
<td>如果有关联其它的模型，那么就必需设置此字段，否则就不需要设置</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务自定义字段的业务 id</td>
</tr>
</tbody>
</table>
<h4 id="bk_property_type">bk_property_type</h4>
<table>
<thead>
<tr>
<th>标识</th>
<th>名字</th>
</tr>
</thead>
<tbody>
<tr>
<td>singlechar</td>
<td>短字符</td>
</tr>
<tr>
<td>longchar</td>
<td>长字符</td>
</tr>
<tr>
<td>int</td>
<td>整形</td>
</tr>
<tr>
<td>enum</td>
<td>枚举类型</td>
</tr>
<tr>
<td>date</td>
<td>日期</td>
</tr>
<tr>
<td>time</td>
<td>时间</td>
</tr>
<tr>
<td>objuser</td>
<td>用户</td>
</tr>
<tr>
<td>singleasst</td>
<td>单关联</td>
</tr>
<tr>
<td>multiasst</td>
<td>多关联</td>
</tr>
<tr>
<td>timezone</td>
<td>时区</td>
</tr>
<tr>
<td>bool</td>
<td>布尔</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_object_topo/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>通过对象模型的分类 ID 查询普通模型拓扑</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_classification_id</td>
<td>string</td>
<td>是</td>
<td>对象模型的分类 ID，只能用英文字母序列命名</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_classification_id&quot;: &quot;test&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: [
        {
           &quot;arrows&quot;: &quot;to&quot;,
           &quot;from&quot;: {
               &quot;bk_classification_id&quot;: &quot;bk_host_manage&quot;,
               &quot;bk_obj_id&quot;: &quot;host&quot;,
               &quot;bk_obj_name&quot;: &quot;主机&quot;,
               &quot;position&quot;: &quot;{\&quot;bk_host_manage\&quot;:{\&quot;x\&quot;:-357,\&quot;y\&quot;:-344},\&quot;lhmtest\&quot;:{\&quot;x\&quot;:163,\&quot;y\&quot;:75}}&quot;,
               &quot;bk_supplier_account&quot;: &quot;0&quot;
           },
           &quot;label&quot;: &quot;switch_to_host&quot;,
           &quot;label_name&quot;: &quot;&quot;,
           &quot;label_type&quot;: &quot;&quot;,
           &quot;to&quot;: {
               &quot;bk_classification_id&quot;: &quot;bk_network&quot;,
               &quot;bk_obj_id&quot;: &quot;bk_switch&quot;,
               &quot;bk_obj_name&quot;: &quot;交换机&quot;,
               &quot;position&quot;: &quot;{\&quot;bk_network\&quot;:{\&quot;x\&quot;:-172,\&quot;y\&quot;:-160}}&quot;,
               &quot;bk_supplier_account&quot;: &quot;0&quot;
           }
        }
   ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>arrows</td>
<td>string</td>
<td>取值 to（单向） 或 to,from（双向）</td>
</tr>
<tr>
<td>label_name</td>
<td>string</td>
<td>关联关系的名字</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>表明 From 通过哪个字段关联到 To 的</td>
</tr>
<tr>
<td>from</td>
<td>string</td>
<td>对象模型的英文 id，拓扑关系的发起方</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>对象模型的英文 ID，拓扑关系的终止方</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_related_inst_asso/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询某实例所有的关联关系（包含其作为关联关系原模型和关联关系目标模型的情况）。(v3.5.36)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">必选</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">bk_app_code</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">应用 ID</td>
</tr>
<tr>
<td align="left">bk_app_secret</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td align="left">bk_token</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td align="left">bk_username</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">类型</th>
<th align="left">必选</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">bk_inst_id</td>
<td align="left">int</td>
<td align="left">是</td>
<td align="left">实例 id</td>
</tr>
<tr>
<td align="left">bk_obj_id</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">模型 id</td>
</tr>
<tr>
<td align="left">fields</td>
<td align="left">array</td>
<td align="left">Yes</td>
<td align="left">需要返回的字段</td>
</tr>
<tr>
<td align="left">start</td>
<td align="left">int</td>
<td align="left">否</td>
<td align="left">记录开始位置</td>
</tr>
<tr>
<td align="left">limit</td>
<td align="left">int</td>
<td align="left">否</td>
<td align="left">分页大小，最大值 500。</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;condition&quot;: {
        &quot;bk_inst_id&quot;: 8,
        &quot;bk_obj_id&quot;: &quot;bk_router&quot;
    },
    &quot;fields&quot;: [
        &quot;id&quot;,
        &quot;bk_inst_id&quot;,
        &quot;bk_obj_id&quot;,
        &quot;bk_asst_inst_id&quot;,
        &quot;bk_asst_obj_id&quot;,
        &quot;bk_obj_asst_id&quot;,
        &quot;bk_asst_id&quot;
        ],
    &quot;limit&quot;: {
        &quot;start&quot;:1,
        &quot;limit&quot;:2
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;permission&quot;: null,
    &quot;data&quot;: {
        &quot;count&quot;: 2,
        &quot;info&quot;: [
            {
                &quot;id&quot;: 15,
                &quot;bk_inst_id&quot;: 10,
                &quot;bk_obj_id&quot;: &quot;bk_switch&quot;,
                &quot;bk_asst_inst_id&quot;: 8,
                &quot;bk_asst_obj_id&quot;: &quot;bk_router&quot;,
                &quot;bk_obj_asst_id&quot;: &quot;bk_switch_default_bk_router&quot;
            },
            {
                &quot;id&quot;: 14,
                &quot;bk_inst_id&quot;: 9,
                &quot;bk_obj_id&quot;: &quot;bk_switch&quot;,
                &quot;bk_asst_inst_id&quot;: 8,
                &quot;bk_asst_obj_id&quot;: &quot;bk_router&quot;,
                &quot;bk_obj_asst_id&quot;: &quot;bk_switch_default_bk_router&quot;
            }
        ]
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<p>| 名称  | 类型  | 说明 |
|---|---|---|---|
| count| int| 记录条数 |
| info| object array |  查询到的关联关系信息 |</p>
<h4 id="datainfo">data.info 字段说明</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int64</td>
<td>关联 id</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int64</td>
<td>源模型实例 id</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>关联关系源模型 id</td>
</tr>
<tr>
<td>bk_asst_inst_id</td>
<td>int64</td>
<td>关联关系目标模型 id</td>
</tr>
<tr>
<td>bk_asst_obj_id</td>
<td>string</td>
<td>目标模型实例 id</td>
</tr>
<tr>
<td>bk_obj_asst_id</td>
<td>string</td>
<td>自动生成的模型关联关系 id</td>
</tr>
<tr>
<td>bk_asst_id</td>
<td>string</td>
<td>关系名称</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_set/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询集群</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 id</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>是</td>
<td>查询字段，所有字段均为 set 定义的字段，这些字段包括预置字段，也包括用户自定义字段</td>
</tr>
<tr>
<td>condition</td>
<td>dict</td>
<td>是</td>
<td>查询条件，所有字段均为 Set 定义的字段，这些字段包括预置字段，也包括用户自定义字段</td>
</tr>
<tr>
<td>page</td>
<td>dict</td>
<td>是</td>
<td>分页条件</td>
</tr>
</tbody>
</table>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大 200</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>排序字段</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 2,
    &quot;fields&quot;: [
        &quot;bk_set_name&quot;
    ],
    &quot;condition&quot;: {
        &quot;bk_set_name&quot;: &quot;test&quot;
    },
    &quot;page&quot;: {
        &quot;start&quot;: 0,
        &quot;limit&quot;: 10,
        &quot;sort&quot;: &quot;bk_set_name&quot;
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;count&quot;: 1,
        &quot;info&quot;: [
            {
                &quot;bk_set_name&quot;: &quot;test&quot;
            }
        ]
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>数据数量</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>结果集，其中，所有字段均为集群定义的属性字段</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_subscription/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询事件订阅</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>page</td>
<td>object</td>
<td>否</td>
<td>分页参数</td>
</tr>
<tr>
<td>condition</td>
<td>object</td>
<td>否</td>
<td>查询条件</td>
</tr>
</tbody>
</table>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大 200</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>排序字段</td>
</tr>
</tbody>
</table>
<h4 id="condition">condition</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>subscription_name</td>
<td>string</td>
<td>是</td>
<td>此处仅为示例数据，需要被设置为查询的字段</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_supplier_account&quot;:&quot;0&quot;,
    &quot;condition&quot;:{
        &quot;subscription_name&quot;:&quot;name&quot;
    },
    &quot;page&quot;:{
        &quot;start&quot;:0,
        &quot;limit&quot;:10,
        &quot;sort&quot;:&quot;HostName&quot;
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        &quot;count&quot;: 1,
        &quot;info&quot;: [
            {
                &quot;subscription_id&quot;: 1,
                &quot;subscription_name&quot;: &quot;mysubscribe&quot;,
                &quot;system_name&quot;: &quot;SystemName&quot;,
                &quot;callback_url&quot;: &quot;http://127.0.0.1:8080/callback&quot;,
                &quot;confirm_mode&quot;: &quot;httpstatus&quot;,
                &quot;confirm_pattern&quot;: &quot;200&quot;,
                &quot;time_out&quot;: 10,
                &quot;subscription_form&quot;: &quot;hostcreate&quot;,
                &quot;operator&quot;: &quot;user&quot;,
                &quot;bk_supplier_account&quot;: &quot;0&quot;,
                &quot;last_time&quot;: &quot;2017-09-19 16:57:07&quot;,
                &quot;statistics&quot;: {
                    &quot;total&quot;: 30,
                    &quot;failure&quot;: 2
                }
            }
        ]
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>记录条数</td>
</tr>
<tr>
<td>info</td>
<td>object array</td>
<td>事件订阅的详情列表</td>
</tr>
</tbody>
</table>
<h4 id="info">info</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>subscription_id</td>
<td>int</td>
<td>订阅 ID</td>
</tr>
<tr>
<td>subscription_name</td>
<td>string</td>
<td>订阅名</td>
</tr>
<tr>
<td>system_name</td>
<td>string</td>
<td>系统名称</td>
</tr>
<tr>
<td>callback_url</td>
<td>string</td>
<td>回调地址</td>
</tr>
<tr>
<td>confirm_mode</td>
<td>string</td>
<td>回调成功确认模式，可选:httpstatus，regular</td>
</tr>
<tr>
<td>confirm_pattern</td>
<td>string</td>
<td>回调成功标志</td>
</tr>
<tr>
<td>subscription_form</td>
<td>string</td>
<td>订阅单，用","分隔</td>
</tr>
<tr>
<td>timeout</td>
<td>int</td>
<td>超时时间，单位：秒</td>
</tr>
<tr>
<td>operator</td>
<td>int</td>
<td>本条数据的最后更新人员</td>
</tr>
<tr>
<td>last_time</td>
<td>int</td>
<td>更新时间</td>
</tr>
<tr>
<td>statistics.total</td>
<td>int</td>
<td>推送总数</td>
</tr>
<tr>
<td>statistics.failure</td>
<td>int</td>
<td>推送失败数</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_topo_tree/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据业务名、自定义层级名、集群、模块名模糊搜索业务的拓扑树。</p>
<p>主机规则包括：
- 在多业务搜索下，如果扫描的业务数量超过一定数量，可以直接拒绝搜索，直接返回，报查询数据过多的错误，暂定为 20 个业务。
- 可以支持业务名、自定义层级名、集群、模块组合的查询方式进行模糊搜索。
- 除主机、模块外，其它的这些可以提供当前层级或者下一层级的拓扑信息，但是总的搜索的节点数量不能超过 50 个。如果超过 50 个，则直接拒绝搜索，报查询数据过多的错误。 </p>
<p>注意： 
- 该接口仅用于 web 页面搜索使用，不建议后台使用。
- 该接口有 5 分钟的缓存，在最极端的情况下，5 分钟内的数据可能会不对。
- 每次搜索会自动触发缓存更新，所以在数据不对的情况下，第二次搜索数据即准确。</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID，其中-1 代表所有业务，不能为 0。正整数值代表对应的业务 ID</td>
</tr>
<tr>
<td>bk_biz_name</td>
<td>string</td>
<td>是</td>
<td>业务名，业务名和业务 ID 可以选择只用一个，但不能同时为空。如果 bk_biz_id &gt; 0, 则 bk_biz_name 会被忽略,因为已经指定了具体的业务。</td>
</tr>
<tr>
<td>bk_set_name</td>
<td>string</td>
<td>否</td>
<td>集群名</td>
</tr>
<tr>
<td>bk_module_name</td>
<td>string</td>
<td>否</td>
<td>模块名</td>
</tr>
<tr>
<td>bk_level</td>
<td>object</td>
<td>否</td>
<td>自定义层级描述</td>
</tr>
</tbody>
</table>
<p>注意： bk_set_name, bk_module_name, bk_level 只能使用期中一个。 </p>
<ul>
<li>bk_level</li>
</ul>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>自定义层级的模型名称</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>是</td>
<td>自定义层级的实例名称</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_biz_id&quot;: 2,
    &quot;bk_biz_name&quot;: &quot;&quot;,
    &quot;bk_set_name&quot;: &quot;paas&quot;,
    &quot;bk_module_name&quot;: &quot;&quot;,
    &quot;bk_level&quot;: {
        &quot;bk_obj_id&quot;: &quot;&quot;,
        &quot;bk_inst_name&quot;: &quot;&quot;
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;permission&quot;: null,
  &quot;data&quot;: [
    {
      &quot;bk_biz_id&quot;: 2,
      &quot;bk_biz_name&quot;: &quot;蓝鲸&quot;,
      &quot;bk_topo_tree&quot;: [
        {
          &quot;bk_obj_id&quot;: &quot;set&quot;,
          &quot;bk_inst_name&quot;: &quot;PaaS平台&quot;,
          &quot;bk_inst_id&quot;: 4,
          &quot;children&quot;: [
            {
              &quot;bk_obj_id&quot;: &quot;module&quot;,
              &quot;bk_inst_name&quot;: &quot;nginx&quot;,
              &quot;bk_inst_id&quot;: 15,
              &quot;children&quot;: null
            },
            {
              &quot;bk_obj_id&quot;: &quot;module&quot;,
              &quot;bk_inst_name&quot;: &quot;elasticsearch&quot;,
              &quot;bk_inst_id&quot;: 14,
              &quot;children&quot;: null
            },
            {
              &quot;bk_obj_id&quot;: &quot;module&quot;,
              &quot;bk_inst_name&quot;: &quot;nfs&quot;,
              &quot;bk_inst_id&quot;: 5000083,
              &quot;children&quot;: null
            }
          ]
        }
      ]
    }
  ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data-array">data array</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_biz_name</td>
<td>string</td>
<td>业务名</td>
</tr>
<tr>
<td>bk_topo_tree</td>
<td>Object Array</td>
<td>根据查询条件生成的拓扑树层级信息，该树包含查询对象到业务根节点的所有层级信息，及下一层级信息，但模块例外，没有下一层级。</td>
</tr>
</tbody>
</table>
<h4 id="bk_obj_tree-array">bk_obj_tree array</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>对象类型，可以为自定义层级对名称，set,module 名称</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>对象名，如集群名、模块名等</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>Int</td>
<td>对象实例身份 id，唯一标识这个实例 ID</td>
</tr>
<tr>
<td>children</td>
<td>object array</td>
<td>表示该对象实例的子节点信息，可以是自定义层级集群、模块等</td>
</tr>
</tbody>
</table>
<h4 id="children-array">children array</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>对象类型，可以为自定义层级对名称，set,module 名称</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>对象名，如集群名、模块名等</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>Int</td>
<td>对象实例身份 id，唯一标识这个实例 ID</td>
</tr>
</tbody>
</table>
<p>注意： 模块没有子层级，即没有 children.</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/subscribe_event/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>订阅事件</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>subscription_name</td>
<td>string</td>
<td>是</td>
<td>订阅的名字</td>
</tr>
<tr>
<td>system_name</td>
<td>string</td>
<td>是</td>
<td>订阅事件的系统的名字</td>
</tr>
<tr>
<td>callback_url</td>
<td>string</td>
<td>是</td>
<td>回调函数</td>
</tr>
<tr>
<td>confirm_mode</td>
<td>string</td>
<td>是</td>
<td>事件发送成功校验模式,可选 1-httpstatus,2-regular</td>
</tr>
<tr>
<td>confirm_pattern</td>
<td>string</td>
<td>是</td>
<td>callback 的 httpstatus 或正则</td>
</tr>
<tr>
<td>subscription_form</td>
<td>string</td>
<td>是</td>
<td>订阅的事件,以逗号分隔</td>
</tr>
<tr>
<td>timeout</td>
<td>int</td>
<td>是</td>
<td>发送事件超时时间</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_supplier_account&quot;: &quot;0&quot;,
  &quot;subscription_name&quot;:&quot;mysubscribe&quot;,
  &quot;system_name&quot;:&quot;SystemName&quot;,
  &quot;callback_url&quot;:&quot;http://127.0.0.1:8080/callback&quot;,
  &quot;confirm_mode&quot;:&quot;httpstatus&quot;,
  &quot;confirm_pattern&quot;:&quot;200&quot;,
  &quot;subscription_form&quot;:&quot;hostcreate&quot;,
  &quot;timeout&quot;:10
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;:{
        &quot;subscription_id&quot;: 1
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>subscription_id</td>
<td>int</td>
<td>新增订阅的订阅 ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/sync_set_template_to_set/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据业务 id，集群模板 id,待同步集群 id 列表，将指定业务下的集群模板同步到集群</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>set_template_id</td>
<td>int</td>
<td>是</td>
<td>集群模板 ID</td>
</tr>
<tr>
<td>bk_set_ids</td>
<td>array</td>
<td>是</td>
<td>待同步集群 ID 列表</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;bk_biz_id&quot;: 20,
    &quot;set_template_id&quot;: 6,
    &quot;bk_set_ids&quot;: [46]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;permission&quot;: null,
    &quot;data&quot;: null
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/transfer_host_module/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>业务内主机转移模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>array</td>
<td>是</td>
<td>主机 ID</td>
</tr>
<tr>
<td>bk_module_id</td>
<td>array</td>
<td>是</td>
<td>模块 ID</td>
</tr>
<tr>
<td>is_increment</td>
<td>bool</td>
<td>是</td>
<td>覆盖或者追加,会删除原有关系. true 是更新，false 是覆盖</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;bk_host_id&quot;: [
        9,
        10
    ],
    &quot;bk_module_id&quot;: [
        10
    ],
    &quot;is_increment&quot;: true
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/transfer_host_to_faultmodule/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>上交主机到业务的故障机模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>array</td>
<td>是</td>
<td>主机 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;bk_host_id&quot;: [
        9,
        10
    ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/transfer_host_to_idlemodule/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>上交主机到业务的空闲机模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>array</td>
<td>是</td>
<td>主机 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;bk_host_id&quot;: [
        9,
        10
    ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/transfer_host_to_resourcemodule/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>上交主机至资源池</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>array</td>
<td>是</td>
<td>主机 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;bk_host_id&quot;: [
        9,
        10
    ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/transfer_resourcehost_to_idlemodule/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>资源池主机分配至业务的空闲机模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>array</td>
<td>是</td>
<td>主机 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;bk_host_id&quot;: [
        9,
        10
    ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/transfer_sethost_to_idle_module/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据业务 id,集群 id,模块 id,将指定业务集群模块下的主机上交到业务的空闲机模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 id</td>
</tr>
<tr>
<td>bk_set_id</td>
<td>int</td>
<td>是</td>
<td>集群 id</td>
</tr>
<tr>
<td>bk_module_id</td>
<td>int</td>
<td>是</td>
<td>模块 id</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_biz_id&quot;:10,
    &quot;bk_module_id&quot;:58,
    &quot;bk_set_id&quot;:1
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: &quot;sucess&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/unsubcribe_event/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>退订事件</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>subscription_id</td>
<td>int</td>
<td>是</td>
<td>订阅 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_supplier_account&quot;:&quot;0&quot;,
    &quot;subscription_id&quot;:1
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;:&quot;success&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_biz_custom_field/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新业务自定义模型属性</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>是</td>
<td>目标数据的记录 ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 id</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>否</td>
<td>数据的描述信息</td>
</tr>
<tr>
<td>isonly</td>
<td>bool</td>
<td>否</td>
<td>表明唯一性</td>
</tr>
<tr>
<td>isreadonly</td>
<td>bool</td>
<td>否</td>
<td>表明是否只读</td>
</tr>
<tr>
<td>isrequired</td>
<td>bool</td>
<td>否</td>
<td>表明是否必填</td>
</tr>
<tr>
<td>bk_property_group</td>
<td>string</td>
<td>否</td>
<td>字段分栏的名字</td>
</tr>
<tr>
<td>option</td>
<td>object</td>
<td>否</td>
<td _min_:1_max_:2="&quot;min&quot;:1,&quot;max&quot;:2">用户自定义内容，存储的内容及格式由调用方决定, 以数字内容为例（</td>
</tr>
<tr>
<td>bk_property_name</td>
<td>string</td>
<td>否</td>
<td>模型属性名，用于展示</td>
</tr>
<tr>
<td>bk_property_type</td>
<td>string</td>
<td>否</td>
<td>定义的属性字段用于存储数据的数据类型（singlechar,longchar,int,enum,date,time,objuser,singleasst,multiasst,timezone,bool)</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>否</td>
<td>单位</td>
</tr>
<tr>
<td>placeholder</td>
<td>string</td>
<td>否</td>
<td>占位符</td>
</tr>
<tr>
<td>bk_asst_obj_id</td>
<td>string</td>
<td>否</td>
<td>如果有关联其它的模型，那么就必需设置此字段，否则就不需要设置</td>
</tr>
</tbody>
</table>
<h4 id="bk_property_type">bk_property_type</h4>
<table>
<thead>
<tr>
<th>标识</th>
<th>名字</th>
</tr>
</thead>
<tbody>
<tr>
<td>singlechar</td>
<td>短字符</td>
</tr>
<tr>
<td>longchar</td>
<td>长字符</td>
</tr>
<tr>
<td>int</td>
<td>整形</td>
</tr>
<tr>
<td>enum</td>
<td>枚举类型</td>
</tr>
<tr>
<td>date</td>
<td>日期</td>
</tr>
<tr>
<td>time</td>
<td>时间</td>
</tr>
<tr>
<td>objuser</td>
<td>用户</td>
</tr>
<tr>
<td>singleasst</td>
<td>单关联</td>
</tr>
<tr>
<td>multiasst</td>
<td>多关联</td>
</tr>
<tr>
<td>timezone</td>
<td>时区</td>
</tr>
<tr>
<td>bool</td>
<td>布尔</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;id&quot;:1,
    &quot;bk_biz_id&quot;: 2,
    &quot;description&quot;:&quot;test&quot;,
    &quot;placeholder&quot;:&quot;test&quot;,
    &quot;unit&quot;:&quot;1&quot;,
    &quot;isonly&quot;:false,
    &quot;isreadonly&quot;:false,
    &quot;isrequired&quot;:false,
    &quot;bk_property_group&quot;:&quot;default&quot;,
    &quot;option&quot;:{&quot;min&quot;:1,&quot;max&quot;:4},
    &quot;bk_property_name&quot;:&quot;aaa&quot;,
    &quot;bk_property_type&quot;:&quot;int&quot;,
    &quot;bk_asst_obj_id&quot;:&quot;0&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: null
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_business/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新业务信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 id</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>是</td>
<td>业务数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_name</td>
<td>string</td>
<td>否</td>
<td>业务名</td>
</tr>
<tr>
<td>bk_biz_developer</td>
<td>string</td>
<td>否</td>
<td>开发人员</td>
</tr>
<tr>
<td>bk_biz_maintainer</td>
<td>string</td>
<td>否</td>
<td>运维人员</td>
</tr>
<tr>
<td>bk_biz_productor</td>
<td>string</td>
<td>否</td>
<td>产品人员</td>
</tr>
<tr>
<td>bk_biz_tester</td>
<td>string</td>
<td>否</td>
<td>测试人员</td>
</tr>
</tbody>
</table>
<p><strong>注意：此处的输入参数仅对必填以及系统内置的参数做了说明，其余需要填写的参数取决于用户自己定义的属性字段</strong></p>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;data&quot;: {
        &quot;bk_biz_name&quot;: &quot;cc_app_test&quot;,
        &quot;bk_biz_maintainer&quot;: &quot;admin&quot;,
        &quot;bk_biz_productor&quot;: &quot;admin&quot;,
        &quot;bk_biz_developer&quot;: &quot;admin&quot;,
        &quot;bk_biz_tester&quot;: &quot;admin&quot;,
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_business_enable_status/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据业务 id 和状态值修改业务启用状态</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 id</td>
</tr>
<tr>
<td>flag</td>
<td>string</td>
<td>是</td>
<td>启用状态，为 disabled 或者 enable</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_biz_id&quot;: &quot;3&quot;,
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;flag&quot;: &quot;enable&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: &quot;success&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_classification/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新模型分类</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>否</td>
<td>目标数据的记录 ID，作为更新操作的条件</td>
</tr>
<tr>
<td>bk_classification_name</td>
<td>string</td>
<td>否</td>
<td>分类名</td>
</tr>
<tr>
<td>bk_classification_icon</td>
<td>string</td>
<td>否</td>
<td>模型分类的图标,取值可参考，取值可参考<a href="resource_define/classIcon.json">(classIcon.json)</a></td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;id&quot;: 1,
    &quot;bk_classification_name&quot;: &quot;cc_test_new&quot;,
    &quot;bk_classification_icon&quot;: &quot;icon-cc-business&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: &quot;success&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_cloud_area/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新云区域</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>是</td>
<td>云区域 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_cloud_name&quot;: &quot;云区域1&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: &quot;success&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_custom_query/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新自定义查询</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>是</td>
<td>主键 ID</td>
</tr>
<tr>
<td>info</td>
<td>string</td>
<td>否</td>
<td>通用查询条件</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>否</td>
<td>收藏的名称</td>
</tr>
</tbody>
</table>
<h4 id="info">info</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>否</td>
<td>对象名,可以为 biz,set,module,host,object</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>否</td>
<td>查询输出字段</td>
</tr>
<tr>
<td>condition</td>
<td>array</td>
<td>否</td>
<td>查询条件</td>
</tr>
</tbody>
</table>
<h4 id="infoconditioncondition">info.condition.condition</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>field</td>
<td>string</td>
<td>否</td>
<td>对象的字段</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>否</td>
<td>操作符, $eq 为相等，$ne 为不等，$in 为属于，$nin 为不属于</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>否</td>
<td>字段对应的值</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;id&quot;: &quot;xxx&quot;,
    &quot;info&quot;: &quot;{\&quot;condition\&quot;:[{\&quot;bk_obj_id\&quot;:\&quot;biz\&quot;,\&quot;condition\&quot;:[{\&quot;field\&quot;:\&quot;default\&quot;,\&quot;operator\&quot;:\&quot;$ne\&quot;,\&quot;value\&quot;:1}],\&quot;fields\&quot;:[]},{\&quot;bk_obj_id\&quot;:\&quot;set\&quot;,\&quot;condition\&quot;:[],\&quot;fields\&quot;:[]},{\&quot;bk_obj_id\&quot;:\&quot;module\&quot;,\&quot;condition\&quot;:[],\&quot;fields\&quot;:[]},{\&quot;bk_obj_id\&quot;:\&quot;host\&quot;,\&quot;condition\&quot;:[{\&quot;field\&quot;:\&quot;bk_host_innerip\&quot;,\&quot;operator\&quot;:\&quot;$eq\&quot;,\&quot;value\&quot;:\&quot;127.0.0.1\&quot;}],\&quot;fields\&quot;:[\&quot;bk_host_innerip\&quot;,\&quot;bk_host_outerip\&quot;,\&quot;bk_agent_status\&quot;]}]}&quot;,
    &quot;name&quot;: &quot;api1&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_dynamic_group/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新动态分组 (V3.9.6)</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>是</td>
<td>主键 ID</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>否</td>
<td>动态分组的目标资源对象类型, 目前可以为 host,set.更新规则时需同时提供该字段和 info 两个字段</td>
</tr>
<tr>
<td>info</td>
<td>object</td>
<td>否</td>
<td>通用查询条件</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>否</td>
<td>动态分组名称</td>
</tr>
</tbody>
</table>
<h4 id="infocondition">info.condition</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>条件对象资源类型, host 类型的动态分组支持的 info.conditon:set,module,host；set 类型的动态分组支持的 info.condition:set</td>
</tr>
<tr>
<td>condition</td>
<td>array</td>
<td>是</td>
<td>查询条件</td>
</tr>
</tbody>
</table>
<h4 id="infoconditioncondition">info.condition.condition</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>field</td>
<td>string</td>
<td>是</td>
<td>对象的字段</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>操作符, op 值为 eq(相等)/ne(不等)/in(属于)/nin(不属于)</td>
</tr>
<tr>
<td>value</td>
<td>object</td>
<td>是</td>
<td>字段对应的值</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;id&quot;: &quot;XXXXXXXX&quot;,
    &quot;bk_obj_id&quot;: &quot;host&quot;,
    &quot;name&quot;: &quot;my-dynamic-group&quot;,
    &quot;info&quot;: {
        &quot;condition&quot;:[
            {
                &quot;bk_obj_id&quot;:&quot;set&quot;,
                &quot;condition&quot;:[
                    {
                        &quot;field&quot;:&quot;default&quot;,
                        &quot;operator&quot;:&quot;$ne&quot;,
                        &quot;value&quot;:1
                    }
                ]
            },
            {
                &quot;bk_obj_id&quot;:&quot;module&quot;,
                &quot;condition&quot;:[
                    {
                        &quot;field&quot;:&quot;default&quot;,
                        &quot;operator&quot;:&quot;$ne&quot;,
                        &quot;value&quot;:1
                    }
                ]
            },
            {
                &quot;bk_obj_id&quot;:&quot;host&quot;,
                &quot;condition&quot;:[
                    {
                        &quot;field&quot;:&quot;bk_host_innerip&quot;,
                        &quot;operator&quot;:&quot;$eq&quot;,
                        &quot;value&quot;:&quot;127.0.0.1&quot;
                    }
                ]
            }
        ]
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_event_subscribe/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>修改订阅</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>subscription_id</td>
<td>int</td>
<td>是</td>
<td>订阅 ID</td>
</tr>
<tr>
<td>subscription_name</td>
<td>string</td>
<td>是</td>
<td>订阅的名字</td>
</tr>
<tr>
<td>system_name</td>
<td>string</td>
<td>是</td>
<td>订阅事件的系统的名字</td>
</tr>
<tr>
<td>callback_url</td>
<td>string</td>
<td>是</td>
<td>回调函数</td>
</tr>
<tr>
<td>confirm_mode</td>
<td>string</td>
<td>是</td>
<td>事件发送成功校验模式,可选 1-httpstatus,2-regular</td>
</tr>
<tr>
<td>confirm_pattern</td>
<td>string</td>
<td>是</td>
<td>callback 的 httpstatus 或正则</td>
</tr>
<tr>
<td>subscription_form</td>
<td>string</td>
<td>是</td>
<td>订阅的事件,以逗号分隔</td>
</tr>
<tr>
<td>timeout</td>
<td>int</td>
<td>是</td>
<td>发送事件超时时间</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_supplier_account&quot;: &quot;0&quot;,
  &quot;subscription_name&quot;:&quot;mysubscribe&quot;,
  &quot;subscription_id&quot;: 2,
  &quot;system_name&quot;:&quot;SystemName&quot;,
  &quot;callback_url&quot;:&quot;http://127.0.0.1:8080/callback&quot;,
  &quot;confirm_mode&quot;:&quot;httpstatus&quot;,
  &quot;confirm_pattern&quot;:&quot;200&quot;,
  &quot;subscription_form&quot;:&quot;hostcreate&quot;,
  &quot;timeout&quot;:10
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: &quot;success&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_host/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新主机属性</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>string</td>
<td>是</td>
<td>主机 ID，多个以逗号分隔</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>否</td>
<td>主机数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_host_name</td>
<td>string</td>
<td>否</td>
<td>主机名</td>
</tr>
</tbody>
</table>
<p><strong>注意：输入的字段为主机定义的属性</strong></p>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_host_id&quot;: &quot;1,2,3&quot;,
    &quot;data&quot;: {
        &quot;bk_host_name&quot;: &quot;test&quot;
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: none
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_host_cloud_area_field/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据主机 id 列表和云区域 id,更新主机的云区域字段</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>否</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>是</td>
<td>云区域 ID</td>
</tr>
<tr>
<td>bk_host_ids</td>
<td>array</td>
<td>是</td>
<td>主机 IDs, 最多 2000 个</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_host_ids&quot;: [43, 44], 
    &quot;bk_cloud_id&quot;: 27,
    &quot;bk_biz_id&quot;: 1
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;permission&quot;: null,
  &quot;data&quot;: &quot;&quot;
}</code></pre>


<h3 id="-ip">返回结果实例 - 云区域 + 内网 IP 重复</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: false,
  &quot;code&quot;: 1199014,
  &quot;message&quot;: &quot;数据唯一性校验失败， bk_host_innerip 重复&quot;,
  &quot;permission&quot;: null,
  &quot;data&quot;: null
}</code></pre>


<h3 id="-">返回结果实例 - 一次操作主机数太多</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: false,
  &quot;code&quot;: 1199077,
  &quot;message&quot;: &quot;一次操作记录数超过最大限制：2000&quot;,
  &quot;permission&quot;: null,
  &quot;data&quot;: null
}</code></pre>


<p>```bash</p>
<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0表示success，&gt;0表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>无数据返回</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_inst/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新对象实例</p>
<ul>
<li>该接口只适用于自定义层级模型和通用模型实例上，不适用于业务、集群、模块、主机等模型实例</li>
</ul>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>模型 ID</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>是</td>
<td>实例 ID</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>否</td>
<td>实例名，也可以为其它自定义字段</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>否</td>
<td>业务 ID， 当删除的是自定义主线层级模型实例时则必传</td>
</tr>
</tbody>
</table>
<p>注意：当操作的是自定义主线层级模型实例时，而又有使用权限中心的，对于 cmdb 小于 3.9 的版本，还需要传包含实例所在业务 id 的 metadata 参数，否则会导致权限中心鉴权失败，格式为
"metadata": {
    "label": {
        "bk_biz_id": "64"
    }
}</p>
<h3 id="_7">请求参数示例(通用实例示例)</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;bk_obj_id&quot;: &quot;1&quot;,
    &quot;bk_inst_id&quot;: 0,
    &quot;bk_inst_name&quot;: &quot;test&quot;
 }</code></pre>


<h3 id="json">json</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: &quot;success&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_module/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 id</td>
</tr>
<tr>
<td>bk_set_id</td>
<td>int</td>
<td>是</td>
<td>集群 id</td>
</tr>
<tr>
<td>bk_module_id</td>
<td>int</td>
<td>是</td>
<td>模块 id</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>是</td>
<td>模块数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_module_name</td>
<td>string</td>
<td>否</td>
<td>模块名</td>
</tr>
</tbody>
</table>
<p><strong>注意：输入的字段为模块定义的属性</strong></p>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;bk_set_id&quot;: 1,
    &quot;bk_module_id&quot;: 1,
    &quot;data&quot;: {
        &quot;bk_module_name&quot;: &quot;test&quot;
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_object/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新模型定义</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>否</td>
<td>对象模型的 ID，作为更新操作的条件</td>
</tr>
<tr>
<td>modifier</td>
<td>string</td>
<td>否</td>
<td>本条数据的最后修改人员</td>
</tr>
<tr>
<td>bk_classification_id</td>
<td>string</td>
<td>是</td>
<td>对象模型的分类 ID，只能用英文字母序列命名</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>否</td>
<td>对象模型的名字</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>否</td>
<td>对象模型的 ICON 信息，用于前端显示，取值可参考<a href="/static/esb/api_docs/res/cc/modleIcon.json">(modleIcon.json)</a></td>
</tr>
<tr>
<td>position</td>
<td>json object string</td>
<td>否</td>
<td>用于前端展示的坐标</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;id&quot;: 1,
    &quot;modifier&quot;: &quot;admin&quot;,
    &quot;bk_classification_id&quot;: &quot;cc_test&quot;,
    &quot;bk_obj_name&quot;: &quot;cc2_test_inst&quot;,
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;bk_obj_icon&quot;: &quot;icon-cc-business&quot;,
    &quot;position&quot;:&quot;{\&quot;ff\&quot;:{\&quot;x\&quot;:-863,\&quot;y\&quot;:1}}&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: &quot;success&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_object_attribute/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新对象模型属性</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>是</td>
<td>目标数据的记录 ID</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>否</td>
<td>数据的描述信息</td>
</tr>
<tr>
<td>isonly</td>
<td>bool</td>
<td>否</td>
<td>表明唯一性</td>
</tr>
<tr>
<td>isreadonly</td>
<td>bool</td>
<td>否</td>
<td>表明是否只读</td>
</tr>
<tr>
<td>isrequired</td>
<td>bool</td>
<td>否</td>
<td>表明是否必填</td>
</tr>
<tr>
<td>bk_property_group</td>
<td>string</td>
<td>否</td>
<td>字段分栏的名字</td>
</tr>
<tr>
<td>option</td>
<td>string</td>
<td>否</td>
<td _min_:_1_max_:_2_="&quot;min&quot;:&quot;1&quot;,&quot;max&quot;:&quot;2&quot;">用户自定义内容，存储的内容及格式由调用方决定, 以数字内容为例（</td>
</tr>
<tr>
<td>bk_property_name</td>
<td>string</td>
<td>否</td>
<td>模型属性名，用于展示</td>
</tr>
<tr>
<td>bk_property_type</td>
<td>string</td>
<td>否</td>
<td>定义的属性字段用于存储数据的数据类型（singlechar,longchar,int,enum,date,time,objuser,singleasst,multiasst,timezone,bool)</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>否</td>
<td>单位</td>
</tr>
<tr>
<td>placeholder</td>
<td>string</td>
<td>否</td>
<td>占位符</td>
</tr>
<tr>
<td>bk_asst_obj_id</td>
<td>string</td>
<td>否</td>
<td>如果有关联其它的模型，那么就必需设置此字段，否则就不需要设置</td>
</tr>
</tbody>
</table>
<h4 id="bk_property_type">bk_property_type</h4>
<table>
<thead>
<tr>
<th>标识</th>
<th>名字</th>
</tr>
</thead>
<tbody>
<tr>
<td>singlechar</td>
<td>短字符</td>
</tr>
<tr>
<td>longchar</td>
<td>长字符</td>
</tr>
<tr>
<td>int</td>
<td>整形</td>
</tr>
<tr>
<td>enum</td>
<td>枚举类型</td>
</tr>
<tr>
<td>date</td>
<td>日期</td>
</tr>
<tr>
<td>time</td>
<td>时间</td>
</tr>
<tr>
<td>objuser</td>
<td>用户</td>
</tr>
<tr>
<td>singleasst</td>
<td>单关联</td>
</tr>
<tr>
<td>multiasst</td>
<td>多关联</td>
</tr>
<tr>
<td>timezone</td>
<td>时区</td>
</tr>
<tr>
<td>bool</td>
<td>布尔</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;id&quot;:1,
    &quot;description&quot;:&quot;test&quot;,
    &quot;placeholder&quot;:&quot;test&quot;,
    &quot;unit&quot;:&quot;1&quot;,
    &quot;isonly&quot;:false,
    &quot;isreadonly&quot;:false,
    &quot;isrequired&quot;:false,
    &quot;bk_property_group&quot;:&quot;default&quot;,
    &quot;option&quot;:&quot;{\&quot;min\&quot;:\&quot;1\&quot;,\&quot;max\&quot;:\&quot;4\&quot;}&quot;,
    &quot;bk_property_name&quot;:&quot;aaa&quot;,
    &quot;bk_property_type&quot;:&quot;int&quot;,
    &quot;bk_asst_obj_id&quot;:&quot;0&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: &quot;success&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_object_topo_graphics/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新拓扑图</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>scope_type</td>
<td>string</td>
<td>是</td>
<td>图形范围类型,可选 global,biz,cls(当前只有 global)</td>
</tr>
<tr>
<td>scope_id</td>
<td>string</td>
<td>是</td>
<td>图形范围类型下的 ID,如果为 global,则填 0</td>
</tr>
<tr>
<td>action</td>
<td>string</td>
<td>是</td>
<td>更新方法,可选 update,override</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>否</td>
<td>更新数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>node_type</td>
<td>string</td>
<td>是</td>
<td>节点类型,可选 obj,inst</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>对象模型的 ID</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>是</td>
<td>实例 ID</td>
</tr>
<tr>
<td>position</td>
<td>dict</td>
<td>否</td>
<td>节点在图中的位置</td>
</tr>
<tr>
<td>ext</td>
<td>dict</td>
<td>否</td>
<td>前端扩展字段</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>否</td>
<td>对象模型的图标</td>
</tr>
</tbody>
</table>
<p><strong>注意</strong>：</p>
<ul>
<li>
<p>scope_type,scope_id 唯一确定一张图</p>
</li>
<li>
<p>node_type,bk_obj_id,bk_inst_id 三者唯一确定每张图的一个节点，故必填</p>
</li>
</ul>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;scope_type&quot;: &quot;global&quot;,
    &quot;scope_id&quot;: 0,
    &quot;action&quot;: &quot;update&quot;,
    &quot;data&quot;: [
        {
            &quot;node_type&quot;: &quot;obj&quot;,
            &quot;bk_obj_id&quot;: &quot;switch&quot;,
            &quot;bk_inst_id&quot;: 0,
            &quot;position&quot;: {
                &quot;x&quot;: 100,
                &quot;y&quot;: 100
            },
            &quot;ext&quot;: {},
            &quot;bk_obj_icon&quot;: &quot;icon-cc-switch2&quot;
        }
    ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: &quot;success&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_process_instance/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>批量更新进程信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>processes</td>
<td>array</td>
<td>是</td>
<td>进程信息</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;processes&quot;: [
    {
      &quot;bk_process_id&quot;: 43,
      &quot;bk_supplier_account&quot;: &quot;0&quot;,
      &quot;description&quot;: &quot;&quot;,
      &quot;start_cmd&quot;: &quot;&quot;,
      &quot;restart_cmd&quot;: &quot;&quot;,
      &quot;pid_file&quot;: &quot;&quot;,
      &quot;auto_start&quot;: false,
      &quot;timeout&quot;: 30,
      &quot;auto_time_gap&quot;: 60,
      &quot;reload_cmd&quot;: &quot;&quot;,
      &quot;bk_func_name&quot;: &quot;java&quot;,
      &quot;work_path&quot;: &quot;/data/bkce&quot;,
      &quot;stop_cmd&quot;: &quot;&quot;,
      &quot;face_stop_cmd&quot;: &quot;&quot;,
      &quot;bk_process_name&quot;: &quot;job_java&quot;,
      &quot;user&quot;: &quot;&quot;,
      &quot;proc_num&quot;: 1,
      &quot;priority&quot;: 1,
      &quot;bk_biz_id&quot;: 2,
      &quot;bk_func_id&quot;: &quot;&quot;,
      &quot;bind_info&quot;: [
        {
            &quot;enable&quot;: false,  
            &quot;ip&quot;: &quot;127.0.0.1&quot;,  
            &quot;port&quot;: &quot;100&quot;,  
            &quot;protocol&quot;: &quot;1&quot;, 
            &quot;template_row_id&quot;: 1  
        }
      ],
    }
  ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: [43]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_proc_template/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新进程模板信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>process_template_id</td>
<td>int</td>
<td>否</td>
<td>进程模板 ID</td>
</tr>
<tr>
<td>process_property</td>
<td>object</td>
<td>是</td>
<td>需要更新的进程模板字段信息</td>
</tr>
</tbody>
</table>
<h4 id="process_property">process_property 可以出现的字段</h4>
<p>注解：</p>
<p>as_default_value: 进程的值是否以模板为准
value: 进程的值，不同的字段类型不一样</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>proc_num</td>
<td>object</td>
<td>否</td>
<td _as_default_value_:="&quot;as_default_value&quot;:" _value_:="&quot;value&quot;:" false="false" null_="null,"></td>
</tr>
<tr>
<td>stop_cmd</td>
<td>object</td>
<td>否</td>
<td _as_default_value_:="&quot;&quot;,&quot;as_default_value&quot;:" _value_:="&quot;value&quot;:" false="false"></td>
</tr>
<tr>
<td>restart_cmd</td>
<td>object</td>
<td>否</td>
<td _as_default_value_:="&quot;&quot;,&quot;as_default_value&quot;:" _value_:="&quot;value&quot;:" false="false"></td>
</tr>
<tr>
<td>face_stop_cmd</td>
<td>object</td>
<td>否</td>
<td _as_default_value_:="&quot;&quot;,&quot;as_default_value&quot;:" _value_:="&quot;value&quot;:" false="false"></td>
</tr>
<tr>
<td>bk_func_name</td>
<td>object</td>
<td>否</td>
<td _a7_as_default_value_:="&quot;a7&quot;,&quot;as_default_value&quot;:" _value_:="&quot;value&quot;:" true="true"></td>
</tr>
<tr>
<td>work_path</td>
<td>object</td>
<td>否</td>
<td _as_default_value_:="&quot;&quot;,&quot;as_default_value&quot;:" _value_:="&quot;value&quot;:" false="false"></td>
</tr>
<tr>
<td>priority</td>
<td>object</td>
<td>否</td>
<td _value_:="&quot;value&quot;:" false="false" null_as_default_value_:="null,&quot;as_default_value&quot;:"></td>
</tr>
<tr>
<td>reload_cmd</td>
<td>object</td>
<td>否</td>
<td _as_default_value_:="&quot;&quot;,&quot;as_default_value&quot;:" _value_:="&quot;value&quot;:" false="false"></td>
</tr>
<tr>
<td>bk_process_name</td>
<td>object</td>
<td>否</td>
<td _a7_as_default_value_:="&quot;a7&quot;,&quot;as_default_value&quot;:" _value_:="&quot;value&quot;:" true="true"></td>
</tr>
<tr>
<td>pid_file</td>
<td>object</td>
<td>否</td>
<td _as_default_value_:="&quot;&quot;,&quot;as_default_value&quot;:" _value_:="&quot;value&quot;:" false="false"></td>
</tr>
<tr>
<td>auto_start</td>
<td>object</td>
<td>否</td>
<td _value_:="&quot;value&quot;:" null="null" null_as_default_value_:="null,&quot;as_default_value&quot;:"></td>
</tr>
<tr>
<td>auto_time_gap</td>
<td>object</td>
<td>否</td>
<td _value_:="&quot;value&quot;:" false="false" null_as_default_value_:="null,&quot;as_default_value&quot;:"></td>
</tr>
<tr>
<td>start_cmd</td>
<td>object</td>
<td>否</td>
<td _as_default_value_:="&quot;&quot;,&quot;as_default_value&quot;:" _value_:="&quot;value&quot;:" false="false"></td>
</tr>
<tr>
<td>bk_func_id</td>
<td>object</td>
<td>否</td>
<td _as_default_value_:="&quot;&quot;,&quot;as_default_value&quot;:" _value_:="&quot;value&quot;:" false="false"></td>
</tr>
<tr>
<td>user</td>
<td>object</td>
<td>否</td>
<td _as_default_value_:="&quot;&quot;,&quot;as_default_value&quot;:" _value_:="&quot;value&quot;:" false="false"></td>
</tr>
<tr>
<td>timeout</td>
<td>object</td>
<td>否</td>
<td _value_:="&quot;value&quot;:" false="false" null_as_default_value_:="null,&quot;as_default_value&quot;:"></td>
</tr>
<tr>
<td>description</td>
<td>object</td>
<td>否</td>
<td _1_as_default_value_:="&quot;1&quot;,&quot;as_default_value&quot;:" _value_:="&quot;value&quot;:" true="true"></td>
</tr>
<tr>
<td>bk_start_param_regex</td>
<td>object</td>
<td>否</td>
<td _as_default_value_:="&quot;&quot;,&quot;as_default_value&quot;:" _value_:="&quot;value&quot;:" false="false"></td>
</tr>
<tr>
<td>bind_info</td>
<td>object</td>
<td>否</td>
<td _value_:_as_default_value_:="&quot;value&quot;:[],,&quot;as_default_value&quot;:" true="true"></td>
</tr>
</tbody>
</table>
<h4 id="process_propertybind_infovaluen">process_property.bind_info.value[n] 可以出现的字段</h4>
<p>注意：</p>
<p>修改 bind_info 的时候，必须先获取原有进程的 bind_info 的内容， 然后在进程已有的 bind_info 上修改，将修改后的内容传递给修改结构。</p>
<p>注解：</p>
<p>as_default_value: 进程的值是否以模板为准
value: 进程的值，不同的字段类型不一样</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>enable</td>
<td>object</td>
<td>否</td>
<td _value_:="&quot;value&quot;:" false_as_default_value_:="false,&quot;as_default_value&quot;:" true="true"></td>
</tr>
<tr>
<td>ip</td>
<td>object</td>
<td>否</td>
<td _1_as_default_value_:="&quot;1&quot;,&quot;as_default_value&quot;:" _value_:="&quot;value&quot;:" true="true"></td>
</tr>
<tr>
<td>port</td>
<td>object</td>
<td>否</td>
<td _100_as_default_value_:="&quot;100&quot;,&quot;as_default_value&quot;:" _value_:="&quot;value&quot;:" true="true"></td>
</tr>
<tr>
<td>protocol</td>
<td>object</td>
<td>否</td>
<td _1_as_default_value_:="&quot;1&quot;,&quot;as_default_value&quot;:" _value_:="&quot;value&quot;:" true="true"></td>
</tr>
<tr>
<td>row_id</td>
<td>int</td>
<td>否</td>
<td>唯一表示 id,新加的行可以设置为空，更新必须保持原值</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;process_template_id&quot;: 50,
  &quot;process_property&quot;: {
    &quot;user&quot;: {
      &quot;as_default_value&quot;: true,
      &quot;value&quot;: &quot;root100&quot;
    },
    &quot;proc_num&quot;: {
      &quot;as_default_value&quot;: true,
      &quot;value&quot;: 300
    }
  }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: {
    &quot;id&quot;: 50,
    &quot;bk_process_name&quot;: &quot;p1&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;service_template_id&quot;: 51,
    &quot;property&quot;: {
      &quot;proc_num&quot;: {
        &quot;value&quot;: 300,
        &quot;as_default_value&quot;: false
      },
      &quot;stop_cmd&quot;: {
        &quot;value&quot;: &quot;&quot;,
        &quot;as_default_value&quot;: false
      },
      &quot;restart_cmd&quot;: {
        &quot;value&quot;: &quot;&quot;,
        &quot;as_default_value&quot;: false
      },
      &quot;face_stop_cmd&quot;: {
        &quot;value&quot;: &quot;&quot;,
        &quot;as_default_value&quot;: false
      },
      &quot;bk_func_name&quot;: {
        &quot;value&quot;: &quot;p1&quot;,
        &quot;as_default_value&quot;: true
      },
      &quot;work_path&quot;: {
        &quot;value&quot;: &quot;&quot;,
        &quot;as_default_value&quot;: false
      },
      &quot;bind_ip&quot;: {
        &quot;value&quot;: &quot;1&quot;,
        &quot;as_default_value&quot;: false
      },
      &quot;priority&quot;: {
        &quot;value&quot;: null,
        &quot;as_default_value&quot;: false
      },
      &quot;reload_cmd&quot;: {
        &quot;value&quot;: &quot;&quot;,
        &quot;as_default_value&quot;: false
      },
      &quot;bk_process_name&quot;: {
        &quot;value&quot;: &quot;p1&quot;,
        &quot;as_default_value&quot;: true
      },
      &quot;port&quot;: {
        &quot;value&quot;: &quot;&quot;,
        &quot;as_default_value&quot;: false
      },
      &quot;pid_file&quot;: {
        &quot;value&quot;: &quot;&quot;,
        &quot;as_default_value&quot;: false
      },
      &quot;auto_start&quot;: {
        &quot;value&quot;: false,
        &quot;as_default_value&quot;: false
      },
      &quot;auto_time_gap&quot;: {
        &quot;value&quot;: null,
        &quot;as_default_value&quot;: false
      },
      &quot;start_cmd&quot;: {
        &quot;value&quot;: &quot;&quot;,
        &quot;as_default_value&quot;: false
      },
      &quot;bk_func_id&quot;: {
        &quot;value&quot;: null,
        &quot;as_default_value&quot;: false
      },
      &quot;user&quot;: {
        &quot;value&quot;: &quot;root100&quot;,
        &quot;as_default_value&quot;: false
      },
      &quot;timeout&quot;: {
        &quot;value&quot;: null,
        &quot;as_default_value&quot;: false
      },
      &quot;protocol&quot;: {
        &quot;value&quot;: &quot;1&quot;,
        &quot;as_default_value&quot;: false
      },
      &quot;description&quot;: {
        &quot;value&quot;: &quot;&quot;,
        &quot;as_default_value&quot;: false
      },
      &quot;bk_start_param_regex&quot;: {
        &quot;value&quot;: &quot;&quot;,
        &quot;as_default_value&quot;: false
      },
      &quot;bind_info&quot;: {
        &quot;value&quot;: [
            {
                &quot;enable&quot;: {
                    &quot;value&quot;: false,
                    &quot;as_default_value&quot;: true
                },
                &quot;ip&quot;: {
                    &quot;value&quot;: &quot;1&quot;,
                    &quot;as_default_value&quot;: true
                },
                &quot;port&quot;: {
                    &quot;value&quot;: &quot;100&quot;,
                    &quot;as_default_value&quot;: true
                },
                &quot;protocol&quot;: {
                    &quot;value&quot;: &quot;1&quot;,
                    &quot;as_default_value&quot;: true
                },
                &quot;row_id&quot;: 1
            }
        ],
        &quot;as_default_value&quot;: true
      }
    },
    &quot;creator&quot;: &quot;admin&quot;,
    &quot;modifier&quot;: &quot;admin&quot;,
    &quot;create_time&quot;: &quot;2019-06-19T15:24:04.763+08:00&quot;,
    &quot;last_time&quot;: &quot;2019-06-21T16:25:03.962512+08:00&quot;,
    &quot;bk_supplier_account&quot;: &quot;0&quot;
  }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>更新后的进程模板信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_service_category/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新服务模板信息（目前仅名称字段可更新）</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>否</td>
<td>服务模板 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>否</td>
<td>服务模板名称</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;id&quot;: 3,
  &quot;name&quot;: &quot;222&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: {
    &quot;bk_biz_id&quot;: 1,
    &quot;id&quot;: 3,
    &quot;name&quot;: &quot;222&quot;,
    &quot;root_id&quot;: 3,
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;is_built_in&quot;: false
  }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>更新后的服务分类信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_service_template/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新服务模板名称信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>int</td>
<td>是</td>
<td>服务模板名称</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>是</td>
<td>服务模板 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;bk_biz_id&quot;: 1,
  &quot;name&quot;: &quot;test1&quot;,
  &quot;id&quot;: 50,
  &quot;service_category_id&quot;: 3
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
  &quot;result&quot;: true,
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;success&quot;,
  &quot;data&quot;: {
    &quot;bk_biz_id&quot;: 1,
    &quot;id&quot;: 50,
    &quot;name&quot;: &quot;test1&quot;,
    &quot;service_category_id&quot;: 3,
    &quot;creator&quot;: &quot;admin&quot;,
    &quot;modifier&quot;: &quot;admin&quot;,
    &quot;create_time&quot;: &quot;2019-06-05T11:22:22.951+08:00&quot;,
    &quot;last_time&quot;: &quot;2019-06-05T11:22:22.951+08:00&quot;,
    &quot;bk_supplier_account&quot;: &quot;0&quot;
  }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>更新后的服务模板信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_set/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新集群</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 id</td>
</tr>
<tr>
<td>bk_set_id</td>
<td>int</td>
<td>是</td>
<td>集群 id</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>否</td>
<td>集群数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_parent_id</td>
<td>int</td>
<td>否</td>
<td>父节点的 ID</td>
</tr>
<tr>
<td>bk_set_name</td>
<td>string</td>
<td>否</td>
<td>集群名字</td>
</tr>
</tbody>
</table>
<p><strong>注意：用户自定义的字段也可以作为参数传入</strong></p>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;123456789&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;bk_set_id&quot;: 1,
    &quot;data&quot;: {
        &quot;bk_set_name&quot;: &quot;test&quot;
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {}
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_set_template/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据业务 id 和集群模板 id,编辑指定业务下的集群模板</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>set_template_id</td>
<td>int</td>
<td>是</td>
<td>集群模板 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>二选一</td>
<td>集群模板名称</td>
</tr>
<tr>
<td>service_template_ids</td>
<td>array</td>
<td>二选一</td>
<td>服务模板 ID 列表</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;name&quot;: &quot;test&quot;,
    &quot;bk_biz_id&quot;: 20,
    &quot;set_template_id&quot;: 6,
    &quot;service_template_ids&quot;: [59]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;permission&quot;: null,
    &quot;data&quot;: {
        &quot;id&quot;: 6,
        &quot;name&quot;: &quot;test&quot;,
        &quot;bk_biz_id&quot;: 20,
        &quot;version&quot;: 0,
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;modifier&quot;: &quot;admin&quot;,
        &quot;create_time&quot;: &quot;2019-11-27T17:24:10.671658+08:00&quot;,
        &quot;last_time&quot;: &quot;2019-11-27T17:24:10.671658+08:00&quot;,
        &quot;bk_supplier_account&quot;: &quot;0&quot;
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="response">response</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false 请求失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>错误编码。 0 表示 success，&gt;0 表示失败错误</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>集群模板 ID</td>
</tr>
<tr>
<td>name</td>
<td>array</td>
<td>集群模板名称</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>version</td>
<td>int</td>
<td>集群模板版本</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>modifier</td>
<td>string</td>
<td>最后修改人员</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间</td>
</tr>
<tr>
<td>last_time</td>
<td>string</td>
<td>更新时间</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>开发商账号</td>
</tr>
</tbody>
</table><h2 id="api">蓝鲸管控平台 API 简介</h2>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="./get_agent_info.md">get_agent_info</a></td>
<td>Agent 心跳信息查询</td>
</tr>
<tr>
<td><a href="./get_agent_status.md">get_agent_status</a></td>
<td>Agent 在线状态查询</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/gse/get_agent_info/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询 agent 心跳详细信息。数据非实时，延时 1 分钟内。</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>hosts</td>
<td>array</td>
<td>是</td>
<td>主机列表</td>
</tr>
</tbody>
</table>
<h4 id="hosts">hosts</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>是</td>
<td>云区域 ID</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>是</td>
<td>IP 地址</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;hosts&quot;: [
        {
            &quot;ip&quot;: &quot;10.0.0.1&quot;,
            &quot;bk_cloud_id&quot;: 0
        }
    ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;0:10.0.0.1&quot;: {
            &quot;ip&quot;: &quot;10.0.0.1&quot;,
            &quot;version&quot;: &quot;V0.01R060D38&quot;,
            &quot;bk_cloud_id&quot;: 0,
            &quot;parent_ip&quot;: &quot;10.0.0.2&quot;,
            &quot;parent_port&quot;: 50000
        }
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>格式为：bk_cloud_id:ip</td>
</tr>
<tr>
<td>value.ip</td>
<td>string</td>
<td>主机 IP 地址</td>
</tr>
<tr>
<td>value.bk_cloud_id</td>
<td>int</td>
<td>云区域 ID</td>
</tr>
<tr>
<td>value.version</td>
<td>string</td>
<td>agent 版本号</td>
</tr>
<tr>
<td>value.parent_ip</td>
<td>string</td>
<td>agent 的上级节点 ip</td>
</tr>
<tr>
<td>value.parent_port</td>
<td>int</td>
<td>agent 的上级节点端口</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/gse/get_agent_status/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询 agent 实时在线状态</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>hosts</td>
<td>array</td>
<td>是</td>
<td>主机列表</td>
</tr>
</tbody>
</table>
<h4 id="hosts">hosts</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>是</td>
<td>云区域 ID</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>是</td>
<td>IP 地址</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_supplier_account&quot;: &quot;0&quot;,
    &quot;hosts&quot;: [
        {
            &quot;ip&quot;: &quot;10.0.0.1&quot;,
            &quot;bk_cloud_id&quot;: 0
        }
    ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;0:10.0.0.1&quot;: {
            &quot;ip&quot;: &quot;10.0.0.1&quot;,
            &quot;bk_cloud_id&quot;: 0,
            &quot;bk_agent_alive&quot;: 1
        }
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>格式为：bk_cloud_id:ip</td>
</tr>
<tr>
<td>value.ip</td>
<td>string</td>
<td>主机 IP 地址</td>
</tr>
<tr>
<td>value.bk_cloud_id</td>
<td>int</td>
<td>云区域 ID</td>
</tr>
<tr>
<td>value.bk_agent_alive</td>
<td>int</td>
<td>agent 在线状态，0 为不在线，1 为在线</td>
</tr>
</tbody>
</table><h2 id="api">作业平台 API 简介</h2>
<p><strong>作业平台（Job）是一套基于蓝鲸智云管控平台 Agent 管道之上的基础操作平台，具备大并发处理能力；除了支持脚本执行、文件拉取/分发、定时任务等一系列可实现的基础运维场景以外，还运用流程化的理念很好的将零碎的单个任务组装成一个作业流程；而每个任务都可做为一个原子节点，提供给其它系统和平台调度，实现调度自动化。</strong></p>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="./execute_job.md">execute_job</a></td>
<td>启动作业</td>
</tr>
<tr>
<td><a href="./fast_execute_script.md">fast_execute_script</a></td>
<td>快速执行脚本</td>
</tr>
<tr>
<td><a href="./fast_execute_sql.md">fast_execute_sql</a></td>
<td>快速执行 SQL</td>
</tr>
<tr>
<td><a href="./fast_push_file.md">fast_push_file</a></td>
<td>快速分发文件</td>
</tr>
<tr>
<td><a href="./get_cron_list.md">get_cron_list</a></td>
<td>查询业务下定时作业信息</td>
</tr>
<tr>
<td><a href="./get_job_detail.md">get_job_detail</a></td>
<td>查询作业模板详情</td>
</tr>
<tr>
<td><a href="./get_job_instance_log.md">get_job_instance_log</a></td>
<td>根据作业实例 ID 查询作业执行日志</td>
</tr>
<tr>
<td><a href="./get_job_instance_status.md">get_job_instance_status</a></td>
<td>查询作业执行状态</td>
</tr>
<tr>
<td><a href="./get_job_list.md">get_job_list</a></td>
<td>查询作业模板</td>
</tr>
<tr>
<td><a href="./get_os_account.md">get_os_account</a></td>
<td>查询业务下的执行账号</td>
</tr>
<tr>
<td><a href="./get_own_db_account_list.md">get_own_db_account_list</a></td>
<td>查询用户有权限的 DB 帐号列表</td>
</tr>
<tr>
<td><a href="./get_public_script_list.md">get_public_script_list</a></td>
<td>查询公共脚本列表</td>
</tr>
<tr>
<td><a href="./get_script_detail.md">get_script_detail</a></td>
<td>查询脚本详情</td>
</tr>
<tr>
<td><a href="./get_script_list.md">get_script_list</a></td>
<td>查询脚本列表</td>
</tr>
<tr>
<td><a href="./get_step_instance_status.md">get_step_instance_status</a></td>
<td>查询作业步骤的执行状态</td>
</tr>
<tr>
<td><a href="./operate_job_instance.md">operate_job_instance</a></td>
<td>作业实例操作</td>
</tr>
<tr>
<td><a href="./operate_step_instance.md">operate_step_instance</a></td>
<td>步骤实例操作</td>
</tr>
<tr>
<td><a href="./push_config_file.md">push_config_file</a></td>
<td>分发配置文件</td>
</tr>
<tr>
<td><a href="./save_cron.md">save_cron</a></td>
<td>新建或保存定时作业</td>
</tr>
<tr>
<td><a href="./update_cron_status.md">update_cron_status</a></td>
<td>更新定时作业状态</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/execute_job/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据执行方案 ID 启动作业执行方案。</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_job_id</td>
<td>long</td>
<td>是</td>
<td>作业执行方案 ID</td>
</tr>
<tr>
<td>global_vars</td>
<td>array</td>
<td>否</td>
<td>全局变量信息，作业执行方案包含的全局变量和类型，可以通过接口“查询作业执行方案详情” (get_job_detail)获取。对于作业执行方案中的全局变量值，如果 global_vars 包含该变量信息，那么会使用 api 指定的值；否则使用全局变量默认值</td>
</tr>
<tr>
<td>bk_callback_url</td>
<td>string</td>
<td>否</td>
<td>回调 URL，当任务执行完成后，JOB 会调用该 URL 告知任务执行结果。回调协议参考 callback_protocol 组件文档</td>
</tr>
</tbody>
</table>
<h4 id="global_vars">global_vars</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>long</td>
<td>否</td>
<td>全局变量 id，唯一标识。如果 id 为空，那么使用 name 作为唯一标识</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>否</td>
<td>全局变量 name</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>否</td>
<td>全局变量值。如果使用主机变量，请使用 target_server</td>
</tr>
<tr>
<td>custom_query_id</td>
<td>array</td>
<td>否</td>
<td><em>deprecated</em>，请使用 target_server.dynamic_group_id_list 替代。配置平台上的自定义分组 ID</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td>否</td>
<td><em>deprecated</em>，请使用 target_server.iplist 替代。静态 IP 列表</td>
</tr>
<tr>
<td>target_server</td>
<td>dict</td>
<td>否</td>
<td>目标服务器</td>
</tr>
</tbody>
</table>
<h4 id="target_server">target_server</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip_list</td>
<td>array</td>
<td>否</td>
<td>静态 IP 列表</td>
</tr>
<tr>
<td>dynamic_group_id_list</td>
<td>array</td>
<td>否</td>
<td>动态分组 ID 列表</td>
</tr>
<tr>
<td>topo_node_list</td>
<td>array</td>
<td>否</td>
<td>动态 topo 节点列表</td>
</tr>
</tbody>
</table>
<h4 id="ip_list">ip_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>是</td>
<td>云区域 ID</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>是</td>
<td>IP 地址</td>
</tr>
</tbody>
</table>
<h4 id="topo_node_list">topo_node_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>long</td>
<td>是</td>
<td>动态 topo 节点 ID，对应 CMDB API 中的 bk_inst_id</td>
</tr>
<tr>
<td>node_type</td>
<td>string</td>
<td>是</td>
<td>动态 topo 节点类型，对应 CMDB API 中的 bk_obj_id,比如"module","set"</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;bk_job_id&quot;: 100,
    &quot;global_vars&quot;: [{
            &quot;id&quot;: 436,
            &quot;target_server&quot;: {
                &quot;dynamic_group_id_list&quot;: [&quot;blo8gojho0skft7pr5q0&quot;, &quot;blo8gojho0sabc7priuy&quot;],
                &quot;ip_list&quot;: [{
                        &quot;bk_cloud_id&quot;: 0,
                        &quot;ip&quot;: &quot;10.0.0.1&quot;
                    }, {
                        &quot;bk_cloud_id&quot;: 0,
                        &quot;ip&quot;: &quot;10.0.0.2&quot;
                    }
                ],
                &quot;topo_node_list&quot;: [{
                        &quot;id&quot;: 1000,
                        &quot;node_type&quot;: &quot;module&quot;
                    }
                ]
            }
        }, {
            &quot;id&quot;: 437,
            &quot;value&quot;: &quot;new String value&quot;
        }
    ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        &quot;job_instance_name&quot;: &quot;Test&quot;,
        &quot;job_instance_id&quot;: 10000
    }
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/fast_execute_script/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>快速执行脚本</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>script_id</td>
<td>long</td>
<td>否</td>
<td>脚本 ID</td>
</tr>
<tr>
<td>task_name</td>
<td>string</td>
<td>否</td>
<td>自定义作业名称</td>
</tr>
<tr>
<td>script_content</td>
<td>string</td>
<td>否</td>
<td>脚本内容 Base64，如果同时传了 script_id 和 script_content，则 script_id 优先</td>
</tr>
<tr>
<td>script_param</td>
<td>string</td>
<td>否</td>
<td>脚本参数 Base64。注意：如果有多个参数，比如&#34;param1 param2&#34;这种，需要对&#34;param1 param2&#34;整体进行 base64 编码，而不是对每个参数进行 base64 编码再拼接起来</td>
</tr>
<tr>
<td>script_timeout</td>
<td>long</td>
<td>否</td>
<td>脚本超时时间，秒。默认 1000，取值范围 60-86400</td>
</tr>
<tr>
<td>account</td>
<td>string</td>
<td>是</td>
<td>执行帐号名/别名</td>
</tr>
<tr>
<td>is_param_sensitive</td>
<td>int</td>
<td>否</td>
<td>敏感参数将会在执行详情页面上隐藏, 0:不是（默认），1:是</td>
</tr>
<tr>
<td>script_type</td>
<td>int</td>
<td>否</td>
<td>脚本类型：1(shell 脚本)、2(bat 脚本)、3(perl 脚本)、4(python 脚本)、5(Powershell 脚本)</td>
</tr>
<tr>
<td>custom_query_id</td>
<td>array</td>
<td>否</td>
<td><em>deprecated</em>，请使用 target_server.dynamic_group_id_list 替代。配置平台上的自定义分组 ID</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td>否</td>
<td><em>deprecated</em>，请使用 target_server.iplist 替代。静态 IP 列表</td>
</tr>
<tr>
<td>target_server</td>
<td>dict</td>
<td>否</td>
<td>目标服务器</td>
</tr>
<tr>
<td>bk_callback_url</td>
<td>string</td>
<td>否</td>
<td>回调 URL，当任务执行完成后，JOB 会调用该 URL 告知任务执行结果。回调协议参考 callback_protocol 组件文档</td>
</tr>
</tbody>
</table>
<h4 id="target_server">target_server</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip_list</td>
<td>array</td>
<td>否</td>
<td>静态 IP 列表</td>
</tr>
<tr>
<td>dynamic_group_id_list</td>
<td>array</td>
<td>否</td>
<td>动态分组 ID 列表</td>
</tr>
<tr>
<td>topo_node_list</td>
<td>array</td>
<td>否</td>
<td>动态 topo 节点列表</td>
</tr>
</tbody>
</table>
<h4 id="ip_list">ip_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_id</td>
<td>long</td>
<td>是</td>
<td>云区域 ID</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>是</td>
<td>IP 地址</td>
</tr>
</tbody>
</table>
<h4 id="topo_node_list">topo_node_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>long</td>
<td>是</td>
<td>动态 topo 节点 ID，对应 CMDB API 中的 bk_inst_id</td>
</tr>
<tr>
<td>node_type</td>
<td>string</td>
<td>是</td>
<td>动态 topo 节点类型，对应 CMDB API 中的 bk_obj_id,比如"module","set"</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;script_id&quot;: 1,
    &quot;script_content&quot;: &quot;ZWNobyAkMQ==&quot;,
    &quot;script_param&quot;: &quot;aGVsbG8=&quot;,
    &quot;script_timeout&quot;: 1000,
    &quot;account&quot;: &quot;root&quot;,
    &quot;is_param_sensitive&quot;: 0,
    &quot;script_type&quot;: 1,
    &quot;target_server&quot;: {
        &quot;dynamic_group_id_list&quot;: [&quot;blo8gojho0skft7pr5q0&quot;, &quot;blo8gojho0sabc7priuy&quot;],
        &quot;ip_list&quot;: [{
                &quot;bk_cloud_id&quot;: 0,
                &quot;ip&quot;: &quot;10.0.0.1&quot;
            }, {
                &quot;bk_cloud_id&quot;: 0,
                &quot;ip&quot;: &quot;10.0.0.2&quot;
            }
        ],
        &quot;topo_node_list&quot;: [{
                &quot;id&quot;: 1000,
                &quot;node_type&quot;: &quot;module&quot;
            }
        ]
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        &quot;job_instance_name&quot;: &quot;API Quick execution script1521100521303&quot;,
        &quot;job_instance_id&quot;: 10000
    }
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/fast_execute_sql/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>快速执行 SQL 脚本</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>script_id</td>
<td>long</td>
<td>否</td>
<td>SQL 脚本 ID</td>
</tr>
<tr>
<td>script_content</td>
<td>string</td>
<td>否</td>
<td>脚本内容 Base64，如果同时传了 script_id 和 script_content，则 script_id 优先</td>
</tr>
<tr>
<td>script_timeout</td>
<td>int</td>
<td>否</td>
<td>脚本超时时间，秒。默认 1000，取值范围 60-86400</td>
</tr>
<tr>
<td>db_account_id</td>
<td>long</td>
<td>是</td>
<td>SQL 执行的 db 帐号 ID，必填, 从帐号管理-DB 帐号处获得。</td>
</tr>
<tr>
<td>custom_query_id</td>
<td>array</td>
<td>否</td>
<td><em>deprecated</em>，请使用 target_server.dynamic_group_id_list 替代。配置平台上的自定义分组 ID</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td>否</td>
<td><em>deprecated</em>，请使用 target_server.iplist 替代。静态 IP 列表</td>
</tr>
<tr>
<td>target_server</td>
<td>dict</td>
<td>否</td>
<td>目标服务器</td>
</tr>
<tr>
<td>bk_callback_url</td>
<td>string</td>
<td>否</td>
<td>回调 URL，当任务执行完成后，JOB 会调用该 URL 告知任务执行结果。回调协议参考 callback_protocol 组件文档</td>
</tr>
</tbody>
</table>
<h4 id="target_server">target_server</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip_list</td>
<td>array</td>
<td>否</td>
<td>静态 IP 列表</td>
</tr>
<tr>
<td>dynamic_group_id_list</td>
<td>array</td>
<td>否</td>
<td>动态分组 ID 列表</td>
</tr>
<tr>
<td>topo_node_list</td>
<td>array</td>
<td>否</td>
<td>动态 topo 节点列表</td>
</tr>
</tbody>
</table>
<h4 id="ip_list">ip_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_id</td>
<td>long</td>
<td>是</td>
<td>云区域 ID</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>是</td>
<td>IP 地址</td>
</tr>
</tbody>
</table>
<h4 id="topo_node_list">topo_node_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>long</td>
<td>是</td>
<td>动态 topo 节点 ID，对应 CMDB API 中的 bk_inst_id</td>
</tr>
<tr>
<td>node_type</td>
<td>string</td>
<td>是</td>
<td>动态 topo 节点类型，对应 CMDB API 中的 bk_obj_id,比如"module","set"</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;script_id&quot;: 1,
    &quot;script_content&quot;: &quot;c2hvdyBkYXRhYmFzZXM7&quot;,
    &quot;script_timeout&quot;: 1000,
    &quot;db_account_id&quot;: 32,
    &quot;target_server&quot;: {
        &quot;dynamic_group_id_list&quot;: [&quot;blo8gojho0skft7pr5q0&quot;, &quot;blo8gojho0sabc7priuy&quot;],
        &quot;ip_list&quot;: [{
                &quot;bk_cloud_id&quot;: 0,
                &quot;ip&quot;: &quot;10.0.0.1&quot;
            }, {
                &quot;bk_cloud_id&quot;: 0,
                &quot;ip&quot;: &quot;10.0.0.2&quot;
            }
        ],
        &quot;topo_node_list&quot;: [{
                &quot;id&quot;: 1000,
                &quot;node_type&quot;: &quot;module&quot;
            }
        ]
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        &quot;job_instance_name&quot;: &quot;API Quick SQL Execution1524454292038&quot;,
        &quot;job_instance_id&quot;: 10000
    }
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/fast_push_file/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>快速分发文件</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>account</td>
<td>string</td>
<td>是</td>
<td>执行帐号名/别名</td>
</tr>
<tr>
<td>file_target_path</td>
<td>string</td>
<td>是</td>
<td>文件传输目标路径</td>
</tr>
<tr>
<td>file_source</td>
<td>array</td>
<td>是</td>
<td>源文件对象数组，见下面 file_source 定义</td>
</tr>
<tr>
<td>timeout</td>
<td>int</td>
<td>否</td>
<td>任务超时时间，秒，默认值为 7200。取值范围 60-86400。</td>
</tr>
<tr>
<td>download_speed_limit</td>
<td>int</td>
<td>否</td>
<td>下载限速，单位 MB。如果未传入该参数，表示不限速</td>
</tr>
<tr>
<td>upload_speed_limit</td>
<td>int</td>
<td>否</td>
<td>上传限速，单位 MB。如果未传入该参数，表示不限速</td>
</tr>
<tr>
<td>custom_query_id</td>
<td>array</td>
<td>否</td>
<td><em>deprecated</em>，请使用 target_server.dynamic_group_id_list 替代。配置平台上的自定义分组 ID</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td>否</td>
<td><em>deprecated</em>，请使用 target_server.iplist 替代。静态 IP 列表</td>
</tr>
<tr>
<td>target_server</td>
<td>dict</td>
<td>否</td>
<td>目标服务器</td>
</tr>
<tr>
<td>bk_callback_url</td>
<td>string</td>
<td>否</td>
<td>回调 URL，当任务执行完成后，JOB 会调用该 URL 告知任务执行结果。回调协议参考 callback_protocol 组件文档</td>
</tr>
</tbody>
</table>
<h4 id="file_source">file_source</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>files</td>
<td>array</td>
<td>是</td>
<td>源文件的绝对路径数组，支持多个文件</td>
</tr>
<tr>
<td>account</td>
<td>string</td>
<td>是</td>
<td>执行帐号名/别名</td>
</tr>
<tr>
<td>custom_query_id</td>
<td>array</td>
<td>否</td>
<td><em>deprecated</em>，请使用 target_server.dynamic_group_id_list 替代。配置平台上的自定义分组 ID</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td>否</td>
<td><em>deprecated</em>，请使用 target_server.iplist 替代。静态 IP 列表</td>
</tr>
<tr>
<td>target_server</td>
<td>dict</td>
<td>否</td>
<td>目标服务器</td>
</tr>
</tbody>
</table>
<h4 id="target_server">target_server</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip_list</td>
<td>array</td>
<td>否</td>
<td>静态 IP 列表</td>
</tr>
<tr>
<td>dynamic_group_id_list</td>
<td>array</td>
<td>否</td>
<td>动态分组 ID 列表</td>
</tr>
<tr>
<td>topo_node_list</td>
<td>array</td>
<td>否</td>
<td>动态 topo 节点列表</td>
</tr>
</tbody>
</table>
<h4 id="ip_list">ip_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_id</td>
<td>long</td>
<td>是</td>
<td>云区域 ID</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>是</td>
<td>IP 地址</td>
</tr>
</tbody>
</table>
<h4 id="topo_node_list">topo_node_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>long</td>
<td>是</td>
<td>动态 topo 节点 ID，对应 CMDB API 中的 bk_inst_id</td>
</tr>
<tr>
<td>node_type</td>
<td>string</td>
<td>是</td>
<td>动态 topo 节点类型，对应 CMDB API 中的 bk_obj_id,比如"module","set"</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;file_target_path&quot;: &quot;/tmp/&quot;,
    &quot;file_source&quot;: [{
            &quot;files&quot;: [
                &quot;/tmp/REGEX:[a-z]*.txt&quot;
            ],
            &quot;account&quot;: &quot;root&quot;,
            &quot;target_server&quot;: {
                &quot;dynamic_group_id_list&quot;: [&quot;blo8gojho0skft7pr5q0&quot;, &quot;blo8gojho0sabc7priuy&quot;],
                &quot;ip_list&quot;: [{
                        &quot;bk_cloud_id&quot;: 0,
                        &quot;ip&quot;: &quot;10.0.0.1&quot;
                    }, {
                        &quot;bk_cloud_id&quot;: 0,
                        &quot;ip&quot;: &quot;10.0.0.2&quot;
                    }
                ],
                &quot;topo_node_list&quot;: [{
                        &quot;id&quot;: 1000,
                        &quot;node_type&quot;: &quot;module&quot;
                    }
                ]
            }
        }
    ],
    &quot;target_server&quot;: {
        &quot;dynamic_group_id_list&quot;: [&quot;blo8gojho0skft7pr5q0&quot;, &quot;blo8gojho0sabc7priuy&quot;],
        &quot;ip_list&quot;: [{
                &quot;bk_cloud_id&quot;: 0,
                &quot;ip&quot;: &quot;10.0.0.1&quot;
            }, {
                &quot;bk_cloud_id&quot;: 0,
                &quot;ip&quot;: &quot;10.0.0.2&quot;
            }
        ],
        &quot;topo_node_list&quot;: [{
                &quot;id&quot;: 1000,
                &quot;node_type&quot;: &quot;module&quot;
            }
        ]
    },
    &quot;account&quot;: &quot;root&quot;,
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        &quot;job_instance_name&quot;: &quot;API Quick Distribution File1521101427176&quot;,
        &quot;job_instance_id&quot;: 10000
    }
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_cron_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询业务下定时作业信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>cron_name</td>
<td>string</td>
<td>否</td>
<td>定时作业名称</td>
</tr>
<tr>
<td>cron_id</td>
<td>long</td>
<td>否</td>
<td>定时任务 ID，如果存在则忽略其他筛选条件，只查询这个指定的作业信息</td>
</tr>
<tr>
<td>cron_status</td>
<td>int</td>
<td>否</td>
<td>定时作业状态：1.已启动、2.已暂停</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>否</td>
<td>定时作业创建人帐号</td>
</tr>
<tr>
<td>create_time_start</td>
<td>string</td>
<td>否</td>
<td>创建起始时间，YYYY-MM-DD 格式</td>
</tr>
<tr>
<td>create_time_end</td>
<td>string</td>
<td>否</td>
<td>创建结束时间，YYYY-MM-DD 格式</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>否</td>
<td>作业修改人帐号</td>
</tr>
<tr>
<td>last_modify_time_start</td>
<td>string</td>
<td>否</td>
<td>最后修改起始时间，YYYY-MM-DD 格式</td>
</tr>
<tr>
<td>last_modify_time_end</td>
<td>string</td>
<td>否</td>
<td>最后修改结束时间，YYYY-MM-DD 格式</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>默认 0 表示从第 1 条记录开始返回</td>
</tr>
<tr>
<td>length</td>
<td>int</td>
<td>否</td>
<td>返回记录数量，不传此参数默认返回全部</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;cron_name&quot;: &quot;test&quot;,
    &quot;cron_id&quot;: 1,
    &quot;cron_status&quot;: 1,
    &quot;creator&quot;: &quot;admin&quot;,
    &quot;create_time_start&quot;: &quot;2018-03-02&quot;,
    &quot;create_time_end&quot;: &quot;2018-03-23&quot;,
    &quot;last_modify_user&quot;: &quot;admin&quot;,
    &quot;last_modify_time_start&quot;: &quot;2018-03-02&quot;,
    &quot;last_modify_time_end&quot;: &quot;2018-03-23&quot;,
    &quot;start&quot;: 0,
    &quot;length&quot;: 100
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: [
         {
            &quot;bk_biz_id&quot;: 1,
            &quot;bk_job_id&quot;: 100,
            &quot;job_name&quot;: &quot;job name&quot;,
            &quot;cron_id&quot;: 50,
            &quot;cron_name&quot;: &quot;test&quot;,
            &quot;cron_status&quot;: 1,
            &quot;cron_expression&quot;: &quot;0/5 * * * ?&quot;,
            &quot;creator&quot;: &quot;admin&quot;,
            &quot;create_time&quot;: &quot;2018-03-14 15:46:01 +0800&quot;,
            &quot;last_modify_user&quot;: &quot;admin&quot;,
            &quot;last_modify_time&quot;: &quot;2018-03-14 15:48:57 +0800&quot;
        }
    ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_job_id</td>
<td>long</td>
<td>作业模板 ID</td>
</tr>
<tr>
<td>job_name</td>
<td>string</td>
<td>作业名称</td>
</tr>
<tr>
<td>cron_id</td>
<td>long</td>
<td>定时作业 ID</td>
</tr>
<tr>
<td>cron_name</td>
<td>string</td>
<td>定时作业名称</td>
</tr>
<tr>
<td>cron_status</td>
<td>string</td>
<td>定时作业状态：1.已启动、2.已暂停</td>
</tr>
<tr>
<td>cron_expression</td>
<td>string</td>
<td>定时任务 crontab 的定时规则，新建时必填，修改时选填，各字段含义为：分 时 日 月 周，如: 0/5 * * * ? 表示每 5 分钟执行一次</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>作业创建人帐号</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间，YYYY-MM-DD HH:mm:ss 格式</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>作业修改人帐号</td>
</tr>
<tr>
<td>last_modify_time</td>
<td>string</td>
<td>最后修改时间，YYYY-MM-DD HH:mm:ss 格式</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_job_detail/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>根据作业执行方案 ID 查询作业执行方案详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_job_id</td>
<td>long</td>
<td>是</td>
<td>作业执行方案 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;bk_job_id&quot;: 100
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;bk_biz_id&quot;: 1,
        &quot;bk_job_id&quot;: 100,
        &quot;name&quot;: &quot;test&quot;,
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;create_time&quot;: &quot;2018-03-15 12:46:24 +0800&quot;,
        &quot;last_modify_user&quot;: &quot;admin&quot;,
        &quot;last_modify_time&quot;: &quot;2018-03-16 09:58:47 +0800&quot;,
        &quot;global_vars&quot;: [{
                &quot;id&quot;: 11,
                &quot;category&quot;: 1,
                &quot;name&quot;: &quot;varName&quot;,
                &quot;value&quot;: &quot;value is Me&quot;,
                &quot;description&quot;: &quot;hello&quot;
            }, {
                &quot;id&quot;: 12,
                &quot;category&quot;: 3,
                &quot;name&quot;: &quot;servers&quot;,
                &quot;target_server&quot;: {
                    &quot;dynamic_group_id_list&quot;: [&quot;blo8gojho0skft7pr5q0&quot;, &quot;blo8gojho0sabc7priuy&quot;],
                    &quot;ip_list&quot;: [{
                            &quot;bk_cloud_id&quot;: 0,
                            &quot;ip&quot;: &quot;10.0.0.1&quot;
                        }, {
                            &quot;bk_cloud_id&quot;: 0,
                            &quot;ip&quot;: &quot;10.0.0.2&quot;
                        }
                    ],
                    &quot;topo_node_list&quot;: [{
                            &quot;id&quot;: 1000,
                            &quot;node_type&quot;: &quot;module&quot;
                        }
                    ]
                },
                &quot;step_ids&quot;: [
                    1059,
                    1060
                ],
                &quot;description&quot;: &quot;&quot;
            }
        ],
        &quot;steps&quot;: [{
                &quot;type&quot;: 1,
                &quot;name&quot;: &quot;xxx&quot;,
                &quot;step_id&quot;: 1059,
                &quot;script_type&quot;: 1,
                &quot;script_id&quot;: 1078,
                &quot;script_timeout&quot;: 1000,
                &quot;script_content&quot;: &quot;echo $1 $2 $3&quot;,
                &quot;script_param&quot;: &quot;a1 a2 a3&quot;,
                &quot;is_param_sensitive&quot;: 0,
                &quot;creator&quot;: &quot;admin&quot;,
                &quot;account&quot;: &quot;root&quot;,
                &quot;create_time&quot;: &quot;2018-03-15 12:46:24 +0800&quot;,
                &quot;last_modify_time&quot;: &quot;2018-03-16 09:58:47 +0800&quot;,
                &quot;last_modify_user&quot;: &quot;admin&quot;
            }, {
                &quot;type&quot;: 2,
                &quot;step_id&quot;: 1060,
                &quot;name&quot;: &quot;xxx&quot;,
                &quot;creator&quot;: &quot;admin&quot;,
                &quot;account&quot;: &quot;root&quot;,
                &quot;create_time&quot;: &quot;2018-03-15 12:46:24 +0800&quot;,
                &quot;last_modify_time&quot;: &quot;2018-03-16 14:19:02 +0800&quot;,
                &quot;last_modify_user&quot;: &quot;admin&quot;,
                &quot;file_target_path&quot;: &quot;/tmp/&quot;,
                &quot;file_source&quot;: [{
                        &quot;files&quot;: [
                            &quot;/tmp/REGEX:[a-z]*.txt&quot;,
                        ],
                        &quot;account&quot;: &quot;root&quot;,
                        &quot;target_server&quot;: {
                            &quot;dynamic_group_id_list&quot;: [&quot;blo8gojho0skft7pr5q0&quot;, &quot;blo8gojho0sabc7priuy&quot;],
                            &quot;ip_list&quot;: [{
                                    &quot;bk_cloud_id&quot;: 0,
                                    &quot;ip&quot;: &quot;10.0.0.3&quot;
                                }, {
                                    &quot;bk_cloud_id&quot;: 0,
                                    &quot;ip&quot;: &quot;10.0.0.4&quot;
                                }
                            ],
                            &quot;topo_node_list&quot;: [{
                                    &quot;id&quot;: 1000,
                                    &quot;node_type&quot;: &quot;module&quot;
                                }
                            ]
                        }
                    }
                ]
            }
        ]
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_job_id</td>
<td>long</td>
<td>作业模板 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>作业名称</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>作业创建人帐号</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间，YYYY-MM-DD HH:mm:ss 格式</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>作业修改人帐号</td>
</tr>
<tr>
<td>last_modify_time</td>
<td>string</td>
<td>最后修改时间，YYYY-MM-DD HH:mm:ss 格式</td>
</tr>
<tr>
<td>steps</td>
<td>array</td>
<td>步骤对象</td>
</tr>
<tr>
<td>global_vars</td>
<td>dict</td>
<td>全局变量信息</td>
</tr>
</tbody>
</table>
<h4 id="steps">steps</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>step_id</td>
<td>long</td>
<td>作业步骤 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>作业步骤名称</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>步骤类型：1.脚本步骤; 2.文件步骤; 3.人工确认步骤</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>作业步骤创建人帐号</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间，YYYY-MM-DD HH:mm:ss 格式</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>作业步骤修改人帐号</td>
</tr>
<tr>
<td>last_modify_time</td>
<td>string</td>
<td>最后修改时间，YYYY-MM-DD HH:mm:ss</td>
</tr>
<tr>
<td>script_id</td>
<td>long</td>
<td>脚本 ID。当 type=1 时才有这个字段。</td>
</tr>
<tr>
<td>script_param</td>
<td>string</td>
<td>脚本参数</td>
</tr>
<tr>
<td>script_content</td>
<td>string</td>
<td>脚本内容。当 type=1 时才有这个字段。</td>
</tr>
<tr>
<td>script_timeout</td>
<td>int</td>
<td>脚本超时时间，秒。默认 3600，取值范围 60-86400</td>
</tr>
<tr>
<td>account</td>
<td>string</td>
<td>执行帐号名/别名</td>
</tr>
<tr>
<td>is_param_sensitive</td>
<td>int</td>
<td>是否敏感参数, 0.不是（默认），1.是。当 type=1 时才有这个字段。</td>
</tr>
<tr>
<td>db_account_id</td>
<td>long</td>
<td>SQL 执行的 db 帐号 ID</td>
</tr>
<tr>
<td>script_type</td>
<td>int</td>
<td>脚本类型：1(shell 脚本)、2(bat 脚本)、3(perl 脚本)、4(python 脚本)、5(Powershell 脚本)、6(SQL).当 type=1 时有这个字段</td>
</tr>
<tr>
<td>file_target_path</td>
<td>string</td>
<td>文件传输目标路径，当 type=2 时并且有值时才有这个字段</td>
</tr>
<tr>
<td>file_source</td>
<td>array</td>
<td>源文件对象数组，当 type=2 时并且有值时才有这个字段，见下面 file_source 定义</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td><em>deprecated</em>，请使用 target_server.ip_list 参数替换。IP 对象数组，见下面 ip_list 结构定义</td>
</tr>
<tr>
<td>custom_query_id</td>
<td>array</td>
<td><em>deprecated</em>，请使用 target_server.dynamic_group_id_list 参数替换。配置平台上的动态分组 id 列表，有值时才有这个字段</td>
</tr>
<tr>
<td>target_server</td>
<td>dict</td>
<td>目标服务器</td>
</tr>
</tbody>
</table>
<h4 id="global_vars">global_vars</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>long</td>
<td>全局变量 ID，唯一标识</td>
</tr>
<tr>
<td>category</td>
<td>int</td>
<td>全局变量类型：1:字符，2:命名空间，3:主机列表，4:密码</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>全局变量的名称</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>字符、命名空间、密码类型的全局变量值</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>变量描述</td>
</tr>
<tr>
<td>custom_query_id</td>
<td>array</td>
<td><em>deprecated</em>，请使用 target_server.ip_list.参数替换。配置平台上的自定义分组 ID 列表，当 type=2 时并且有值时才有这个字段</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td><em>deprecated</em>，请使用 target_server.dynamic_group_id_list 参数替换。IP 对象数组，当 type=2 时并且有值时才有这个字段，见下面 ip_list 结构定义</td>
</tr>
<tr>
<td>target_server</td>
<td>dict</td>
<td>目标服务器</td>
</tr>
<tr>
<td>step_ids</td>
<td>array</td>
<td>引用了这个 IP 全局变量的步骤 ID 列表</td>
</tr>
</tbody>
</table>
<h4 id="file_source">file_source</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>files</td>
<td>array</td>
<td>源文件的绝对路径数组，支持多个文件</td>
</tr>
<tr>
<td>account</td>
<td>string</td>
<td>执行帐号名/别名</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td><em>deprecated</em>，请使用 target_server.ip_list 参数替换。IP 对象数组，当有值时才有这个字段，见下面 ip_list 结构定义</td>
</tr>
<tr>
<td>custom_query_id</td>
<td>array</td>
<td><em>deprecated</em>，请使用 target_server.dynamic_group_id_list 参数替换。配置平台上的动态分组 ID 列表，当有值时才有这个字段</td>
</tr>
<tr>
<td>target_server</td>
<td>dict</td>
<td>目标服务器</td>
</tr>
</tbody>
</table>
<h4 id="target_server">target_server</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip_list</td>
<td>array</td>
<td>否</td>
<td>静态 IP 列表</td>
</tr>
<tr>
<td>dynamic_group_id_list</td>
<td>array</td>
<td>否</td>
<td>动态分组 ID 列表</td>
</tr>
<tr>
<td>topo_node_list</td>
<td>array</td>
<td>否</td>
<td>动态 topo 节点列表</td>
</tr>
</tbody>
</table>
<h4 id="ip_list">ip_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_id</td>
<td>long</td>
<td>是</td>
<td>云区域 ID</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>是</td>
<td>IP 地址</td>
</tr>
</tbody>
</table>
<h4 id="topo_node_list">topo_node_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>long</td>
<td>是</td>
<td>动态 topo 节点 ID，对应 CMDB API 中的 bk_inst_id</td>
</tr>
<tr>
<td>node_type</td>
<td>string</td>
<td>是</td>
<td>动态 topo 节点类型，对应 CMDB API 中的 bk_obj_id,比如"module","set"</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_job_instance_log/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>根据作业实例 ID 查询作业执行日志</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>job_instance_id</td>
<td>long</td>
<td>是</td>
<td>作业实例 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;job_instance_id&quot;: 100
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: [
        {
            &quot;is_finished&quot;: true,
            &quot;step_instance_id&quot;: 90000,
            &quot;name&quot;: &quot;test&quot;,
            &quot;status&quot;: 3,
            &quot;step_results&quot;: [
                {
                    &quot;ip_status&quot;: 9,
                    &quot;tag&quot;: &quot;xxx&quot;,
                    &quot;ip_logs&quot;: [
                        {
                            &quot;retry_count&quot;: 0,
                            &quot;total_time&quot;: 60.599,
                            &quot;start_time&quot;: &quot;2018-03-15 14:39:30 +0800&quot;,
                            &quot;end_time&quot;: &quot;2018-03-15 14:40:31 +0800&quot;,
                            &quot;ip&quot;: &quot;10.0.0.1&quot;,
                            &quot;bk_cloud_id&quot;: 0,
                            &quot;error_code&quot;: 0,
                            &quot;exit_code&quot;: 0,
                            &quot;log_content&quot;: &quot;[2018-03-15 14:39:30][PID:56875] job_start\n&quot;
                        }
                    ]
                }
            ]
        }
    ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>is_finished</td>
<td>bool</td>
<td>作业是否结束</td>
</tr>
<tr>
<td>step_instance_id</td>
<td>long</td>
<td>作业步骤实例 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>作业实例名称</td>
</tr>
<tr>
<td>status</td>
<td>int</td>
<td>作业状态码: 1.未执行; 2.正在执行; 3.执行成功; 4.执行失败; 5.跳过; 6.忽略错误; 7.等待用户; 8.手动结束; 9.状态异常; 10.步骤强制终止中; 11.步骤强制终止成功</td>
</tr>
<tr>
<td>step_results</td>
<td>array</td>
<td>当前步骤下所有 ip 的日志，按 tag 分类或 ip 的执行状态(ip_status)归类存放</td>
</tr>
</tbody>
</table>
<h4 id="step_result">step_result</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip_status</td>
<td>int</td>
<td>主机任务状态码，1.Agent 异常; 3.上次已成功; 5.等待执行; 7.正在执行; 9.执行成功; 11.任务失败; 12.任务下发失败; 13.任务超时; 15.任务日志错误; 101.脚本执行失败; 102.脚本执行超时; 103.脚本执行被终止; 104.脚本返回码非零; 202.文件传输失败; 203.源文件不存在; 310.Agent 异常; 311.用户名不存在; 320.文件获取失败; 321.文件超出限制; 329.文件传输错误; 399.任务执行出错</td>
</tr>
<tr>
<td>tag</td>
<td>string</td>
<td>脚本用 job_success/job_fail 函数返回的标签内容</td>
</tr>
<tr>
<td>ip_logs</td>
<td>array</td>
<td>ip 日志内容</td>
</tr>
</tbody>
</table>
<h4 id="ip_logs">ip_logs</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start_time</td>
<td>string</td>
<td>开始执行时间，YYYY-MM-DD HH:mm:ss</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>执行结束时间，YYYY-MM-DD HH:mm:ss 格式</td>
</tr>
<tr>
<td>total_time</td>
<td>float</td>
<td>总耗时，秒</td>
</tr>
<tr>
<td>retry_count</td>
<td>int</td>
<td>步骤重试次数</td>
</tr>
<tr>
<td>error_code</td>
<td>int</td>
<td>作业执行中出错码</td>
</tr>
<tr>
<td>exit_code</td>
<td>int</td>
<td>shell 脚本退出码; 0 正常; 非 0 异常</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>long</td>
<td>云区域 ID</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>IP 地址</td>
</tr>
<tr>
<td>log_content</td>
<td>string</td>
<td>作业脚本输出的日志内容</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_job_instance_status/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>根据作业实例 ID 查询作业执行状态</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>job_instance_id</td>
<td>long</td>
<td>是</td>
<td>作业实例 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;job_instance_id&quot;: 100
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;is_finished&quot;: true,
        &quot;job_instance&quot;: {
            &quot;job_instance_id&quot;: 100,
            &quot;bk_biz_id&quot;: 1,
            &quot;name&quot;: &quot;API Quick execution script1521089795887&quot;,
            &quot;start_way&quot;: 2,
            &quot;operator&quot;: &quot;admin&quot;,
            &quot;bk_job_id&quot;: -1,
            &quot;create_time&quot;: &quot;2018-03-15 12:56:35 +0800&quot;,
            &quot;status&quot;: 4,
            &quot;start_time&quot;: &quot;2018-03-15 12:56:35 +0800&quot;,
            &quot;end_time&quot;: &quot;2018-03-15 12:56:39 +0800&quot;,
            &quot;total_time&quot;: 3.169,
            &quot;current_step_instance_id&quot;: 75
        },
        &quot;blocks&quot;: [
            {
                &quot;type&quot;: 1,
                &quot;step_instances&quot;: [
                    {
                        &quot;status&quot;: 4,
                        &quot;total_time&quot;: 3.169,
                        &quot;name&quot;: &quot;API Quick execution scriptxxx&quot;,
                        &quot;step_instance_id&quot;: 75,
                        &quot;operator&quot;: &quot;admin&quot;,
                        &quot;retry_count&quot;: 0,
                        &quot;create_time&quot;: &quot;2018-03-15 12:56:35 +0800&quot;,
                        &quot;end_time&quot;: &quot;2018-03-15 12:56:39 +0800&quot;,
                        &quot;step_id&quot;: -1,
                        &quot;type&quot;: 1,
                        &quot;start_time&quot;: &quot;2018-03-15 12:56:35 +0800&quot;,
                        &quot;step_ip_status&quot;: [
                            {
                                &quot;ip&quot;: &quot;10.0.0.1&quot;,
                                &quot;bk_cloud_id&quot;: 0,
                                &quot;status&quot;: 9
                            }
                        ]
                    }
                ]
            }
        ]
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>is_finished</td>
<td>bool</td>
<td>作业是否结束</td>
</tr>
<tr>
<td>job_instance</td>
<td>dict</td>
<td>作业实例基本信息</td>
</tr>
<tr>
<td>blocks</td>
<td>array</td>
<td>作业步骤分组。兼容字段，当前版本暂无步骤分组设计</td>
</tr>
</tbody>
</table>
<h4 id="job_instance">job_instance</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>作业实例名称</td>
</tr>
<tr>
<td>status</td>
<td>int</td>
<td>作业状态码: 1.未执行; 2.正在执行; 3.执行成功; 4.执行失败; 5.跳过; 6.忽略错误; 7.等待用户; 8.手动结束; 9.状态异常; 10.步骤强制终止中; 11.步骤强制终止成功</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>作业执行人帐号</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间，YYYY-MM-DD HH:mm:ss 格式</td>
</tr>
<tr>
<td>start_time</td>
<td>string</td>
<td>开始执行时间，YYYY-MM-DD HH:mm:ss 格式</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>执行结束时间，YYYY-MM-DD HH:mm:ss 格式</td>
</tr>
<tr>
<td>total_time</td>
<td>float</td>
<td>总耗时，秒</td>
</tr>
<tr>
<td>start_way</td>
<td>int</td>
<td>作业启动方式: 1.页面启动; 2.API 调用; 3.定时任务</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_job_id</td>
<td>long</td>
<td>作业模板 ID，如果不是从作业模板启动的则为-1</td>
</tr>
<tr>
<td>job_instance_id</td>
<td>long</td>
<td>作业实例 ID</td>
</tr>
<tr>
<td>current_step_instance_id</td>
<td>long</td>
<td>当前执行的步骤实例 ID</td>
</tr>
</tbody>
</table>
<h4 id="step_instances">step_instances</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>step_id</td>
<td>long</td>
<td>作业模板步骤 ID，如果不是从作业模板启动的则为-1</td>
</tr>
<tr>
<td>step_instance_id</td>
<td>long</td>
<td>作业步骤实例 ID</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>步骤类型：1.脚本步骤; 2.文件步骤; 4.SQL 步骤</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>作业实例名称</td>
</tr>
<tr>
<td>status</td>
<td>int</td>
<td>作业步骤状态码: 1.未执行; 2.正在执行; 3.执行成功; 4.执行失败; 5.跳过; 6.忽略错误; 7.等待用户; 8.手动结束; 9.状态异常; 10.步骤强制终止中; 11.步骤强制终止成功; 12.步骤强制终止失败</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>作业执行人帐号</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间，YYYY-MM-DD HH:mm:ss 格式</td>
</tr>
<tr>
<td>start_time</td>
<td>string</td>
<td>开始执行时间，YYYY-MM-DD HH:mm:ss 格式</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>执行结束时间，YYYY-MM-DD HH:mm:ss 格式</td>
</tr>
<tr>
<td>total_time</td>
<td>float</td>
<td>总耗时，秒</td>
</tr>
<tr>
<td>retry_count</td>
<td>int</td>
<td>步骤重试次数</td>
</tr>
<tr>
<td>step_ip_status</td>
<td>array</td>
<td>每个服务器的作业执行状态</td>
</tr>
</tbody>
</table>
<h4 id="step_ip_status-description">step_ip_status Description</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip</td>
<td>string</td>
<td>IP</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>long</td>
<td>云区域 ID</td>
</tr>
<tr>
<td>status</td>
<td>int</td>
<td>作业执行状态:1.Agent 异常; 5.等待执行; 7.正在执行; 9.执行成功; 11.执行失败; 12.任务下发失败; 403.任务强制终止成功; 404.任务强制终止失败</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_job_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询作业执行方案列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>否</td>
<td>作业执行方案创建人帐号</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>否</td>
<td>作业执行方案名称，模糊匹配</td>
</tr>
<tr>
<td>create_time_start</td>
<td>string</td>
<td>否</td>
<td>创建起始时间，YYYY-MM-DD 格式</td>
</tr>
<tr>
<td>create_time_end</td>
<td>string</td>
<td>否</td>
<td>创建结束时间，YYYY-MM-DD 格式</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>否</td>
<td>作业执行方案修改人帐号</td>
</tr>
<tr>
<td>last_modify_time_start</td>
<td>string</td>
<td>否</td>
<td>最后修改起始时间，YYYY-MM-DD 格式</td>
</tr>
<tr>
<td>last_modify_time_end</td>
<td>string</td>
<td>否</td>
<td>最后修改结束时间，YYYY-MM-DD 格式</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>默认 0 表示从第 1 条记录开始返回</td>
</tr>
<tr>
<td>length</td>
<td>int</td>
<td>否</td>
<td>返回记录数量，不传此参数默认返回全部</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;creator&quot;: &quot;admin&quot;,
    &quot;name&quot;: &quot;test&quot;,
    &quot;create_time_start&quot;: &quot;2016-02-22&quot;,
    &quot;create_time_end&quot;: &quot;2016-02-22&quot;,
    &quot;last_modify_user&quot;: &quot;admin&quot;,
    &quot;last_modify_time_start&quot;: &quot;2016-02-22&quot;,
    &quot;last_modify_time_end&quot;: &quot;2016-02-22&quot;,
    &quot;start&quot;: 0,
    &quot;length&quot;: 100
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: [
        {
            &quot;bk_biz_id&quot;: 1,
            &quot;bk_job_id&quot;: 100,
            &quot;name&quot;: &quot;test&quot;,
            &quot;creator&quot;: &quot;admin&quot;,
            &quot;last_modify_user&quot;: &quot;admin&quot;,
            &quot;create_time&quot;: &quot;2018-01-23 15:05:41 +0800&quot;,
            &quot;last_modify_time&quot;: &quot;2018-01-23 16:04:51 +0800&quot;
        }
    ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_job_id</td>
<td>long</td>
<td>作业执行方案 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>作业执行方案名称</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建人帐号</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间，YYYY-MM-DD HH:mm:ss 格式</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>修改人帐号</td>
</tr>
<tr>
<td>last_modify_time</td>
<td>string</td>
<td>最后修改时间，YYYY-MM-DD HH:mm:ss 格式</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_os_account/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询业务下的执行账号</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>是</td>
<td>业务 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: [
        {
            &quot;id&quot;: 2,
            &quot;account&quot;: &quot;Administrator&quot;,
            &quot;creator&quot;: &quot;system&quot;,
            &quot;os&quot;: &quot;Windows&quot;,
            &quot;alias&quot;: &quot;Administrator&quot;,
            &quot;bk_biz_id&quot;: 2,
            &quot;create_time&quot;: &quot;2018-03-22 15:36:31&quot;
        },
        {
            &quot;id&quot;: 19,
            &quot;account&quot;: &quot;SDFDSFDFDS&quot;,
            &quot;creator&quot;: &quot;admin&quot;,
            &quot;os&quot;: null,
            &quot;alias&quot;: &quot;SDFDSFDFDS&quot;,
            &quot;bk_biz_id&quot;: 2,
            &quot;create_time&quot;: &quot;2018-08-10 11:49:20&quot;
        }
    ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>long</td>
<td>账号 ID</td>
</tr>
<tr>
<td>account</td>
<td>string</td>
<td>账号名称</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>账号创建人</td>
</tr>
<tr>
<td>os</td>
<td>string</td>
<td>账号对应的 OS</td>
</tr>
<tr>
<td>alias</td>
<td>string</td>
<td>账号别名</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>业务 ID</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>账号创建时间</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_own_db_account_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询用户有权限的 DB 帐号列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>默认 0 表示从第 1 条记录开始返回</td>
</tr>
<tr>
<td>length</td>
<td>int</td>
<td>否</td>
<td>返回记录数量，不传此参数默认返回全部</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;start&quot;: 0,
    &quot;length&quot;: 100
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: [
        {
            &quot;db_account_id&quot;: 1000,
            &quot;db_alias&quot;: &quot;mysql&quot;
        }
    ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>db_account_id</td>
<td>long</td>
<td>db 帐号 ID,主键，执行脚本或作业的接口请求传递参数时用此参数</td>
</tr>
<tr>
<td>db_alias</td>
<td>string</td>
<td>帐号别名</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_public_script_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询公共脚本列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>return_script_content</td>
<td>bool</td>
<td>否</td>
<td>是否需要返回脚本内容。true:返回脚本内容；false：不返回脚本内容。默认为 false。</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>默认 0 表示从第 1 条记录开始返回</td>
</tr>
<tr>
<td>length</td>
<td>int</td>
<td>否</td>
<td>分页查询-每页纪录数，默认为 20。如果传入 0 或者不传，表示不分页</td>
</tr>
<tr>
<td>script_type</td>
<td>int</td>
<td>否</td>
<td>脚本类型。0：所有脚本类型，1：shell，2：bat，3：perl，4：python，5：powershell，6：sql。默认值为 0</td>
</tr>
<tr>
<td>script_name</td>
<td>string</td>
<td>否</td>
<td>脚本名称，支持模糊查询</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;start&quot;: 0,
    &quot;length&quot;: 10,
    &quot;return_script_content&quot;: false
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        &quot;data&quot;: [
            {
                &quot;id&quot;: 6862,
                &quot;name&quot;: &quot;a.sh&quot;,
                &quot;version&quot;: &quot;admin.20180627172306&quot;,
                &quot;tag&quot;: &quot;v1.0&quot;,
                &quot;type&quot;: 1,
                &quot;creator&quot;: &quot;admin&quot;,
                &quot;public&quot;: true,
                &quot;bk_biz_id&quot;: 2,
                &quot;create_time&quot;: &quot;2018-06-27 17:23:06&quot;,
                &quot;last_modify_user&quot;: &quot;admin&quot;,
                &quot;last_modify_time&quot;: &quot;2018-06-27 17:23:06&quot;
            },
            {
                &quot;id&quot;: 36,
                &quot;name&quot;: &quot;build_version&quot;,
                &quot;version&quot;: &quot;admin.20180723154537&quot;,
                &quot;tag&quot;: &quot;v1.0&quot;,
                &quot;type&quot;: 1,
                &quot;creator&quot;: &quot;admin&quot;,
                &quot;public&quot;: true,
                &quot;bk_biz_id&quot;: 2,
                &quot;create_time&quot;: &quot;2018-07-23 15:45:37&quot;,
                &quot;last_modify_user&quot;: &quot;admin&quot;,
                &quot;last_modify_time&quot;: &quot;2018-07-23 17:24:17&quot;
            }
        ],
        &quot;start&quot;: 0,
        &quot;page_size&quot;: 10,
        &quot;total_record_size&quot;: 2
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>long</td>
<td>脚本 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>脚本名称</td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>脚本版本号</td>
</tr>
<tr>
<td>tag</td>
<td>string</td>
<td>脚本版本描述</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>脚本类型</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>脚本创建人</td>
</tr>
<tr>
<td>public</td>
<td>bool</td>
<td>是否公共脚本</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>业务 ID</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>脚本创建时间</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>脚本最近一次修改人</td>
</tr>
<tr>
<td>last_modify_time</td>
<td>string</td>
<td>脚本最近一次修改时间</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>脚本内容</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_script_detail/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询脚本详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>否</td>
<td>业务 ID，如果查询公共脚本可不传</td>
</tr>
<tr>
<td>id</td>
<td>long</td>
<td>是</td>
<td>脚本 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;id&quot;: 18
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        &quot;id&quot;: 18,
        &quot;name&quot;: &quot;test&quot;,
        &quot;version&quot;: &quot;admin.20180723160606&quot;,
        &quot;tag&quot;: &quot;v1.0&quot;,
        &quot;type&quot;: 1,
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;content&quot;: &quot;xxx&quot;,
        &quot;public&quot;: false,
        &quot;bk_biz_id&quot;: 1,
        &quot;create_time&quot;: &quot;2018-07-23 16:06:06&quot;,
        &quot;last_modify_user&quot;: &quot;admin&quot;,
        &quot;last_modify_time&quot;: &quot;2018-07-23 16:06:08&quot;
    },
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>long</td>
<td>脚本 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>脚本名称</td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>脚本版本号</td>
</tr>
<tr>
<td>tag</td>
<td>string</td>
<td>脚本版本描述</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>脚本类型</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>脚本创建人</td>
</tr>
<tr>
<td>public</td>
<td>bool</td>
<td>是否公共脚本</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>业务 ID</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>脚本创建时间</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>脚本最近一次修改人</td>
</tr>
<tr>
<td>last_modify_time</td>
<td>string</td>
<td>脚本最近一次修改时间</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>脚本内容</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_script_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询业务脚本列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>否</td>
<td>业务 ID，如果查询公共脚本可不传</td>
</tr>
<tr>
<td>return_script_content</td>
<td>bool</td>
<td>否</td>
<td>是否需要返回脚本内容。true:返回脚本内容；false：不返回脚本内容。默认为 false。</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>默认 0 表示从第 1 条记录开始返回</td>
</tr>
<tr>
<td>length</td>
<td>int</td>
<td>否</td>
<td>分页查询-每页纪录数，默认为 20。如果传入 0 或者不传，表示不分页</td>
</tr>
<tr>
<td>script_type</td>
<td>int</td>
<td>否</td>
<td>脚本类型。0：所有脚本类型，1：shell，2：bat，3：perl，4：python，5：powershell，6：sql。默认值为 0</td>
</tr>
<tr>
<td>script_name</td>
<td>string</td>
<td>否</td>
<td>脚本名称，支持模糊查询</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;start&quot;: 0,
    &quot;length&quot;: 10,
    &quot;is_public&quot;: false,
    &quot;return_script_content&quot;: false
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        &quot;data&quot;: [
            {
                &quot;id&quot;: 6862,
                &quot;name&quot;: &quot;a.sh&quot;,
                &quot;version&quot;: &quot;admin.20180627172306&quot;,
                &quot;tag&quot;: &quot;v1.0&quot;,
                &quot;type&quot;: 1,
                &quot;creator&quot;: &quot;admin&quot;,
                &quot;public&quot;: false,
                &quot;bk_biz_id&quot;: 2,
                &quot;create_time&quot;: &quot;2018-06-27 17:23:06&quot;,
                &quot;last_modify_user&quot;: &quot;admin&quot;,
                &quot;last_modify_time&quot;: &quot;2018-06-27 17:23:06&quot;
            },
            {
                &quot;id&quot;: 36,
                &quot;name&quot;: &quot;build_version&quot;,
                &quot;version&quot;: &quot;admin.20180723154537&quot;,
                &quot;tag&quot;: &quot;v1.0&quot;,
                &quot;type&quot;: 1,
                &quot;creator&quot;: &quot;admin&quot;,
                &quot;public&quot;: false,
                &quot;bk_biz_id&quot;: 2,
                &quot;create_time&quot;: &quot;2018-07-23 15:45:37&quot;,
                &quot;last_modify_user&quot;: &quot;admin&quot;,
                &quot;last_modify_time&quot;: &quot;2018-07-23 17:24:17&quot;
            }
        ],
        &quot;start&quot;: 0,
        &quot;page_size&quot;: 10,
        &quot;total_record_size&quot;: 2
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>long</td>
<td>脚本 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>脚本名称</td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>脚本版本号</td>
</tr>
<tr>
<td>tag</td>
<td>string</td>
<td>脚本版本描述</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>脚本类型</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>脚本创建人</td>
</tr>
<tr>
<td>public</td>
<td>bool</td>
<td>是否公共脚本</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>业务 ID</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>脚本创建时间</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>脚本最近一次修改人</td>
</tr>
<tr>
<td>last_modify_time</td>
<td>string</td>
<td>脚本最近一次修改时间</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>脚本内容</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_step_instance_status/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询作业步骤实例的执行状态</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h3 id="_6">接口参数</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>params</td>
<td>dict</td>
<td>是</td>
<td>请求参数结构</td>
</tr>
</tbody>
</table>
<h4 id="params">params</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>job_instance_id</td>
<td>long</td>
<td>是</td>
<td>作业实例 ID</td>
</tr>
<tr>
<td>step_instance_id</td>
<td>long</td>
<td>是</td>
<td>作业步骤实例 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 2,
    &quot;params&quot;: {
        &quot;job_instance_id&quot;: 490001,
        &quot;step_instance_id&quot;: 790001
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;OK&quot;,
    &quot;data&quot;: {
        &quot;is_finished&quot;: true,
        &quot;step_instance_analyse_result&quot;: [
            {
                &quot;result_type&quot;: 3,
                &quot;result_type_text&quot;: &quot;Success&quot;,
                &quot;count&quot;: 1,
                &quot;ip_list&quot;: [
                    {
                        &quot;bk_cloud_id&quot;: 0,
                        &quot;ip&quot;: &quot;10.25.0.2&quot;
                    }
                ]
            }
        ],
        &quot;step_instance_detail&quot;: {
            &quot;step_instance_id&quot;: 790001,
            &quot;name&quot;: &quot;my_job&quot;,
            &quot;type&quot;: 1,
            &quot;operator&quot;: &quot;admin&quot;,
            &quot;status&quot;: 3,
            &quot;step_id&quot;: 10000,
            &quot;job_instance_id&quot;: 490001,
            &quot;bk_biz_id&quot;: 2,
            &quot;target_ips&quot;: &quot;0:10.25.0.2&quot;,
            &quot;abnormal_agent_ips&quot;:&quot;&quot;,
            &quot;retry_count&quot;: 0,
            &quot;start_time&quot;: &quot;2019-06-07 12:15:14&quot;,
            &quot;end_time&quot;: &quot;2019-06-07 12:15:42&quot;,
            &quot;total_time&quot;: 28.395,
            &quot;total_ip_num&quot;: 1,
            &quot;abnormal_agent_ip_num&quot;: 0,
            &quot;running_ip_num&quot;: 1,
            &quot;fail_ip_num&quot;: 1,
            &quot;success_ip_num&quot;: 0
        }
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>is_finished</td>
<td>boolean</td>
<td>作业步骤是否结束</td>
</tr>
<tr>
<td>step_instance_detail</td>
<td>dict</td>
<td>步骤实例执行详情</td>
</tr>
<tr>
<td>step_instance_analyse_result</td>
<td>dict</td>
<td>作业步骤执行结果分析</td>
</tr>
</tbody>
</table>
<h4 id="step_instance_detail">step_instance_detail</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>step_instance_id</td>
<td>long</td>
<td>作业步骤实例 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>步骤名称</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>步骤类型: 1.脚本执行; 2.文件分发; 3.人工确认</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>作业执行人帐号</td>
</tr>
<tr>
<td>status</td>
<td>int</td>
<td>步骤执行状态码: 1.未执行; 2.正在执行; 3.执行成功; 4.执行失败; 5.跳过; 6.忽略错误; 7.等待用户; 8.手动结束; 9.状态异常; 10.步骤强制终止中; 11.步骤强制终止成功</td>
</tr>
<tr>
<td>step_id</td>
<td>long</td>
<td>步骤 ID</td>
</tr>
<tr>
<td>job_instance_id</td>
<td>long</td>
<td>作业实例 ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>target_ips</td>
<td>string</td>
<td>目标服务器 IP 列表，格式:IP1,IP2,IP2</td>
</tr>
<tr>
<td>abnormal_agent_ips</td>
<td>string</td>
<td>作业执行异常服务器的 IP 列表，格式:IP1,IP2,IP2</td>
</tr>
<tr>
<td>retry_count</td>
<td>int</td>
<td>步骤重试次数</td>
</tr>
<tr>
<td>start_time</td>
<td>string</td>
<td>开始执行时间，YYYY-MM-DD HH:mm:ss 格式</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>执行结束时间，YYYY-MM-DD HH:mm:ss 格式</td>
</tr>
<tr>
<td>total_time</td>
<td>float</td>
<td>步骤总耗时,秒</td>
</tr>
<tr>
<td>total_ip_num</td>
<td>int</td>
<td>目标服务器数量</td>
</tr>
<tr>
<td>abnormal_agent_ip_num</td>
<td>int</td>
<td>执行异常服务器数量</td>
</tr>
<tr>
<td>running_ip_num</td>
<td>int</td>
<td>正在执行当前步骤的服务器数量</td>
</tr>
<tr>
<td>fail_ip_num</td>
<td>int</td>
<td>当前步骤执行失败的服务器数量</td>
</tr>
<tr>
<td>success_ip_num</td>
<td>int</td>
<td>作业执行成功的服务器数量</td>
</tr>
</tbody>
</table>
<h4 id="step_analyse_result">step_analyse_result</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result_type</td>
<td>int</td>
<td>执行结果类型</td>
</tr>
<tr>
<td>result_type_text</td>
<td>int</td>
<td>执行结果类型描述</td>
</tr>
<tr>
<td>count</td>
<td>int</td>
<td>服务器数目</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td>服务器 IP 列表</td>
</tr>
</tbody>
</table>
<h4 id="ip_list">ip_list</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_id</td>
<td>long</td>
<td>云区域 ID</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>IP</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/operate_job_instance/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>用于对执行的作业实例进行操作，例如终止作业。</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>job_instance_id</td>
<td>long</td>
<td>是</td>
<td>作业实例 ID</td>
</tr>
<tr>
<td>operation_code</td>
<td>int</td>
<td>是</td>
<td>操作类型：1、终止作业</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;job_instance_id&quot;: 100,
    &quot;operation_code&quot;: 1
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        &quot;job_instance_id&quot;: 100
    }
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/operate_step_instance/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>用于对执行的实例的步骤进行操作，例如重试，忽略错误等。</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>job_instance_id</td>
<td>long</td>
<td>是</td>
<td>作业实例 ID</td>
</tr>
<tr>
<td>step_instance_id</td>
<td>long</td>
<td>是</td>
<td>步骤实例 ID</td>
</tr>
<tr>
<td>operation_code</td>
<td>int</td>
<td>是</td>
<td>操作类型：2、失败 IP 重做，3、忽略错误，4、执行，5、跳过，6、确认继续 8、全部重试，9、终止确认流程，10-重新发起确认</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;job_instance_id&quot;: 100,
    &quot;step_instance_id&quot;: 200,
    &quot;operation_code&quot;: 2
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        &quot;step_instance_id&quot;: 200,
        &quot;job_instance_id&quot;: 100
    }
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/push_config_file/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>分发配置文件，此接口用于分发配置文件等小的纯文本文件</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>account</td>
<td>string</td>
<td>是</td>
<td>执行帐号名/别名</td>
</tr>
<tr>
<td>file_target_path</td>
<td>string</td>
<td>是</td>
<td>文件传输目标路径</td>
</tr>
<tr>
<td>file_list</td>
<td>array</td>
<td>是</td>
<td>源文件对象数组，见下面 file_list 定义</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td>是</td>
<td>IP 对象数组，见下面 ip_list 结构定义</td>
</tr>
</tbody>
</table>
<h4 id="file_list">file_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>file_name</td>
<td>string</td>
<td>是</td>
<td>文件名称</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>是</td>
<td>文件内容 Base64</td>
</tr>
</tbody>
</table>
<h4 id="ip_list">ip_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_id</td>
<td>long</td>
<td>是</td>
<td>云区域 ID</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>是</td>
<td>IP 地址</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;account&quot;: &quot;root&quot;,
    &quot;file_target_path&quot;: &quot;/tmp/&quot;,
    &quot;file_list&quot;: [
        {
            &quot;file_name&quot;: &quot;a.txt&quot;,
            &quot;content&quot;: &quot;aGVsbG8gd29ybGQh&quot;
        }
    ],
    &quot;ip_list&quot;: [
        {
            &quot;bk_cloud_id&quot;: 0,
            &quot;ip&quot;: &quot;10.0.0.1&quot;
        }
    ]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        &quot;job_instance_name&quot;: &quot;API GSE PUSH FILE1521107826893&quot;,
        &quot;job_instance_id&quot;: 10000
    }
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/save_cron/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>新建或保存定时作业；新建定时作业，定时任务状态默认为暂停。</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_job_id</td>
<td>long</td>
<td>是</td>
<td>要定时执行的作业的作业执行方案 ID</td>
</tr>
<tr>
<td>cron_id</td>
<td>long</td>
<td>否</td>
<td>定时任务 ID，更新定时任务时，必须传这个值</td>
</tr>
<tr>
<td>cron_name</td>
<td>string</td>
<td>否</td>
<td>定时作业名称，新建时必填，修改时选填</td>
</tr>
<tr>
<td>cron_expression</td>
<td>string</td>
<td>否</td>
<td>定时任务 crontab 的定时规则，新建时必填，修改时选填，各字段含义为：分 时 日 月 周，如: 0/5 * * * ? 表示每 5 分钟执行一次</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;bk_job_id&quot;: 100,
    &quot;cron_name&quot;: &quot;test&quot;,
    &quot;cron_expression&quot;: &quot;0/5 * * * ?&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        &quot;cron_id&quot;: 1
    }
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/update_cron_status/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新定时作业状态，如启动或暂停</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>long</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>cron_status</td>
<td>int</td>
<td>是</td>
<td>定时状态，1.启动、2.暂停</td>
</tr>
<tr>
<td>cron_id</td>
<td>long</td>
<td>是</td>
<td>定时作业 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: 1,
    &quot;cron_status&quot;: 1,
    &quot;cron_id&quot;: 2
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: {
        &quot;cron_id&quot;: 2
    }
}</code></pre><h2 id="api-api">蓝鲸 API 网关 API 简介</h2>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="./get_components.md">get_components</a></td>
<td>获取指定系统的组件列表</td>
</tr>
<tr>
<td><a href="./get_systems.md">get_systems</a></td>
<td>获取系统列表</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/esb/get_components/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>获取指定系统的组件列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>system_names</td>
<td>list</td>
<td>是</td>
<td>系统名称, 可通过组件 get_systems 获取</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;system_names&quot;: [&quot;BK_LOGIN&quot;, &quot;XXXX&quot;]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;data&quot;: [
        {
            &quot;name&quot;: &quot;get_all_users&quot;,
            &quot;label&quot;: &quot;获取所有用户信息&quot;,
            &quot;version&quot;: &quot;v2&quot;,
            &quot;method&quot;: &quot;GET&quot;,
            &quot;path&quot;: &quot;/api/c/compapi/v2/bk_login/get_all_users/&quot;,
            &quot;system_id&quot;: 1,
            &quot;system_name&quot;: &quot;BK_LOGIN&quot;,
            &quot;type&quot;: 2,
            &quot;category&quot;: &quot;component&quot;,
        },
        {
            &quot;name&quot;: &quot;get_api_check_component_exist&quot;,
            &quot;label&quot;: &quot;check_component_exist&quot;,
            &quot;version&quot;: &quot;&quot;,
            &quot;method&quot;: &quot;GET&quot;,
            &quot;path&quot;: &quot;/api/c/self-service-api/api/check_component_exist/&quot;,
            &quot;system_id&quot;: 6,
            &quot;system_name&quot;: &quot;XXXX&quot;,
            &quot;type&quot;: 2,
            &quot;category&quot;: &quot;buffet_component&quot;,
        }
    ],
    &quot;message&quot;: &quot;&quot;
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>method</td>
<td>string</td>
<td>建议请求方法</td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>组件版本</td>
</tr>
<tr>
<td>system_id</td>
<td>int</td>
<td>所属系统 id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>组件名称</td>
</tr>
<tr>
<td>path</td>
<td>string</td>
<td>组件第三方系统路径</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>1 query, 2 operate</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>组件标签</td>
</tr>
<tr>
<td>category</td>
<td>string</td>
<td>组件类型, component or buffet_component</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/esb/get_systems/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取 ESB 中的组件系统列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h3 id="_6">请求参数示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;
}</code></pre>


<h3 id="_7">返回结果示例</h3>
<pre class="codehilite"><code class="language-python">{
    &quot;result&quot;: true
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;OK&quot;,
    &quot;data&quot;: [
        {
            &quot;id&quot;: 1,
            &quot;name&quot;: &quot;BK_LOGIN&quot;,
            &quot;label&quot;: &quot;蓝鲸统一登录&quot;,
            &quot;remark&quot;: &quot;蓝鲸统一登录，管理用户登录验证，及用户信息&quot;
        },
        {
            &quot;id&quot;: 2,
            &quot;name&quot;: &quot;BK_PAAS&quot;,
            &quot;label&quot;: &quot;蓝鲸开发者中心&quot;,
            &quot;remark&quot;: &quot;蓝鲸开发者中心&quot;
        }
    ]
}</code></pre>


<h3 id="_8">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>系统 id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>系统名称</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>系统标签</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>备注</td>
</tr>
</tbody>
</table><h2 id="api">流程服务 API 文档简介</h2>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="./callback_failed_ticket.md">callback_failed_ticket</a></td>
<td>回调失败的单号</td>
</tr>
<tr>
<td><a href="./create_ticket.md">create_ticket</a></td>
<td>创建单据</td>
</tr>
<tr>
<td><a href="./get_service_catalogs.md">get_service_catalogs</a></td>
<td>服务目录查询</td>
</tr>
<tr>
<td><a href="./get_service_detail.md">get_service_detail</a></td>
<td>服务详情查询</td>
</tr>
<tr>
<td><a href="./get_service_roles.md">get_service_roles</a></td>
<td>获取服务角色</td>
</tr>
<tr>
<td><a href="./get_services.md">get_services</a></td>
<td>服务列表查询</td>
</tr>
<tr>
<td><a href="./get_ticket_info.md">get_ticket_info</a></td>
<td>单据详情查询</td>
</tr>
<tr>
<td><a href="./get_ticket_logs.md">get_ticket_logs</a></td>
<td>单据日志查询</td>
</tr>
<tr>
<td><a href="./get_ticket_status.md">get_ticket_status</a></td>
<td>单据状态查询</td>
</tr>
<tr>
<td><a href="./get_tickets.md">get_tickets</a></td>
<td>获取单据列表</td>
</tr>
<tr>
<td><a href="./operate_node.md">operate_node</a></td>
<td>处理单据节点</td>
</tr>
<tr>
<td><a href="./operate_ticket.md">operate_ticket</a></td>
<td>处理单据</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/itsm/callback_failed_ticket/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>回调失败的单号</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{  
    &quot;bk_app_secret&quot;: &quot;xxxx&quot;, 
    &quot;bk_app_code&quot;: &quot;xxxx&quot;, 
    &quot;bk_token&quot;: &quot;xxxx&quot;
}  </code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: [&quot;NO2019090519542603&quot;],
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>单号列表</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/itsm/create_ticket/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建单据接口</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>service_id</td>
<td>int</td>
<td>否</td>
<td>服务 id</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>是</td>
<td>单据创建者</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>是</td>
<td>提单字段</td>
</tr>
<tr>
<td>fast_approval</td>
<td>boolean</td>
<td>否</td>
<td>是否为单点快速审批单</td>
</tr>
<tr>
<td>meta</td>
<td>dict</td>
<td>否</td>
<td>扩展信息</td>
</tr>
</tbody>
</table>
<h3 id="meta">meta</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>callback_url</td>
<td>string</td>
<td>否</td>
<td>回调 url，若有则会触发回调</td>
</tr>
<tr>
<td>state_processors</td>
<td>object</td>
<td>否</td>
<td>节点处理人，若有则走单时会按此处理人设置</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_app_secret&quot;: &quot;xxxx&quot;,
    &quot;bk_app_code&quot;: &quot;xxxx&quot;,
    &quot;bk_token&quot;: &quot;xxxx&quot;,
    &quot;service_id&quot;: 17,
    &quot;creator&quot;: &quot;xxx&quot;,
    &quot;fields&quot;: [{
        &quot;key&quot;: &quot;title&quot;,
        &quot;value&quot;: &quot;测试内置审批&quot;
    }, {
        &quot;key&quot;: &quot;APPROVER&quot;,
        &quot;value&quot;: &quot;xx,xxx,xxxx&quot;
    }, {
        &quot;key&quot;: &quot;APPROVAL_CONTENT&quot;,
        &quot;value&quot;: &quot;这是一个审批单&quot;
    }],
    &quot;fast_approval&quot;: false,
    &quot;meta&quot;: {
        &quot;callback_url&quot;: &quot;http://***&quot;,
        &quot;state_processors&quot;: {
            &quot;407&quot;: &quot;xxx,xxxx&quot;
        }
    }
}  </code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: {
        &quot;sn&quot;: &quot;NO2019090519542603&quot;
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>返回数据</td>
</tr>
</tbody>
</table>
<h3 id="data">data</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>sn</td>
<td>string</td>
<td>单号</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/itsm/get_service_catalogs/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>服务目录查询</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>has_service</td>
<td>string</td>
<td>否</td>
<td>默认返回全部服务目录，has_service="true"时只返回绑定了服务项的目录</td>
</tr>
<tr>
<td>service_key</td>
<td>string</td>
<td>否</td>
<td>服务项 key 值，支持通过服务项 key 值过滤绑定了服务的服务目录</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_app_secret&quot;: &quot;xxxx&quot;,
    &quot;bk_app_code&quot;: &quot;xxxx&quot;,
    &quot;bk_token&quot;: &quot;xxxx&quot;,
    &quot;has_service&quot;: &quot;true&quot;,
    &quot;service_key&quot;: &quot;change&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: [
        {
            &quot;name&quot;: &quot;根目录&quot;,
            &quot;level&quot;: 0,
            &quot;id&quot;: 1,
            &quot;key&quot;: &quot;root&quot;,
            &quot;desc&quot;: &quot;&quot;,
            &quot;children&quot;: [
                {
                    &quot;name&quot;: &quot;基础配置&quot;,
                    &quot;level&quot;: 1,
                    &quot;id&quot;: 10,
                    &quot;key&quot;: &quot;JICHUPEIZHI&quot;,
                    &quot;children&quot;: [
                        {
                            &quot;name&quot;: &quot;业务管理&quot;,
                            &quot;level&quot;: 2,
                            &quot;id&quot;: 12,
                            &quot;key&quot;: &quot;YEWUGUANLI&quot;,
                            &quot;children&quot;: [],
                            &quot;desc&quot;: &quot;&quot;
                        }
                    ],
                    &quot;desc&quot;: &quot;&quot;
                }
            ]
        }
    ],
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>返回数据</td>
</tr>
</tbody>
</table>
<h3 id="data">data</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>服务目录 id</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>服务目录唯一标识</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>服务目录名称</td>
</tr>
<tr>
<td>level</td>
<td>int</td>
<td>服务目录等级</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>服务目录描述</td>
</tr>
<tr>
<td>children</td>
<td>array</td>
<td>服务目录子目录</td>
</tr>
</tbody>
</table>
<h3 id="children">children</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>服务目录 id</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>服务目录唯一标识</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>服务目录名称</td>
</tr>
<tr>
<td>level</td>
<td>int</td>
<td>服务目录等级</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>服务目录描述</td>
</tr>
<tr>
<td>children</td>
<td>array</td>
<td>服务目录子目录</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/itsm/get_service_detail/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>服务详情查询，支持根据指定的服务 ID 查询服务详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>service_id</td>
<td>int</td>
<td>是</td>
<td>服务 id</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{  
    &quot;bk_app_secret&quot;: &quot;xxxx&quot;, 
    &quot;bk_app_code&quot;: &quot;xxxx&quot;, 
    &quot;bk_token&quot;: &quot;xxxx&quot;, 
    &quot;service_id&quot;: 1
}  </code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: {
        &quot;service_id&quot;: 5,
        &quot;workflow_id&quot;: 15,
        &quot;name&quot;: &quot;test3&quot;,
        &quot;service_type&quot;: &quot;event&quot;,
        &quot;desc&quot;: &quot;&quot;,
        &quot;fields&quot;: [
            {
                &quot;id&quot;: 1,
                &quot;key&quot;: &quot;title&quot;,
                &quot;type&quot;: &quot;STRING&quot;,
                &quot;name&quot;: &quot;标题&quot;,
                &quot;desc&quot;: &quot;请输入标题&quot;,
                &quot;choice&quot;: [],
                &quot;validate_type&quot;: &quot;REQUIRE&quot;,
                &quot;regex&quot;: &quot;&quot;,
                &quot;meta&quot;: {}
            },
            {
                &quot;id&quot;: 96,
                &quot;key&quot;: &quot;CESHILEIXING&quot;,
                &quot;type&quot;: &quot;SELECT&quot;,
                &quot;name&quot;: &quot;测试类型&quot;,
                &quot;desc&quot;: &quot;&quot;,
                &quot;choice&quot;: [
                    {
                        &quot;name&quot;: &quot;变更&quot;,
                        &quot;key&quot;: &quot;BIANGENG&quot;
                    },
                    {
                        &quot;name&quot;: &quot;请求&quot;,
                        &quot;key&quot;: &quot;QINGQIU&quot;
                    }
                ],
                &quot;validate_type&quot;: &quot;REQUIRE&quot;,
                &quot;regex&quot;: &quot;EMPTY&quot;,
                &quot;meta&quot;: {}
            },
            {
                &quot;id&quot;: 97,
                &quot;key&quot;: &quot;ZIDINGYIBIAOGE&quot;,
                &quot;type&quot;: &quot;CUSTOMTABLE&quot;,
                &quot;name&quot;: &quot;自定义表格&quot;,
                &quot;desc&quot;: &quot;&quot;,
                &quot;choice&quot;: [],
                &quot;validate_type&quot;: &quot;REQUIRE&quot;,
                &quot;regex&quot;: &quot;EMPTY&quot;,
                &quot;meta&quot;: {
                    &quot;columns&quot;: [
                        {
                            &quot;choice&quot;: [],
                            &quot;display&quot;: &quot;input&quot;,
                            &quot;key&quot;: &quot;TEST&quot;,
                            &quot;name&quot;: &quot;test&quot;
                        },
                        {
                            &quot;choice&quot;: [
                                {
                                    &quot;name&quot;: &quot;a&quot;,
                                    &quot;key&quot;: &quot;A&quot;
                                },
                                {
                                    &quot;name&quot;: &quot;b&quot;,
                                    &quot;key&quot;: &quot;B&quot;
                                }
                            ],
                            &quot;display&quot;: &quot;select&quot;,
                            &quot;key&quot;: &quot;TEST2&quot;,
                            &quot;name&quot;: &quot;test2&quot;
                        }
                    ]
                }
            }
        ]
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>返回数据</td>
</tr>
</tbody>
</table>
<h3 id="data">data</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>service_id</td>
<td>int</td>
<td>服务 id</td>
</tr>
<tr>
<td>workflow_id</td>
<td>int</td>
<td>服务流程 id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>服务名称</td>
</tr>
<tr>
<td>service_type</td>
<td>string</td>
<td>服务类型</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>服务描述</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>提单字段</td>
</tr>
</tbody>
</table>
<h3 id="fields">fields</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>字段 id</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>字段唯一标识</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>字段类型</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>字段名称</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>字段描述</td>
</tr>
<tr>
<td>choice</td>
<td>array</td>
<td>选项</td>
</tr>
<tr>
<td>validate_type</td>
<td>string</td>
<td>校验规则</td>
</tr>
<tr>
<td>regex</td>
<td>string</td>
<td>正则校验规则</td>
</tr>
<tr>
<td>meta</td>
<td>object</td>
<td>自定义表格格式</td>
</tr>
</tbody>
</table>
<h3 id="type">type（字段类型）</h3>
<table>
<thead>
<tr>
<th>类型 Key</th>
<th>类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>STRING</td>
<td>单行文本</td>
</tr>
<tr>
<td>STRING</td>
<td>单行文本</td>
</tr>
<tr>
<td>TEXT</td>
<td>多行文本</td>
</tr>
<tr>
<td>INT</td>
<td>数字</td>
</tr>
<tr>
<td>DATE</td>
<td>日期</td>
</tr>
<tr>
<td>DATETIME</td>
<td>时间</td>
</tr>
<tr>
<td>DATETIMERANGE</td>
<td>时间间隔</td>
</tr>
<tr>
<td>TABLE</td>
<td>表格</td>
</tr>
<tr>
<td>SELECT</td>
<td>单选下拉框</td>
</tr>
<tr>
<td>MULTISELECT</td>
<td>多选下拉框</td>
</tr>
<tr>
<td>CHECKBOX</td>
<td>复选框</td>
</tr>
<tr>
<td>RADIO</td>
<td>单选框</td>
</tr>
<tr>
<td>MEMBERS</td>
<td>多选人员选择</td>
</tr>
<tr>
<td>RICHTEXT</td>
<td>富文本</td>
</tr>
<tr>
<td>FILE</td>
<td>附件上传</td>
</tr>
<tr>
<td>CUSTOMTABLE</td>
<td>自定义表格</td>
</tr>
<tr>
<td>TREESELECT</td>
<td>树形选择</td>
</tr>
<tr>
<td>CASCADE</td>
<td>级联</td>
</tr>
</tbody>
</table>
<h3 id="meta">meta</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>columns</td>
<td>array</td>
<td>列</td>
</tr>
</tbody>
</table>
<h3 id="columns">columns</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>choice</td>
<td>array</td>
<td>选项</td>
</tr>
<tr>
<td>display</td>
<td>string</td>
<td>展现形式</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>唯一标识</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>名字</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/itsm/get_service_roles/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取服务角色</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>service_id</td>
<td>string</td>
<td>是</td>
<td>服务 id</td>
</tr>
<tr>
<td>ticket_creator</td>
<td>string</td>
<td>否</td>
<td>提单人，实例化 leader 和提单人本身时使用</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{  
    &quot;bk_app_secret&quot;: &quot;xxxx&quot;, 
    &quot;bk_app_code&quot;: &quot;xxxx&quot;, 
    &quot;bk_token&quot;: &quot;xxxx&quot;,
    &quot;service_id&quot;: 1,
    &quot;ticket_creator&quot;: &quot;xx&quot;
}  </code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: [{
            &quot;id&quot;: 92580,
            &quot;name&quot;: &quot;节点1&quot;,
            &quot;processors_type&quot;: &quot;GENERAL&quot;,
            &quot;processors&quot;: &quot;xxxx&quot;,
            &quot;sign_type&quot;: &quot;or&quot;
        },
        {
            &quot;id&quot;: 92581,
            &quot;name&quot;: &quot;节点2&quot;,
            &quot;processors_type&quot;: &quot;IAM&quot;,
            &quot;processors&quot;: &quot;分级管理员&quot;,
            &quot;sign_type&quot;: &quot;or&quot;
        },
        {
            &quot;id&quot;: 92582,
            &quot;name&quot;: &quot;节点3&quot;,
            &quot;processors_type&quot;: &quot;PERSON&quot;,
            &quot;processors&quot;: &quot;xxxx&quot;,
            &quot;sign_type&quot;: &quot;and&quot;
        }
    ],
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>返回数据</td>
</tr>
</tbody>
</table>
<h3 id="data">data</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>节点 id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>节点 id</td>
</tr>
<tr>
<td>processors_type</td>
<td>string</td>
<td>处理人类型</td>
</tr>
<tr>
<td>processors</td>
<td>string</td>
<td>处理人，多个用","分割</td>
</tr>
<tr>
<td>sign_type</td>
<td>string</td>
<td>会签类型，“or”为或签，任意一人通过即为通过，“and”为多签，全部审批人通过才算通过</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/itsm/get_services/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>服务列表查询，支持根据指定的目录查询服务列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>catalog_id</td>
<td>int</td>
<td>否</td>
<td>服务目录 id</td>
</tr>
<tr>
<td>service_type</td>
<td>string</td>
<td>否</td>
<td>服务类型</td>
</tr>
<tr>
<td>display_type</td>
<td>string</td>
<td>否</td>
<td>可见范围</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_app_secret&quot;: &quot;xxxx&quot;,
    &quot;bk_app_code&quot;: &quot;xxxx&quot;,
    &quot;bk_token&quot;: &quot;xxxx&quot;,
    &quot;catalog_id&quot;: 12,
    &quot;service_type&quot;: &quot;request&quot;,
    &quot;display_type&quot;: &quot;IAM&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: [
        {
            &quot;id&quot;: 3,
            &quot;name&quot;: &quot;test1&quot;,
            &quot;desc&quot;: &quot;1&quot;,
            &quot;service_type&quot;: &quot;request&quot;
        },
        {
            &quot;id&quot;: 4,
            &quot;name&quot;: &quot;test2&quot;,
            &quot;desc&quot;: &quot;2&quot;,
            &quot;service_type&quot;: &quot;request&quot;
        }
    ],
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>返回数据</td>
</tr>
</tbody>
</table>
<h3 id="data">data</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>服务 id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>服务名称</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>服务描述</td>
</tr>
<tr>
<td>service_type</td>
<td>string</td>
<td>服务类型</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/itsm/get_ticket_info/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>单据详情查询，支持根据单号查询单据的详情（携带基本信息和提单信息）</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>sn</td>
<td>string</td>
<td>是</td>
<td>单号</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{  
    &quot;bk_app_secret&quot;: &quot;xxxx&quot;, 
    &quot;bk_app_code&quot;: &quot;xxxx&quot;, 
    &quot;bk_token&quot;: &quot;xxxx&quot;, 
    &quot;sn&quot;: &quot;NO2019090XXXXXXXX&quot;
}  </code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: {
        &quot;id&quot;: 176,
        &quot;catalog_id&quot;: 30,
        &quot;service_id&quot;: 18,
        &quot;flow_id&quot;: 61,
        &quot;sn&quot;: &quot;NO2019090414050083&quot;,
        &quot;title&quot;: &quot;xxxxx&quot;,
        &quot;service_type&quot;: &quot;change&quot;,
        &quot;create_at&quot;: &quot;2019-09-04 14:05:00&quot;,
        &quot;current_status&quot;: &quot;RUNNING&quot;,
        &quot;current_steps&quot;: [
                {
                    &quot;action_type&quot;: &quot;TRANSITION&quot;,
                    &quot;name&quot;: &quot;审核意见&quot;,
                    &quot;processors&quot;: &quot;admin&quot;,
                    &quot;processors_type&quot;: &quot;PERSON&quot;,
                    &quot;state_id&quot;: 8,
                    &quot;status&quot;: &quot;RUNNING&quot;
                }        
        ],
        &quot;comment_id&quot;: &quot;&quot;,
        &quot;is_commented&quot;: false,
        &quot;updated_by&quot;: &quot;xxxx&quot;,
        &quot;update_at&quot;: &quot;2019-09-04 14:05:01&quot;,
        &quot;end_at&quot;: null,
        &quot;creator&quot;: &quot;xxx(xxx)&quot;,
        &quot;is_biz_need&quot;: false,
        &quot;bk_biz_id&quot;: 2,
        &quot;fields&quot;: [{
                &quot;id&quot;: 1024,
                &quot;key&quot;: &quot;title&quot;,
                &quot;type&quot;: &quot;STRING&quot;,
                &quot;name&quot;: &quot;标题&quot;,
                &quot;value&quot;: &quot;xx&quot;,
                &quot;display_value&quot;: &quot;xx&quot;,
                &quot;desc&quot;: &quot;请输入标题&quot;,
            },{
                &quot;id&quot;: 1025,
                &quot;key&quot;: &quot;bk_biz_id&quot;,
                &quot;type&quot;: &quot;SELECT&quot;,
                &quot;name&quot;: &quot;标题&quot;,
                &quot;value&quot;: &quot;2&quot;,
                &quot;display_value&quot;: &quot;蓝鲸&quot;,
                &quot;desc&quot;: &quot;请输入标题&quot;,
            }
        ]
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>返回数据</td>
</tr>
</tbody>
</table>
<h3 id="data">data</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>单据 id</td>
</tr>
<tr>
<td>catalog_id</td>
<td>int</td>
<td>服务目录 id</td>
</tr>
<tr>
<td>service_id</td>
<td>int</td>
<td>服务 id</td>
</tr>
<tr>
<td>flow_id</td>
<td>int</td>
<td>流程版本 id</td>
</tr>
<tr>
<td>sn</td>
<td>string</td>
<td>单号</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>单据标题</td>
</tr>
<tr>
<td>current_status</td>
<td>string</td>
<td>单据当前状态，RUNNING（处理中）/FINISHED（已结束）/TERMINATED（被终止）</td>
</tr>
<tr>
<td>current_steps</td>
<td>array</td>
<td>单据当前步骤</td>
</tr>
<tr>
<td>comment_id</td>
<td>string</td>
<td>单据评价 id</td>
</tr>
<tr>
<td>is_commented</td>
<td>bool</td>
<td>单据是否已评价</td>
</tr>
<tr>
<td>updated_by</td>
<td>string</td>
<td>最近更新者</td>
</tr>
<tr>
<td>update_at</td>
<td>string</td>
<td>最近更新时间</td>
</tr>
<tr>
<td>end_at</td>
<td>string</td>
<td>结束时间</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>提单人</td>
</tr>
<tr>
<td>create_at</td>
<td>string</td>
<td>创建时间</td>
</tr>
<tr>
<td>is_biz_need</td>
<td>bool</td>
<td>是否与业务关联</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 id</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>提单节点字段</td>
</tr>
</tbody>
</table>
<h3 id="current_steps">current_steps（当前步骤）</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>步骤名称</td>
</tr>
<tr>
<td>action_type</td>
<td>string</td>
<td>操作类型：TRANSITION（审批）/DISTRIBUTE（分派）/CLAIM（认领）/AUTOMATIC（自动处理）</td>
</tr>
<tr>
<td>processors</td>
<td>string</td>
<td>处理人列表</td>
</tr>
<tr>
<td>processors_type</td>
<td>string</td>
<td>处理人类型：CMDB（cmdb 角色）/GENERAL（通用角色）/PERSON（个人）/STARTER（提单人）/OPEN（不限）</td>
</tr>
<tr>
<td>state_id</td>
<td>int</td>
<td>节点 ID</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>节点状态</td>
</tr>
</tbody>
</table>
<h3 id="status">status（节点状态）</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>WAIT</td>
<td>待处理</td>
<td></td>
</tr>
<tr>
<td>RUNNING</td>
<td>处理中</td>
<td></td>
</tr>
<tr>
<td>RECEIVING</td>
<td>待认领</td>
<td></td>
</tr>
<tr>
<td>DISTRIBUTING</td>
<td>待分派</td>
<td></td>
</tr>
<tr>
<td>TERMINATED</td>
<td>被终止</td>
<td></td>
</tr>
<tr>
<td>FINISHED</td>
<td>已结束</td>
<td></td>
</tr>
<tr>
<td>FAILED</td>
<td>执行失败</td>
<td></td>
</tr>
<tr>
<td>SUSPEND</td>
<td>被挂起</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="fields">fields</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>字段 id</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>字段唯一标识</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>字段类型</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>字段名称</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>字段描述</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>字段值</td>
</tr>
<tr>
<td>display_value</td>
<td>string</td>
<td>字段展示值</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/itsm/get_ticket_logs/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>单据日志查询，支持根据单号查询单据的处日志</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>sn</td>
<td>string</td>
<td>是</td>
<td>单号</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{  
    &quot;bk_app_secret&quot;: &quot;xxxx&quot;, 
    &quot;bk_app_code&quot;: &quot;xxxx&quot;, 
    &quot;bk_token&quot;: &quot;xxxx&quot;, 
    &quot;sn&quot;: &quot;NO2019090XXXXXXXX&quot;
}  </code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: {
        &quot;sn&quot;: &quot;NO2019090414050083&quot;,
        &quot;title&quot;: &quot;xxxxx&quot;,
        &quot;create_at&quot;: &quot;2019-09-04 14:05:00&quot;,
        &quot;creator&quot;: &quot;xxx(xxx)&quot;,
        &quot;logs&quot;: [{
                        &quot;operator&quot;: &quot;xxxx&quot;,
                        &quot;message&quot;: &quot;流程开始&quot;,
                        &quot;source&quot;: &quot;WEB&quot;,
                        &quot;operate_at&quot;: &quot;2019-08-09 00:41:02&quot;
                    }, {
                        &quot;operator&quot;: &quot;xxxx&quot;,
                        &quot;message&quot;: &quot;xxxx(xxxx) 处理节点【提单】(提交)&quot;,
                        &quot;source&quot;: &quot;WEB&quot;,
                        &quot;operate_at&quot;: &quot;2019-08-09 00:43:43&quot;
                    }, {
                        &quot;operator&quot;: &quot;xxxx&quot;,
                        &quot;message&quot;: &quot;xxxx(xxxx) 处理节点【审批】(通过)&quot;,
                        &quot;source&quot;: &quot;WEB&quot;,
                        &quot;operate_at&quot;: &quot;2019-08-10 16:39:14&quot;
                    }, {
                        &quot;operator&quot;: &quot;xxxx&quot;,
                        &quot;message&quot;: &quot;xxxx(xxxx) 处理节点【总监审批】(通过)&quot;,
                        &quot;source&quot;: &quot;WEB&quot;,
                        &quot;operate_at&quot;: &quot;2019-08-10 20:35:45&quot;
                    }, {
                        &quot;operator&quot;: &quot;xxxx&quot;,
                        &quot;message&quot;: &quot;xxxx(xxxx) 处理节点【账号创建】(通过)&quot;,
                        &quot;source&quot;: &quot;API&quot;,
                        &quot;operate_at&quot;: &quot;2019-08-15 10:20:09&quot;
                    }, {
                        &quot;operator&quot;: &quot;xxxx&quot;,
                        &quot;message&quot;: &quot;单据流程结束&quot;,
                        &quot;source&quot;: &quot;SYS&quot;,
                        &quot;operate_at&quot;: &quot;2019-08-15 10:20:09&quot;
                    }
        ]
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>返回数据</td>
</tr>
</tbody>
</table>
<h3 id="data">data</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>sn</td>
<td>string</td>
<td>单据 sn</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>单据标题</td>
</tr>
<tr>
<td>create_at</td>
<td>string</td>
<td>创建时间</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>提单人</td>
</tr>
<tr>
<td>logs</td>
<td>array</td>
<td>日志信息列表</td>
</tr>
</tbody>
</table>
<h3 id="logs">logs</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>operator</td>
<td>string</td>
<td>处理人</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>处理信息</td>
</tr>
<tr>
<td>operate_at</td>
<td>string</td>
<td>处理时间</td>
</tr>
<tr>
<td>source</td>
<td>string</td>
<td>处理途径，包含：WEB（页面操作）/MOBILE（手机端操作）/API（接口操作）/SYS（系统操作）</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/itsm/get_ticket_status/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>单据状态查询，支持根据单号查询单据的状态（携带基本信息）</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>sn</td>
<td>string</td>
<td>是</td>
<td>单号</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{  
    &quot;bk_app_secret&quot;: &quot;xxxx&quot;, 
    &quot;bk_app_code&quot;: &quot;xxxx&quot;, 
    &quot;bk_token&quot;: &quot;xxxx&quot;, 
    &quot;sn&quot;: &quot;NO2019090XXXXXXXX&quot;
}  </code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: {
        &quot;ticket_url&quot;: &quot;https://blueking.com/#/commonInfo?id=6&amp;activeNname=all&amp;router=request&quot;,
        &quot;operations&quot;: [
            {
                &quot;can_operate&quot;: true,
                &quot;name&quot;: &quot;撤单&quot;,
                &quot;key&quot;: &quot;WITHDRAW&quot;
            },
            {
                &quot;can_operate&quot;: true,
                &quot;name&quot;: &quot;恢复&quot;,
                &quot;key&quot;: &quot;UNSUSPEND&quot;
            }
        ],
        &quot;current_status&quot;: &quot;SUSPENDED&quot;,
        &quot;current_steps&quot;: [
            {
                &quot;name&quot;: &quot;法务审批&quot;,
                &quot;state_id&quot;: 4,
                &quot;status&quot;: &quot;RUNNING&quot;,
                &quot;action_type&quot;: &quot;TRANSITION&quot;,
                &quot;processors_type&quot;: &quot;PERSON&quot;,
                &quot;processors&quot;: &quot;zhangsan&quot;,
                &quot;operations&quot;: [
                    {
                        &quot;can_operate&quot;: true,
                        &quot;name&quot;: &quot;提交&quot;,
                        &quot;key&quot;: &quot;TRANSITION&quot;
                    },
                    {
                        &quot;can_operate&quot;: true,
                        &quot;name&quot;: &quot;转单&quot;,
                        &quot;key&quot;: &quot;DELIVER&quot;
                    },
                    {
                        &quot;can_operate&quot;: true,
                        &quot;name&quot;: &quot;终止&quot;,
                        &quot;key&quot;: &quot;TERMINATE&quot;
                    }
                ],
                &quot;fields&quot;: [
                    {
                        &quot;workflow_id&quot;: 1,
                        &quot;meta&quot;: {},
                        &quot;id&quot;: 8,
                        &quot;regex&quot;: &quot;EMPTY&quot;,
                        &quot;api_instance_id&quot;: 0,
                        &quot;type&quot;: &quot;RADIO&quot;,
                        &quot;source_uri&quot;: &quot;&quot;,
                        &quot;validate_type&quot;: &quot;REQUIRE&quot;,
                        &quot;source_type&quot;: &quot;CUSTOM&quot;,
                        &quot;key&quot;: &quot;SHENPIJIEGUO&quot;,
                        &quot;choice&quot;: [
                            {
                                &quot;name&quot;: &quot;同意&quot;,
                                &quot;key&quot;: &quot;TONGYI&quot;
                            },
                            {
                                &quot;name&quot;: &quot;拒绝&quot;,
                                &quot;key&quot;: &quot;JUJUE&quot;
                            }
                        ],
                        &quot;desc&quot;: &quot;&quot;,
                        &quot;name&quot;: &quot;审批结果&quot;,
                        &quot;is_readonly&quot;: false,
                        &quot;custom_regex&quot;: &quot;&quot;,
                        &quot;state_id&quot;: 4
                    },
                    {
                        &quot;workflow_id&quot;: 1,
                        &quot;meta&quot;: {},
                        &quot;id&quot;: 9,
                        &quot;regex&quot;: &quot;EMPTY&quot;,
                        &quot;api_instance_id&quot;: 0,
                        &quot;type&quot;: &quot;TEXT&quot;,
                        &quot;source_uri&quot;: &quot;&quot;,
                        &quot;validate_type&quot;: &quot;REQUIRE&quot;,
                        &quot;source_type&quot;: &quot;CUSTOM&quot;,
                        &quot;key&quot;: &quot;SHENPIBEIZHU&quot;,
                        &quot;choice&quot;: [],
                        &quot;desc&quot;: &quot;&quot;,
                        &quot;name&quot;: &quot;审批备注&quot;,
                        &quot;is_readonly&quot;: false,
                        &quot;custom_regex&quot;: &quot;&quot;,
                        &quot;state_id&quot;: 4
                    }
                ]
            }
        ],
        &quot;is_commented&quot;: false
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>返回数据</td>
</tr>
</tbody>
</table>
<h3 id="data">data</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>current_status</td>
<td>string</td>
<td>单据当前状态，RUNNING（处理中）/FINISHED（已结束）/TERMINATED（被终止）/ SUSPENDED（被挂起）</td>
</tr>
<tr>
<td>current_steps</td>
<td>array</td>
<td>单据当前步骤列表</td>
</tr>
<tr>
<td>operations</td>
<td>array</td>
<td>单据当前支持的操作列表</td>
</tr>
<tr>
<td>is_commented</td>
<td>bool</td>
<td>单据是否已评价</td>
</tr>
<tr>
<td>ticket_url</td>
<td>string</td>
<td>单据详情链接</td>
</tr>
</tbody>
</table>
<h3 id="operations">operations（单据支持的操作）</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>操作标识，包括：SUSPEND（挂起）/UNSUSPEND（恢复）/WITHDRAW（撤销）/TERMINATE（终止节点和单据）</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>操作名称</td>
</tr>
<tr>
<td>can_operate</td>
<td>string</td>
<td>可否操作（扩展字段，始终为 true）</td>
</tr>
</tbody>
</table>
<h3 id="current_steps">current_steps（当前步骤）</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>步骤名称</td>
</tr>
<tr>
<td>action_type</td>
<td>string</td>
<td>操作类型：TRANSITION（审批）/DISTRIBUTE（分派）/CLAIM（认领）/AUTOMATIC（自动处理）</td>
</tr>
<tr>
<td>processors</td>
<td>string</td>
<td>处理人列表</td>
</tr>
<tr>
<td>processors_type</td>
<td>string</td>
<td>处理人类型：CMDB（cmdb 角色）/GENERAL（通用角色）/PERSON（个人）/STARTER（提单人）/OPEN（不限）</td>
</tr>
<tr>
<td>state_id</td>
<td>int</td>
<td>节点 ID</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>节点状态</td>
</tr>
<tr>
<td>operations</td>
<td>array</td>
<td>单据当前步骤支持的操作列表</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>单据当前步骤的表单字段列表</td>
</tr>
</tbody>
</table>
<h3 id="operations_1">operations（节点支持的操作）</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>操作标识，包括： TRANSITION（审批）/CLAIM（认领）/DISTRIBUTE（派单）/DELIVER（转单）/TERMINATE（终止节点和单据）</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>操作名称</td>
</tr>
<tr>
<td>can_operate</td>
<td>string</td>
<td>可否操作（扩展字段，始终为 true）</td>
</tr>
</tbody>
</table>
<h3 id="fields">fields（节点字段）</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>字段 id</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>字段唯一标识</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>字段类型</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>字段名称</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>字段描述</td>
</tr>
<tr>
<td>choice</td>
<td>array</td>
<td>选项</td>
</tr>
<tr>
<td>validate_type</td>
<td>string</td>
<td>校验规则</td>
</tr>
<tr>
<td>regex</td>
<td>string</td>
<td>正则校验规则</td>
</tr>
<tr>
<td>meta</td>
<td>object</td>
<td>自定义表格格式</td>
</tr>
</tbody>
</table>
<h3 id="type">type（字段类型）</h3>
<table>
<thead>
<tr>
<th>类型 Key</th>
<th>类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>STRING</td>
<td>单行文本</td>
</tr>
<tr>
<td>STRING</td>
<td>单行文本</td>
</tr>
<tr>
<td>TEXT</td>
<td>多行文本</td>
</tr>
<tr>
<td>INT</td>
<td>数字</td>
</tr>
<tr>
<td>DATE</td>
<td>日期</td>
</tr>
<tr>
<td>DATETIME</td>
<td>时间</td>
</tr>
<tr>
<td>DATETIMERANGE</td>
<td>时间间隔</td>
</tr>
<tr>
<td>TABLE</td>
<td>表格</td>
</tr>
<tr>
<td>SELECT</td>
<td>单选下拉框</td>
</tr>
<tr>
<td>MULTISELECT</td>
<td>多选下拉框</td>
</tr>
<tr>
<td>CHECKBOX</td>
<td>复选框</td>
</tr>
<tr>
<td>RADIO</td>
<td>单选框</td>
</tr>
<tr>
<td>MEMBERS</td>
<td>多选人员选择</td>
</tr>
<tr>
<td>RICHTEXT</td>
<td>富文本</td>
</tr>
<tr>
<td>FILE</td>
<td>附件上传</td>
</tr>
<tr>
<td>CUSTOMTABLE</td>
<td>自定义表格</td>
</tr>
<tr>
<td>TREESELECT</td>
<td>树形选择</td>
</tr>
<tr>
<td>CASCADE</td>
<td>级联</td>
</tr>
</tbody>
</table>
<h3 id="meta">meta</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>columns</td>
<td>array</td>
<td>列</td>
</tr>
</tbody>
</table>
<h3 id="columns">columns</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>choice</td>
<td>array</td>
<td>选项</td>
</tr>
<tr>
<td>display</td>
<td>string</td>
<td>展现形式</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>唯一标识</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>名字</td>
</tr>
</tbody>
</table>
<h3 id="status">status（节点状态）</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>WAIT</td>
<td>待处理</td>
<td></td>
</tr>
<tr>
<td>RUNNING</td>
<td>处理中</td>
<td></td>
</tr>
<tr>
<td>RECEIVING</td>
<td>待认领</td>
<td></td>
</tr>
<tr>
<td>DISTRIBUTING</td>
<td>待分派</td>
<td></td>
</tr>
<tr>
<td>TERMINATED</td>
<td>被终止</td>
<td></td>
</tr>
<tr>
<td>FINISHED</td>
<td>已结束</td>
<td></td>
</tr>
<tr>
<td>FAILED</td>
<td>执行失败</td>
<td></td>
</tr>
<tr>
<td>SUSPEND</td>
<td>被挂起</td>
<td></td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/itsm/get_tickets/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>获取单据</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>sns</td>
<td>array</td>
<td>否</td>
<td>根据单号列表过滤</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>否</td>
<td>根据单据创建人过滤</td>
</tr>
<tr>
<td>create_at__lte</td>
<td>string</td>
<td>否</td>
<td>创建时间大于或等于，格式："YYYY-MM-DD hh:mm:ss"</td>
</tr>
<tr>
<td>create_at__gte</td>
<td>string</td>
<td>否</td>
<td>创建时间小于或等于，格式："YYYY-MM-DD hh:mm:ss"</td>
</tr>
<tr>
<td>page</td>
<td>int</td>
<td>否</td>
<td>请求页码，默认为 1</td>
</tr>
<tr>
<td>page_size</td>
<td>int</td>
<td>否</td>
<td>每页数据量，默认为 10，最大 10000</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_app_secret&quot;: &quot;xxxx&quot;,
    &quot;bk_app_code&quot;: &quot;xxxx&quot;,
    &quot;bk_token&quot;: &quot;xxxx&quot;,
    &quot;sns&quot;: [&quot;NO2019091610001755&quot;],
    &quot;create_at__lte&quot;: &quot;2019-09-16 10:00:00&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: {
        &quot;page&quot;: 1,
        &quot;total_page&quot;: 1,
        &quot;count&quot;: 1,
        &quot;next&quot;: null,
        &quot;previous&quot;: null,
        &quot;items&quot;: [
            {
                &quot;id&quot;: 1,
                &quot;sn&quot;: &quot;NO2019091610001755&quot;,
                &quot;title&quot;: &quot;a&quot;,
                &quot;catalog_id&quot;: 3,
                &quot;service_id&quot;: 1,
                &quot;service_type&quot;: &quot;request&quot;,
                &quot;flow_id&quot;: 1,
                &quot;current_status&quot;: &quot;RUNNING&quot;,
                &quot;comment_id&quot;: &quot;&quot;,
                &quot;is_commented&quot;: false,
                &quot;updated_by&quot;: &quot;admin&quot;,
                &quot;update_at&quot;: &quot;2019-09-16 10:01:07&quot;,
                &quot;end_at&quot;: null,
                &quot;creator&quot;: &quot;admin&quot;,
                &quot;create_at&quot;: &quot;2019-09-16 10:00:17&quot;,
                &quot;bk_biz_id&quot;: -1,
                &quot;ticket_url&quot;: &quot;xxxx&quot;
            }
        ]
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>返回数据</td>
</tr>
</tbody>
</table>
<h3 id="data">data</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>返回数量</td>
</tr>
<tr>
<td>next</td>
<td>string</td>
<td>下一页链接</td>
</tr>
<tr>
<td>previous</td>
<td>string</td>
<td>前一页链接</td>
</tr>
<tr>
<td>items</td>
<td>array</td>
<td>单据数据列表</td>
</tr>
<tr>
<td>page</td>
<td>int</td>
<td>页码</td>
</tr>
<tr>
<td>total_page</td>
<td>int</td>
<td>总页数</td>
</tr>
</tbody>
</table>
<h3 id="items">items</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>单据 id</td>
</tr>
<tr>
<td>catalog_id</td>
<td>int</td>
<td>服务目录 id</td>
</tr>
<tr>
<td>service_id</td>
<td>int</td>
<td>服务 id</td>
</tr>
<tr>
<td>flow_id</td>
<td>int</td>
<td>流程版本 id</td>
</tr>
<tr>
<td>sn</td>
<td>string</td>
<td>单号</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>单据标题</td>
</tr>
<tr>
<td>current_status</td>
<td>string</td>
<td>单据当前状态</td>
</tr>
<tr>
<td>current_steps</td>
<td>array</td>
<td>单据当前步骤</td>
</tr>
<tr>
<td>comment_id</td>
<td>string</td>
<td>单据评价 id</td>
</tr>
<tr>
<td>is_commented</td>
<td>bool</td>
<td>单据是否已评价</td>
</tr>
<tr>
<td>updated_by</td>
<td>string</td>
<td>最近更新者</td>
</tr>
<tr>
<td>update_at</td>
<td>string</td>
<td>最近更新时间</td>
</tr>
<tr>
<td>end_at</td>
<td>string</td>
<td>结束时间</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>提单人</td>
</tr>
<tr>
<td>create_at</td>
<td>string</td>
<td>创建时间</td>
</tr>
<tr>
<td>is_biz_need</td>
<td>bool</td>
<td>是否与业务关联</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 id</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/itsm/operate_node/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>单据节点操作接口</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>sn</td>
<td>string</td>
<td>是</td>
<td>单号</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>单据节点处理人、单据节点认领人，必须在处理人范围内</td>
</tr>
<tr>
<td>state_id</td>
<td>int</td>
<td>是</td>
<td>节点 ID，必须是当前可处理的节点</td>
</tr>
<tr>
<td>action_type</td>
<td>string</td>
<td>是</td>
<td>操作类型： TRANSITION（审批）/CLAIM（认领）/DISTRIBUTE（派单）/DELIVER（转单） ）/TERMINATE（终止节点和单据）</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>否</td>
<td>审批表单字段列表（审批操作必填）</td>
</tr>
<tr>
<td>processors_type</td>
<td>string</td>
<td>否</td>
<td>被指定的处理人类型（分派和转单操作必填）： GENERAL（通用角色）/PERSON（个人）</td>
</tr>
<tr>
<td>processors</td>
<td>string</td>
<td>否</td>
<td>被指定的处理人（分派和转单操作必填）： processors_type 为 GENERAL 时，为角色 ID，否则为蓝鲸用户的 username</td>
</tr>
<tr>
<td>action_message</td>
<td>string</td>
<td>否</td>
<td>操作备注信息（转单和终止操作必填）</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例一：审批</h3>
<pre class="codehilite"><code class="language-json">{  
    &quot;bk_app_secret&quot;: &quot;xxxx&quot;, 
    &quot;bk_app_code&quot;: &quot;xxxx&quot;, 
    &quot;bk_token&quot;: &quot;xxxx&quot;,
    &quot;sn&quot;: &quot;NO2019110816441094&quot;,
    &quot;operator&quot;: &quot;zhangsan&quot;,
    &quot;action_type&quot;: &quot;TRANSITION&quot;,
    &quot;state_id&quot;: 4,
    &quot;fields&quot;: [{
        &quot;key&quot;: &quot;SHENPIJIEGUO&quot;,
        &quot;value&quot;: &quot;TONGYI&quot;
    },{
        &quot;key&quot;: &quot;SHENPIBEIZHU&quot;,
        &quot;value&quot;: &quot;hello&quot;
    }]  
}  </code></pre>


<h3 id="_8">请求参数示例二：转单</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;sn&quot;: &quot;NO2019110710341888&quot;,
    &quot;operator&quot;: &quot;zhangsan&quot;,
    &quot;action_type&quot;: &quot;DELIVER&quot;,
    &quot;action_message&quot;: &quot;test&quot;,
    &quot;processors&quot;: &quot;zhangsan&quot;,
    &quot;processors_type&quot;: &quot;PERSON&quot;,
    &quot;state_id&quot;: 4
} </code></pre>


<h3 id="_9">请求参数示例三：认领</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;sn&quot;: &quot;NO2019110816441094&quot;,
    &quot;operator&quot;: &quot;zhangsan&quot;,
    &quot;action_type&quot;: &quot;CLAIM&quot;,
    &quot;state_id&quot;: 4
}</code></pre>


<h3 id="_10">请求参数示例四：终止</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;sn&quot;: &quot;NO2019110816441094&quot;,
    &quot;operator&quot;: &quot;zhangsan&quot;,
    &quot;action_type&quot;: &quot;TERMINATE&quot;,
    &quot;action_message&quot;: &quot;test&quot;,
    &quot;state_id&quot;: 4
}</code></pre>


<h3 id="_11">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: [],
    &quot;result&quot;: true
}</code></pre>


<h3 id="_12">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>返回数据</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/itsm/operate_ticket/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>单据操作接口</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>sn</td>
<td>string</td>
<td>是</td>
<td>单号</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>单据处理人，必须在处理人范围内</td>
</tr>
<tr>
<td>action_type</td>
<td>string</td>
<td>是</td>
<td>操作类型：SUSPEND（挂起）/UNSUSPEND（恢复）/WITHDRAW（撤销）/TERMINATE（终止）</td>
</tr>
<tr>
<td>action_message</td>
<td>string</td>
<td>否</td>
<td>操作备注信息（挂起和终止操作必填）</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例一：挂起</h3>
<pre class="codehilite"><code class="language-json">{  
    &quot;bk_app_secret&quot;: &quot;xxxx&quot;, 
    &quot;bk_app_code&quot;: &quot;xxxx&quot;, 
    &quot;bk_token&quot;: &quot;xxxx&quot;, 
    &quot;sn&quot;: &quot;NO2019100818365320&quot;,
    &quot;operator&quot;: &quot;zhangsan&quot;,
    &quot;action_type&quot;: &quot;SUSPEND&quot;,
    &quot;action_message&quot;: &quot;test&quot;
}</code></pre>


<h3 id="_8">请求参数示例二：恢复</h3>
<pre class="codehilite"><code class="language-json">{  
    &quot;sn&quot;: &quot;NO2019100818365320&quot;,
    &quot;operator&quot;: &quot;zhangsan&quot;,
    &quot;action_type&quot;: &quot;UNSUSPEND&quot;,
    &quot;action_message&quot;: &quot;test&quot;
}</code></pre>


<h3 id="_9">请求参数示例三：撤单</h3>
<pre class="codehilite"><code class="language-json">{  
    &quot;sn&quot;: &quot;NO2019100818365320&quot;,
    &quot;operator&quot;: &quot;zhangsan&quot;,
   &quot;action_type&quot;: &quot;WITHDRAW&quot;,
   &quot;action_message&quot;: &quot;test&quot;
}</code></pre>


<h3 id="_10">请求参数示例四：终止</h3>
<pre class="codehilite"><code class="language-json">{  
    &quot;sn&quot;: &quot;NO2019100818365320&quot;,
    &quot;operator&quot;: &quot;zhangsan&quot;,
   &quot;action_type&quot;: &quot;TERMINATE&quot;,
   &quot;action_message&quot;: &quot;test&quot;
}</code></pre>


<h3 id="_11">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: [],
    &quot;result&quot;: true
}</code></pre>


<h3 id="_12">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>返回数据</td>
</tr>
</tbody>
</table><h2 id="api">蓝鲸日志平台 API 简介</h2>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="./esquery_search.md">esquery_search</a></td>
<td>日志查询接口</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/log_search/esquery_search/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>日志查询接口</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>indices</td>
<td>string</td>
<td>是</td>
<td>索引列表</td>
</tr>
<tr>
<td>scenario_id</td>
<td>string</td>
<td>否</td>
<td>ES 接入场景(非必填） 默认为 log，蓝鲸计算平台：bkdata 原生 ES：es 日志采集：log</td>
</tr>
<tr>
<td>storage_cluster_id</td>
<td>int</td>
<td>否</td>
<td>当 scenario_id 为 es 或 log 时候需要传入</td>
</tr>
<tr>
<td>time_field</td>
<td>string</td>
<td>否</td>
<td>时间字段（非必填，bkdata 内部为 dtEventTimeStamp，外部如果传入时间范围需要指定时间字段）</td>
</tr>
<tr>
<td>start_time</td>
<td>string</td>
<td>否</td>
<td>开始时间</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>否</td>
<td>结束时间</td>
</tr>
<tr>
<td>time_range</td>
<td>string</td>
<td>否</td>
<td>时间标识符符["15m", "30m", "1h", "4h", "12h", "1d", "customized"]（非必填，默认 15m）</td>
</tr>
<tr>
<td>query_string</td>
<td>string</td>
<td>否</td>
<td>搜索语句 query_string(非必填，默认为*)</td>
</tr>
<tr>
<td>filter</td>
<td>list</td>
<td>否</td>
<td>搜索过滤条件（非必填，默认为没有过滤，默认的操作符是 is） 操作符支持 is、is one of、is not、is not one of</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>起始位置（非必填，类似数组切片，默认为 0）</td>
</tr>
<tr>
<td>size</td>
<td>int</td>
<td>否</td>
<td>条数（非必填，控制返回条目，默认为 500）</td>
</tr>
<tr>
<td>aggs</td>
<td>dict</td>
<td>否</td>
<td>ES 的聚合参数</td>
</tr>
<tr>
<td>highlight</td>
<td>dict</td>
<td>否</td>
<td>高亮参数</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;indices&quot;: &quot;index_a,index_b,&quot;,
    &quot;scenario_id&quot;: &quot;bkdata&quot;,
    &quot;start_time&quot;: &quot;2019-06-11 00:00:00&quot;,
    &quot;end_time&quot;: &quot;2019-06-12 11:11:11&quot;,
    &quot;time_range&quot;: &quot;customized&quot;,
    &quot;keyword&quot;: &quot;error&quot;,
    &quot;filter&quot;: [
        {
            &quot;field&quot;: &quot;ip&quot;,
            &quot;operator&quot;: &quot;is&quot;,
            &quot;value&quot;: &quot;127.0.0.1&quot;
        }
    ],
    &quot;sort_list&quot;: [
        [&quot;field_a&quot;, &quot;desc&quot;],
        [&quot;field_b&quot;, &quot;asc&quot;]
    ],
    &quot;start&quot;: 0,
    &quot;size&quot;: 15,
    &quot;aggs&quot;: {
        &quot;docs_per_minute&quot;: {
            &quot;date_histogram&quot;: {
                &quot;field&quot;: &quot;dtEventTimeStamp&quot;,
                &quot;interval&quot;: &quot;1m&quot;,
                &quot;time_zone&quot;: &quot;+08: 00&quot;
            }
        },
        &quot;top_ip&quot;: {
            &quot;terms&quot;: {
                &quot;field&quot;: &quot;ip&quot;,
                &quot;size&quot;: 5
            }
        }
    },
    &quot;highlight&quot;: {
        &quot;pre_tags&quot;: [
            &quot;&lt;mark&gt;&quot;
        ],
        &quot;post_tags&quot;: [
            &quot;&lt;/mark&gt;&quot;
        ],
        &quot;fields&quot;: {
            &quot;*&quot;: {
            }
        },
        &quot;require_field_match&quot;: false
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;message&quot;: &quot;查询成功&quot;,
    &quot;data&quot;: {
        &quot;hits&quot;: {
            &quot;hits&quot;: [
                {
                    &quot;_score&quot;: 2,
                    &quot;_type&quot;: &quot;xx&quot;,
                    &quot;_id&quot;: &quot;xxx&quot;,
                    &quot;_source&quot;: {
                        &quot;dtEventTimeStamp&quot;: 1565453112000,
                        &quot;report_time&quot;: &quot;2019-08-11 00:05:12&quot;,
                        &quot;log&quot;: &quot;xxxxxx&quot;,
                        &quot;ip&quot;: &quot;127.0.0.1&quot;,
                        &quot;gseindex&quot;: 5857918,
                        &quot;_iteration_idx&quot;: 3,
                        &quot;path&quot;: &quot;xxxxx&quot;
                    },
                    &quot;_index&quot;: &quot;xxxxxxxx&quot;
                },
                {
                    &quot;_score&quot;: 2,
                    &quot;_type&quot;: &quot;xxxx&quot;,
                    &quot;_id&quot;: &quot;xxxxx&quot;,
                    &quot;_source&quot;: {
                        &quot;dtEventTimeStamp&quot;: 1565453113000,
                        &quot;report_time&quot;: &quot;2019-08-11 00:05:13&quot;,
                        &quot;log&quot;: &quot;xxxxxxx&quot;,
                        &quot;ip&quot;: &quot;127.0.0.1&quot;,
                        &quot;gseindex&quot;: 5857921,
                        &quot;_iteration_idx&quot;: 2,
                        &quot;path&quot;: &quot;xxxxxxxxx&quot;
                    },
                    &quot;_index&quot;: &quot;xxxxxxx&quot;
                }
            ],
            &quot;total&quot;: 8429903,
            &quot;max_score&quot;: 2
        },
        &quot;_shards&quot;: {
            &quot;successful&quot;: 9,
            &quot;failed&quot;: 0,
            &quot;total&quot;: 9
        },
        &quot;took&quot;: 136,
        &quot;timed_out&quot;: false
    },
    &quot;code&quot;: 0
}</code></pre><h2 id="api">蓝鲸监控 API 简介</h2>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="./add_shield.md">add_shield</a></td>
<td>新增告警屏蔽</td>
</tr>
<tr>
<td><a href="./delete_alarm_strategy.md">delete_alarm_strategy</a></td>
<td>删除告警策略</td>
</tr>
<tr>
<td><a href="./delete_notice_group.md">delete_notice_group</a></td>
<td>删除通知组</td>
</tr>
<tr>
<td><a href="./disable_shield.md">disable_shield</a></td>
<td>解除告警屏蔽</td>
</tr>
<tr>
<td><a href="./edit_shield.md">edit_shield</a></td>
<td>编辑告警屏蔽</td>
</tr>
<tr>
<td><a href="./export_uptime_check_task.md">export_uptime_check_task</a></td>
<td>导出拨测任务配置</td>
</tr>
<tr>
<td><a href="./get_collect_config_list.md">get_collect_config_list</a></td>
<td>采集配置列表</td>
</tr>
<tr>
<td><a href="./get_collect_status.md">get_collect_status</a></td>
<td>查询采集配置节点状态</td>
</tr>
<tr>
<td><a href="./get_es_data.md">get_es_data</a></td>
<td>获取监控链路时序数据</td>
</tr>
<tr>
<td><a href="./get_event_log.md">get_event_log</a></td>
<td>查询事件流转记录</td>
</tr>
<tr>
<td><a href="./get_shield.md">get_shield</a></td>
<td>获取告警屏蔽</td>
</tr>
<tr>
<td><a href="./get_ts_data.md">get_ts_data</a></td>
<td>获取 ES 数据</td>
</tr>
<tr>
<td><a href="./get_uptime_check_node_list.md">get_uptime_check_node_list</a></td>
<td>拨测节点列表</td>
</tr>
<tr>
<td><a href="./get_uptime_check_task_list.md">get_uptime_check_task_list</a></td>
<td>拨测任务列表</td>
</tr>
<tr>
<td><a href="./import_uptime_check_node.md">import_uptime_check_node</a></td>
<td>导入拨测节点配置</td>
</tr>
<tr>
<td><a href="./import_uptime_check_task.md">import_uptime_check_task</a></td>
<td>导入拨测任务配置</td>
</tr>
<tr>
<td><a href="./list_shield.md">list_shield</a></td>
<td>获取告警屏蔽列表</td>
</tr>
<tr>
<td><a href="./metadata_create_cluster_info.md">metadata_create_cluster_info</a></td>
<td>创建存储集群信息</td>
</tr>
<tr>
<td><a href="./metadata_create_data_id.md">metadata_create_data_id</a></td>
<td>创建监控数据源</td>
</tr>
<tr>
<td><a href="./metadata_create_event_group.md">metadata_create_event_group</a></td>
<td>创建事件分组</td>
</tr>
<tr>
<td><a href="./metadata_create_result_table.md">metadata_create_result_table</a></td>
<td>创建监控结果表</td>
</tr>
<tr>
<td><a href="./metadata_create_result_table_metric_split.md">metadata_create_result_table_metric_split</a></td>
<td>创建结果表的维度拆分配置</td>
</tr>
<tr>
<td><a href="./metadata_create_time_series_group.md">metadata_create_time_series_group</a></td>
<td>创建自定义时序分组</td>
</tr>
<tr>
<td><a href="./metadata_delete_event_group.md">metadata_delete_event_group</a></td>
<td>删除事件分组</td>
</tr>
<tr>
<td><a href="./metadata_delete_time_series_group.md">metadata_delete_time_series_group</a></td>
<td>删除自定义时序分组</td>
</tr>
<tr>
<td><a href="./metadata_get_cluster_info.md">metadata_get_cluster_info</a></td>
<td>查询指定存储集群信息</td>
</tr>
<tr>
<td><a href="./metadata_get_data_id.md">metadata_get_data_id</a></td>
<td>获取监控数据源具体信息</td>
</tr>
<tr>
<td><a href="./metadata_get_event_group.md">metadata_get_event_group</a></td>
<td>查询事件分组具体内容</td>
</tr>
<tr>
<td><a href="./metadata_get_result_table.md">metadata_get_result_table</a></td>
<td>获取监控结果表具体信息</td>
</tr>
<tr>
<td><a href="./metadata_get_result_table_storage.md">metadata_get_result_table_storage</a></td>
<td>查询指定结果表的指定存储信息</td>
</tr>
<tr>
<td><a href="./metadata_get_time_series_group.md">metadata_get_time_series_group</a></td>
<td>获取自定义时序分组具体内容</td>
</tr>
<tr>
<td><a href="./metadata_get_time_series_metrics.md">metadata_get_time_series_metrics</a></td>
<td>获取自定义时序结果表的 metrics 信息</td>
</tr>
<tr>
<td><a href="./metadata_list_label.md">metadata_list_label</a></td>
<td>查询当前已有的标签信息</td>
</tr>
<tr>
<td><a href="./metadata_list_result_table.md">metadata_list_result_table</a></td>
<td>查询监控结果表</td>
</tr>
<tr>
<td><a href="./metadata_modify_cluster_info.md">metadata_modify_cluster_info</a></td>
<td>修改存储集群信息</td>
</tr>
<tr>
<td><a href="./metadata_modify_data_id.md">metadata_modify_data_id</a></td>
<td>修改指定数据源的配置信息</td>
</tr>
<tr>
<td><a href="./metadata_modify_event_group.md">metadata_modify_event_group</a></td>
<td>修改事件分组</td>
</tr>
<tr>
<td><a href="./metadata_modify_result_table.md">metadata_modify_result_table</a></td>
<td>修改监控结果表</td>
</tr>
<tr>
<td><a href="./metadata_modify_time_series_group.md">metadata_modify_time_series_group</a></td>
<td>修改自定义时序分组</td>
</tr>
<tr>
<td><a href="./metadata_query_event_group.md">metadata_query_event_group</a></td>
<td>创建事件分组</td>
</tr>
<tr>
<td><a href="./metadata_query_tag_values.md">metadata_query_tag_values</a></td>
<td>获取自定义时序分组具体内容</td>
</tr>
<tr>
<td><a href="./metadata_query_time_series_group.md">metadata_query_time_series_group</a></td>
<td>查询事件分组</td>
</tr>
<tr>
<td><a href="./metadata_upgrade_result_table.md">metadata_upgrade_result_table</a></td>
<td>将指定的监控单业务结果表升级为全业务结果表</td>
</tr>
<tr>
<td><a href="./query_collect_config.md">query_collect_config</a></td>
<td>查询采集配置</td>
</tr>
<tr>
<td><a href="./save_alarm_strategy.md">save_alarm_strategy</a></td>
<td>保存告警策略</td>
</tr>
<tr>
<td><a href="./save_collect_config.md">save_collect_config</a></td>
<td>创建/保存采集配置</td>
</tr>
<tr>
<td><a href="./save_notice_group.md">save_notice_group</a></td>
<td>保存通知组</td>
</tr>
<tr>
<td><a href="./search_alarm_strategy.md">search_alarm_strategy</a></td>
<td>查询告警策略</td>
</tr>
<tr>
<td><a href="./search_event.md">search_event</a></td>
<td>查询事件</td>
</tr>
<tr>
<td><a href="./search_notice_group.md">search_notice_group</a></td>
<td>查询通知组</td>
</tr>
<tr>
<td><a href="./switch_alarm_strategy.md">switch_alarm_strategy</a></td>
<td>启停告警策略</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/add_shield/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建屏蔽配置</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>category</td>
<td>string</td>
<td>是</td>
<td>屏蔽类型</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>是</td>
<td>说明</td>
</tr>
<tr>
<td>begin_time</td>
<td>string</td>
<td>是</td>
<td>开始时间</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>是</td>
<td>结束时间</td>
</tr>
<tr>
<td>cycle_config</td>
<td>dict</td>
<td>是</td>
<td>屏蔽配置</td>
</tr>
<tr>
<td>shield_notice</td>
<td>bool</td>
<td>是</td>
<td>是否发送屏蔽通知</td>
</tr>
<tr>
<td>notice_config</td>
<td>dict</td>
<td>否</td>
<td>通知配置</td>
</tr>
<tr>
<td>dimension_config</td>
<td>dict</td>
<td>是</td>
<td>屏蔽维度</td>
</tr>
</tbody>
</table>
<h4 id="cycleconfig">屏蔽配置(CycleConfig)</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>begin_time</td>
<td>string</td>
<td>否</td>
<td>开始时间(每天)</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>否</td>
<td>结束时间(每天)</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>是</td>
<td>屏蔽周期类型</td>
</tr>
<tr>
<td>day_list</td>
<td>list</td>
<td>否</td>
<td>周期为月时，需要屏蔽的天</td>
</tr>
<tr>
<td>week_list</td>
<td>list</td>
<td>否</td>
<td>周期为星期是，需要屏蔽的天</td>
</tr>
</tbody>
</table>
<h4 id="noticeconfig">通知配置(NoticeConfig)</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>notice_time</td>
<td>int</td>
<td>是</td>
<td>屏蔽开始/结束前 N 分钟通知</td>
</tr>
<tr>
<td>notice_way</td>
<td>list</td>
<td>是</td>
<td>通知类型</td>
</tr>
<tr>
<td>notice_receiver</td>
<td>list</td>
<td>是</td>
<td>通知人</td>
</tr>
</tbody>
</table>
<h4 id="_7">示例数据</h4>
<p>基于范围的屏蔽</p>
<pre class="codehilite"><code class="language-json">{
  &quot;category&quot;:&quot;scope&quot;,
  &quot;begin_time&quot;:&quot;2019-11-21 00:00:00&quot;,
  &quot;end_time&quot;:&quot;2019-11-23 23:59:59&quot;,
  &quot;cycle_config&quot;:{
    &quot;begin_time&quot;:&quot;&quot;,
    &quot;end_time&quot;:&quot;&quot;,
    &quot;day_list&quot;:[],
    &quot;week_list&quot;:[],
    &quot;type&quot;:1
  },
  &quot;shield_notice&quot;:true,
  &quot;notice_config&quot;:{
    &quot;notice_time&quot;:5,
    &quot;notice_way&quot;:[&quot;weixin&quot;],
    &quot;notice_receiver&quot;:[
      {
        &quot;id&quot;:&quot;user1&quot;,
        &quot;type&quot;:&quot;user&quot;
      }
    ]
  },
  &quot;description&quot;:&quot;test&quot;,
  &quot;dimension_config&quot;:{
    &quot;scope_type&quot;:&quot;instance&quot;,
    &quot;target&quot;:[8]
  },
  &quot;bk_biz_id&quot;:2
}</code></pre>


<p>基于策略的屏蔽</p>
<pre class="codehilite"><code class="language-json">{
  &quot;category&quot;:&quot;scope&quot;,
  &quot;begin_time&quot;:&quot;2019-11-21 00:00:00&quot;,
  &quot;end_time&quot;:&quot;2019-11-23 23:59:59&quot;,
  &quot;cycle_config&quot;:{
    &quot;begin_time&quot;:&quot;&quot;,
    &quot;end_time&quot;:&quot;&quot;,
    &quot;day_list&quot;:[],
    &quot;week_list&quot;:[],
    &quot;type&quot;:1
  },
  &quot;shield_notice&quot;:true,
  &quot;notice_config&quot;:{
    &quot;notice_time&quot;:5,
    &quot;notice_way&quot;:[&quot;weixin&quot;],
    &quot;notice_receiver&quot;:[
      {
        &quot;id&quot;:&quot;user1&quot;,
        &quot;type&quot;:&quot;user&quot;
      }
    ]
  },
  &quot;description&quot;:&quot;test&quot;,
  &quot;dimension_config&quot;:{
    &quot;id&quot;: 1,
    &quot;level&quot;:[1]
  },
  &quot;bk_biz_id&quot;:2
}</code></pre>


<h3 id="_8">响应参数</h3>
<h4 id="_9">示例数据</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;message&quot;: &quot;OK&quot;,
  &quot;code&quot;: &quot;0&quot;,
  &quot;data&quot;: {
    &quot;id&quot;: 1
  },
  &quot;result&quot;: true
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/delete_alarm_strategy/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除告警策略</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td align="left">id</td>
<td>int</td>
<td>是</td>
<td>告警策略 ID</td>
</tr>
</tbody>
</table>
<h4 id="_7">示例数据</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;bk_biz_id&quot;: 2,
  &quot;id&quot;: 1
}</code></pre>


<h3 id="_8">响应参数</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;message&quot;: &quot;OK&quot;,
  &quot;code&quot;: &quot;0&quot;,
  &quot;data&quot;: null,
  &quot;result&quot;: true
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/delete_notice_group/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除告警组</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ids</td>
<td>list</td>
<td>否</td>
<td>通知组 ID</td>
</tr>
</tbody>
</table>
<h4 id="_7">示例数据</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;ids&quot;: [1]
}</code></pre>


<h3 id="_8">响应参数</h3>
<h4 id="_9">示例数据</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;message&quot;: &quot;OK&quot;,
  &quot;code&quot;: &quot;0&quot;,
  &quot;data&quot;: null,
  &quot;result&quot;: true
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/disable_shield/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除屏蔽配置</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_7">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>是</td>
<td>屏蔽 ID</td>
</tr>
</tbody>
</table>
<pre class="codehilite"><code class="language-json">{
  &quot;id&quot;: 1
}</code></pre>


<h3 id="_8">响应参数</h3>
<h4 id="_9">示例数据</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;result&quot;: true,
  &quot;message&quot;: &quot;&quot;,
  &quot;data&quot;: &quot;&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/edit_shield/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>编辑屏蔽配置</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>category</td>
<td>string</td>
<td>是</td>
<td>屏蔽类型</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>是</td>
<td>说明</td>
</tr>
<tr>
<td>begin_time</td>
<td>string</td>
<td>是</td>
<td>开始时间</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>是</td>
<td>结束时间</td>
</tr>
<tr>
<td>cycle_config</td>
<td>dict</td>
<td>是</td>
<td>屏蔽配置</td>
</tr>
<tr>
<td>shield_notice</td>
<td>bool</td>
<td>是</td>
<td>是否发送屏蔽通知</td>
</tr>
<tr>
<td>notice_config</td>
<td>dict</td>
<td>否</td>
<td>通知配置</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>是</td>
<td>屏蔽 ID</td>
</tr>
<tr>
<td>level</td>
<td>int</td>
<td>否</td>
<td>屏蔽策略的等级</td>
</tr>
</tbody>
</table>
<h4 id="cycleconfig">屏蔽配置(CycleConfig)</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>begin_time</td>
<td>string</td>
<td>否</td>
<td>开始时间(每天)</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>否</td>
<td>结束时间(每天)</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>是</td>
<td>屏蔽周期类型</td>
</tr>
<tr>
<td>day_list</td>
<td>list</td>
<td>否</td>
<td>周期为月时，需要屏蔽的天</td>
</tr>
<tr>
<td>week_list</td>
<td>list</td>
<td>否</td>
<td>周期为星期是，需要屏蔽的天</td>
</tr>
</tbody>
</table>
<h4 id="noticeconfig">通知配置(NoticeConfig)</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>notice_time</td>
<td>int</td>
<td>是</td>
<td>屏蔽开始/结束前 N 分钟通知</td>
</tr>
<tr>
<td>notice_way</td>
<td>list</td>
<td>是</td>
<td>通知类型</td>
</tr>
<tr>
<td>notice_receiver</td>
<td>list</td>
<td>是</td>
<td>通知人</td>
</tr>
</tbody>
</table>
<h4 id="_7">示例数据</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;category&quot;:&quot;scope&quot;,
  &quot;begin_time&quot;:&quot;2019-11-21 00:00:00&quot;,
  &quot;end_time&quot;:&quot;2019-11-23 23:59:59&quot;,
  &quot;cycle_config&quot;:{
    &quot;begin_time&quot;:&quot;&quot;,
    &quot;end_time&quot;:&quot;&quot;,
    &quot;day_list&quot;:[],
    &quot;week_list&quot;:[],
    &quot;type&quot;:1
  },
  &quot;shield_notice&quot;:true,
  &quot;notice_config&quot;:{
    &quot;notice_time&quot;:5,
    &quot;notice_way&quot;:[&quot;weixin&quot;],
    &quot;notice_receiver&quot;:[
      {
        &quot;id&quot;:&quot;user1&quot;,
        &quot;type&quot;:&quot;user&quot;
      }
    ]
  },
  &quot;description&quot;:&quot;test&quot;,
  &quot;bk_biz_id&quot;:2
}</code></pre>


<h3 id="_8">响应参数</h3>
<h4 id="_9">示例数据</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;message&quot;: &quot;OK&quot;,
  &quot;code&quot;: &quot;0&quot;,
  &quot;data&quot;: {
    &quot;id&quot;: 1
  },
  &quot;result&quot;: true
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/export_uptime_check_task/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>拨测任务配置导出</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h3 id="_5">请求参数</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 id</td>
</tr>
<tr>
<td>protocol</td>
<td>str</td>
<td>否</td>
<td>协议类型(TCP、UDP、HTTP)</td>
</tr>
<tr>
<td>task_ids</td>
<td>str</td>
<td>否</td>
<td>任务 ID，多个任务以逗号分隔</td>
</tr>
<tr>
<td>node_conf_needed</td>
<td>int</td>
<td>否</td>
<td>是否导出任务相关的节点配置信息，0 或 1,默认为 1</td>
</tr>
</tbody>
</table>
<h3 id="_6">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
     biz_id: 2,
     task_ids: &quot;60&quot;,
     protocol: &quot;TCP&quot;,
}</code></pre>


<h3 id="_7">返回参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;message&quot;: &quot;OK&quot;,
    &quot;code&quot;: 200,
    &quot;data&quot;: [
        {
            &quot;target_conf&quot;: {
                &quot;bk_biz_id&quot;: 0,
                &quot;node_id_list&quot;: [],
                &quot;node_list&quot;: [
                    {
                        &quot;node_conf&quot;: {
                            &quot;carrieroperator&quot;: &quot;内网&quot;,
                            &quot;location&quot;: {
                                &quot;country&quot;: &quot;中国&quot;,
                                &quot;city&quot;: &quot;广东&quot;
                            },
                            &quot;name&quot;: &quot;中国广东内网&quot;,
                            &quot;is_common&quot;: false
                        },
                        &quot;target_conf&quot;: {
                            &quot;bk_biz_id&quot;: 0,
                            &quot;ip&quot;: &quot;&quot;,
                            &quot;bk_cloud_id&quot;: 0
                        }
                    },
                    {
                        &quot;node_conf&quot;: {
                            &quot;carrieroperator&quot;: &quot;内网&quot;,
                            &quot;location&quot;: {
                                &quot;country&quot;: &quot;中国&quot;,
                                &quot;city&quot;: &quot;广东&quot;
                            },
                            &quot;name&quot;: &quot;中国广东内网&quot;,
                            &quot;is_common&quot;: false
                        },
                        &quot;target_conf&quot;: {
                            &quot;bk_biz_id&quot;: 0,
                            &quot;ip&quot;: &quot;&quot;,
                            &quot;bk_cloud_id&quot;: 0
                        }
                    }
                ]
            },
            &quot;collector_conf&quot;: {
                &quot;config&quot;: {
                    &quot;ip_list&quot;: [
                        &quot;10.0.2.13&quot;
                    ],
                    &quot;period&quot;: 1,
                    &quot;response_format&quot;: &quot;in&quot;,
                    &quot;port&quot;: 3306,
                    &quot;timeout&quot;: 2900,
                    &quot;response&quot;: null
                },
                &quot;protocol&quot;: &quot;TCP&quot;,
                &quot;name&quot;: &quot;test_tcp1&quot;,
                &quot;groups&quot;: &quot;未分类&quot;,
                &quot;location&quot;: {
                    &quot;bk_state_name&quot;: &quot;中国&quot;,
                    &quot;bk_province_name&quot;: &quot;北京&quot;
                }
            },
            &quot;monitor_conf&quot;: [
                {
                    &quot;alarm_level_config&quot;: {
                        &quot;2&quot;: {
                            &quot;notify_way&quot;: [
                                &quot;mail&quot;
                            ],
                            &quot;role_list&quot;: [
                                &quot;Tester&quot;
                            ],
                            &quot;monitor_level&quot;: 2,
                            &quot;alarm_end_time&quot;: &quot;23:59&quot;,
                            &quot;responsible&quot;: [],
                            &quot;detect_algorithm&quot;: [
                                {
                                    &quot;config&quot;: {
                                        &quot;threshold&quot;: 10,
                                        &quot;message&quot;: &quot;&quot;,
                                        &quot;method&quot;: &quot;gte&quot;
                                    },
                                    &quot;algorithm_id&quot;: 1000
                                }
                            ],
                            &quot;phone_receiver&quot;: [],
                            &quot;alarm_start_time&quot;: &quot;00:00&quot;,
                            &quot;is_recovery&quot;: false
                        }
                    },
                    &quot;monitor_target&quot;: &quot;available&quot;,
                    &quot;unit&quot;: &quot;%&quot;,
                    &quot;display_name&quot;: &quot;\&quot;test_tcp1\&quot;节点平均值可用率&quot;,
                    &quot;node_count&quot;: 0,
                    &quot;is_enabled&quot;: true,
                    &quot;nodata_alarm&quot;: 0,
                    &quot;rules&quot;: {
                        &quot;count&quot;: 1,
                        &quot;alarm_window&quot;: 1440,
                        &quot;check_window&quot;: 5
                    },
                    &quot;is_classify_notice&quot;: false,
                    &quot;where_sql&quot;: &quot;&quot;,
                    &quot;condition&quot;: [
                        []
                    ],
                    &quot;bk_biz_id&quot;: 2,
                    &quot;scenario&quot;: &quot;uptimecheck&quot;,
                    &quot;monitor_id&quot;: 0,
                    &quot;alarm_strategy_id&quot;: 0,
                    &quot;is_recovery&quot;: false
                }
            ]
        }
    ],
    &quot;result&quot;: true
}</code></pre>


<h3 id="_8">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，200 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>结果</td>
</tr>
</tbody>
</table>
<h4 id="1data">1、data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>conf_list</td>
<td>list</td>
<td>配置列表</td>
</tr>
</tbody>
</table>
<h3 id="11-conf_list">1.1 配置列表--conf_list</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>collector_conf</td>
<td>dict</td>
<td>拨测任务基础配置</td>
</tr>
<tr>
<td>target_conf</td>
<td>dict</td>
<td>拨测任务下发配置</td>
</tr>
<tr>
<td>monitor_conf</td>
<td>dict</td>
<td>拨测任务对应的监控策略</td>
</tr>
</tbody>
</table>
<h4 id="111-dataconf_listcollector_conf">1.1.1 拨测任务基础配置--data.conf_list.collector_conf</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>location</td>
<td>dict</td>
<td>拨测目标所在地址</td>
</tr>
<tr>
<td>groups</td>
<td>str</td>
<td>拨测任务所属分组</td>
</tr>
<tr>
<td>name</td>
<td>str</td>
<td>拨测任务名称</td>
</tr>
<tr>
<td>protocol</td>
<td>str</td>
<td>拨测任务协议类型</td>
</tr>
<tr>
<td>config</td>
<td>dict</td>
<td>拨测任务详细配置</td>
</tr>
</tbody>
</table>
<h4 id="1111-tcp-dataconf_listcollector_confconfigtcpudp">1.1.1.1 拨测任务基础配置详细配置(TCP)--data.conf_list.collector_conf.config(TCP、UDP)</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip_list</td>
<td>list</td>
<td>目标 IP 地址</td>
</tr>
<tr>
<td>port</td>
<td>int</td>
<td>端口地址</td>
</tr>
<tr>
<td>period</td>
<td>int</td>
<td>采集周期，单位 min</td>
</tr>
<tr>
<td>response_format</td>
<td>str</td>
<td>响应信息匹配方式(包含：in，不包含：nin，正则：reg)</td>
</tr>
<tr>
<td>response</td>
<td>str</td>
<td>期望响应内容</td>
</tr>
<tr>
<td>response_code</td>
<td>str</td>
<td>期望响应码</td>
</tr>
</tbody>
</table>
<h3 id="http-config">http 任务返回的 config 示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;config&quot;: {
        &quot;insecure_skip_verify&quot;: true,
        &quot;urls&quot;: &quot;http://baidu.com&quot;,
        &quot;response_code&quot;: &quot;&quot;,
        &quot;request&quot;: null,
        &quot;period&quot;: 1,
        &quot;response_format&quot;: &quot;in&quot;,
        &quot;method&quot;: &quot;GET&quot;,
        &quot;headers&quot;: [],
        &quot;timeout&quot;: 3000,
        &quot;response&quot;: null
    }
}</code></pre>


<h4 id="1112-http-dataconf_listcollector_confconfighttp">1.1.1.2 拨测任务基础配置详细配置(HTTP)--data.conf_list.collector_conf.config(HTTP)</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>urls</td>
<td>str</td>
<td>url</td>
</tr>
<tr>
<td>method</td>
<td>str</td>
<td>请求方式</td>
</tr>
<tr>
<td>headers</td>
<td>list</td>
<td>请求头</td>
</tr>
<tr>
<td>insecure_skip_verify</td>
<td>bool</td>
<td>是否开启 ssh 验证</td>
</tr>
<tr>
<td>period</td>
<td>int</td>
<td>采集周期，单位 min</td>
</tr>
<tr>
<td>response_format</td>
<td>str</td>
<td>响应信息匹配方式(包含：in，不包含：nin，正则：reg)</td>
</tr>
<tr>
<td>response</td>
<td>str</td>
<td>期望响应内容</td>
</tr>
<tr>
<td>response_code</td>
<td>str</td>
<td>期望响应码</td>
</tr>
</tbody>
</table>
<h4 id="1113-dataconf_listcollector_conflocation">1.1.1.3 拨测目标所在地址--data.conf_list.collector_conf.location</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_state_name</td>
<td>str</td>
<td>国家</td>
</tr>
<tr>
<td>bk_province_name</td>
<td>str</td>
<td>省份</td>
</tr>
</tbody>
</table>
<h4 id="112-dataconf_listtarget_conf">1.1.2 拨测任务下发配置--data.conf_list.target_conf</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>node_list</td>
<td>list</td>
<td>任务关联的节点信息</td>
</tr>
</tbody>
</table>
<h4 id="1121-dataconf_listtarget_confnode_list">1.1.2.1 任务关联的节点信息--data.conf_list.target_conf.node_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>node_conf</td>
<td>dict</td>
<td>节点配置信息</td>
</tr>
<tr>
<td>target_conf</td>
<td>dict</td>
<td>节点下发信息</td>
</tr>
</tbody>
</table>
<h4 id="11211-dataconf_listtarget_confnode_listtarget_conf">1.1.2.1.1 节点下发信息--data.conf_list.target_conf.node_list.target_conf</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>节点所属业务</td>
</tr>
<tr>
<td>ip</td>
<td>str</td>
<td>节点 IP</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>节点云区域 ID</td>
</tr>
</tbody>
</table>
<h4 id="11212-dataconf_listtarget_confnode_listnode_conf">1.1.2.1.2 节点配置信息--data.conf_list.target_conf.node_list.node_conf</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>carrieroperator</td>
<td>str</td>
<td>运营商信息</td>
</tr>
<tr>
<td>name</td>
<td>str</td>
<td>节点名称</td>
</tr>
<tr>
<td>is_common</td>
<td>bool</td>
<td>是否为通用节点</td>
</tr>
<tr>
<td>location</td>
<td>dict</td>
<td>节点所在区域</td>
</tr>
</tbody>
</table>
<h4 id="112121-dataconf_listtarget_confnode_listnode_conflocation">1.1.2.1.2.1 节点所在区域--data.conf_list.target_conf.node_list.node_conf.location</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>country</td>
<td>str</td>
<td>国家</td>
</tr>
<tr>
<td>city</td>
<td>str</td>
<td>省份</td>
</tr>
</tbody>
</table>
<h4 id="113-dataconf_listmonitor_conf">1.1.3 节点所在区域--data.conf_list.monitor_conf</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>alarm_level_config</td>
<td>dict</td>
<td>监控触发条件配置</td>
</tr>
<tr>
<td>monitor_target</td>
<td>str</td>
<td>监控目标字段</td>
</tr>
<tr>
<td>unit</td>
<td>str</td>
<td>单位</td>
</tr>
<tr>
<td>display_name</td>
<td>str</td>
<td>监控名称</td>
</tr>
<tr>
<td>node_count</td>
<td>int</td>
<td>节点数</td>
</tr>
<tr>
<td>is_enabled</td>
<td>bool</td>
<td>是否启用</td>
</tr>
<tr>
<td>nodata_alarm</td>
<td>int</td>
<td>无数据告警</td>
</tr>
<tr>
<td>rules</td>
<td>dict</td>
<td>告警收敛配置</td>
</tr>
<tr>
<td>is_classify_notice</td>
<td>bool</td>
<td>是否分级告警</td>
</tr>
<tr>
<td>where_sql</td>
<td>str</td>
<td>监控源查询条件</td>
</tr>
<tr>
<td>condition</td>
<td>list</td>
<td>监控范围</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>scenario</td>
<td>str</td>
<td>监控场景</td>
</tr>
<tr>
<td>monitor_id</td>
<td>int</td>
<td>监控源 ID</td>
</tr>
<tr>
<td>alarm_strategy_id</td>
<td>int</td>
<td>监控策略 ID</td>
</tr>
<tr>
<td>is_recovery</td>
<td>bool</td>
<td>自动恢复</td>
</tr>
</tbody>
</table>
<h4 id="1131-dataconf_listmonitor_confrules">1.1.3.1 告警收敛配置--data.conf_list.monitor_conf.rules</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>alarm_window</td>
<td>int</td>
<td>告警窗口</td>
</tr>
<tr>
<td>check_window</td>
<td>int</td>
<td>检测窗口</td>
</tr>
<tr>
<td>count</td>
<td>int</td>
<td>数量</td>
</tr>
</tbody>
</table>
<h2 id="1132-dataconf_listmonitor_confalarm_level_config">1.1.3.2 监控触发条件配置--data.conf_list.monitor_conf.alarm_level_config</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>dict</td>
<td>告警级别对应的告警触发配置,表示为致命告警</td>
</tr>
<tr>
<td>2</td>
<td>dict</td>
<td>告警级别对应的告警触发配置，表现为预警告警</td>
</tr>
<tr>
<td>3</td>
<td>dict</td>
<td>告警级别对应的告警触发配置，表现为提醒告警</td>
</tr>
</tbody>
</table>
<h2 id="11321-dataconf_listmonitor_confalarm_level_config1">1.1.3.2.1 告警级别对应的告警触发配置--data.conf_list.monitor_conf.alarm_level_config.1</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>alarm_start_time</td>
<td>str</td>
<td>当日开始告警时间</td>
</tr>
<tr>
<td>alarm_end_time</td>
<td>str</td>
<td>当日结束告警时间</td>
</tr>
<tr>
<td>detect_algorithm</td>
<td>list</td>
<td>检测算法配置</td>
</tr>
<tr>
<td>is_recovery</td>
<td>str</td>
<td>自动恢复</td>
</tr>
<tr>
<td>monitor_level</td>
<td>int</td>
<td>告警级别，1 致命、2 预警、3 提醒</td>
</tr>
<tr>
<td>notify_way</td>
<td>list</td>
<td>通知方式，mail 邮件、wechat 微信、sms 短信、phone 电话</td>
</tr>
<tr>
<td>phone_receiver</td>
<td>list</td>
<td>电话通知对象，账号名</td>
</tr>
<tr>
<td>responsible</td>
<td>list</td>
<td>其他通知人列表</td>
</tr>
<tr>
<td>role_list</td>
<td>list</td>
<td>通知人分组，在业务管理中配置</td>
</tr>
</tbody>
</table>
<h2 id="113211-dataconf_listmonitor_confalarm_level_config1detect_algorithm">1.1.3.2.1.1 检测算法配置--data.conf_list.monitor_conf.alarm_level_config.1.detect_algorithm</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>config</td>
<td>dict</td>
<td>检测算法详细配置</td>
</tr>
<tr>
<td>algorithm_id</td>
<td>int</td>
<td>检测算法 ID，静态阈值 1000、同比策略(简易) 1001、环比策略(简易)1002</td>
</tr>
</tbody>
</table>
<h2 id="1132111-dataconf_listmonitor_confalarm_level_config1detect_algorithmconfig">1.1.3.2.1.1.1 检测算法详细配置(静态阈值)--data.conf_list.monitor_conf.alarm_level_config.1.detect_algorithm.config</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>threshold</td>
<td>int</td>
<td>比较值</td>
</tr>
<tr>
<td>method</td>
<td>str</td>
<td>比较方式</td>
</tr>
<tr>
<td>message</td>
<td>str</td>
<td>说明</td>
</tr>
</tbody>
</table>
<h2 id="1132112-dataconf_listmonitor_confalarm_level_config1detect_algorithmconfig">1.1.3.2.1.1.2 检测算法详细配置(同比、环比)--data.conf_list.monitor_conf.alarm_level_config.1.detect_algorithm.config</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ceil</td>
<td>int</td>
<td>大于设定值告警</td>
</tr>
<tr>
<td>floor</td>
<td>str</td>
<td>低于设定值告警</td>
</tr>
<tr>
<td>message</td>
<td>str</td>
<td>说明</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/get_collect_config_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/get_collect_status/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/get_es_data/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/get_event_log/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询时间流水</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>事件 ID</td>
</tr>
</tbody>
</table>
<h4 id="_7">示例数据</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;id&quot;: 1
}</code></pre>


<h3 id="_8">响应参数</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>status</td>
<td>string</td>
<td>状态</td>
</tr>
<tr>
<td>event_id</td>
<td>string</td>
<td>事件 ID</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>记录消息</td>
</tr>
<tr>
<td>operate</td>
<td>int</td>
<td>记录类型</td>
</tr>
<tr>
<td>extend_info</td>
<td>dict</td>
<td>其他数据</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间</td>
</tr>
</tbody>
</table>
<h4 id="operate-">operate - 记录类型</h4>
<ul>
<li>ACK - 告警确认</li>
<li>ANOMALY_NOTICE - 告警通知</li>
<li>RECOVERY_NOTICE - 恢复通知</li>
<li>CREATE - 触发告警</li>
<li>CONVERGE - 告警收敛</li>
<li>RECOVER - 告警恢复</li>
<li>CLOSE - 告警关闭</li>
</ul>
<h4 id="status-">status - 状态</h4>
<ul>
<li>RUNNING - 运行中</li>
<li>SUCCESS - 成功</li>
<li>PARTIAL_SUCCESS - 部分成功</li>
<li>FAILED - 失败</li>
<li>SHIELDED - 被屏蔽</li>
</ul>
<h4 id="extend_info">extend_info</h4>
<p>不同类型的记录的数据各不相同</p>
<h5 id="anomaly_notice-">ANOMALY_NOTICE - 告警通知</h5>
<ul>
<li>action - 通知配置(参考"查询事件"接口文档中的 action_list 说明)</li>
</ul>
<pre class="codehilite"><code class="language-json">{
  &quot;action&quot;: {}
}</code></pre>


<h5 id="converge-">CONVERGE - 告警收敛</h5>
<ul>
<li>process_time - 收敛数据点的处理时间段</li>
<li>anomaly_count - 收敛异常点数量</li>
<li>data_time - 收敛数据点的数据时间段</li>
<li>anomaly_record - 异常点记录(参考"查询事件"接口文档中的 origin_alarm 说明)</li>
</ul>
<pre class="codehilite"><code class="language-json">{
  &quot;process_time&quot;: {
    &quot;max&quot;: 1583914154,
    &quot;min&quot;: 1583911227
  },
  &quot;anomaly_record&quot;: {},
  &quot;data_time&quot;: {
    &quot;max&quot;: 1583914020,
    &quot;min&quot;: 1583911080
  },
  &quot;anomaly_count&quot;: 50
}</code></pre>


<h4 id="_9">示例数据</h4>
<pre class="codehilite"><code class="language-json">[
  {
    &quot;status&quot;: &quot;SUCCESS&quot;,
    &quot;event_id&quot;: &quot;d751713988987e9331980363e24189ce.1574439660.88.118.1&quot;,
    &quot;message&quot;: &quot;&quot;,
    &quot;operate&quot;: &quot;CREATE&quot;,
    &quot;extend_info&quot;: &quot;&quot;,
    &quot;create_time&quot;: &quot;2020-01-01 00:00:00&quot;
  },
  {
    &quot;status&quot;: &quot;FAILED&quot;,
    &quot;event_id&quot;: &quot;d751713988987e9331980363e24189ce.1574439660.88.118.1&quot;,
    &quot;message&quot;: &quot;通知人为空&quot;,
    &quot;operate&quot;: &quot;ANOMALY_NOTICE&quot;,
    &quot;extend_info&quot;: {
      &quot;action&quot;: {}
    },
    &quot;create_time&quot;: &quot;2020-01-01 00:00:00&quot;
  }
]</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/get_shield/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询屏蔽详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>屏蔽 ID</td>
</tr>
</tbody>
</table>
<h4 id="_7">示例数据</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;id&quot;: 1,
  &quot;bk_biz_id&quot;: 2
}</code></pre>


<h3 id="_8">响应参数</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>category</td>
<td>string</td>
<td>屏蔽类型</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>说明</td>
</tr>
<tr>
<td>begin_time</td>
<td>string</td>
<td>开始时间</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>结束时间</td>
</tr>
<tr>
<td>cycle_config</td>
<td>dict</td>
<td>屏蔽配置</td>
</tr>
<tr>
<td>shield_notice</td>
<td>bool</td>
<td>是否发送屏蔽通知</td>
</tr>
<tr>
<td>notice_config</td>
<td>dict</td>
<td>通知配置</td>
</tr>
<tr>
<td>dimension_config</td>
<td>dict</td>
<td>屏蔽维度</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>屏蔽 ID</td>
</tr>
<tr>
<td>scope_type</td>
<td>string</td>
<td>范围类型</td>
</tr>
<tr>
<td>status</td>
<td>int</td>
<td>当前状态，屏蔽中(1)，过期(2)，解除(3)</td>
</tr>
</tbody>
</table>
<h4 id="cycleconfig">屏蔽配置(CycleConfig)</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>begin_time</td>
<td>string</td>
<td>开始时间(每天)</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>结束时间(每天)</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>屏蔽周期类型</td>
</tr>
<tr>
<td>day_list</td>
<td>list</td>
<td>周期为月时，需要屏蔽的天</td>
</tr>
<tr>
<td>week_list</td>
<td>list</td>
<td>周期为星期是，需要屏蔽的天</td>
</tr>
</tbody>
</table>
<h4 id="noticeconfig">通知配置(NoticeConfig)</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>notice_time</td>
<td>int</td>
<td>屏蔽开始/结束前 N 分钟通知</td>
</tr>
<tr>
<td>notice_way</td>
<td>list</td>
<td>通知类型</td>
</tr>
<tr>
<td>notice_receiver</td>
<td>list</td>
<td>通知人</td>
</tr>
</tbody>
</table>
<h4 id="_9">示例数据</h4>
<p>基于范围的屏蔽</p>
<pre class="codehilite"><code class="language-json">{
  &quot;id&quot;: 1,
  &quot;scope_type&quot;: &quot;instance&quot;,
  &quot;status&quot;: 1,
  &quot;category&quot;:&quot;scope&quot;,
  &quot;begin_time&quot;:&quot;2019-11-21 00:00:00&quot;,
  &quot;end_time&quot;:&quot;2019-11-23 23:59:59&quot;,
  &quot;cycle_config&quot;:{
    &quot;begin_time&quot;:&quot;&quot;,
    &quot;end_time&quot;:&quot;&quot;,
    &quot;day_list&quot;:[],
    &quot;week_list&quot;:[],
    &quot;type&quot;:1
  },
  &quot;shield_notice&quot;:true,
  &quot;notice_config&quot;:{
    &quot;notice_time&quot;:5,
    &quot;notice_way&quot;:[&quot;weixin&quot;],
    &quot;notice_receiver&quot;:[
      {
        &quot;id&quot;:&quot;user1&quot;,
        &quot;type&quot;:&quot;user&quot;
      }
    ]
  },
  &quot;description&quot;:&quot;test&quot;,
  &quot;dimension_config&quot;:{
    &quot;scope_type&quot;:&quot;instance&quot;,
    &quot;target&quot;:[8]
  },
  &quot;bk_biz_id&quot;:2
}</code></pre>


<p>基于策略的屏蔽</p>
<pre class="codehilite"><code class="language-json">{
  &quot;id&quot;: 1,
  &quot;scope_type&quot;: &quot;&quot;,
  &quot;status&quot;: 1,
  &quot;category&quot;:&quot;scope&quot;,
  &quot;begin_time&quot;:&quot;2019-11-21 00:00:00&quot;,
  &quot;end_time&quot;:&quot;2019-11-23 23:59:59&quot;,
  &quot;cycle_config&quot;:{
    &quot;begin_time&quot;:&quot;&quot;,
    &quot;end_time&quot;:&quot;&quot;,
    &quot;day_list&quot;:[],
    &quot;week_list&quot;:[],
    &quot;type&quot;:1
  },
  &quot;shield_notice&quot;:true,
  &quot;notice_config&quot;:{
    &quot;notice_time&quot;:5,
    &quot;notice_way&quot;:[&quot;weixin&quot;],
    &quot;notice_receiver&quot;:[
      {
        &quot;id&quot;:&quot;user1&quot;,
        &quot;type&quot;:&quot;user&quot;
      }
    ]
  },
  &quot;description&quot;:&quot;test&quot;,
  &quot;dimension_config&quot;:{
    &quot;id&quot;: 1,
    &quot;level&quot;:[1]
  },
  &quot;bk_biz_id&quot;:2
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/get_ts_data/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>图表数据查询<br />
根据给定的 sql 表达式查询指定的存储引擎  </p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>sql</td>
<td>string</td>
<td>是</td>
<td>SQL 查询语句</td>
</tr>
<tr>
<td>prefer_storage</td>
<td>string</td>
<td>否</td>
<td>查询引擎(默认 influxdb)</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>白名单的 app_code 必填</td>
</tr>
</tbody>
</table>
<h4 id="_6">请求示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_username&quot;:&quot;admin&quot;,
    &quot;sql&quot;:&quot;select max(in_use) as _in_use from 3_system_disk where time &gt;= \&quot;1m\&quot; group by ip, bk_cloud_id, bk_supplier_id, device_name, minute1 order by time desc limit 1&quot;
}</code></pre>


<blockquote>
<p>sql 中的结果表名为 biz_id + db_name + table_name<br />
Biz_id：业务 id<br />
Db_name: 数据库名<br />
Table_name: 数据表名<br />
例：2_system_cpu_detail：业务 2 下的 system 库的 cpu_detail 表<br />
查询一个小时内的单核 cpu 的使用率的 sql 语句：<br />
Select Mean(usage) as usage from 2_system_detail where time &gt; '1h' group by ip,device_name,minute1 limit 10  </p>
<p>上面请求实例中结果表 3_system_disk 表示：业务 3 下的 system 库中的 disk 表  </p>
<p>注意：上述的库和表并非和时序存储中的实际物理库、表对应。而是指'源数据管理模块'的库表</p>
</blockquote>
<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>list</td>
<td>list</td>
<td>查询结果</td>
</tr>
<tr>
<td>totalRecords</td>
<td>int</td>
<td>总记录数</td>
</tr>
<tr>
<td>timetaken</td>
<td>float</td>
<td>查询耗时</td>
</tr>
<tr>
<td>device</td>
<td>string</td>
<td>查询引擎</td>
</tr>
</tbody>
</table>
<h4 id="_9">结果示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;:&quot;OK&quot;,
    &quot;code&quot;:&quot;0&quot;,
    &quot;data&quot;:{
        &quot;list&quot;:[
            {
                &quot;ip&quot;:&quot;x.x.x.x&quot;,
                &quot;time&quot;:1543487700000,
                &quot;bk_supplier_id&quot;:&quot;0&quot;,
                &quot;device_name&quot;:&quot;C:&quot;,
                &quot;_in_use&quot;:27.0269684761,
                &quot;bk_cloud_id&quot;:&quot;0&quot;,
                &quot;minute1&quot;:1543487700000
            },
            {
                &quot;ip&quot;:&quot;x.x.x.x&quot;,
                &quot;time&quot;:1543487700000,
                &quot;bk_supplier_id&quot;:&quot;0&quot;,
                &quot;device_name&quot;:&quot;\/&quot;,
                &quot;_in_use&quot;:8.3368418991,
                &quot;bk_cloud_id&quot;:&quot;0&quot;,
                &quot;minute1&quot;:1543487700000
            }
        ],
        &quot;timetaken&quot;:0.0059459209,
        &quot;totalRecords&quot;:2,
        &quot;device&quot;:&quot;influxdb&quot;
    },
    &quot;result&quot;:true,
    &quot;request_id&quot;:&quot;408233306947415bb1772a86b9536867&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/get_uptime_check_node_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/get_uptime_check_task_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/import_uptime_check_node/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>导入拨测节点</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h2 id="_5">请求参数示例</h2>
<pre class="codehilite"><code class="language-bash">{&quot;conf_list&quot;:[{
    &quot;node_conf&quot;: {
        &quot;carrieroperator&quot;: &quot;内网&quot;,
        &quot;location&quot;: {
            &quot;country&quot;: &quot;中国&quot;,
            &quot;city&quot;: &quot;广东&quot;
        },
        &quot;name&quot;: &quot;中国广东内网&quot;,
        &quot;is_common&quot;: false
    },
    &quot;target_conf&quot;: {
        &quot;bk_biz_id&quot;: 2,
        &quot;bk_cloud_id&quot;: 0,
        &quot;ip&quot;: &quot;x.x.x.x&quot;
    }
},{
    &quot;node_conf&quot;: {
        &quot;carrieroperator&quot;: &quot;内网&quot;,
        &quot;location&quot;: {
            &quot;country&quot;: &quot;中国&quot;,
            &quot;city&quot;: &quot;广东&quot;
        },
        &quot;name&quot;: &quot;中国广东内网&quot;,
        &quot;is_common&quot;: false
    },
    &quot;target_conf&quot;: {
        &quot;bk_biz_id&quot;: 2,
        &quot;bk_cloud_id&quot;: 0,
        &quot;ip&quot;: &quot;x.x.x.x&quot;
    }
}]}</code></pre>


<h1 id="_6">请求参数</h1>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>conf_list</td>
<td>list</td>
<td>是</td>
<td>节点列表</td>
</tr>
</tbody>
</table>
<h1 id="1-conf_list">1 任务列表--conf_list</h1>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>target_conf</td>
<td>dict</td>
<td>是</td>
<td>节点下发配置</td>
</tr>
<tr>
<td>node_conf</td>
<td>dict</td>
<td>是</td>
<td>节点基本配置</td>
</tr>
</tbody>
</table>
<h1 id="11-target_conf">1.1 节点下发配置--target_conf</h1>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip</td>
<td>str</td>
<td>是</td>
<td>IP</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>是</td>
<td>云区域 ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 id</td>
</tr>
</tbody>
</table>
<h2 id="12-node_conf">1.2 节点基本配置--node_conf</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>is_common</td>
<td>bool</td>
<td>否</td>
<td>是否为通用节点，默认 false</td>
</tr>
<tr>
<td>name</td>
<td>str</td>
<td>是</td>
<td>节点名称</td>
</tr>
<tr>
<td>location</td>
<td>dict</td>
<td>是</td>
<td>节点所在地区</td>
</tr>
<tr>
<td>carrieroperator</td>
<td>str</td>
<td>是</td>
<td>运营商，最大长度 50(内网、联通、移动、其他)</td>
</tr>
</tbody>
</table>
<h2 id="121-node_conflocation">1.2.1 节点所在地区--node_conf.location</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>country</td>
<td>str</td>
<td>是</td>
<td>国家</td>
</tr>
<tr>
<td>city</td>
<td>str</td>
<td>是</td>
<td>城市</td>
</tr>
</tbody>
</table>
<h2 id="_7">返回结果示例</h2>
<pre class="codehilite"><code class="language-bash">{
    &quot;message&quot;: &quot;OK&quot;,
    &quot;code&quot;: &quot;0&quot;,
    &quot;data&quot;: {
        &quot;failed&quot;: {
            &quot;total&quot;: 1,
            &quot;detail&quot;: [
                    &quot;target_conf&quot;: {
                        &quot;bk_biz_id&quot;: 2,
                        &quot;ip&quot;: &quot;x.x.x.x&quot;,
                        &quot;bk_cloud_id&quot;: 0
                    },
                    &quot;error_mes&quot;: &quot;业务下不存在该主机&quot;
                }]
        },
        &quot;success&quot;: {
            &quot;total&quot;: 2,
            &quot;detail&quot;: [
                {
                    &quot;target_conf&quot;: {
                        &quot;bk_biz_id&quot;: 2,
                        &quot;ip&quot;: &quot;x.x.x.x&quot;,
                        &quot;bk_cloud_id&quot;: 0
                    },
                    &quot;node_id&quot;: 30
                },
                {
                    &quot;target_conf&quot;: {
                        &quot;bk_biz_id&quot;: 2,
                        &quot;ip&quot;: &quot;x.x.x.x&quot;,
                        &quot;bk_cloud_id&quot;: 0
                    },
                    &quot;node_id&quot;: 31
                }
            ]
        }
    },
    &quot;result&quot;: true
}</code></pre>


<h2 id="_8">返回结果参数说明</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，200 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>结果</td>
</tr>
</tbody>
</table>
<h2 id="2-data">2 data</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>failed</td>
<td>dict</td>
<td>导入失败相关信息</td>
</tr>
<tr>
<td>success</td>
<td>dict</td>
<td>导入成功相关信息</td>
</tr>
</tbody>
</table>
<h2 id="21-datafailed">2.1 导入失败相关信息--data.failed</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>total</td>
<td>int</td>
<td>导入失败数量</td>
</tr>
<tr>
<td>detail</td>
<td>list</td>
<td>导入失败详情</td>
</tr>
</tbody>
</table>
<h2 id="211-datafaileddetail">2.1.1 导入失败详情--data.failed.detail</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>target_conf</td>
<td>dict</td>
<td>节点下发配置</td>
</tr>
<tr>
<td>error_mes</td>
<td>str</td>
<td>导入失败原因</td>
</tr>
</tbody>
</table>
<h2 id="22-datasuccess">2.2 导入成功相关信息--data.success</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>total</td>
<td>int</td>
<td>导入成功数量</td>
</tr>
<tr>
<td>detail</td>
<td>list</td>
<td>导入成功详情</td>
</tr>
</tbody>
</table>
<h2 id="221-datasuccessdatail">2.2.1 导入成功相关信息--data.success.datail</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>target_conf</td>
<td>dict</td>
<td>节点下发配置</td>
</tr>
<tr>
<td>node_id</td>
<td>int</td>
<td>导入成功的节点 id</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/import_uptime_check_task/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>导入拨测任务</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h3 id="_5">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{   &quot;bk_biz_id&quot;: 2,
    &quot;conf_list&quot;: [
        {
            &quot;target_conf&quot;: {
                &quot;bk_biz_id&quot;: 0,
                &quot;node_id_list&quot;: [],
                &quot;node_list&quot;: [
                    {
                        &quot;node_conf&quot;: {
                            &quot;carrieroperator&quot;: &quot;内网&quot;,
                            &quot;location&quot;: {
                                &quot;country&quot;: &quot;中国&quot;,
                                &quot;city&quot;: &quot;广东&quot;
                            },
                            &quot;name&quot;: &quot;中国广东内网&quot;,
                            &quot;is_common&quot;: false
                        },
                        &quot;target_conf&quot;: {
                            &quot;bk_biz_id&quot;: 0,
                            &quot;ip&quot;: &quot;&quot;,
                            &quot;bk_cloud_id&quot;: 0
                        }
                    },
                    {
                        &quot;node_conf&quot;: {
                            &quot;carrieroperator&quot;: &quot;内网&quot;,
                            &quot;location&quot;: {
                                &quot;country&quot;: &quot;中国&quot;,
                                &quot;city&quot;: &quot;广东&quot;
                            },
                            &quot;name&quot;: &quot;中国广东内网&quot;,
                            &quot;is_common&quot;: false
                        },
                        &quot;target_conf&quot;: {
                            &quot;bk_biz_id&quot;: 0,
                            &quot;ip&quot;: &quot;&quot;,
                            &quot;bk_cloud_id&quot;: 0
                        }
                    }
                ]
            },
            &quot;collector_conf&quot;: {
                &quot;config&quot;: {
                    &quot;ip_list&quot;: [
                        &quot;10.0.2.13&quot;
                    ],
                    &quot;period&quot;: 1,
                    &quot;response_format&quot;: &quot;in&quot;,
                    &quot;port&quot;: 3306,
                    &quot;timeout&quot;: 2900,
                    &quot;response&quot;: null
                },
                &quot;protocol&quot;: &quot;TCP&quot;,
                &quot;name&quot;: &quot;test_tcp1&quot;,
                &quot;groups&quot;: &quot;未分类&quot;,
                &quot;location&quot;: {
                    &quot;bk_state_name&quot;: &quot;中国&quot;,
                    &quot;bk_province_name&quot;: &quot;北京&quot;
                }
            },
            &quot;monitor_conf&quot;: [
                {
                    &quot;alarm_level_config&quot;: {
                        &quot;2&quot;: {
                            &quot;notify_way&quot;: [
                                &quot;mail&quot;
                            ],
                            &quot;role_list&quot;: [
                                &quot;Tester&quot;
                            ],
                            &quot;monitor_level&quot;: 2,
                            &quot;alarm_end_time&quot;: &quot;23:59&quot;,
                            &quot;responsible&quot;: [],
                            &quot;detect_algorithm&quot;: [
                                {
                                    &quot;config&quot;: {
                                        &quot;threshold&quot;: 10,
                                        &quot;message&quot;: &quot;&quot;,
                                        &quot;method&quot;: &quot;gte&quot;
                                    },
                                    &quot;algorithm_id&quot;: 1000
                                },
                                {
                                    &quot;config&quot;: {
                                        &quot;message&quot;: &quot;&quot;,
                                        &quot;ceil&quot;: 10,
                                        &quot;floor&quot;: 10
                                    },
                                    &quot;algorithm_id&quot;: 1001
                                }
                            ],
                            &quot;phone_receiver&quot;: [],
                            &quot;alarm_start_time&quot;: &quot;00:00&quot;,
                            &quot;is_recovery&quot;: false
                        }
                    },
                    &quot;monitor_target&quot;: &quot;available&quot;,
                    &quot;unit&quot;: &quot;%&quot;,
                    &quot;display_name&quot;: &quot;\&quot;test_tcp1\&quot;节点平均值可用率&quot;,
                    &quot;node_count&quot;: 0,
                    &quot;is_enabled&quot;: true,
                    &quot;nodata_alarm&quot;: 0,
                    &quot;rules&quot;: {
                        &quot;count&quot;: 1,
                        &quot;alarm_window&quot;: 1440,
                        &quot;check_window&quot;: 5
                    },
                    &quot;is_classify_notice&quot;: false,
                    &quot;where_sql&quot;: &quot;&quot;,
                    &quot;condition&quot;: [
                        []
                    ],
                    &quot;bk_biz_id&quot;: 2,
                    &quot;scenario&quot;: &quot;uptimecheck&quot;,
                    &quot;monitor_id&quot;: 0,
                    &quot;alarm_strategy_id&quot;: 0,
                    &quot;is_recovery&quot;: false
                }
            ]
        }
    ]
        }</code></pre>


<h3 id="_6">请求参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>conf_list</td>
<td>list</td>
<td>是</td>
<td>拨测任务配置列表</td>
</tr>
</tbody>
</table>
<h3 id="1-conf_list">1 拨测任务配置列表--conf_list</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>target_conf</td>
<td>dict</td>
<td>是</td>
<td>拨测任务下发配置</td>
</tr>
<tr>
<td>collector_conf</td>
<td>dict</td>
<td>是</td>
<td>拨测任务基本配置</td>
</tr>
<tr>
<td>monitor_conf</td>
<td>list</td>
<td>是</td>
<td>监控策略配置</td>
</tr>
</tbody>
</table>
<h3 id="11-conf_listtarget_conf">1.1 拨测任务下发配置--conf_list.target_conf</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>node_list</td>
<td>list</td>
<td>否</td>
<td>默认[],需导入节点配置</td>
</tr>
<tr>
<td>node_id_list</td>
<td>list</td>
<td>否</td>
<td>默认[],下发节点 ID 列表，node_list 与 node_id_list 不能同时为空</td>
</tr>
</tbody>
</table>
<h3 id="111-conf_listtarget_confnode_list">1.1.1 需导入节点配置--conf_list.target_conf.node_list</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>target_conf</td>
<td>dict</td>
<td>是</td>
<td>节点下发配置</td>
</tr>
<tr>
<td>node_conf</td>
<td>dict</td>
<td>是</td>
<td>节点基本配置</td>
</tr>
</tbody>
</table>
<h1 id="1111-conf_listtarget_confnode_listtarget_conf">1.1.1.1 节点下发配置--conf_list.target_conf.node_list.target_conf</h1>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip</td>
<td>str</td>
<td>是</td>
<td>IP</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>是</td>
<td>云区域 ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 id</td>
</tr>
</tbody>
</table>
<h2 id="1112-conf_listtarget_confnode_listnode_conf">1.1.1.2 节点基本配置--conf_list.target_conf.node_list.node_conf</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>is_common</td>
<td>bool</td>
<td>否</td>
<td>是否为通用节点，默认 false</td>
</tr>
<tr>
<td>name</td>
<td>str</td>
<td>是</td>
<td>节点名称</td>
</tr>
<tr>
<td>location</td>
<td>dict</td>
<td>是</td>
<td>节点所在地区</td>
</tr>
<tr>
<td>carrieroperator</td>
<td>str</td>
<td>是</td>
<td>运营商，最大长度 50(内网、联通、移动、其他)</td>
</tr>
</tbody>
</table>
<h2 id="11121-conf_listtarget_confnode_listnode_conflocation">1.1.1.2.1 节点所在地区--conf_list.target_conf.node_list.node_conf.location</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>country</td>
<td>str</td>
<td>是</td>
<td>国家</td>
</tr>
<tr>
<td>city</td>
<td>str</td>
<td>是</td>
<td>城市</td>
</tr>
</tbody>
</table>
<h3 id="12-conf_listcollector_conf">1.2 拨测任务基本配置--conf_list.collector_conf</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>location</td>
<td>dict</td>
<td>是</td>
<td>拨测目标所在地址</td>
</tr>
<tr>
<td>groups</td>
<td>str</td>
<td>是</td>
<td>拨测任务所属分组</td>
</tr>
<tr>
<td>name</td>
<td>str</td>
<td>是</td>
<td>拨测任务名称</td>
</tr>
<tr>
<td>protocol</td>
<td>str</td>
<td>是</td>
<td>拨测任务协议类型</td>
</tr>
<tr>
<td>config</td>
<td>dict</td>
<td>是</td>
<td>拨测任务详细配置</td>
</tr>
</tbody>
</table>
<h3 id="tcp-config">TCP 任务 config 示例</h3>
<pre class="codehilite"><code class="language-bash">&quot;config&quot;: {
            &quot;ip_list&quot;: [&quot;10.0.2.13&quot;],
            &quot;port&quot;: 3306,
            &quot;period&quot;: 1,
            &quot;response_format&quot;: &quot;in&quot;,
            &quot;timeout&quot;: 2900,
            &quot;response&quot;: null
        }</code></pre>


<h3 id="121-tcpudp-conf_listcollector_confconfig">1.2.1 拨测任务详细配置(TCP、UDP)--conf_list.collector_conf.config</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip_list</td>
<td>list</td>
<td>是</td>
<td>目标 IP 地址</td>
</tr>
<tr>
<td>port</td>
<td>int</td>
<td>是</td>
<td>端口地址</td>
</tr>
<tr>
<td>period</td>
<td>int</td>
<td>否</td>
<td>采集周期，单位 min，默认 1</td>
</tr>
<tr>
<td>response_format</td>
<td>str</td>
<td>否</td>
<td>响应信息匹配方式(包含：in，不包含：nin，正则：reg)，默认 in</td>
</tr>
<tr>
<td>timeout</td>
<td>int</td>
<td>否</td>
<td>期望响应时间，单位 ms，默认 3000</td>
</tr>
<tr>
<td>response</td>
<td>str</td>
<td>否</td>
<td>期望响应内容</td>
</tr>
<tr>
<td>response_code</td>
<td>str</td>
<td>否</td>
<td>期望响应码</td>
</tr>
</tbody>
</table>
<h3 id="http-config">HTTP 任务 config 示例</h3>
<pre class="codehilite"><code class="language-bash">&quot;config&quot;: {
        &quot;insecure_skip_verify&quot;: true,
        &quot;urls&quot;: &quot;http://baidu.com&quot;,
        &quot;response_code&quot;: &quot;&quot;,
        &quot;request&quot;: null,
        &quot;period&quot;: 1,
        &quot;response_format&quot;: &quot;in&quot;,
        &quot;method&quot;: &quot;GET&quot;,
        &quot;headers&quot;: [],
        &quot;timeout&quot;: 3000,
        &quot;response&quot;: null
    }</code></pre>


<h3 id="122-http-conf_listcollector_confconfig">1.2.2 拨测任务详细配置(HTTP)--conf_list.collector_conf.config</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>urls</td>
<td>str</td>
<td>是</td>
</tr>
<tr>
<td>method</td>
<td>str</td>
<td>是</td>
</tr>
<tr>
<td>headers</td>
<td>list</td>
<td>否</td>
</tr>
<tr>
<td>insecure_skip_verify</td>
<td>bool</td>
<td>否</td>
</tr>
<tr>
<td>period</td>
<td>int</td>
<td>否</td>
</tr>
<tr>
<td>response_format</td>
<td>str</td>
<td>否</td>
</tr>
<tr>
<td>timeout</td>
<td>int</td>
<td>否</td>
</tr>
<tr>
<td>response</td>
<td>str</td>
<td>否</td>
</tr>
<tr>
<td>response_code</td>
<td>str</td>
<td>否</td>
</tr>
<tr>
<td>request</td>
<td>str</td>
<td>否</td>
</tr>
</tbody>
</table>
<h3 id="13-conf_listmonitor_conf">1.3 监控策略配置--conf_list.monitor_conf</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>alarm_level_config</td>
<td>dict</td>
<td>是</td>
<td>监控触发条件配置</td>
</tr>
<tr>
<td>alarm_strategy_id</td>
<td>int</td>
<td>是</td>
<td>监控策略 ID，0</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>condition</td>
<td>list</td>
<td>是</td>
<td>监控范围</td>
</tr>
<tr>
<td>display_name</td>
<td></td>
<td>是</td>
<td>监控名称</td>
</tr>
<tr>
<td>is_classify_notice</td>
<td></td>
<td>是</td>
<td>是否分级告警</td>
</tr>
<tr>
<td>is_enabled</td>
<td></td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>is_recovery</td>
<td>bool</td>
<td>是</td>
<td>恢复告警开关</td>
</tr>
<tr>
<td>monitor_target</td>
<td>str</td>
<td>是</td>
<td>监控目标字段</td>
</tr>
<tr>
<td>nodata_alarm</td>
<td>int</td>
<td>是</td>
<td>无数据告警次数</td>
</tr>
<tr>
<td>node_count</td>
<td>int</td>
<td>是</td>
<td>节点平均值 / 部分节点数</td>
</tr>
<tr>
<td>rules</td>
<td>dict</td>
<td>是</td>
<td>收敛规则</td>
</tr>
<tr>
<td>scenario</td>
<td>str</td>
<td>是</td>
<td>监控场景</td>
</tr>
<tr>
<td>unit</td>
<td>str</td>
<td>是</td>
<td>监控字段单位</td>
</tr>
<tr>
<td>where_sql</td>
<td>str</td>
<td>是</td>
<td>可用于前置条件过滤 部分直接使用数据库作为源的监控支持</td>
</tr>
</tbody>
</table>
<h3 id="131-conf_listmonitor_confrules">1.3.1 收敛规则--conf_list.monitor_conf.rules</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>alarm_window</td>
<td>int</td>
<td>是</td>
<td>告警窗口</td>
</tr>
<tr>
<td>check_window</td>
<td>int</td>
<td>是</td>
<td>检测窗口</td>
</tr>
<tr>
<td>count</td>
<td>int</td>
<td>是</td>
<td>数量</td>
</tr>
</tbody>
</table>
<h3 id="132-conf_listmonitor_confalarm_level_config">1.3.2 监控触发条件配置--conf_list.monitor_conf.alarm_level_config</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>dict</td>
<td>否</td>
<td>告警级别对应的告警触发配置,表现为致命告警</td>
</tr>
<tr>
<td>2</td>
<td>dict</td>
<td>否</td>
<td>告警级别对应的告警触发配置，表现为预警告警</td>
</tr>
<tr>
<td>3</td>
<td>dict</td>
<td>否</td>
<td>告警级别对应的告警触发配置，表现为提醒告警</td>
</tr>
</tbody>
</table>
<h3 id="1321-conf_listmonitor_confalarm_level_config1">1.3.2.1 告警级别对应的告警触发配置--conf_list.monitor_conf.alarm_level_config.1</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>alarm_start_time</td>
<td>str</td>
<td>是</td>
<td>当日开始告警时间</td>
</tr>
<tr>
<td>alarm_end_time</td>
<td>str</td>
<td>是</td>
<td>当日结束告警时间</td>
</tr>
<tr>
<td>detect_algorithm</td>
<td>list</td>
<td>是</td>
<td>检测算法配置</td>
</tr>
<tr>
<td>is_recovery</td>
<td>str</td>
<td>是</td>
<td>城市</td>
</tr>
<tr>
<td>monitor_level</td>
<td>int</td>
<td>是</td>
<td>告警级别，1 致命、2 预警、3 提醒</td>
</tr>
<tr>
<td>notify_way</td>
<td>list</td>
<td>是</td>
<td>通知方式，mail 邮件、wechat 微信、sms 短信、phone 电话</td>
</tr>
<tr>
<td>phone_receiver</td>
<td>list</td>
<td>是</td>
<td>电话通知对象，账号名</td>
</tr>
<tr>
<td>responsible</td>
<td>list</td>
<td>是</td>
<td>其他通知人列表</td>
</tr>
<tr>
<td>role_list</td>
<td>list</td>
<td>是</td>
<td>通知人分组，在业务管理中配置</td>
</tr>
</tbody>
</table>
<h3 id="13211-conf_listmonitor_confalarm_level_config1detect_algorithm">1.3.2.1.1 检测算法配置--conf_list.monitor_conf.alarm_level_config.1.detect_algorithm</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>config</td>
<td>dict</td>
<td>是</td>
<td>检测算法详细配置</td>
</tr>
<tr>
<td>algorithm_id</td>
<td>int</td>
<td>是</td>
<td>检测算法 ID，静态阈值 1000、同比策略(简易) 1001、环比策略(简易)1002</td>
</tr>
</tbody>
</table>
<h3 id="132111-conf_listmonitor_confalarm_level_config1detect_algorithmconfig">1.3.2.1.1.1  检测算法详细配置(静态阈值)--conf_list.monitor_conf.alarm_level_config.1.detect_algorithm.config</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>threshold</td>
<td>int</td>
<td>是</td>
<td>比较值</td>
</tr>
<tr>
<td>method</td>
<td>str</td>
<td>是</td>
<td>比较方式</td>
</tr>
<tr>
<td>message</td>
<td>str</td>
<td>否</td>
<td>说明</td>
</tr>
</tbody>
</table>
<h3 id="132112-conf_listmonitor_confalarm_level_config1detect_algorithmconfig">1.3.2.1.1.2  检测算法详细配置(同比、环比)--conf_list.monitor_conf.alarm_level_config.1.detect_algorithm.config</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ceil</td>
<td>int</td>
<td>是</td>
<td>大于设定值告警</td>
</tr>
<tr>
<td>floor</td>
<td>str</td>
<td>是</td>
<td>低于设定值告警</td>
</tr>
<tr>
<td>message</td>
<td>str</td>
<td>否</td>
<td>说明</td>
</tr>
</tbody>
</table>
<h3 id="_7">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;message&quot;: &quot;OK&quot;,
    &quot;code&quot;: &quot;0&quot;,
    &quot;data&quot;: {
        &quot;failed&quot;: {
            &quot;total&quot;: 0,
            &quot;detail&quot;: [{
                        'task_name': &quot;tcp_test2&quot;,
                        'error_mes': 'xx'
                    }]
        },
        &quot;success&quot;: {
            &quot;total&quot;: 1,
            &quot;detail&quot;: [
                {
                    &quot;task_name&quot;: &quot;test_tcp1&quot;
                }
            ]
        }
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_8">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，200 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>结果</td>
</tr>
</tbody>
</table>
<h3 id="2-data">2 data</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>failed</td>
<td>dict</td>
<td>导入失败相关信息</td>
</tr>
<tr>
<td>success</td>
<td>dict</td>
<td>导入成功相关信息</td>
</tr>
</tbody>
</table>
<h2 id="21-datafailed">2.1 导入失败相关信息--data.failed</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>total</td>
<td>int</td>
<td>导入失败数量</td>
</tr>
<tr>
<td>detail</td>
<td>list</td>
<td>导入失败详情</td>
</tr>
</tbody>
</table>
<h2 id="211-datafaileddetail">2.1.1 导入失败详情--data.failed.detail</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>error_mes</td>
<td>str</td>
<td>导入失败原因</td>
</tr>
<tr>
<td>task_name</td>
<td>str</td>
<td>任务名</td>
</tr>
</tbody>
</table>
<h2 id="22-datasuccess">2.2 导入成功相关信息--data.success</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>total</td>
<td>int</td>
<td>导入成功数量</td>
</tr>
<tr>
<td>detail</td>
<td>list</td>
<td>导入成功详情</td>
</tr>
</tbody>
</table>
<h2 id="221-datasuccessdatail">2.2.1 导入成功相关信息--data.success.datail</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>task_name</td>
<td>str</td>
<td>任务名</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/list_shield/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询屏蔽列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>time_range</td>
<td>string</td>
<td>时间范围</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>is_active</td>
<td>bool</td>
<td>是否生效</td>
</tr>
<tr>
<td>page</td>
<td>int</td>
<td>页数</td>
</tr>
<tr>
<td>page_size</td>
<td>int</td>
<td>每页数量</td>
</tr>
</tbody>
</table>
<pre class="codehilite"><code class="language-json">{
  &quot;bk_biz_id&quot;: 1,
  &quot;is_active&quot;: true,
  &quot;time_range&quot;: &quot;2018-01-01 -- 2019-01-01&quot;,
  &quot;page&quot;: 1,
  &quot;page_size&quot;: 10
}</code></pre>


<h3 id="_7">响应参数</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>category</td>
<td>string</td>
<td>屏蔽类型</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>说明</td>
</tr>
<tr>
<td>begin_time</td>
<td>string</td>
<td>开始时间</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>结束时间</td>
</tr>
<tr>
<td>cycle_config</td>
<td>dict</td>
<td>屏蔽配置</td>
</tr>
<tr>
<td>shield_notice</td>
<td>bool</td>
<td>是否发送屏蔽通知</td>
</tr>
<tr>
<td>notice_config</td>
<td>dict</td>
<td>通知配置</td>
</tr>
<tr>
<td>dimension_config</td>
<td>dict</td>
<td>屏蔽维度</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>屏蔽 ID</td>
</tr>
<tr>
<td>scope_type</td>
<td>string</td>
<td>范围类型</td>
</tr>
<tr>
<td>status</td>
<td>int</td>
<td>当前状态，屏蔽中(1)，过期(2)，解除(3)</td>
</tr>
<tr>
<td>failure_time</td>
<td>string</td>
<td>失效时间</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>屏蔽内容快照</td>
</tr>
</tbody>
</table>
<h4 id="cycleconfig">屏蔽配置(CycleConfig)</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>begin_time</td>
<td>string</td>
<td>开始时间(每天)</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>结束时间(每天)</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>屏蔽周期类型</td>
</tr>
<tr>
<td>day_list</td>
<td>list</td>
<td>周期为月时，需要屏蔽的天</td>
</tr>
<tr>
<td>week_list</td>
<td>list</td>
<td>周期为星期是，需要屏蔽的天</td>
</tr>
</tbody>
</table>
<h4 id="noticeconfig">通知配置(NoticeConfig)</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>notice_time</td>
<td>int</td>
<td>屏蔽开始/结束前 N 分钟通知</td>
</tr>
<tr>
<td>notice_way</td>
<td>list</td>
<td>通知类型</td>
</tr>
<tr>
<td>notice_receiver</td>
<td>list</td>
<td>通知人</td>
</tr>
</tbody>
</table>
<h4 id="_8">示例数据</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
  &quot;message&quot;: &quot;&quot;,
  &quot;data&quot;: [
    {
      &quot;id&quot;: 1,
      &quot;scope_type&quot;: &quot;instance&quot;,
      &quot;status&quot;: 1,
      &quot;category&quot;:&quot;scope&quot;,
      &quot;begin_time&quot;:&quot;2019-11-21 00:00:00&quot;,
      &quot;end_time&quot;:&quot;2019-11-23 23:59:59&quot;,
      &quot;failure_time&quot;: &quot;&quot;,
      &quot;content&quot;: &quot;&quot;,
      &quot;cycle_config&quot;:{
        &quot;begin_time&quot;:&quot;&quot;,
        &quot;end_time&quot;:&quot;&quot;,
        &quot;day_list&quot;:[],
        &quot;week_list&quot;:[],
        &quot;type&quot;:1
      },
      &quot;shield_notice&quot;:true,
      &quot;notice_config&quot;:{
        &quot;notice_time&quot;:5,
        &quot;notice_way&quot;:[&quot;weixin&quot;],
        &quot;notice_receiver&quot;:[
          {
            &quot;id&quot;:&quot;user1&quot;,
            &quot;type&quot;:&quot;user&quot;
          }
        ]
      },
      &quot;description&quot;:&quot;test&quot;,
      &quot;dimension_config&quot;:{
        &quot;scope_type&quot;:&quot;instance&quot;,
        &quot;target&quot;:[8]
      },
      &quot;bk_biz_id&quot;:2
    }
  ]
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_create_cluster_info/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建存储集群配置
根据给定的配置参数，创建一个存储集群配置</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>cluster_name</td>
<td>string</td>
<td>是</td>
<td>存储集群名</td>
</tr>
<tr>
<td>cluster_type</td>
<td>string</td>
<td>是</td>
<td>存储集群类型, 目前可以支持 influxDB, kafka, redis, elasticsearch</td>
</tr>
<tr>
<td>domain_name</td>
<td>string</td>
<td>是</td>
<td>存储集群域名（可以填入 IP）</td>
</tr>
<tr>
<td>port</td>
<td>int</td>
<td>是</td>
<td>存储集群端口</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>创建者</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>否</td>
<td>存储集群描述信息</td>
</tr>
<tr>
<td>auth_info</td>
<td>object</td>
<td>否</td>
<td>集群身份验证信息</td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>否</td>
<td>集群版本信息</td>
</tr>
<tr>
<td>custom_label</td>
<td>string</td>
<td>否</td>
<td>自定义标签</td>
</tr>
<tr>
<td>schema</td>
<td>string</td>
<td>否</td>
<td>强行配置 schema，可用于配置 https 等情形</td>
</tr>
<tr>
<td>is_ssl_verify</td>
<td>bool</td>
<td>否</td>
<td>是否需要跳过 SSL\TLS 认证</td>
</tr>
</tbody>
</table>
<h4 id="_6">请求示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;cluster_name&quot;: &quot;first_influxdb&quot;,
    &quot;cluster_type&quot;: &quot;influxDB&quot;,
    &quot;domain_name&quot;: &quot;influxdb.service.consul&quot;,
    &quot;operator&quot;: &quot;admin&quot;,
    &quot;auth_info&quot;: {
      &quot;username&quot;: &quot;username&quot;,
      &quot;password&quot;: &quot;password&quot;
    },
    &quot;port&quot;: 9052,
    &quot;description&quot;: &quot;描述信息&quot;
}</code></pre>


<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>cluster_id</td>
<td>int</td>
<td>集群 ID</td>
</tr>
</tbody>
</table>
<h4 id="_9">结果示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;:&quot;OK&quot;,
    &quot;code&quot;:&quot;0&quot;,
    &quot;data&quot;:{
        &quot;cluster_id&quot;: 1001
    },
    &quot;result&quot;:true,
    &quot;request_id&quot;:&quot;408233306947415bb1772a86b9536867&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_create_data_id/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建数据源
根据给定的配置参数，创建一个数据源</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>data_name</td>
<td>string</td>
<td>是</td>
<td>数据源名称</td>
</tr>
<tr>
<td>etl_config</td>
<td>string</td>
<td>是</td>
<td>清洗模板配置，prometheus exportor 对应"prometheus"</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>操作者</td>
</tr>
<tr>
<td>mq_cluster</td>
<td>int</td>
<td>否</td>
<td>数据源使用的消息集群</td>
</tr>
<tr>
<td>data_description</td>
<td>string</td>
<td>否</td>
<td>数据源的具体描述</td>
</tr>
<tr>
<td>is_custom_source</td>
<td>bool</td>
<td>否</td>
<td>是否用户自定义数据源，默认为是</td>
</tr>
<tr>
<td>source_label</td>
<td>string</td>
<td>是</td>
<td>数据来源标签，例如：计算平台(bk_data)，监控采集器(bk_monitor_collector)</td>
</tr>
<tr>
<td>type_label</td>
<td>string</td>
<td>是</td>
<td>数据类型标签，例如：时序数据(time_series)，事件数据(event)，日志数据(log)</td>
</tr>
<tr>
<td>custom_label</td>
<td>string</td>
<td>否</td>
<td>自定义标签配置信息</td>
</tr>
<tr>
<td>option</td>
<td>string</td>
<td>否</td>
<td>数据源配置选项内容，格式为{<code>option_name</code>: <code>option_value</code>}</td>
</tr>
</tbody>
</table>
<p><strong>注意</strong>： 上述的<code>source_tag</code>及<code>data_type</code>都应该通过<code>metadata_get_label</code>接口获取，不应该自行创建 </p>
<h4 id="_6">目前数据源可以选择的选项包括</h4>
<table>
<thead>
<tr>
<th>选项名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>group_info_alias</td>
<td>string</td>
<td>分组标识字段别名</td>
</tr>
<tr>
<td>encoding</td>
<td>string</td>
<td>上报数据编码</td>
</tr>
<tr>
<td>separator</td>
<td>string</td>
<td>分隔符， 用于分割上报日志的字符内容</td>
</tr>
<tr>
<td>separator_field_list</td>
<td>list</td>
<td>分割后字段分配</td>
</tr>
</tbody>
</table>
<h4 id="_7">请求示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;data_name&quot;: &quot;basereport&quot;,
    &quot;etl_config&quot;: &quot;basereport&quot;,
    &quot;operator&quot;: &quot;username&quot;,
    &quot;data_description&quot;: &quot;basereport data source&quot;,
    &quot;type_label&quot;: &quot;time_series&quot;,
    &quot;source_label&quot;: &quot;bk_monitor_collector&quot;
}</code></pre>


<h3 id="_8">返回结果</h3>
<h4 id="_9">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_data_id</td>
<td>int</td>
<td>结果表 ID</td>
</tr>
</tbody>
</table>
<h4 id="_10">结果示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;:&quot;OK&quot;,
    &quot;code&quot;:&quot;0&quot;,
    &quot;data&quot;:{
        &quot;bk_data_id&quot;: 1001
    },
    &quot;result&quot;:true,
    &quot;request_id&quot;:&quot;408233306947415bb1772a86b9536867&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_create_event_group/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建一个事件分组 ID
给定一个数据源和业务，创建一个归属的事件分组 ID</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_data_id</td>
<td>int</td>
<td>是</td>
<td>数据源 ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>event_group_name</td>
<td>string</td>
<td>是</td>
<td>事件分组名</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>是</td>
<td>事件分组标签，用于表示事件监控对象，应该复用【result_table_label】类型下的标签</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>操作者</td>
</tr>
<tr>
<td>event_info_list</td>
<td>array</td>
<td>否</td>
<td>事件列表</td>
</tr>
</tbody>
</table>
<h4 id="event_info_list">event_info_list 具体内容说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>event_name</td>
<td>string</td>
<td>事件名</td>
</tr>
<tr>
<td>dimension</td>
<td>array</td>
<td>维度列表</td>
</tr>
</tbody>
</table>
<h4 id="_6">请求示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_data_id&quot;: 123,
    &quot;bk_biz_id&quot;: 123,
    &quot;event_group_name&quot;: &quot;事件分组名&quot;,
    &quot;label&quot;: &quot;application&quot;,
    &quot;operator&quot;: &quot;system&quot;,
    &quot;event_info_list&quot;: [{
      &quot;event_name&quot;: &quot;usage for update&quot;,
      &quot;dimension_list&quot;: [&quot;dimension_name&quot;]
    },{
      &quot;event_name&quot;: &quot;usage for create&quot;,
      &quot;dimension_list&quot;: [&quot;dimension_name&quot;]
    }]
}</code></pre>


<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_group_id</td>
<td>int</td>
<td>新建的事件分组 ID</td>
</tr>
</tbody>
</table>
<h4 id="_9">结果示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;:&quot;OK&quot;,
    &quot;code&quot;:&quot;0&quot;,
    &quot;data&quot;: {
        &quot;event_group_id&quot;: 1001,
        &quot;bk_data_id&quot;: 123,
        &quot;bk_biz_id&quot;: 123,
        &quot;event_group_name&quot;: &quot;事件分组名&quot;,
        &quot;label&quot;: &quot;application&quot;,
        &quot;is_enable&quot;: true,
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;create_time&quot;: &quot;2019-10-10 10:10:10&quot;,
        &quot;last_modify_user&quot;: &quot;admin&quot;,
        &quot;last_modify_time&quot;: &quot;2020-10-10 10:10:10&quot;,
        &quot;event_info_list&quot;: [{
          &quot;bk_event_id&quot;: 1,
          &quot;event_name&quot;: &quot;usage for update&quot;,
          &quot;dimension_list&quot;: [{
            &quot;dimension_name&quot;: &quot;field_name&quot;
          }]
        },{
          &quot;bk_event_id&quot;: 2,
          &quot;event_name&quot;: &quot;usage for create&quot;,
          &quot;dimension_list&quot;: [{
            &quot;dimension_name&quot;: &quot;field_name&quot;
          }]
        }]
    },
    &quot;result&quot;:true,
    &quot;request_id&quot;:&quot;408233306947415bb1772a86b9536867&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_create_result_table/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建结果表
根据给定的配置参数，创建一个结果表</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_data_id</td>
<td>int</td>
<td>是</td>
<td>数据源 ID</td>
</tr>
<tr>
<td>table_id</td>
<td>string</td>
<td>是</td>
<td>结果表 ID，格式应该为 库.表(例如，system.cpu)</td>
</tr>
<tr>
<td>table_name_zh</td>
<td>string</td>
<td>是</td>
<td>结果表中文名</td>
</tr>
<tr>
<td>is_custom_table</td>
<td>boolean</td>
<td>是</td>
<td>是否用户自定义结果表</td>
</tr>
<tr>
<td>schema_type</td>
<td>string</td>
<td>是</td>
<td>结果表字段配置方案, free(无 schema 配置), fixed(固定 schema)</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>操作者</td>
</tr>
<tr>
<td>default_storage</td>
<td>string</td>
<td>是</td>
<td>默认存储类型，目前支持 influxdb</td>
</tr>
<tr>
<td>default_storage_config</td>
<td>object</td>
<td>否</td>
<td>默认的存储信息, 根据每种不同的存储，会有不同的配置内容, 如果不提供则会使用默认值；具体内容请参考下面的具体说明</td>
</tr>
<tr>
<td>field_list</td>
<td>array</td>
<td>否</td>
<td>字段信息，数组元素为 object，例如，字段有 field_name(字段名), field_type(字段类型), tag(字段类型, metirc -- 指标, dimension -- 维度), alias_name(字段别名)</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>否</td>
<td>业务 ID，如果不提供，默认是 0（全业务）结果表;如果非零时，将会校验结果表命名规范</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>是</td>
<td>结果表标签，此处记录的是二级标签，对应一级标签将由二级标签推导得到</td>
</tr>
<tr>
<td>external_storage</td>
<td>object</td>
<td>否</td>
<td _storage_95_type="${storage_type">额外存储配置，格式为</td>
</tr>
<tr>
<td>is_time_field_only</td>
<td>bool</td>
<td>否</td>
<td>默认字段是否仅需要 time，默认为 False</td>
</tr>
<tr>
<td>option</td>
<td>object</td>
<td>否</td>
<td>结果表的额外配置信息，格式为{<code>option_name</code>: <code>option_value</code>}</td>
</tr>
<tr>
<td>time_alias_name</td>
<td>string</td>
<td>否</td>
<td>时间字段上传时需要使用其他字段名</td>
</tr>
</tbody>
</table>
<p><strong>注意</strong>： 上述的<code>label</code>都应该通过<code>metadata_get_label</code>接口获取，不应该自行创建</p>
<h4 id="_6">目前结果表可以选择的选项包括</h4>
<table>
<thead>
<tr>
<th>选项名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>cmdb_level_config</td>
<td>list</td>
<td>CMDB 层级拆分配置</td>
</tr>
<tr>
<td>group_info_alias</td>
<td>string</td>
<td>分组标识字段别名</td>
</tr>
<tr>
<td>es_unique_field_list</td>
<td>list</td>
<td>ES 生成 doc_id 的字段列表</td>
</tr>
</tbody>
</table>
<h6 id="default95storage_config-storage_config-influxdb">参数: default_storage_config 及 storage_config -- 在 influxdb 下支持的参数</h6>
<p>| 键值 | 类型 | 是否必选 | 默认值 |描述 |
| ---- | --- | --- |
| storage_cluster_id | int | 否 | 使用该存储类型的默认存储集群  | 指定存储集群 |
| database | string | 否 | table_id 的点分第一部分 | 存储的数据库 |
| real_table_name | string | 否 | table_id 的点分第二部分 | 实际存储表名 |
| source_duration_time | string | 否 | 30d | 元数据保存时间, 需要符合 influxdb 格式 |</p>
<h6 id="default95storage_config-storage_config-kafka">参数: default_storage_config 及 storage_config -- 在 kafka 下支持的参数</h6>
<p>| 键值 | 类型 | 是否必选 | 默认值 |描述 |
| ---- | --- | --- |
| storage_cluster_id | int | 否 | 使用该存储类型的默认存储集群  | 指定存储集群 |
| topic | string | 否 | 0bkmonitor_storage_${table_id} | 存储的 topic 配置 |
| partition | int | 否 | 1 | 存储 partition 数量，注意：此处只是记录，如果是超过 1 个 topic 的配置，需要手动通过 kafka 命令行工具进行扩容 |
| retention | int | 否 | 1800000 | kafka 数据保存时长，默认是半小时，单位 ms |</p>
<h6 id="default95storage_config-storage_config-redis">参数: default_storage_config 及 storage_config -- 在 redis 下支持的参数</h6>
<p>| 键值 | 类型 | 是否必选 | 默认值 |描述 |
| ---- | --- | --- |
| storage_cluster_id | int | 否 | 使用该存储类型的默认存储集群  | 指定存储集群 |
| key | string | 否 | table_id 名字 | 存储键值 |
| db | int | 否 | 0 |使用 db 配置 |
| command | string | 否 | PUBLISH | 存储命令 |
| is_sentinel | bool | 否 | False | 是否哨兵模式 |
| master_name | string | 否 | "" | 哨兵模式下 master 名称 |</p>
<p><strong>注意</strong>: 由于 redis 默认使用队列方式，消费后就丢弃，因此未有时长配置</p>
<h6 id="default95storage_config-storage_config-elasticsearch">参数: default_storage_config 及 storage_config -- 在 elasticsearch 下支持的参数</h6>
<p>| 键值 | 类型 | 是否必选 | 默认值 |描述 |
| ---- | --- | --- |
| storage_cluster_id | int | 否 | - |使用该存储类型的默认存储集群
| retention | int | 否 |  30 |  保留 index 时间，单位为天，默认保留 30 天 |
| date_format | string | 否 | %Y%m%d%H | 时间格式，默认具体到小时 |
| slice_size | int | 否 | 500 | 需要切分的大小阈值，单位为 GB，默认为 500GB |
| slice_gap | int | 否 | 120 | index 分片时间间隔，单位分钟，默认 2 小时 |
| index_settings | string | 是 | - | 索引创建配置, json 格式 |
| mapping_settings | string | 否 | - | 索引 mapping 配置，<strong>不包含字段定义</strong>， json 格式 |</p>
<p><strong>注意</strong>: 实际 index 构造方式为<code>${table_id}_${date_format}_${current_index}</code></p>
<h6 id="field_list">参数: field_list 的具体参数说明</h6>
<p>| 键值 | 类型 | 是否必选 | 默认值 |描述 |
| ---- | --- | --- |
| field_name | string | 是 | - | 字段名 |
| field_type | string | 是 | - |  字段类型，可以为 float, string, boolean 和 timestamp |
| description | string | 否 | "" |  字段描述信息 |
| tag | string | 是 | - | 字段标签，可以为 metric, dimemsion, timestamp, group |
| alias_name | string | 否 | None | 入库别名 |
| option | string | 否 | {} | 字段选项配置，键为选项名，值为选项配置 |
| is_config_by_user | bool | 是 | true | 用户是否启用该字段配置 |</p>
<p>目前可以选择的 option 包括：
| 选项名 | 类型 | 描述 |
| -------------- | ------ | ----------- |
| es_type | string | es 配置：映射实际字段类型 |
| es_include_in_all | bool | es 配置：是否包含到_all 字段中 |
| es_format | string | es 配置：时间格式 |
| es_doc_values | bool | es 配置：是否维度 |
| es_index | string | es 配置：是否分词，值可以为 true 或 false |
| time_format | string | 数据源时间格式，供 Transfer 解析上报时间 |
| time_zone | int | 时区配置，供 Transfer 解析上报时间为 UTC，取值范围[-12, +12] |</p>
<h4 id="_7">请求示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_data_id&quot;: 1001,
    &quot;table_id&quot;: &quot;system.cpu_detail&quot;,
    &quot;table_name_zh&quot;: &quot;CPU记录&quot;,
    &quot;is_custom_table&quot;: true,
    &quot;schema_type&quot;: &quot;fixed&quot;,
    &quot;operator&quot;: &quot;username&quot;,
    &quot;default_storage&quot;: &quot;influxdb&quot;,
    &quot;default_storage_config&quot;: {
        &quot;storage&quot;: 1,
        &quot;source_duration_time&quot;: &quot;30d&quot;
    }
    &quot;field_list&quot;: [{
        &quot;field_name&quot;: &quot;usage&quot;,
        &quot;field_type&quot;: &quot;double&quot;,
        &quot;description&quot;: &quot;field description&quot;
        &quot;tag&quot;: &quot;metric&quot;,
        &quot;alias_name&quot;: &quot;usage_alias&quot;,
        &quot;option&quot;: [],
        &quot;is_config_by_user&quot;: true
    }],
    &quot;label&quot;: &quot;OS&quot;,
    &quot;external_storage&quot;: {
        &quot;kafka&quot;: {
            &quot;expired_time&quot;: 1800000
        }
    }
}</code></pre>


<h3 id="_8">返回结果</h3>
<h4 id="_9">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>table_id</td>
<td>string</td>
<td>结果表 ID</td>
</tr>
<tr>
<td>#### 结果示例</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;:&quot;OK&quot;,
    &quot;code&quot;:&quot;0&quot;,
    &quot;data&quot;:{
        &quot;table_id&quot;: &quot;system.cpu_detail&quot;
    },
    &quot;result&quot;:true,
    &quot;request_id&quot;:&quot;408233306947415bb1772a86b9536867&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_create_result_table_metric_split/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建一个结果表 CMDB 拆分任务
根据给定的数据源 ID，返回这个结果表的具体信息</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>table_id</td>
<td>string</td>
<td>是</td>
<td>结果表 ID</td>
</tr>
<tr>
<td>cmdb_level</td>
<td>string</td>
<td>是</td>
<td>CMDB 拆分层级名</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>操作者</td>
</tr>
</tbody>
</table>
<h4 id="_6">请求示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;table_id&quot;: &quot;system.cpu_summary&quot;,
    &quot;cmdb_level: &quot;set&quot;,
    &quot;operator&quot;: &quot;admin&quot;
}</code></pre>


<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_data_id</td>
<td>int</td>
<td>新创建的数据源 ID</td>
</tr>
<tr>
<td>table_id</td>
<td>string</td>
<td>新创建的结果表 ID</td>
</tr>
</tbody>
</table>
<h4 id="_9">结果示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;:&quot;OK&quot;,
    &quot;code&quot;:&quot;0&quot;,
    &quot;data&quot;:{
        &quot;bk_data_id&quot;: 1001,
        &quot;table_id&quot;: &quot;system.cpu_summary_cmdb_level&quot;
    },
    &quot;result&quot;:true,
    &quot;request_id&quot;:&quot;408233306947415bb1772a86b9536867&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_create_time_series_group/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_delete_event_group/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除一个事件分组
给定一个事件分组 ID，删除之</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>event_group_id</td>
<td>int</td>
<td>是</td>
<td>事件分组 ID</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>操作者</td>
</tr>
</tbody>
</table>
<h4 id="_6">请求示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;event_group_id&quot;: 123,
    &quot;operator&quot;: &quot;admin&quot;
}</code></pre>


<h3 id="_7">返回结果</h3>
<h4 id="_8">结果示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;:&quot;OK&quot;,
    &quot;code&quot;:&quot;0&quot;,
    &quot;data&quot;: { },
    &quot;result&quot;:true,
    &quot;request_id&quot;:&quot;408233306947415bb1772a86b9536867&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_delete_time_series_group/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_get_cluster_info/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_get_data_id/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询一个数据源的 ID
根据给定的数据源 ID，返回这个结果表的具体信息</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_data_id</td>
<td>int</td>
<td>否</td>
<td>数据源 ID</td>
</tr>
<tr>
<td>data_name</td>
<td>string</td>
<td>否</td>
<td>数据源名称</td>
</tr>
</tbody>
</table>
<blockquote>
<p>注意：
1. 上述两个必须提供一个，不可以两者同时为空;
2. 当 bk_data_id 提供时，data_name 无效</p>
</blockquote>
<h4 id="_6">请求示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_data_id&quot;: 1001
}</code></pre>


<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_data_id</td>
<td>int</td>
<td>数据源 ID</td>
</tr>
<tr>
<td>data_name</td>
<td>string</td>
<td>数据源名称</td>
</tr>
<tr>
<td>data_description</td>
<td>string</td>
<td>数据源描述</td>
</tr>
<tr>
<td>mq_cluster_info</td>
<td>object</td>
<td>消息队列集群信息, 样例会有具体描述</td>
</tr>
<tr>
<td>etl_config</td>
<td>string</td>
<td>清洗配置名称</td>
</tr>
<tr>
<td>is_custom_source</td>
<td>boolean</td>
<td>是否用户自定义数据源</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间, 格式为【2018-10-10 10:00:00】</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>最后修改者</td>
</tr>
<tr>
<td>last_modify_time</td>
<td>string</td>
<td>最后修改时间【2018-10-10 10:00:00】</td>
</tr>
<tr>
<td>token</td>
<td>string</td>
<td>dataID 的验证码</td>
</tr>
</tbody>
</table>
<h4 id="_9">结果示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;:&quot;OK&quot;,
    &quot;code&quot;:&quot;0&quot;,
    &quot;data&quot;:{
        &quot;bk_data_id&quot;: 1001,
        &quot;data_name&quot;: &quot;基础数据&quot;,
        &quot;data_description&quot;: &quot;基础数据数据源&quot;,
        &quot;mq_cluster_info&quot;: {
            &quot;storage_config&quot;: {
               &quot;topic&quot;: &quot;bk_monitor_1001&quot;,
               &quot;partition&quot;: 1,
           },
            &quot;cluster_config&quot;: {
               &quot;domain_name&quot;: &quot;kafka.domain.cluster&quot;,
               &quot;port&quot;: 80,
           },
           &quot;cluster_type&quot;: &quot;kafka&quot;
        },
        &quot;etl_config&quot;: &quot;basereport&quot;,
        &quot;is_custom_source&quot;: false,
        &quot;creator&quot;: &quot;username&quot;,
        &quot;create_time&quot;: &quot;2018-10-10 10:10:10&quot;,
        &quot;last_modify_user&quot;: &quot;username&quot;,
        &quot;last_modify_time&quot;: &quot;2018-10-10 10:10:10&quot;,
        &quot;source_label&quot;: &quot;bk_monitor_collector&quot;,
        &quot;type_label&quot;: &quot;time_series&quot;,
        &quot;token&quot;: &quot;5dc2353d913c45bea43dd8d931745a05&quot;
    },
    &quot;result&quot;:true,
    &quot;request_id&quot;:&quot;408233306947415bb1772a86b9536867&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_get_event_group/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询一个事件分组 ID
给定一个数据源和业务， 查询器具体的信息</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>event_group_id</td>
<td>int</td>
<td>是</td>
<td>事件分组 ID</td>
</tr>
<tr>
<td>with_result_table_info</td>
<td>bool</td>
<td>否</td>
<td>事件分组存储信息</td>
</tr>
</tbody>
</table>
<h4 id="_6">请求示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;event_group_id&quot;: 123,
    &quot;with_result_table_info&quot;: true
}</code></pre>


<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_event_group_id</td>
<td>int</td>
<td>事件分组 ID</td>
</tr>
<tr>
<td>bk_data_id</td>
<td>int</td>
<td>数据源 ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>event_group_name</td>
<td>string</td>
<td>事件分组名</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>事件标签</td>
</tr>
<tr>
<td>is_enable</td>
<td>bool</td>
<td>是否启用</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>最后修改者</td>
</tr>
<tr>
<td>last_modify_time</td>
<td>string</td>
<td>最后修改时间</td>
</tr>
<tr>
<td>event_info_list</td>
<td>array</td>
<td>事件列表</td>
</tr>
<tr>
<td>shipper_list</td>
<td>object</td>
<td>结果表配置信息</td>
</tr>
</tbody>
</table>
<h4 id="event_info_list">event_info_list 具体内容说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_event_id</td>
<td>int</td>
<td>事件 ID</td>
</tr>
<tr>
<td>event_name</td>
<td>string</td>
<td>事件名</td>
</tr>
<tr>
<td>dimension</td>
<td>array</td>
<td>维度列表, 元素为维度明</td>
</tr>
</tbody>
</table>
<h4 id="_9">结果示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;:&quot;OK&quot;,
    &quot;code&quot;:&quot;0&quot;,
    &quot;data&quot;: {
        &quot;event_group_id&quot;: 1001,
        &quot;bk_data_id&quot;: 123,
        &quot;bk_biz_id&quot;: 123,
        &quot;event_group_name&quot;: &quot;事件分组名&quot;,
        &quot;label&quot;: &quot;application&quot;,
        &quot;is_enable&quot;: true,
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;create_time&quot;: &quot;2019-10-10 10:10:10&quot;,
        &quot;last_modify_user&quot;: &quot;admin&quot;,
        &quot;last_modify_time&quot;: &quot;2020-10-10 10:10:10&quot;,
        &quot;event_info_list&quot;: [{
          &quot;bk_event_id&quot;: 1,
          &quot;event_name&quot;: &quot;usage for update&quot;,
          &quot;dimension_list&quot;: [&quot;dimension_name&quot;]
        },{
          &quot;bk_event_id&quot;: 2,
          &quot;event_name&quot;: &quot;usage for create&quot;,
          &quot;dimension_list&quot;: [&quot;dimension_name&quot;]
        }],
        &quot;shipper_list&quot;: [{
            &quot;cluster_info&quot;: {
                &quot;domain_name&quot;: &quot;es.service.consul&quot;,
                &quot;port&quot;: 8000
            },
            &quot;cluster_type&quot;: &quot;es&quot;
        }]
    },
    &quot;result&quot;:true,
    &quot;request_id&quot;:&quot;408233306947415bb1772a86b9536867&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_get_result_table/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询一个结果表的信息
根据给定的结果表 ID，返回这个结果表的具体信息</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>table_id</td>
<td>string</td>
<td>是</td>
<td>结果表 ID</td>
</tr>
</tbody>
</table>
<h4 id="_6">请求示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;table_id&quot;: &quot;system.cpu&quot;
}</code></pre>


<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>table_id</td>
<td>int</td>
<td>结果表 ID</td>
</tr>
<tr>
<td>table_name_zh</td>
<td>string</td>
<td>结果表中文名</td>
</tr>
<tr>
<td>is_custom_table</td>
<td>boolean</td>
<td>是否自定义结果表</td>
</tr>
<tr>
<td>schema_type</td>
<td>string</td>
<td>结果表 schema 配置方案，free(无 schema 配置), dynamic(动态 schema), fixed(固定 schema)</td>
</tr>
<tr>
<td>default_storage</td>
<td>string</td>
<td>默认存储方案</td>
</tr>
<tr>
<td>storage_list</td>
<td>array</td>
<td>所有存储列表，元素为 string</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间, 格式为【2018-10-10 10:00:00】</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>最后修改者</td>
</tr>
<tr>
<td>last_modify_time</td>
<td>string</td>
<td>最后修改时间【2018-10-10 10:00:00】</td>
</tr>
</tbody>
</table>
<h4 id="_9">结果示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;:&quot;OK&quot;,
    &quot;code&quot;:&quot;0&quot;,
    &quot;data&quot;:{
        &quot;table_id&quot;: &quot;system.cpu&quot;,
        &quot;table_name_zh&quot;: &quot;结果表名&quot;,
        &quot;is_custom_table&quot;: false,
        &quot;scheme_type&quot;: &quot;fixed&quot;,
        &quot;default_storage&quot;: &quot;influxdb&quot;,
        &quot;storage_list&quot;: [&quot;influxdb&quot;],
        &quot;creator&quot;: &quot;username&quot;,
        &quot;create_time&quot;: &quot;2018-10-10 10:10:10&quot;,
        &quot;last_modify_user&quot;: &quot;username&quot;,
        &quot;last_modify_time&quot;: &quot;2018-10-10 10:10:10&quot;,
        &quot;field_list&quot;: [{
            &quot;field_name&quot;: &quot;usage&quot;,
            &quot;field_type&quot;: &quot;float&quot;,
            &quot;tag&quot;: &quot;dimension&quot;,
            &quot;description&quot;: &quot;CPU用量&quot;
            &quot;is_config_by_user&quot;: true
        }],
        &quot;bk_biz_id&quot;: 0,
        &quot;label&quot;: &quot;OS&quot;
    },
    &quot;result&quot;:true,
    &quot;request_id&quot;:&quot;408233306947415bb1772a86b9536867&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_get_result_table_storage/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询一个结果表的指定存储信息
根据给定的结果表 ID，返回这个结果表的具体存储集群信息</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result_table_list</td>
<td>string</td>
<td>是</td>
<td>结果表 ID</td>
</tr>
<tr>
<td>storage_type</td>
<td>string</td>
<td>是</td>
<td>存储类型</td>
</tr>
</tbody>
</table>
<h4 id="_6">请求示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;result_table_list&quot;: &quot;system.cpu&quot;,
    &quot;storage_type&quot;: &quot;elasticsearch&quot;
}</code></pre>


<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>table_id</td>
<td>int</td>
<td>结果表 ID</td>
</tr>
<tr>
<td>storage_info</td>
<td>array</td>
<td>存储集群信息</td>
</tr>
</tbody>
</table>
<h6 id="storage_info">对于 storage_info，各个元素内容说明如下</h6>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>storage_config</td>
<td>object</td>
<td>存储集群特性，各个存储下字段不一致</td>
</tr>
<tr>
<td>cluster_config</td>
<td>object</td>
<td>存储集群信息</td>
</tr>
<tr>
<td>cluster_type</td>
<td>string</td>
<td>存储集群类型</td>
</tr>
<tr>
<td>auth_info</td>
<td>object</td>
<td>身份认证信息</td>
</tr>
</tbody>
</table>
<h4 id="_9">结果示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;:&quot;OK&quot;,
    &quot;code&quot;:&quot;0&quot;,
    &quot;data&quot;:{
        &quot;system.cpu&quot;: {
            &quot;table_id&quot;: &quot;system.cpu&quot;,
            &quot;storage_info&quot;: [{
                &quot;storage_config&quot;: {
                    &quot;index_datetime_format&quot;: &quot;%Y%m%h&quot;, 
                    &quot;slice_size&quot;: 400,
                    &quot;slice_gap&quot;: 120,
                    &quot;retention&quot;: 30
                },
                &quot;cluster_config&quot;: {
                    &quot;domain_name&quot;: &quot;service.consul&quot;,
                    &quot;port&quot;: 1000,
                    &quot;schema&quot;: &quot;http&quot;,
                    &quot;is_ssl_verify&quot;: false,
                    &quot;cluster_id&quot;: 1,
                    &quot;cluster_name&quot;: &quot;default_es_storage&quot;
                },
                &quot;cluster_type&quot;: &quot;elasticsearch&quot;,
                &quot;auth_info&quot;: {
                    &quot;username&quot;: &quot;admin&quot;,
                    &quot;password&quot;: &quot;password&quot;
                }
            }]
        }

    },
    &quot;result&quot;:true,
    &quot;request_id&quot;:&quot;408233306947415bb1772a86b9536867&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_get_time_series_group/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_get_time_series_metrics/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_list_label/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取数据标签 
根据请求的参数，返回各个请求数据标签，包含了数据源标签及结果表各级标签</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>label_type</td>
<td>string</td>
<td>否</td>
<td>标签分类，<code>source_label</code>, <code>type_label</code> or <code>result_table_label</code></td>
</tr>
<tr>
<td>level</td>
<td>int</td>
<td>否</td>
<td>标签层级, 层级从 1 开始计算, 该配置只在<code>label_type</code>为<code>result_table</code>时生效</td>
</tr>
<tr>
<td>include_admin_only</td>
<td>bool</td>
<td>否</td>
<td>是否展示管理员可见标签</td>
</tr>
</tbody>
</table>
<h4 id="_6">请求示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;level&quot;: 1,
    &quot;label_type&quot;: &quot;source_label&quot;
}</code></pre>


<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>label_id</td>
<td>string</td>
<td>标签 ID（英文名）</td>
</tr>
<tr>
<td>label_name</td>
<td>string</td>
<td>标签名（中文名）</td>
</tr>
<tr>
<td>label_type</td>
<td>string</td>
<td>标签分类</td>
</tr>
<tr>
<td>level</td>
<td>int</td>
<td>标签层级</td>
</tr>
<tr>
<td>parent_label</td>
<td>string</td>
<td>父级标签 ID</td>
</tr>
<tr>
<td>index</td>
<td>int</td>
<td>标签在同 level 下的排序顺序</td>
</tr>
</tbody>
</table>
<h4 id="_9">结果示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;:&quot;OK&quot;,
    &quot;code&quot;:&quot;0&quot;,
    &quot;data&quot;: {
        &quot;source_label&quot;: [{
            &quot;label_id&quot;: &quot;bk_monitor_collector&quot;,
            &quot;label_name&quot;: &quot;蓝鲸监控采集器&quot;,
            &quot;label_type&quot;: &quot;source_label&quot;,
            &quot;level&quot;: null,
            &quot;parent_label&quot;: null,
            &quot;index&quot;: 0
        }],
        &quot;type_label&quot;: [{
            &quot;label_id&quot;: &quot;time_series&quot;,
            &quot;label_name&quot;: &quot;时序数据&quot;,
            &quot;label_type&quot;: &quot;type_label&quot;,
            &quot;level&quot;: null,
            &quot;parent_label&quot;: null,
            &quot;index&quot;: 0
        }],
        &quot;result_table_label&quot;: [{
            &quot;label_id&quot;: &quot;OS&quot;,
            &quot;label_name&quot;: &quot;操作系统&quot;,
            &quot;label_type&quot;: &quot;result_table_label&quot;,
            &quot;level&quot;: 2,
            &quot;parent_label&quot;: &quot;host&quot;,
            &quot;index&quot;: 0
        }, {
            &quot;label_id&quot;: &quot;host&quot;,
            &quot;label_name&quot;: &quot;主机&quot;,
            &quot;label_type&quot;: &quot;result_table_label&quot;,
            &quot;level&quot;: 1,
            &quot;parent_label&quot;: null,
            &quot;index&quot;: 1
        }]
    },
    &quot;result&quot;:true,
    &quot;request_id&quot;:&quot;408233306947415bb1772a86b9536867&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_list_result_table/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取存储列表
根据给定的过滤参数（暂无），返回符合条件的结果表列表</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<p>无请求参数</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>datasource_type</td>
<td>string</td>
<td>false</td>
<td>需要过滤的结果表类型, 如 system</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>false</td>
<td>获取指定业务下的结果表信息</td>
</tr>
<tr>
<td>is_public_include</td>
<td>int</td>
<td>false</td>
<td>是否包含全业务结果表, 0 为不包含, 非 0 为包含全业务结果表</td>
</tr>
<tr>
<td>is_config_by_user</td>
<td>bool</td>
<td>false</td>
<td>是否需要包含非用户配置的结果表内容</td>
</tr>
</tbody>
</table>
<h4 id="_6">请求示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_biz_id&quot;: 123,
    &quot;is_public_include&quot;: 1,
    &quot;datasource_type&quot;: &quot;system&quot;
}</code></pre>


<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result_table_id</td>
<td>int</td>
<td>结果表 ID</td>
</tr>
<tr>
<td>table_name_zh</td>
<td>string</td>
<td>结果表中文名</td>
</tr>
<tr>
<td>is_custom_table</td>
<td>boolean</td>
<td>是否自定义结果表</td>
</tr>
<tr>
<td>schema_type</td>
<td>string</td>
<td>结果表 schema 配置方案，free(无 schema 配置), dynamic(动态 schema), fixed(固定 schema)</td>
</tr>
<tr>
<td>default_storage</td>
<td>string</td>
<td>默认存储方案</td>
</tr>
<tr>
<td>storage_list</td>
<td>array</td>
<td>所有存储列表，元素为 string</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间, 格式为【2018-10-10 10:00:00】</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>最后修改者</td>
</tr>
<tr>
<td>last_modify_time</td>
<td>string</td>
<td>最后修改时间【2018-10-10 10:00:00】</td>
</tr>
</tbody>
</table>
<h4 id="_9">结果示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;:&quot;OK&quot;,
    &quot;code&quot;:&quot;0&quot;,
    &quot;data&quot;:[{
        &quot;table_id&quot;: &quot;system.cpu&quot;,
        &quot;table_name_zh&quot;: &quot;结果表名&quot;,
        &quot;is_custom_table&quot;: false,
        &quot;scheme_type&quot;: &quot;fixed&quot;,
        &quot;default_storage&quot;: &quot;influxdb&quot;,
        &quot;storage_list&quot;: [&quot;influxdb&quot;],
        &quot;creator&quot;: &quot;username&quot;,
        &quot;create_time&quot;: &quot;2018-10-10 10:10:10&quot;,
        &quot;last_modify_user&quot;: &quot;username&quot;,
        &quot;last_modify_time&quot;: &quot;2018-10-10 10:10:10&quot;,
        &quot;field_list&quot;: [{
            &quot;field_name&quot;: &quot;usage&quot;,
            &quot;field_type&quot;: &quot;float&quot;,
            &quot;tag&quot;: &quot;dimension&quot;,
            &quot;description&quot;: &quot;CPU用量&quot;,
            &quot;is_config_by_user&quot;: true,
            &quot;unit&quot;: &quot;字段单位&quot;

        }],
        &quot;bk_biz_id&quot;: 0,
        &quot;label&quot;: &quot;OS&quot;
    }],
    &quot;result&quot;:true,
    &quot;request_id&quot;:&quot;408233306947415bb1772a86b9536867&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_modify_cluster_info/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询存储集群配置
根据给定的配置参数，创建一个存储集群配置</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>cluster_id</td>
<td>int</td>
<td>是</td>
<td>集群 ID</td>
</tr>
<tr>
<td>cluster_name</td>
<td>string</td>
<td>是</td>
<td>存储集群名</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>修改者</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>否</td>
<td>存储集群描述信息</td>
</tr>
<tr>
<td>auth_info</td>
<td>object</td>
<td>否</td>
<td>集群用户名</td>
</tr>
<tr>
<td>custom_label</td>
<td>string</td>
<td>否</td>
<td>自定义标签</td>
</tr>
<tr>
<td>schema</td>
<td>string</td>
<td>否</td>
<td>强行配置 schema，可用于配置 https 等情形</td>
</tr>
<tr>
<td>is_ssl_verify</td>
<td>bool</td>
<td>否</td>
<td>是否需要跳过 SSL\TLS 认证</td>
</tr>
</tbody>
</table>
<p><strong>注意</strong>: 上述信息是否可以修改，主要决定于该修改参数是否会导致历史数据丢失；例如，修改 domain_name 需要运维介入的操作，不支持在此处修改</p>
<h4 id="auth_info">auth_info 说明</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;username&quot;: &quot;username&quot;,
  &quot;password&quot;: &quot;password&quot;
}</code></pre>


<h4 id="_6">请求示例</h4>
<pre class="codehilite"><code class="language-json">{ 
    &quot;cluster_id&quot;: 1,
    &quot;cluster_name&quot;: &quot;first_influxdb&quot;,
    &quot;operator&quot;: &quot;admin&quot;
}</code></pre>


<p><strong>注意</strong>: 请求可以提供<code>cluster_id</code>或者<code>cluster_name</code>定位需要修改的集群信息；但两者互斥，优先使用<code>cluster_id</code></p>
<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>cluster_id</td>
<td>int</td>
<td>集群 ID</td>
</tr>
</tbody>
</table>
<h4 id="_9">结果示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;:&quot;OK&quot;,
    &quot;code&quot;:&quot;0&quot;,
    &quot;data&quot;: [{
        &quot;cluster_config&quot;: {
            &quot;domain_name&quot;: &quot;service.consul&quot;,
            &quot;port&quot;: 9052,
            &quot;schema&quot;: &quot;https&quot;,
            &quot;is_ssl_verify&quot;: true,
            &quot;cluster_id&quot;: 1,
            &quot;cluster_name&quot;: &quot;default_influx&quot;,
            &quot;version&quot;: &quot;&quot;
        },
        &quot;cluster_type&quot;: &quot;influxDB&quot;,
        &quot;auth_info&quot;: {
            &quot;password&quot;: &quot;&quot;,
            &quot;username&quot;: &quot;&quot;
        }
    }],
    &quot;result&quot;:true,
    &quot;request_id&quot;:&quot;408233306947415bb1772a86b9536867&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_modify_data_id/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>修改数据源名称</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>data_name</td>
<td>string</td>
<td>是</td>
<td>数据源名称</td>
</tr>
<tr>
<td>data_id</td>
<td>int</td>
<td>是</td>
<td>数据源 ID</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>操作者</td>
</tr>
<tr>
<td>source_label</td>
<td>string</td>
<td>是</td>
<td>数据来源标签，例如：计算平台(bk_data)，监控采集器(bk_monitor_collector)</td>
</tr>
<tr>
<td>type_label</td>
<td>string</td>
<td>是</td>
<td>数据类型标签，例如：时序数据(time_series)，事件数据(event)，日志数据(log)</td>
</tr>
</tbody>
</table>
<p><strong>注意</strong>： 上述的<code>source_tag</code>及<code>data_type</code>都应该通过<code>metadata_get_label</code>接口获取，不应该自行创建 </p>
<h4 id="_6">请求示例</h4>
<pre class="codehilite"><code class="language-json">{ 
    &quot;operator&quot;: &quot;adminn&quot;,
    &quot;data_id&quot;: 123,
    &quot;data_name&quot;: &quot;basereport&quot;,
    &quot;source_label&quot;: &quot;bk_monitor_collector&quot;,
    &quot;type_label&quot;: &quot;time_series&quot;
}</code></pre>


<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_data_id</td>
<td>int</td>
<td>结果表 ID</td>
</tr>
</tbody>
</table>
<h4 id="_9">结果示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;:&quot;OK&quot;,
    &quot;code&quot;:&quot;0&quot;,
    &quot;data&quot;:{
        &quot;bk_data_id&quot;: 1001,
        &quot;data_name&quot;: &quot;基础数据&quot;,
        &quot;data_description&quot;: &quot;基础数据数据源&quot;,
        &quot;mq_cluster_info&quot;: {
            &quot;storage_config&quot;: {
               &quot;topic&quot;: &quot;bk_monitor_1001&quot;,
               &quot;partition&quot;: 1,
           },
            &quot;cluster_config&quot;: {
               &quot;domain_name&quot;: &quot;kafka.domain.cluster&quot;,
               &quot;port&quot;: 80,
           },
           &quot;cluster_type&quot;: &quot;kafka&quot;
        },
        &quot;etl_config&quot;: &quot;basereport&quot;,
        &quot;is_custom_source&quot;: false,
        &quot;creator&quot;: &quot;username&quot;,
        &quot;create_time&quot;: &quot;2018-10-10 10:10:10&quot;,
        &quot;last_modify_user&quot;: &quot;username&quot;,
        &quot;last_modify_time&quot;: &quot;2018-10-10 10:10:10&quot;,
        &quot;source_label&quot;: &quot;bk_monitor_collector&quot;,
        &quot;type_label&quot;: &quot;time_series&quot;
    },
    &quot;result&quot;:true,
    &quot;request_id&quot;:&quot;408233306947415bb1772a86b9536867&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_modify_event_group/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>修改一个事件分组 ID
给定一个事件分组 ID，修改某些具体的信息</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>event_group_id</td>
<td>int</td>
<td>是</td>
<td>事件组 ID</td>
</tr>
<tr>
<td>event_group_name</td>
<td>string</td>
<td>是</td>
<td>事件分组名</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>否</td>
<td>事件分组标签，用于表示事件监控对象，应该复用【result_table_label】类型下的标签</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>否</td>
<td>操作者</td>
</tr>
<tr>
<td>event_info_list</td>
<td>bool</td>
<td>否</td>
<td>事件列表</td>
</tr>
<tr>
<td>is_enable</td>
<td>bool</td>
<td>否</td>
<td>是否停用事件组</td>
</tr>
</tbody>
</table>
<h4 id="_6">请求示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;bk_group_id&quot;: 123,
    &quot;label&quot;: &quot;application&quot;,
    &quot;operator&quot;: &quot;system&quot;,
    &quot;description&quot;: &quot;what the group use for.&quot;,
    &quot;is_enable&quot;: true,
    &quot;event_info_list&quot;: [{
      &quot;event_name&quot;: &quot;usage for update&quot;,
      &quot;dimension_list&quot;: [&quot;dimension_name&quot;]
    },{
      &quot;event_name&quot;: &quot;usage for create&quot;,
      &quot;dimension_list&quot;: [&quot;dimension_name&quot;]
    }]
}</code></pre>


<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_group_id</td>
<td>int</td>
<td>新建的事件分组 ID</td>
</tr>
</tbody>
</table>
<h4 id="_9">结果示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;:&quot;OK&quot;,
    &quot;code&quot;:&quot;0&quot;,
    &quot;data&quot;: {
        &quot;event_group_id&quot;: 1001,
        &quot;bk_data_id&quot;: 123,
        &quot;bk_biz_id&quot;: 123,
        &quot;label&quot;: &quot;application&quot;,
        &quot;description&quot;: &quot;use for what?&quot;,
        &quot;is_enable&quot;: true,
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;create_time&quot;: &quot;2019-10-10 10:10:10&quot;,
        &quot;last_modify_user&quot;: &quot;admin&quot;,
        &quot;last_modify_time&quot;: &quot;2020-10-10 10:10:10&quot;
    },
    &quot;result&quot;:true,
    &quot;request_id&quot;:&quot;408233306947415bb1772a86b9536867&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_modify_result_table/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>修改一个结果表的配置
根据给定的数据源 ID，返回这个结果表的具体信息</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>table_id</td>
<td>string</td>
<td>是</td>
<td>结果表 ID</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>操作者</td>
</tr>
<tr>
<td>field_list</td>
<td>array</td>
<td>否</td>
<td>全量的字段列表</td>
</tr>
<tr>
<td>table_name_zh</td>
<td>string</td>
<td>否</td>
<td>结果表中文名</td>
</tr>
<tr>
<td>default_storage</td>
<td>string</td>
<td>否</td>
<td>结果表默认存储类型</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>是</td>
<td>结果表标签，此处记录的是二级标签，对应一级标签将由二级标签推导得到</td>
</tr>
<tr>
<td>is_time_field_only</td>
<td>bool</td>
<td>否</td>
<td>默认字段是否仅需要 time，默认为 False，该字段仅在 field_list 参数为非空时生效</td>
</tr>
<tr>
<td>external_storage</td>
<td>object</td>
<td>否</td>
<td _storage_95_type="${storage_type">额外存储配置，格式为</td>
</tr>
<tr>
<td>is_enable</td>
<td>bool</td>
<td>否</td>
<td>是否启用结果表</td>
</tr>
</tbody>
</table>
<p><strong>注意</strong>： 上述的<code>label</code>都应该通过<code>metadata_get_label</code>接口获取，不应该自行创建</p>
<h6 id="default95storage_config-storage_config-influxdb">参数: default_storage_config 及 storage_config -- 在 influxdb 下支持的参数</h6>
<p>| 键值 | 类型 | 是否必选 | 默认值 |描述 |
| ---- | --- | --- |
| source_duration_time | string | 否 | 30d | 元数据保存时间, 需要符合 influxdb 格式 |</p>
<h6 id="default95storage_config-storage_config-kafka">参数: default_storage_config 及 storage_config -- 在 kafka 下支持的参数</h6>
<p>| 键值 | 类型 | 是否必选 | 默认值 |描述 |
| ---- | --- | --- |
| partition | int | 否 | 1 | 存储 partition 数量，注意：此处只是记录，如果是超过 1 个 topic 的配置，需要手动通过 kafka 命令行工具进行扩容 |
| retention | int | 否 | 1800000 | kafka 数据保存时长，默认是半小时，单位 ms |</p>
<h6 id="default95storage_config-storage_config-redis">参数: default_storage_config 及 storage_config -- 在 redis 下支持的参数</h6>
<p>| 键值 | 类型 | 是否必选 | 默认值 |描述 |
| ---- | --- | --- |
| is_sentinel | bool | 否 | False | 是否哨兵模式 |
| master_name | string | 否 | "" | 哨兵模式下 master 名称 |</p>
<p><strong>注意</strong>: 由于 redis 默认使用队列方式，消费后就丢弃，因此未有时长配置</p>
<h6 id="default95storage_config-storage_config-elasticsearch">参数: default_storage_config 及 storage_config -- 在 elasticsearch 下支持的参数</h6>
<p>| 键值 | 类型 | 是否必选 | 默认值 |描述 |
| ---- | --- | --- |
| retention | int | 否 |  30 |  保留 index 时间，单位为天，默认保留 30 天 |
| slice_size | int | 否 | 500 | 需要切分的大小阈值，单位为 GB，默认为 500GB |
| slice_gap | int | 否 | 120 | index 分片时间间隔，单位分钟，默认 2 小时 |
| index_settings | string | 是 | - | 索引创建配置, json 格式 |
| mapping_settings | string | 否 | - | 索引 mapping 配置，<strong>不包含字段定义</strong>， json 格式 |
| alias_name | string | 否 | None | 入库别名 |
| option | string | 否 | {} | 字段选项配置，键为选项名，值为选项配置 |</p>
<p><strong>注意</strong>: 上述信息是否可以修改，主要决定于该修改参数是否会导致历史数据丢失</p>
<p>| 键值 | 类型 | 是否必选 | 默认值 |描述 |
| ---- | --- | --- |
| filed_name | string | 是 |  - |  字段名 |
| field_type | string | 是 |  - |  字段类型 |
| description | string | 否 |  "" |  字段描述 |
| tag | string | 是 |  - |  字段类型，可以为 metric 或 dimension |
| alias_name | string | 否 |  "" |  字段别名，入库时可以改为此别名写入 |
| option | array | 否 |  [] | 字段配置选项 |
| is_config_by_user | bool | 否 |  true | 是否启用 |</p>
<h4 id="_6">请求示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;table_id&quot;: &quot;system.cpu&quot;,
    &quot;operator&quot;: &quot;username&quot;,
    &quot;field_list&quot;: [{
        &quot;filed_name&quot;: &quot;usage&quot;,
        &quot;field_type&quot;: &quot;double&quot;,
        &quot;description&quot;: &quot;field description&quot;,
        &quot;tag&quot;: &quot;metric&quot;,
        &quot;alias_name&quot;: &quot;usage_alias&quot;,
        &quot;option&quot;: [],
        &quot;is_config_by_user&quot;: true
    }],
    &quot;label&quot;: &quot;OS&quot;,
    &quot;table_name_zh&quot;: &quot;CPU性能数据&quot;,
    &quot;default_storage&quot;: &quot;influxdb&quot;
}</code></pre>


<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>table_id</td>
<td>int</td>
<td>结果表 ID</td>
</tr>
<tr>
<td>table_name_zh</td>
<td>string</td>
<td>结果表中文名</td>
</tr>
<tr>
<td>is_custom_table</td>
<td>boolean</td>
<td>是否自定义结果表</td>
</tr>
<tr>
<td>schema_type</td>
<td>string</td>
<td>结果表 schema 配置方案，free(无 schema 配置), dynamic(动态 schema), fixed(固定 schema)</td>
</tr>
<tr>
<td>default_storage</td>
<td>string</td>
<td>默认存储方案</td>
</tr>
<tr>
<td>storage_list</td>
<td>array</td>
<td>所有存储列表，元素为 string</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间, 格式为【2018-10-10 10:00:00】</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>最后修改者</td>
</tr>
<tr>
<td>last_modify_time</td>
<td>string</td>
<td>最后修改时间【2018-10-10 10:00:00】</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>结果表标签</td>
</tr>
<tr>
<td>#### 结果示例</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;:&quot;OK&quot;,
    &quot;code&quot;:&quot;0&quot;,
    &quot;data&quot;:{
        &quot;table_id&quot;: &quot;system.cpu&quot;,
        &quot;table_name_zh&quot;: &quot;结果表名&quot;,
        &quot;is_custom_table&quot;: false,
        &quot;scheme_type&quot;: &quot;fixed&quot;,
        &quot;default_storage&quot;: &quot;influxdb&quot;,
        &quot;storage_list&quot;: [&quot;influxdb&quot;],
        &quot;creator&quot;: &quot;username&quot;,
        &quot;create_time&quot;: &quot;2018-10-10 10:10:10&quot;,
        &quot;last_modify_user&quot;: &quot;username&quot;,
        &quot;last_modify_time&quot;: &quot;2018-10-10 10:10:10&quot;,
        &quot;field_list&quot;: [{
            &quot;field_name&quot;: &quot;usage&quot;,
            &quot;field_type&quot;: &quot;float&quot;,
            &quot;tag&quot;: &quot;dimension&quot;,
            &quot;description&quot;: &quot;CPU用量&quot;,
            &quot;is_config_by_user&quot;: true
        }],
        &quot;label&quot;: &quot;OS&quot;
    },
    &quot;result&quot;:true,
    &quot;request_id&quot;:&quot;408233306947415bb1772a86b9536867&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_modify_time_series_group/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_query_event_group/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>批量查询事件分组信息</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>label</td>
<td>string</td>
<td>否</td>
<td>事件分组标签（监控对象）</td>
</tr>
<tr>
<td>event_group_name</td>
<td>string</td>
<td>否</td>
<td>事件分组名称</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>否</td>
<td>业务 ID</td>
</tr>
</tbody>
</table>
<h4 id="_6">请求示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;label&quot;: &quot;application&quot;,
    &quot;event_group_name&quot;: &quot;事件分组名&quot;,
    &quot;bk_biz_id&quot;: 123
}</code></pre>


<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_event_group_id</td>
<td>int</td>
<td>事件分组 ID</td>
</tr>
<tr>
<td>bk_data_id</td>
<td>int</td>
<td>数据源 ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>event_group_name</td>
<td>string</td>
<td>事件分组名</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>事件标签</td>
</tr>
<tr>
<td>is_enable</td>
<td>bool</td>
<td>是否启用</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>最后修改者</td>
</tr>
<tr>
<td>last_modify_time</td>
<td>string</td>
<td>最后修改时间</td>
</tr>
<tr>
<td>event_info_list</td>
<td>array</td>
<td>事件列表</td>
</tr>
</tbody>
</table>
<h4 id="event_info_list">event_info_list 具体内容说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_event_id</td>
<td>int</td>
<td>事件 ID</td>
</tr>
<tr>
<td>event_name</td>
<td>string</td>
<td>事件名</td>
</tr>
<tr>
<td>dimension</td>
<td>array</td>
<td>维度列表</td>
</tr>
</tbody>
</table>
<h4 id="event_info_listdimension">event_info_list.dimension 具体内容说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>dimension_name</td>
<td>string</td>
<td>维度名</td>
</tr>
<tr>
<td>dimension_ch_name</td>
<td>string</td>
<td>维度中文名</td>
</tr>
</tbody>
</table>
<h4 id="_9">结果示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;:&quot;OK&quot;,
    &quot;code&quot;:&quot;0&quot;,
    &quot;data&quot;: [{
        &quot;event_group_id&quot;: 1001,
        &quot;bk_data_id&quot;: 123,
        &quot;bk_biz_id&quot;: 123,
        &quot;event_group_name&quot;: &quot;事件分组名&quot;,
        &quot;label&quot;: &quot;application&quot;,
        &quot;is_enable&quot;: true,
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;create_time&quot;: &quot;2019-10-10 10:10:10&quot;,
        &quot;last_modify_user&quot;: &quot;admin&quot;,
        &quot;last_modify_time&quot;: &quot;2020-10-10 10:10:10&quot;,
        &quot;event_info_list&quot;: [{
          &quot;bk_event_id&quot;: 1,
          &quot;event_name&quot;: &quot;usage for update&quot;,
          &quot;dimension_list&quot;: [{
            &quot;dimension_name&quot;: &quot;field_name&quot;
          }]
        },{
          &quot;bk_event_id&quot;: 2,
          &quot;event_name&quot;: &quot;usage for create&quot;,
          &quot;dimension_list&quot;: [{
            &quot;dimension_name&quot;: &quot;field_name&quot;
          }]
        }]
    }],
    &quot;result&quot;:true,
    &quot;request_id&quot;:&quot;408233306947415bb1772a86b9536867&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_query_tag_values/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_query_time_series_group/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/metadata_upgrade_result_table/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>修改一个单业务结果表，使之升级为全业务结果表</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>table_id</td>
<td>string</td>
<td>是</td>
<td>结果表 ID</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>操作者</td>
</tr>
</tbody>
</table>
<h4 id="_6">请求示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;table_id_list&quot;: [&quot;2_system.cpu&quot;, &quot;3_system.cpu&quot;],
}</code></pre>


<h3 id="_7">返回结果</h3>
<h4 id="_8">结果示例</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;:&quot;OK&quot;,
    &quot;code&quot;:&quot;0&quot;,
    &quot;data&quot;: null,
    &quot;result&quot;:true,
    &quot;request_id&quot;:&quot;408233306947415bb1772a86b9536867&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/query_collect_config/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/save_alarm_strategy/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>保存告警策略</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">action_list</td>
<td>list</td>
<td>是</td>
<td>动作列表(Action)</td>
</tr>
<tr>
<td align="left">target</td>
<td>list</td>
<td>是</td>
<td>监控目标</td>
</tr>
<tr>
<td align="left">bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td align="left">item_list</td>
<td>list</td>
<td>是</td>
<td>监控项(Item)</td>
</tr>
<tr>
<td align="left">name</td>
<td>string</td>
<td>是</td>
<td>策略名称</td>
</tr>
<tr>
<td align="left">scenario</td>
<td>string</td>
<td>是</td>
<td>监控对象</td>
</tr>
</tbody>
</table>
<h4 id="noticeaction">NoticeAction</h4>
<p>action 目前只有通知类型，创建策略时，如果传入通知组的 ID，则使用通知组</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>action_type</td>
<td>string</td>
<td>是</td>
<td>动作类型(notice)</td>
</tr>
<tr>
<td>config</td>
<td>dict</td>
<td>是</td>
<td>动作配置</td>
</tr>
<tr>
<td>config.alarm_end_time</td>
<td>string</td>
<td>是</td>
<td>通知时间段</td>
</tr>
<tr>
<td>config.alarm_start_time</td>
<td>string</td>
<td>是</td>
<td>通知时间段</td>
</tr>
<tr>
<td>config.send_recovery_alarm</td>
<td>bool</td>
<td>是</td>
<td>是否发送恢复</td>
</tr>
<tr>
<td>config.alarm_interval</td>
<td>int</td>
<td>是</td>
<td>通知间隔</td>
</tr>
<tr>
<td>notice_template</td>
<td>dict</td>
<td>否</td>
<td>通知配置</td>
</tr>
<tr>
<td>notice_template.anomaly_template</td>
<td>string</td>
<td>否</td>
<td>异常通知模板</td>
</tr>
<tr>
<td>notice_template.recovery_template</td>
<td>string</td>
<td>否</td>
<td>恢复通知模板</td>
</tr>
<tr>
<td>notice_group_list</td>
<td>list</td>
<td>是</td>
<td>通知组列表(NoticeGroup)</td>
</tr>
</tbody>
</table>
<h4 id="noticegroup">NoticeGroup</h4>
<p>可以使用已存在的通知组</p>
<ol>
<li>如果存在 id，则使用 id 对应的通知组，传入的通知组配置会更新该通知组。</li>
<li>如果没有 id，则根据传入的字段新建通知组。</li>
</ol>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>notice_receiver</td>
<td>list</td>
<td>否</td>
<td>接收人</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>否</td>
<td>通知组名称</td>
</tr>
<tr>
<td>notice_way</td>
<td>dict</td>
<td>否</td>
<td>通知方式，告警级别为 key，value 是通知方式组成的 list</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>否</td>
<td>备注</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>否</td>
<td>通知组 ID</td>
</tr>
</tbody>
</table>
<h4 id="item">Item</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>rt_query_config</td>
<td>dict</td>
<td>是</td>
<td>指标查询配置(RtQueryConfig)</td>
</tr>
<tr>
<td>metric_id</td>
<td>string</td>
<td>是</td>
<td>指标</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>监控项名称</td>
</tr>
<tr>
<td>data_source_label</td>
<td>string</td>
<td>是</td>
<td>数据源</td>
</tr>
<tr>
<td>algorithm_list</td>
<td>list</td>
<td>是</td>
<td>算法配置列表(Algorithm)</td>
</tr>
<tr>
<td>no_data_config</td>
<td>dict</td>
<td>是</td>
<td>无数据配置</td>
</tr>
<tr>
<td>no_data_config.is_enabled</td>
<td>bool</td>
<td>是</td>
<td>是否开启无数据告警</td>
</tr>
<tr>
<td>no_data_config.continous</td>
<td>int</td>
<td>否</td>
<td>无数据告警检测周期数</td>
</tr>
<tr>
<td>data_type_label</td>
<td>string</td>
<td>是</td>
<td>数据类型</td>
</tr>
</tbody>
</table>
<h4 id="rtqueryconfig">RtQueryConfig</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>metric_field</td>
<td>string</td>
<td>是</td>
<td>指标名</td>
</tr>
<tr>
<td>unit_conversion</td>
<td>int</td>
<td>是</td>
<td>单位转换</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>是</td>
<td>单位</td>
</tr>
<tr>
<td>extend_fields</td>
<td>string</td>
<td>否</td>
<td>其他字段</td>
</tr>
<tr>
<td>agg_condition</td>
<td>list</td>
<td>是</td>
<td>查询条件</td>
</tr>
<tr>
<td>agg_interval</td>
<td>int</td>
<td>是</td>
<td>聚合周期</td>
</tr>
<tr>
<td>agg_dimension</td>
<td>list</td>
<td>是</td>
<td>查询维度</td>
</tr>
<tr>
<td>agg_method</td>
<td>string</td>
<td>是</td>
<td>聚合方法</td>
</tr>
<tr>
<td>result_table_id</td>
<td>string</td>
<td>是</td>
<td>结果表 ID</td>
</tr>
</tbody>
</table>
<h4 id="algorithm">Algorithm</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>algorithm_config</td>
<td>list</td>
<td>是</td>
<td>算法配置列表</td>
</tr>
<tr>
<td>level</td>
<td>int</td>
<td>是</td>
<td>告警级别</td>
</tr>
<tr>
<td>trigger_config</td>
<td>dict</td>
<td>是</td>
<td>触发条件</td>
</tr>
<tr>
<td>trigger_config.count</td>
<td>int</td>
<td>是</td>
<td>触发阈值</td>
</tr>
<tr>
<td>trigger_config.check_window</td>
<td>int</td>
<td>是</td>
<td>触发检测窗口数</td>
</tr>
<tr>
<td>algorithm_type</td>
<td>string</td>
<td>是</td>
<td>算法类型</td>
</tr>
<tr>
<td>recovery_config</td>
<td>dict</td>
<td>是</td>
<td>恢复配置</td>
</tr>
<tr>
<td>recovery_config.check_window</td>
<td>int</td>
<td>是</td>
<td>恢复周期数</td>
</tr>
<tr>
<td>message_template</td>
<td>string</td>
<td>否</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="_7">算法配置</h4>
<h5 id="_8">静态阈值</h5>
<p>静态阈值一次可以配置多个，因此是个 list 结构</p>
<pre class="codehilite"><code class="language-json">[
  {
    &quot;method&quot;: &quot;gt&quot;, // gt,gte,lt,lte,eq,neq
    &quot;threshold&quot;: 1
  }
]</code></pre>


<h5 id="_9">简单环比</h5>
<pre class="codehilite"><code class="language-json">{
  &quot;floor&quot;: 1,
  &quot;ceil&quot;: 1
}</code></pre>


<h5 id="_10">简单同比</h5>
<pre class="codehilite"><code class="language-json">{
  &quot;floor&quot;: 1,
  &quot;ceil&quot;: 1
}</code></pre>


<h5 id="_11">高级环比</h5>
<pre class="codehilite"><code class="language-json">{
  &quot;floor&quot;: 1,
  &quot;ceil&quot;: 1,
  &quot;floor_interval&quot;: 1,
  &quot;ceil_interval&quot;: 1
}</code></pre>


<h5 id="_12">高级同比</h5>
<pre class="codehilite"><code class="language-json">{
  &quot;floor&quot;: 1,
  &quot;ceil&quot;: 1,
  &quot;floor_interval&quot;: 1,
  &quot;ceil_interval&quot;: 1
}</code></pre>


<h4 id="_13">示例数据</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;bk_biz_id&quot;:2,
  &quot;item_list&quot;:[
    {
      &quot;rt_query_config&quot;:{
        &quot;metric_field&quot;:&quot;idle&quot;,
        &quot;agg_dimension&quot;:[&quot;ip&quot;, &quot;bk_cloud_id&quot;],
        &quot;unit_conversion&quot;:1.0,
        &quot;extend_fields&quot;:&quot;&quot;,
        &quot;agg_method&quot;:&quot;AVG&quot;,
        &quot;agg_condition&quot;:[],
        &quot;agg_interval&quot;:60,
        &quot;result_table_id&quot;:&quot;system.cpu_detail&quot;,
        &quot;unit&quot;:&quot;%&quot;
      },
      &quot;metric_id&quot;:&quot;bk_monitor.system.cpu_detail.idle&quot;,
      &quot;item_name&quot;:&quot;\u7a7a\u95f2\u7387&quot;,
      &quot;data_source_label&quot;:&quot;bk_monitor&quot;,
      &quot;algorithm_list&quot;:[
        {
          &quot;algorithm_config&quot;:[
            {
              &quot;threshold&quot;:0.1,
              &quot;method&quot;:&quot;gte&quot;
            }
          ],
          &quot;level&quot;:1,
          &quot;trigger_config&quot;:{
            &quot;count&quot;:1,
            &quot;check_window&quot;:5
          },
          &quot;algorithm_type&quot;:&quot;Threshold&quot;,
          &quot;recovery_config&quot;:{
            &quot;check_window&quot;:5
          },
          &quot;message_template&quot;:&quot;&quot;
        }
      ],
      &quot;no_data_config&quot;:{
        &quot;is_enabled&quot;:false,
        &quot;continuous&quot;:5
      },
      &quot;data_type_label&quot;:&quot;time_series&quot;,
      &quot;name&quot;:&quot;\u7a7a\u95f2\u7387&quot;
    }
  ],
  &quot;target&quot;:[
    [
      {
        &quot;field&quot;:&quot;ip&quot;,
        &quot;method&quot;:&quot;eq&quot;,
        &quot;value&quot;:[
          {
            &quot;ip&quot;:&quot;127.0.0.1&quot;,
            &quot;bk_cloud_id&quot;:0,
            &quot;bk_supplier_id&quot;:0
          },
        ]
      }
    ]
  ],
  &quot;scenario&quot;:&quot;os&quot;,
  &quot;action_list&quot;:[
    {
      &quot;notice_template&quot;:{
        &quot;anomaly_template&quot;:&quot;aa&quot;,
        &quot;recovery_template&quot;:&quot;&quot;
      },
      &quot;notice_group_list&quot;:[
        {
          &quot;notice_receiver&quot;:[
            &quot;user#test&quot;
          ],
          &quot;name&quot;:&quot;test&quot;,
          &quot;notice_way&quot;:{
            &quot;1&quot;:[&quot;weixin&quot;],
            &quot;3&quot;:[&quot;weixin&quot;],
            &quot;2&quot;:[&quot;weixin&quot;]
          },
          &quot;message&quot;:&quot;&quot;,
          &quot;notice_group_name&quot;:&quot;test&quot;,
          &quot;id&quot;:1
        }
      ],
      &quot;action_type&quot;:&quot;notice&quot;,
      &quot;config&quot;:{
        &quot;alarm_end_time&quot;:&quot;23:59:59&quot;,
        &quot;send_recovery_alarm&quot;:false,
        &quot;alarm_start_time&quot;:&quot;00:00:00&quot;,
        &quot;alarm_interval&quot;:120
      }
    }
  ],
  &quot;name&quot;:&quot;test&quot;
}</code></pre>


<h3 id="_14">响应参数</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>strategy_id</td>
<td>int</td>
<td>是</td>
<td>策略 ID</td>
</tr>
</tbody>
</table>
<h4 id="_15">示例数据</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
  &quot;data&quot;: {
    &quot;strategy_id&quot;: 1
  },
  &quot;message&quot;: &quot;&quot;
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/save_collect_config/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/save_notice_group/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>保存告警组</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>名称</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>是</td>
<td>说明</td>
</tr>
<tr>
<td>webhook_url</td>
<td>string</td>
<td>否</td>
<td>回调地址</td>
</tr>
<tr>
<td>notice_way</td>
<td>dict</td>
<td>是</td>
<td>各个级别的通知方式</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>否</td>
<td>告警组 ID，如果没有则创建</td>
</tr>
<tr>
<td>notice_receiver</td>
<td>list</td>
<td>是</td>
<td>通知对象列表</td>
</tr>
</tbody>
</table>
<h4 id="notice_receiver-">notice_receiver - 通知对象列表</h4>
<p>通知对象有两种类型 <code>user</code> 或 <code>group</code>。</p>
<ol>
<li>user 对应的通知对象为用户名</li>
<li>group 对应的是通知组</li>
<li>operator - 主负责人</li>
<li>bk_bak_operator - 备份负责人</li>
<li>bk_biz_tester - 测试</li>
<li>bk_biz_productor - 产品</li>
<li>bk_biz_maintainer - 运维</li>
<li>bk_biz_developer - 开发</li>
</ol>
<h4 id="notice_way-">notice_way - 通知方式</h4>
<p>各个告警级别的通知方式</p>
<p>基础的通知方式有：</p>
<ul>
<li>weixin</li>
<li>mail</li>
<li>voice</li>
<li>sms</li>
</ul>
<h4 id="_7">示例数据</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;bk_biz_id&quot;: 2,
  &quot;notice_receiver&quot;: [
    {
      &quot;type&quot;: &quot;user&quot;,
      &quot;id&quot;: &quot;admin&quot;
    }
  ],
  &quot;name&quot;: &quot;layman&quot;,
  &quot;notice_way&quot;: {
    &quot;1&quot;: [&quot;weixin&quot;],
    &quot;2&quot;: [&quot;weixin&quot;],
    &quot;3&quot;: [&quot;weixin&quot;]
  },
  &quot;webhook_url&quot;: &quot;https://www.qq.com&quot;,
  &quot;message&quot;: &quot;测试通知&quot;,
  &quot;id&quot;: 1
}</code></pre>


<h3 id="_8">响应参数</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>告警 ID</td>
</tr>
</tbody>
</table>
<h4 id="_9">示例数据</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;message&quot;: &quot;OK&quot;,
  &quot;code&quot;: &quot;0&quot;,
  &quot;data&quot;: {
    &quot;id&quot;: 1
  },
  &quot;result&quot;: true
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/search_alarm_strategy/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询告警策略</p>
<h3 id="_4">接口参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>page</td>
<td>int</td>
<td>否</td>
<td>页码</td>
</tr>
<tr>
<td>page_size</td>
<td>int</td>
<td>否</td>
<td>每页条数</td>
</tr>
<tr>
<td>ids</td>
<td>list</td>
<td>否</td>
<td>策略 ID 列表</td>
</tr>
<tr>
<td>metric_id</td>
<td>string</td>
<td>否</td>
<td>指标 ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务 ID</td>
</tr>
<tr>
<td>fields</td>
<td>list</td>
<td>否</td>
<td>所需字段</td>
</tr>
</tbody>
</table>
<h4 id="_7">示例数据</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;bk_biz_id&quot;: 2,
  &quot;ids&quot;: [1, 2]
}</code></pre>


<h3 id="_8">响应参数</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">action_list</td>
<td>list</td>
<td>动作列表(Action)</td>
</tr>
<tr>
<td align="left">source_type</td>
<td>string</td>
<td>数据来源</td>
</tr>
<tr>
<td align="left">target</td>
<td>list</td>
<td>监控目标</td>
</tr>
<tr>
<td align="left">bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td align="left">item_list</td>
<td>list</td>
<td>监控项(Item)</td>
</tr>
<tr>
<td align="left">name</td>
<td>string</td>
<td>策略名称</td>
</tr>
<tr>
<td align="left">scenario</td>
<td>string</td>
<td>监控对象</td>
</tr>
<tr>
<td align="left">id</td>
<td>int</td>
<td>策略 ID</td>
</tr>
</tbody>
</table>
<h4 id="noticeaction">NoticeAction</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>action_type</td>
<td>string</td>
<td>动作类型(notice)</td>
</tr>
<tr>
<td>config</td>
<td>dict</td>
<td>动作配置</td>
</tr>
<tr>
<td>config.alarm_end_time</td>
<td>string</td>
<td>通知时间段</td>
</tr>
<tr>
<td>config.alarm_start_time</td>
<td>string</td>
<td>通知时间段</td>
</tr>
<tr>
<td>config.send_recovery_alarm</td>
<td>bool</td>
<td>是否发送恢复</td>
</tr>
<tr>
<td>config.alarm_interval</td>
<td>int</td>
<td>通知间隔</td>
</tr>
<tr>
<td>notice_template</td>
<td>dict</td>
<td>通知配置</td>
</tr>
<tr>
<td>notice_template.anomaly_template</td>
<td>string</td>
<td>异常通知模板</td>
</tr>
<tr>
<td>notice_template.recovery_template</td>
<td>string</td>
<td>恢复通知模板</td>
</tr>
<tr>
<td>notice_group_list</td>
<td>list</td>
<td>通知组列表(NoticeGroup)</td>
</tr>
</tbody>
</table>
<h4 id="noticegroup">NoticeGroup</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>notice_receiver</td>
<td>list</td>
<td>接收人</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>通知组名称</td>
</tr>
<tr>
<td>notice_way</td>
<td>dict</td>
<td>通知方式，告警级别为 key，value 是通知方式组成的 list</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>备注</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>通知组 ID</td>
</tr>
</tbody>
</table>
<h4 id="item">Item</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>rt_query_config</td>
<td>dict</td>
<td>指标查询配置(RtQueryConfig)</td>
</tr>
<tr>
<td>metric_id</td>
<td>string</td>
<td>指标</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>监控项名称</td>
</tr>
<tr>
<td>data_source_label</td>
<td>string</td>
<td>数据源</td>
</tr>
<tr>
<td>algorithm_list</td>
<td>list</td>
<td>算法配置列表(Algorithm)</td>
</tr>
<tr>
<td>no_data_config</td>
<td>dict</td>
<td>无数据配置</td>
</tr>
<tr>
<td>no_data_config.is_enabled</td>
<td>bool</td>
<td>是否开启无数据告警</td>
</tr>
<tr>
<td>no_data_config.continous</td>
<td>int</td>
<td>无数据告警检测周期数</td>
</tr>
<tr>
<td>data_type_label</td>
<td>string</td>
<td>数据类型</td>
</tr>
</tbody>
</table>
<h4 id="rtqueryconfig">RtQueryConfig</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>metric_field</td>
<td>string</td>
<td>指标名</td>
</tr>
<tr>
<td>unit_conversion</td>
<td>int</td>
<td>单位转换</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>单位</td>
</tr>
<tr>
<td>extend_fields</td>
<td>string</td>
<td>其他字段</td>
</tr>
<tr>
<td>agg_condition</td>
<td>list</td>
<td>查询条件</td>
</tr>
<tr>
<td>agg_interval</td>
<td>int</td>
<td>聚合周期</td>
</tr>
<tr>
<td>agg_dimension</td>
<td>list</td>
<td>查询维度</td>
</tr>
<tr>
<td>agg_method</td>
<td>string</td>
<td>聚合方法</td>
</tr>
<tr>
<td>result_table_id</td>
<td>string</td>
<td>结果表 ID</td>
</tr>
</tbody>
</table>
<h4 id="algorithm">Algorithm</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>algorithm_config</td>
<td>list</td>
<td>算法配置列表</td>
</tr>
<tr>
<td>level</td>
<td>int</td>
<td>告警级别</td>
</tr>
<tr>
<td>trigger_config</td>
<td>dict</td>
<td>触发条件</td>
</tr>
<tr>
<td>trigger_config.count</td>
<td>int</td>
<td>触发阈值</td>
</tr>
<tr>
<td>trigger_config.check_window</td>
<td>int</td>
<td>触发检测窗口数</td>
</tr>
<tr>
<td>algorithm_type</td>
<td>string</td>
<td>算法类型</td>
</tr>
<tr>
<td>recovery_config</td>
<td>dict</td>
<td>恢复配置</td>
</tr>
<tr>
<td>recovery_config.check_window</td>
<td>int</td>
<td>恢复周期数</td>
</tr>
<tr>
<td>message_template</td>
<td>string</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="_9">示例数据</h4>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;OK&quot;,
    &quot;code&quot;: &quot;0&quot;,
    &quot;data&quot;: [
        {
            &quot;bk_biz_id&quot;: 2,
            &quot;item_list&quot;: [
                {
                    &quot;update_time&quot;: &quot;2019-11-22 14:50:23+0800&quot;,
                    &quot;data_type_label&quot;: &quot;time_series&quot;,
                    &quot;metric_id&quot;: &quot;bk_monitor.system.cpu_detail.idle&quot;,
                    &quot;item_name&quot;: &quot;空闲率&quot;,
                    &quot;strategy_id&quot;: 1,
                    &quot;data_source_label&quot;: &quot;bk_monitor&quot;,
                    &quot;algorithm_list&quot;: [
                        {
                            &quot;algorithm_config&quot;: [
                                {
                                    &quot;threshold&quot;: 0.1,
                                    &quot;method&quot;: &quot;gte&quot;
                                }
                            ],
                            &quot;update_time&quot;: &quot;2019-11-22 14:50:23+0800&quot;,
                            &quot;trigger_config&quot;: {
                                &quot;count&quot;: 1,
                                &quot;check_window&quot;: 5
                            },
                            &quot;strategy_id&quot;: 1,
                            &quot;level&quot;: 1,
                            &quot;algorithm_type&quot;: &quot;Threshold&quot;,
                            &quot;recovery_config&quot;: {
                                &quot;check_window&quot;: 5
                            },
                            &quot;create_time&quot;: &quot;2019-11-22 14:50:23+0800&quot;,
                            &quot;algorithm_id&quot;: 19,
                            &quot;message_template&quot;: &quot;&quot;,
                            &quot;item_id&quot;: 2,
                            &quot;id&quot;: 19
                        }
                    ],
                    &quot;no_data_config&quot;: {
                        &quot;is_enabled&quot;: false,
                        &quot;continuous&quot;: 5
                    },
                    &quot;create_time&quot;: &quot;2019-10-26 15:54:18+0800&quot;,
                    &quot;rt_query_config_id&quot;: 2,
                    &quot;item_id&quot;: 2,
                    &quot;rt_query_config&quot;: {
                        &quot;update_time&quot;: &quot;2019-11-22 14:50:23+0800&quot;,
                        &quot;metric_field&quot;: &quot;idle&quot;,
                        &quot;agg_dimension&quot;: [
                            &quot;ip&quot;,
                            &quot;bk_cloud_id&quot;
                        ],
                        &quot;unit_conversion&quot;: 1,
                        &quot;result_table_id&quot;: &quot;system.cpu_detail&quot;,
                        &quot;extend_fields&quot;: &quot;&quot;,
                        &quot;create_time&quot;: &quot;2019-10-26 15:54:18+0800&quot;,
                        &quot;rt_query_config_id&quot;: 2,
                        &quot;agg_method&quot;: &quot;AVG&quot;,
                        &quot;agg_condition&quot;: [],
                        &quot;agg_interval&quot;: 60,
                        &quot;id&quot;: 2,
                        &quot;unit&quot;: &quot;%&quot;
                    },
                    &quot;id&quot;: 2,
                    &quot;name&quot;: &quot;空闲率&quot;
                }
            ],
            &quot;update_time&quot;: &quot;2019-11-22 14:50:23+0800&quot;,
            &quot;target&quot;: [
                [
                    {
                        &quot;field&quot;: &quot;bk_target_ip&quot;,
                        &quot;method&quot;: &quot;eq&quot;,
                        &quot;value&quot;: [
                            {
                                &quot;bk_target_ip&quot;: &quot;10.0.1.10&quot;,
                                &quot;bk_target_cloud_id&quot;: 0
                            }
                        ]
                    }
                ]
            ],
            &quot;scenario&quot;: &quot;os&quot;,
            &quot;strategy_id&quot;: 1,
            &quot;action_list&quot;: [
                {
                    &quot;update_time&quot;: &quot;2019-11-22 14:50:24+0800&quot;,
                    &quot;notice_template&quot;: {
                        &quot;recovery_template&quot;: &quot;&quot;,
                        &quot;update_time&quot;: &quot;2019-11-22 14:50:24+0800&quot;,
                        &quot;create_time&quot;: &quot;2019-10-26 15:54:19+0800&quot;,
                        &quot;anomaly_template&quot;: &quot;aa&quot;,
                        &quot;action_id&quot;: 2
                    },
                    &quot;id&quot;: 2,
                    &quot;notice_group_list&quot;: [
                        {
                            &quot;update_time&quot;: &quot;2019-11-18 17:51:54+0800&quot;,
                            &quot;notice_receiver&quot;: [
                                {
                                    &quot;type&quot;: &quot;user&quot;,
                                    &quot;id&quot;: &quot;admin&quot;
                                }
                            ],
                            &quot;name&quot;: &quot;user group&quot;,
                            &quot;notice_way&quot;: {
                                &quot;1&quot;: [
                                    &quot;weixin&quot;
                                ],
                                &quot;2&quot;: [
                                    &quot;weixin&quot;
                                ],
                                &quot;3&quot;: [
                                    &quot;weixin&quot;
                                ]
                            },
                            &quot;create_time&quot;: &quot;2019-11-18 17:51:54+0800&quot;,
                            &quot;notice_group_id&quot;: 5,
                            &quot;message&quot;: &quot;asdf&quot;,
                            &quot;notice_group_name&quot;: &quot;user group&quot;,
                            &quot;id&quot;: 5
                        }
                    ],
                    &quot;create_time&quot;: &quot;2019-10-26 15:54:18+0800&quot;,
                    &quot;action_type&quot;: &quot;notice&quot;,
                    &quot;config&quot;: {
                        &quot;alarm_end_time&quot;: &quot;23:59:59&quot;,
                        &quot;send_recovery_alarm&quot;: false,
                        &quot;alarm_start_time&quot;: &quot;00:00:00&quot;,
                        &quot;alarm_interval&quot;: 120
                    },
                    &quot;strategy_id&quot;: 1,
                    &quot;action_id&quot;: 2
                }
            ],
            &quot;source_type&quot;: &quot;BKMONITOR&quot;,
            &quot;strategy_name&quot;: &quot;test&quot;,
            &quot;create_time&quot;: &quot;2019-10-23 21:34:12+0800&quot;,
            &quot;id&quot;: 1,
            &quot;name&quot;: &quot;test&quot;
        }
    ],
    &quot;result&quot;: true
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/search_event/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询事件</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_ids</td>
<td>list</td>
<td>是</td>
<td>业务 ID 列表</td>
</tr>
<tr>
<td>time_range</td>
<td>string</td>
<td>否</td>
<td>事件结束的时间范围，格式为：2020-02-26 00:00:00 -- 2020-02-28 23:59:59</td>
</tr>
<tr>
<td>days</td>
<td>int</td>
<td>否</td>
<td>查询最近几天内的时间，这个参数存在，time_range 则失效</td>
</tr>
<tr>
<td>conditions</td>
<td>list</td>
<td>否</td>
<td>查询条件</td>
</tr>
</tbody>
</table>
<blockquote>
<p>需要注意的是，当前未恢复的事件不受时间条件的约束，也就是无论选择什么时间范围，当前的未恢复的事件都会被查出来，除非使用 conditions 进行事件状态过滤。</p>
</blockquote>
<h4 id="conditions">conditions</h4>
<p>conditions 用于按事件相关的其他字段过滤事件，由 key,value 组成，意味着过滤出 key 字段在 value 列表中事件。</p>
<p>如下列匹配条件，表示筛选出事件状态为“已恢复”的事件。</p>
<pre class="codehilite"><code class="language-json">[
  {
    &quot;key&quot;:&quot;event_status&quot;,
    &quot;value&quot;:[&quot;RECOVERED&quot;]
  }
]</code></pre>


<p>可用的字段有：</p>
<ol>
<li>
<p>strategy_id - 事件关联的策略 ID</p>
</li>
<li>
<p>id - 事件 ID</p>
</li>
<li>
<p>level - 告警级别</p>
</li>
<li>
<p>1 - 致命</p>
</li>
<li>2 - 预警</li>
<li>
<p>3 - 提醒</p>
</li>
<li>
<p>event_status - 事件状态</p>
</li>
<li>
<p>ABNORMAL - 未恢复</p>
</li>
<li>CLOSED - 已关闭</li>
<li>
<p>RECOVERED - 已恢复</p>
</li>
<li>
<p>data_source - 数据来源及类型</p>
</li>
</ol>
<p>是由 <code>|</code>分隔的字符串，左边为数据来源，右边为数据类型，比如<code>bk_monitor|time_series</code></p>
<p>数据来源有：</p>
<ol>
<li>bk_monitor - 监控采集</li>
<li>bk_data - 计算平台</li>
<li>bk_log_search - 日志检索</li>
<li>custom - 用户自定义</li>
</ol>
<p>数据类型有:</p>
<ol>
<li>time_series - 时序数据</li>
<li>event - 事件</li>
<li>log - 日志关键字</li>
</ol>
<h4 id="_7">示例数据</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;bk_biz_ids&quot;:[2],
  &quot;time_range&quot;:&quot;2020-02-26 00:00:00 -- 2020-02-28 23:59:59&quot;,
  &quot;conditions&quot;:[
    {
      &quot;key&quot;:&quot;event_status&quot;,
      &quot;value&quot;:[
        &quot;RECOVERED&quot;
      ]
    },
    {
      &quot;key&quot;:&quot;data_source&quot;,
      &quot;value&quot;:[
        &quot;bk_monitor|time_series&quot;
      ]
    }
  ]
}</code></pre>


<h3 id="_8">响应参数</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>is_ack</td>
<td>bool</td>
<td>是否确认</td>
</tr>
<tr>
<td>level</td>
<td>int</td>
<td>告警级别，1(执行) 2(预警) 3(提醒)</td>
</tr>
<tr>
<td>origin_alarm</td>
<td>dict</td>
<td>事件产生时的异常点数据</td>
</tr>
<tr>
<td>origin_config</td>
<td>dict</td>
<td>事件产生时的告警策略配置，数据请参考告警策略相关文档</td>
</tr>
<tr>
<td>strategy_id</td>
<td>int</td>
<td>告警策略 ID</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>事件表自增 ID</td>
</tr>
<tr>
<td>is_shielded</td>
<td>bool</td>
<td>是否在屏蔽中</td>
</tr>
<tr>
<td>event_id</td>
<td>string</td>
<td>异常事件 ID</td>
</tr>
<tr>
<td>status</td>
<td>int</td>
<td>事件状态，ABNORMAL(未恢复) CLOSED(已关闭) RECOVERED(已恢复)</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>产生事件的时间，格式为 yyyy-mm-dd hh:mm:ss</td>
</tr>
<tr>
<td>begin_time</td>
<td>string</td>
<td>该事件关联的第一个异常点的创建时间，格式为 yyyy-mm-dd hh:mm:ss</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>事件结束时间，格式为 yyyy-mm-dd hh:mm:ss</td>
</tr>
<tr>
<td>target_key</td>
<td>string</td>
<td>事件目标，不存在则为空字符串</td>
</tr>
<tr>
<td>p_event_id</td>
<td>string</td>
<td>父事件 ID，默认为空</td>
</tr>
</tbody>
</table>
<h4 id="target-key">target key</h4>
<p>表示当前事件对应的监控目标，数据格式如下：</p>
<ul>
<li>主机: host|${ip}|${bk_cloud_id}
    eg: host|10.0.0.1|0</li>
<li>服务实例: service|${bk_target_service_instance_id}
    eg: service|13</li>
<li>拓扑节点: topo|${bk_obj_id}|${bk_inst_id}
    eg: topo|biz|2</li>
<li>无: ""</li>
</ul>
<h4 id="origin_alarm">origin_alarm</h4>
<p>表示事件发生时的异常点数据，这里介绍其中的几个常用字段。</p>
<ol>
<li>data.dimensions - 维度数据</li>
</ol>
<p><code>json
   {
     "bk_topo_node":[
       "set|2",
       "biz|2",
       "module|3"
     ],
     "bk_target_cloud_id":0,
     "bk_target_ip":"10.0.1.113"
   }</code></p>
<ol>
<li>
<p>data.value - 异常点的值</p>
</li>
<li>
<p>data.time - 异常点的时间戳</p>
</li>
<li>
<p>anomaly - 异常信息</p>
</li>
</ol>
<p>key 是告警级别</p>
<p><code>json
   {
     "1": {
       "anomaly_message": "count &gt;= 1.0, 当前值10.0",
       "anomaly_time": "2019-11-22 16:31:06",
       "anomaly_id": "d751713988987e9331980363e24189ce.1574439900.88.118.1"
     }
   }</code></p>
<ol>
<li>anomaly_message - 异常描述</li>
<li>anomaly_time - 异常时间</li>
<li>
<p>anomaly_id - 异常点 ID</p>
</li>
<li>
<p>dimension_translation - 维度展示信息</p>
</li>
</ol>
<p>将维度翻译成给用户展示的内容，与 data.dimensions 的信息对应</p>
<p><code>json
   {
     "bk_topo_node":{
       "display_name":"bk_topo_node",
       "display_value":[
         {
           "bk_obj_name":"集群",
           "bk_inst_name":"空闲机池"
         },
         {
           "bk_obj_name":"业务",
           "bk_inst_name":"蓝鲸"
         },
         {
           "bk_obj_name":"模块",
           "bk_inst_name":"空闲机"
         }
       ],
       "value":[
         "set|2",
         "biz|2",
         "module|3"
       ]
     },
     "bk_target_cloud_id":{
       "display_name":"bk_target_cloud_id",
       "display_value":0,
       "value":0
     },
     "bk_target_ip":{
       "display_name":"bk_target_ip",
       "display_value":"10.0.1.62",
       "value":"10.0.1.62"
     }
   }</code></p>
<ol>
<li>display_name - 维度名称</li>
<li>display_value - 维度的值</li>
<li>value - 维度的原始值</li>
</ol>
<h4 id="_9">示例数据</h4>
<pre class="codehilite"><code class="language-json">[
  {
    &quot;status&quot;: &quot;ABNORMAL&quot;,
    &quot;bk_biz_id&quot;: 2,
    &quot;is_ack&quot;: false,
    &quot;level&quot;: 1,
    &quot;origin_alarm&quot;: {
      &quot;data&quot;: {
        &quot;record_id&quot;: &quot;d751713988987e9331980363e24189ce.1574439900&quot;,
        &quot;values&quot;: {
          &quot;count&quot;: 10,
          &quot;dtEventTimeStamp&quot;: 1574439900
        },
        &quot;dimensions&quot;: {},
        &quot;value&quot;: 10,
        &quot;time&quot;: 1574439900
      },
      &quot;trigger&quot;: {
        &quot;level&quot;: &quot;1&quot;,
        &quot;anomaly_ids&quot;: [
          &quot;d751713988987e9331980363e24189ce.1574439660.88.118.1&quot;,
          &quot;d751713988987e9331980363e24189ce.1574439720.88.118.1&quot;,
          &quot;d751713988987e9331980363e24189ce.1574439780.88.118.1&quot;,
          &quot;d751713988987e9331980363e24189ce.1574439840.88.118.1&quot;,
          &quot;d751713988987e9331980363e24189ce.1574439900.88.118.1&quot;,
          &quot;d751713988987e9331980363e24189ce.1574439960.88.118.1&quot;,
          &quot;d751713988987e9331980363e24189ce.1574440020.88.118.1&quot;,
          &quot;d751713988987e9331980363e24189ce.1574440080.88.118.1&quot;,
          &quot;d751713988987e9331980363e24189ce.1574440140.88.118.1&quot;
        ]
      },
      &quot;anomaly&quot;: {
        &quot;1&quot;: {
          &quot;anomaly_message&quot;: &quot;count &gt;= 1.0, 当前值10.0&quot;,
          &quot;anomaly_time&quot;: &quot;2019-11-22 16:31:06&quot;,
          &quot;anomaly_id&quot;: &quot;d751713988987e9331980363e24189ce.1574439900.88.118.1&quot;
        }
      },
      &quot;dimension_translation&quot;: {},
      &quot;strategy_snapshot_key&quot;: &quot;bk_bkmonitor.ee.cache.strategy.snapshot.88.1574411061&quot;
    },
    &quot;target_key&quot;: &quot;&quot;,
    &quot;strategy_id&quot;: 88,
    &quot;id&quot;: 1364253,
    &quot;is_shielded&quot;: false,
    &quot;event_id&quot;: &quot;d751713988987e9331980363e24189ce.1574439660.88.118.1&quot;,
    &quot;create_time&quot;: &quot;2019-11-22 16:31:07&quot;,
    &quot;end_time&quot;: null,
    &quot;begin_time&quot;: &quot;2019-11-22 16:25:00&quot;,
    &quot;origin_config&quot;: {},
    &quot;p_event_id&quot;: &quot;&quot;
  }
]</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/search_notice_group/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询告警组</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_ids</td>
<td>list</td>
<td>否</td>
<td>业务 ID</td>
</tr>
<tr>
<td>ids</td>
<td>list</td>
<td>否</td>
<td>通知组 ID</td>
</tr>
</tbody>
</table>
<h4 id="_7">示例数据</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;bk_biz_ids&quot;: [2],
  &quot;ids&quot;: [1]
}</code></pre>


<h3 id="_8">响应参数</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>名称</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>说明</td>
</tr>
<tr>
<td>notice_way</td>
<td>dict</td>
<td>各个级别的通知方式</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>告警 ID</td>
</tr>
<tr>
<td>notice_receiver</td>
<td>list</td>
<td>通知人列表</td>
</tr>
<tr>
<td>webhook_url</td>
<td>string</td>
<td>回调地址</td>
</tr>
</tbody>
</table>
<h4 id="_9">示例数据</h4>
<pre class="codehilite"><code class="language-json">{
  &quot;message&quot;: &quot;OK&quot;,
  &quot;code&quot;: &quot;0&quot;,
  &quot;data&quot;: [
    {
      &quot;bk_biz_id&quot;: 2,
      &quot;update_time&quot;: &quot;2019-11-18 17:51:54+0800&quot;,
      &quot;notice_receiver&quot;: [
        {
          &quot;type&quot;: &quot;user&quot;,
          &quot;id&quot;: &quot;admin&quot;
        }
      ],
      &quot;update_user&quot;: &quot;admin&quot;,
      &quot;name&quot;: &quot;layman&quot;,
      &quot;notice_way&quot;: {
        &quot;1&quot;: [&quot;weixin&quot;],
        &quot;2&quot;: [&quot;weixin&quot;],
        &quot;3&quot;: [&quot;weixin&quot;]
      },
      &quot;create_time&quot;: &quot;2019-11-18 17:51:54+0800&quot;,
      &quot;message&quot;: &quot;&quot;,
      &quot;webhook_url&quot;: &quot;&quot;,
      &quot;id&quot;: 5
    }
  ],
  &quot;result&quot;: true
}</code></pre><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor_v3/switch_alarm_strategy/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>开关告警策略</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">ids</td>
<td>list</td>
<td>是</td>
<td>策略 ID 列表</td>
</tr>
<tr>
<td align="left">is_enabled</td>
<td>string</td>
<td>是</td>
<td>是否开启</td>
</tr>
</tbody>
</table>
<h3 id="_7">响应参数</h3>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">ids</td>
<td>list</td>
<td>存在的策略 ID 列表</td>
</tr>
</tbody>
</table><h2 id="api">标准运维 API 文档简介</h2>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="./claim_functionalization_task.md">claim_functionalization_task</a></td>
<td>认领职能化任务</td>
</tr>
<tr>
<td><a href="./create_periodic_task.md">create_periodic_task</a></td>
<td>通过流程模板新建周期任务</td>
</tr>
<tr>
<td><a href="./create_task.md">create_task</a></td>
<td>通过流程模板新建任务</td>
</tr>
<tr>
<td><a href="./fast_create_task.md">fast_create_task</a></td>
<td>快速新建一次性任务</td>
</tr>
<tr>
<td><a href="./get_common_template_info.md">get_common_template_info</a></td>
<td>查询单个公共流程模板详情</td>
</tr>
<tr>
<td><a href="./get_common_template_list.md">get_common_template_list</a></td>
<td>查询公共模板列表</td>
</tr>
<tr>
<td><a href="./get_periodic_task_info.md">get_periodic_task_info</a></td>
<td>查询业务下的某个周期任务详情</td>
</tr>
<tr>
<td><a href="./get_periodic_task_list.md">get_periodic_task_list</a></td>
<td>查询业务下的周期任务列表</td>
</tr>
<tr>
<td><a href="./get_plugin_list.md">get_plugin_list</a></td>
<td>查询某个业务下的插件列表</td>
</tr>
<tr>
<td><a href="./get_task_detail.md">get_tasks_status</a></td>
<td>批量查询任务状态</td>
</tr>
<tr>
<td><a href="./get_task_list.md">get_task_detail</a></td>
<td>查询任务执行详情</td>
</tr>
<tr>
<td><a href="./get_task_node_data.md">get_task_list</a></td>
<td>获取业务下的任务列表</td>
</tr>
<tr>
<td><a href="./get_task_node_detail.md">get_task_node_data</a></td>
<td>获取节点执行数据</td>
</tr>
<tr>
<td><a href="./get_task_status.md">get_task_node_detail</a></td>
<td>查询任务节点执行详情</td>
</tr>
<tr>
<td><a href="./get_tasks_status.md">get_task_status</a></td>
<td>查询任务或任务节点执行状态</td>
</tr>
<tr>
<td><a href="./get_template_info.md">get_template_info</a></td>
<td>查询单个模板详情</td>
</tr>
<tr>
<td><a href="./get_template_list.md">get_template_list</a></td>
<td>查询模板列表</td>
</tr>
<tr>
<td><a href="./get_template_schemes.md">get_template_schemes</a></td>
<td>获取模板执行方案列表</td>
</tr>
<tr>
<td><a href="./get_user_project_detail.md">get_user_project_detail</a></td>
<td>获取项目详情</td>
</tr>
<tr>
<td><a href="./get_user_project_list.md">get_user_project_list</a></td>
<td>获取用户有权限的项目列表</td>
</tr>
<tr>
<td><a href="./import_common_template.md">import_common_template</a></td>
<td>导入公共流程</td>
</tr>
<tr>
<td><a href="./import_project_template.md">import_project_template</a></td>
<td>导入业务流程模板</td>
</tr>
<tr>
<td><a href="./modify_constants_for_periodic_task.md">modify_constants_for_periodic_task</a></td>
<td>修改周期任务的全局参数</td>
</tr>
<tr>
<td><a href="./modify_constants_for_task.md">modify_constants_for_task</a></td>
<td>修改任务的全局参数</td>
</tr>
<tr>
<td><a href="./modify_cron_for_periodic_task.md">modify_cron_for_periodic_task</a></td>
<td>修改周期任务的调度策略</td>
</tr>
<tr>
<td><a href="./node_callback.md">node_callback</a></td>
<td>回调任务节点</td>
</tr>
<tr>
<td><a href="./operate_node.md">operate_node</a></td>
<td>操作任务中的节点</td>
</tr>
<tr>
<td><a href="./operate_task.md">operate_task</a></td>
<td>操作任务</td>
</tr>
<tr>
<td><a href="./preview_task_tree.md">preview_task_tree</a></td>
<td>获取节点选择后新的任务树</td>
</tr>
<tr>
<td><a href="./query_task_count.md">query_task_count</a></td>
<td>查询任务分类统计总数</td>
</tr>
<tr>
<td><a href="./set_periodic_task_enabled.md">set_periodic_task_enabled</a></td>
<td>设置周期任务是否激活</td>
</tr>
<tr>
<td><a href="./start_task.md">start_task</a></td>
<td>开始执行任务</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/claim_functionalization_task/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>职能化任务认领</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>任务 ID，需要任务状态是未开始的</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务 ID</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>是</td>
<td>任务全局参数，详细信息见下面说明</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>否</td>
<td>任务新名称</td>
</tr>
<tr>
<td>scope</td>
<td>string</td>
<td>否</td>
<td>bk_biz_id 检索的作用域。默认为 cmdb_biz，此时检索的是绑定的 CMDB 业务 ID 为 bk_biz_id 的项目；当值为 project 时则检索项目 ID 为 bk_biz_id 的项目</td>
</tr>
</tbody>
</table>
<h4 id="constants-key">constants KEY</h4>
<p>变量 KEY，${key} 格式</p>
<h4 id="constants-value">constants VALUE</h4>
<p>变量值</p>
<h3 id="_6">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;task_id&quot;: &quot;8&quot;,
    &quot;constants&quot;: {
        &quot;${bk_timing}&quot;: &quot;100&quot;
    }
}</code></pre>


<h3 id="_7">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;data&quot;: &quot;success&quot;,
    &quot;result&quot;: true, 
    &quot;code&quot;: 0
}</code></pre>


<h3 id="_8">返回结果说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>string</td>
<td>result=true 时成功数据, "success"</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>结果状态码</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/create_periodic_task/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建周期任务</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>template_id</td>
<td>string</td>
<td>是</td>
<td>用于创建任务的模板 ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>任务所属业务 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>要创建的周期任务名称</td>
</tr>
<tr>
<td>cron</td>
<td>dict</td>
<td>是</td>
<td>要创建的周期任务调度策略</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>否</td>
<td>任务全局参数，详细信息见下面说明</td>
</tr>
<tr>
<td>exclude_task_nodes_id</td>
<td>list</td>
<td>否</td>
<td>跳过执行的节点 ID 列表</td>
</tr>
</tbody>
</table>
<h4 id="constantskey">constants.KEY</h4>
<p>变量 KEY，${key} 格式</p>
<h4 id="constantsvalue">constants.VALUE</h4>
<p>变量值</p>
<h4 id="cron">cron</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>必须</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>minute</td>
<td>string</td>
<td>否</td>
<td>分，默认为 *</td>
</tr>
<tr>
<td>hour</td>
<td>string</td>
<td>否</td>
<td>时，默认为 *</td>
</tr>
<tr>
<td>day_of_week</td>
<td>string</td>
<td>否</td>
<td>一周内的某些天，默认为 *</td>
</tr>
<tr>
<td>day_of_month</td>
<td>string</td>
<td>否</td>
<td>一个月中的某些天，默认为 *</td>
</tr>
<tr>
<td>month_of_year</td>
<td>string</td>
<td>否</td>
<td>一年中的某些月份，默认为 *</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;template_id&quot;: &quot;1&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;name&quot;: &quot;from api 3&quot;,
    &quot;cron&quot; : {&quot;minute&quot;: &quot;*/1&quot;, &quot;hour&quot;: &quot;15&quot;, &quot;day_of_week&quot;:&quot;*&quot;, &quot;day_of_month&quot;:&quot;*&quot;, &quot;month_of_year&quot;:&quot;*&quot;},
    &quot;constants&quot;: {&quot;${bk_timing}&quot;: &quot;100&quot;},
    &quot;exclude_task_nodes_id&quot;: [&quot;nodea5c396a3ef0f9f3cd7d4d7695f78&quot;]
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;cron&quot;: &quot;*/1 15 * * * (m/h/d/dM/MY)&quot;,
        &quot;total_run_count&quot;: 0,
        &quot;name&quot;: &quot;from api 3&quot;,
        &quot;form&quot;: {
            &quot;${bk_timing}&quot;: {
                &quot;source_tag&quot;: &quot;sleep_timer.bk_timing&quot;,
                &quot;source_info&quot;: {
                    &quot;node76393dcfedcf73dbc726f1c4786d&quot;: [
                        &quot;bk_timing&quot;
                    ]
                },
                &quot;name&quot;: &quot;定时时间&quot;,
                &quot;index&quot;: 0,
                &quot;custom_type&quot;: &quot;&quot;,
                &quot;value&quot;: &quot;100&quot;,
                &quot;show_type&quot;: &quot;show&quot;,
                &quot;source_type&quot;: &quot;component_inputs&quot;,
                &quot;key&quot;: &quot;${bk_timing}&quot;,
                &quot;validation&quot;: &quot;&quot;,
                &quot;desc&quot;: &quot;&quot;
            }
        },
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;pipeline_tree&quot;: {
            &quot;activities&quot;: {
                &quot;node76393dcfedcf73dbc726f1c4786d&quot;: {
                    &quot;outgoing&quot;: &quot;linecf7b7f10c87187a88b72c5f91177&quot;,
                    &quot;incoming&quot;: &quot;linecd597f19606c1455d661f71a582d&quot;,
                    &quot;name&quot;: &quot;定时&quot;,
                    &quot;error_ignorable&quot;: false,
                    &quot;component&quot;: {
                        &quot;code&quot;: &quot;sleep_timer&quot;,
                        &quot;data&quot;: {
                            &quot;bk_timing&quot;: {
                                &quot;hook&quot;: true,
                                &quot;value&quot;: &quot;${bk_timing}&quot;
                            }
                        }
                    },
                    &quot;stage_name&quot;: &quot;步骤1&quot;,
                    &quot;optional&quot;: false,
                    &quot;type&quot;: &quot;ServiceActivity&quot;,
                    &quot;id&quot;: &quot;node76393dcfedcf73dbc726f1c4786d&quot;,
                    &quot;loop&quot;: {}
                }
            },
            &quot;end_event&quot;: {
                &quot;incoming&quot;: &quot;linecf7b7f10c87187a88b72c5f91177&quot;,
                &quot;outgoing&quot;: &quot;&quot;,
                &quot;type&quot;: &quot;EmptyEndEvent&quot;,
                &quot;id&quot;: &quot;node375320830be9c46cd89f4069857d&quot;,
                &quot;name&quot;: &quot;&quot;
            },
            &quot;outputs&quot;: [],
            &quot;flows&quot;: {
                &quot;linecd597f19606c1455d661f71a582d&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node4e87796ddd76b0d59337b08f385d&quot;,
                    &quot;id&quot;: &quot;linecd597f19606c1455d661f71a582d&quot;,
                    &quot;target&quot;: &quot;node76393dcfedcf73dbc726f1c4786d&quot;
                },
                &quot;linecf7b7f10c87187a88b72c5f91177&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node76393dcfedcf73dbc726f1c4786d&quot;,
                    &quot;id&quot;: &quot;linecf7b7f10c87187a88b72c5f91177&quot;,
                    &quot;target&quot;: &quot;node375320830be9c46cd89f4069857d&quot;
                }
            },
            &quot;gateways&quot;: {},
            &quot;line&quot;: [
                {
                    &quot;source&quot;: {
                        &quot;id&quot;: &quot;node4e87796ddd76b0d59337b08f385d&quot;,
                        &quot;arrow&quot;: &quot;Right&quot;
                    },
                    &quot;id&quot;: &quot;linecd597f19606c1455d661f71a582d&quot;,
                    &quot;target&quot;: {
                        &quot;id&quot;: &quot;node76393dcfedcf73dbc726f1c4786d&quot;,
                        &quot;arrow&quot;: &quot;Left&quot;
                    }
                },
                {
                    &quot;source&quot;: {
                        &quot;id&quot;: &quot;node76393dcfedcf73dbc726f1c4786d&quot;,
                        &quot;arrow&quot;: &quot;Right&quot;
                    },
                    &quot;target&quot;: {
                        &quot;id&quot;: &quot;node375320830be9c46cd89f4069857d&quot;,
                        &quot;arrow&quot;: &quot;Left&quot;
                    },
                    &quot;id&quot;: &quot;linecf7b7f10c87187a88b72c5f91177&quot;
                }
            ],
            &quot;start_event&quot;: {
                &quot;incoming&quot;: &quot;&quot;,
                &quot;outgoing&quot;: &quot;linecd597f19606c1455d661f71a582d&quot;,
                &quot;type&quot;: &quot;EmptyStartEvent&quot;,
                &quot;id&quot;: &quot;node4e87796ddd76b0d59337b08f385d&quot;,
                &quot;name&quot;: &quot;&quot;
            },
            &quot;constants&quot;: {
                &quot;${bk_timing}&quot;: {
                    &quot;source_tag&quot;: &quot;sleep_timer.bk_timing&quot;,
                    &quot;source_info&quot;: {
                        &quot;node76393dcfedcf73dbc726f1c4786d&quot;: [
                            &quot;bk_timing&quot;
                        ]
                    },
                    &quot;name&quot;: &quot;定时时间&quot;,
                    &quot;index&quot;: 0,
                    &quot;custom_type&quot;: &quot;&quot;,
                    &quot;value&quot;: &quot;100&quot;,
                    &quot;show_type&quot;: &quot;show&quot;,
                    &quot;source_type&quot;: &quot;component_inputs&quot;,
                    &quot;key&quot;: &quot;${bk_timing}&quot;,
                    &quot;validation&quot;: &quot;&quot;,
                    &quot;desc&quot;: &quot;&quot;
                }
            },
            &quot;location&quot;: [
                {
                    &quot;y&quot;: 150,
                    &quot;x&quot;: 80,
                    &quot;type&quot;: &quot;startpoint&quot;,
                    &quot;id&quot;: &quot;node4e87796ddd76b0d59337b08f385d&quot;
                },
                {
                    &quot;y&quot;: 149,
                    &quot;x&quot;: 1092,
                    &quot;type&quot;: &quot;endpoint&quot;,
                    &quot;id&quot;: &quot;node375320830be9c46cd89f4069857d&quot;
                },
                {
                    &quot;stage_name&quot;: &quot;步骤1&quot;,
                    &quot;name&quot;: &quot;定时&quot;,
                    &quot;y&quot;: 133,
                    &quot;x&quot;: 300,
                    &quot;type&quot;: &quot;tasknode&quot;,
                    &quot;id&quot;: &quot;node76393dcfedcf73dbc726f1c4786d&quot;
                }
            ]
        },
        &quot;last_run_at&quot;: &quot;&quot;,
        &quot;enabled&quot;: false,
        &quot;id&quot;: 11,
        &quot;template_id&quot;: 2
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时成功数据，详细信息请见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>cron</td>
<td>string</td>
<td>周期调度表达式</td>
</tr>
<tr>
<td>total_run_count</td>
<td>int</td>
<td>周期任务运行次数</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>周期任务名</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>last_run_at</td>
<td>string</td>
<td>上次运行时间</td>
</tr>
<tr>
<td>enabled</td>
<td>bool</td>
<td>是否激活</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>周期任务 ID</td>
</tr>
<tr>
<td>template_id</td>
<td>string</td>
<td>用于创建该任务的模板 ID</td>
</tr>
<tr>
<td>form</td>
<td>dict</td>
<td>该周期任务的参数表单对象</td>
</tr>
<tr>
<td>pipeline_tree</td>
<td>dict</td>
<td>该周期任务的实例树</td>
</tr>
</tbody>
</table>
<h4 id="datapipeline_tree">data.pipeline_tree</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>start_event</td>
<td>dict</td>
<td>开始节点信息</td>
</tr>
<tr>
<td>end_event</td>
<td>dict</td>
<td>结束节点信息</td>
</tr>
<tr>
<td>activities</td>
<td>dict</td>
<td>任务节点（原子和子流程）信息</td>
</tr>
<tr>
<td>gateways</td>
<td>dict</td>
<td>网关节点（并行网关、分支网关和汇聚网关）信息</td>
</tr>
<tr>
<td>flows</td>
<td>dict</td>
<td>顺序流（节点连线）信息</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>全局变量信息，详情见下面</td>
</tr>
<tr>
<td>outputs</td>
<td>list</td>
<td>模板输出信息，标记 constants 中的输出字段</td>
</tr>
</tbody>
</table>
<h4 id="dataformkey-datapipeline_treeconstantskey">data.form.KEY, data.pipeline_tree.constants.KEY</h4>
<p>全局变量 KEY，${key} 格式</p>
<h4 id="dataformvalue-datapipeline_treeconstantsvalue">data.form.VALUE, data.pipeline_tree.constants.VALUE</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>同 KEY</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>变量名字</td>
</tr>
<tr>
<td>index</td>
<td>int</td>
<td>变量在模板中的显示顺序</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>变量说明</td>
</tr>
<tr>
<td>source_type</td>
<td>string</td>
<td>变量来源, 取值范围 custom: 自定义变量，component_inputs: 从原子输入参数勾选，component_outputs：从原子输出结果中勾选</td>
</tr>
<tr>
<td>custom_type</td>
<td>string</td>
<td>source_type=custom 时有效，自定义变量类型， 取值范围 input: 输入框，textarea: 文本框，datetime: 日期时间，int: 整数</td>
</tr>
<tr>
<td>source_tag</td>
<td>string</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源原子</td>
</tr>
<tr>
<td>source_info</td>
<td>dict</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源节点信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/create_task/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>通过流程模板创建任务</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务 ID</td>
</tr>
<tr>
<td>template_id</td>
<td>string</td>
<td>是</td>
<td>模板 ID</td>
</tr>
<tr>
<td>template_source</td>
<td>string</td>
<td>否</td>
<td>流程模板来源，business:默认值，业务流程，common：公共流程</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>任务名称</td>
</tr>
<tr>
<td>flow_type</td>
<td>string</td>
<td>否</td>
<td>任务流程类型，common: 常规流程，common_func：职能化流程</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>否</td>
<td>任务全局参数，详细信息见下面说明</td>
</tr>
<tr>
<td>exclude_task_nodes_id</td>
<td>list</td>
<td>否</td>
<td>跳过执行的节点 ID 列表</td>
</tr>
</tbody>
</table>
<h4 id="constantskey">constants.KEY</h4>
<p>变量 KEY，${key} 格式</p>
<h4 id="constantsvalue">constants.VALUE</h4>
<p>变量值，value 的类型和从模板获取的全局变量中 value 类型保持一致</p>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;name&quot;: &quot;tasktest&quot;,
    &quot;flow_type&quot;: &quot;common&quot;,
    &quot;constants&quot;: {
        &quot;${content}: &quot;echo 1&quot;,
        &quot;${params}&quot;: &quot;&quot;,
        &quot;${script_timeout}&quot;: 20
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;result&quot;: true,
    &quot;data&quot;: {
        &quot;task_id&quot;: 10,
        &quot;task_url&quot;: &quot;http://bk_sops_host/taskflow/execute/3/?instance_id=15364&quot;,
        &quot;pipeline_tree&quot;: {
            &quot;activities&quot;: {
                &quot;node9b5ae13799d63e179f0ce3088b62&quot;: {
                    &quot;outgoing&quot;: &quot;line27bc7b4ccbcf37ddb9d1f6572a04&quot;,
                    &quot;incoming&quot;: &quot;line490caa49d2a03e64829693281032&quot;,
                    &quot;name&quot;: &quot;timing&quot;,
                    &quot;error_ignorable&quot;: false,
                    &quot;component&quot;: {
                        &quot;code&quot;: &quot;sleep_timer&quot;,
                        &quot;data&quot;: {
                            &quot;bk_timing&quot;: {
                                &quot;hook&quot;: false,
                                &quot;value&quot;: &quot;2&quot;
                            }
                        }
                    },
                    &quot;stage_name&quot;: &quot;步骤1&quot;,
                    &quot;can_retry&quot;: true,
                    &quot;isSkipped&quot;: true,
                    &quot;type&quot;: &quot;ServiceActivity&quot;,
                    &quot;optional&quot;: false,
                    &quot;id&quot;: &quot;node9b5ae13799d63e179f0ce3088b62&quot;,
                    &quot;loop&quot;: null
                },
                &quot;node880ded556c6c3c269be3cedc64b6&quot;: {
                    &quot;outgoing&quot;: &quot;line490caa49d2a03e64829693281032&quot;,
                    &quot;incoming&quot;: &quot;lineb83161d6e0593ad68d9ec73a961b&quot;,
                    &quot;name&quot;: &quot;暂停&quot;,
                    &quot;error_ignorable&quot;: false,
                    &quot;component&quot;: {
                        &quot;code&quot;: &quot;pause_node&quot;,
                        &quot;data&quot;: {}
                    },
                    &quot;stage_name&quot;: &quot;步骤1&quot;,
                    &quot;can_retry&quot;: true,
                    &quot;isSkipped&quot;: true,
                    &quot;type&quot;: &quot;ServiceActivity&quot;,
                    &quot;optional&quot;: true,
                    &quot;id&quot;: &quot;node880ded556c6c3c269be3cedc64b6&quot;,
                    &quot;loop&quot;: null
                }
            },
            &quot;end_event&quot;: {
                &quot;type&quot;: &quot;EmptyEndEvent&quot;,
                &quot;outgoing&quot;: &quot;&quot;,
                &quot;incoming&quot;: &quot;line27bc7b4ccbcf37ddb9d1f6572a04&quot;,
                &quot;id&quot;: &quot;node5c48f37aa9f0351e8b43ab6a2295&quot;,
                &quot;name&quot;: &quot;&quot;
            },
            &quot;outputs&quot;: [],
            &quot;flows&quot;: {
                &quot;line490caa49d2a03e64829693281032&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node880ded556c6c3c269be3cedc64b6&quot;,
                    &quot;id&quot;: &quot;line490caa49d2a03e64829693281032&quot;,
                    &quot;target&quot;: &quot;node9b5ae13799d63e179f0ce3088b62&quot;
                },
                &quot;lineb83161d6e0593ad68d9ec73a961b&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;noded383bc1d7387391f889c6bab18b8&quot;,
                    &quot;id&quot;: &quot;lineb83161d6e0593ad68d9ec73a961b&quot;,
                    &quot;target&quot;: &quot;node880ded556c6c3c269be3cedc64b6&quot;
                },
                &quot;line27bc7b4ccbcf37ddb9d1f6572a04&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node9b5ae13799d63e179f0ce3088b62&quot;,
                    &quot;id&quot;: &quot;line27bc7b4ccbcf37ddb9d1f6572a04&quot;,
                    &quot;target&quot;: &quot;node5c48f37aa9f0351e8b43ab6a2295&quot;
                }
            },
            &quot;gateways&quot;: {},
            &quot;line&quot;: [
                {
                    &quot;source&quot;: {
                        &quot;id&quot;: &quot;node9b5ae13799d63e179f0ce3088b62&quot;,
                        &quot;arrow&quot;: &quot;Right&quot;
                    },
                    &quot;target&quot;: {
                        &quot;id&quot;: &quot;node5c48f37aa9f0351e8b43ab6a2295&quot;,
                        &quot;arrow&quot;: &quot;Left&quot;
                    },
                    &quot;id&quot;: &quot;line27bc7b4ccbcf37ddb9d1f6572a04&quot;
                },
                {
                    &quot;source&quot;: {
                        &quot;id&quot;: &quot;node880ded556c6c3c269be3cedc64b6&quot;,
                        &quot;arrow&quot;: &quot;Right&quot;
                    },
                    &quot;target&quot;: {
                        &quot;id&quot;: &quot;node9b5ae13799d63e179f0ce3088b62&quot;,
                        &quot;arrow&quot;: &quot;Left&quot;
                    },
                    &quot;id&quot;: &quot;line490caa49d2a03e64829693281032&quot;
                },
                {
                    &quot;source&quot;: {
                        &quot;id&quot;: &quot;noded383bc1d7387391f889c6bab18b8&quot;,
                        &quot;arrow&quot;: &quot;Right&quot;
                    },
                    &quot;id&quot;: &quot;lineb83161d6e0593ad68d9ec73a961b&quot;,
                    &quot;target&quot;: {
                        &quot;id&quot;: &quot;node880ded556c6c3c269be3cedc64b6&quot;,
                        &quot;arrow&quot;: &quot;Left&quot;
                    }
                }
            ],
            &quot;start_event&quot;: {
                &quot;type&quot;: &quot;EmptyStartEvent&quot;,
                &quot;outgoing&quot;: &quot;lineb83161d6e0593ad68d9ec73a961b&quot;,
                &quot;incoming&quot;: &quot;&quot;,
                &quot;id&quot;: &quot;noded383bc1d7387391f889c6bab18b8&quot;,
                &quot;name&quot;: &quot;&quot;
            },
            &quot;id&quot;: &quot;node7ef6970d06ad3bc092594cb5ec5f&quot;,
            &quot;constants&quot;: {},
            &quot;location&quot;: [
                {
                    &quot;stage_name&quot;: &quot;步骤1&quot;,
                    &quot;name&quot;: &quot;暂停&quot;,
                    &quot;y&quot;: 135,
                    &quot;x&quot;: 300,
                    &quot;type&quot;: &quot;tasknode&quot;,
                    &quot;id&quot;: &quot;node880ded556c6c3c269be3cedc64b6&quot;
                },
                {
                    &quot;y&quot;: 150,
                    &quot;x&quot;: 1000,
                    &quot;type&quot;: &quot;endpoint&quot;,
                    &quot;id&quot;: &quot;node5c48f37aa9f0351e8b43ab6a2295&quot;
                },
                {
                    &quot;stage_name&quot;: &quot;步骤1&quot;,
                    &quot;name&quot;: &quot;timing&quot;,
                    &quot;y&quot;: 135,
                    &quot;x&quot;: 595,
                    &quot;type&quot;: &quot;tasknode&quot;,
                    &quot;id&quot;: &quot;node9b5ae13799d63e179f0ce3088b62&quot;
                },
                {
                    &quot;y&quot;: 150,
                    &quot;x&quot;: 80,
                    &quot;type&quot;: &quot;startpoint&quot;,
                    &quot;id&quot;: &quot;noded383bc1d7387391f889c6bab18b8&quot;
                }
            ]
        }
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时成功数据，详细信息请见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>task_id</td>
<td>int</td>
<td>任务实例 ID</td>
</tr>
<tr>
<td>task_url</td>
<td>str</td>
<td>任务实例链接</td>
</tr>
<tr>
<td>pipeline_tree</td>
<td>dict</td>
<td>任务实例树</td>
</tr>
</tbody>
</table>
<h4 id="datapipeline_tree">data.pipeline_tree</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start_event</td>
<td>dict</td>
<td>开始节点信息</td>
</tr>
<tr>
<td>end_event</td>
<td>dict</td>
<td>结束节点信息</td>
</tr>
<tr>
<td>activities</td>
<td>dict</td>
<td>任务节点（原子和子流程）信息</td>
</tr>
<tr>
<td>gateways</td>
<td>dict</td>
<td>网关节点（并行网关、分支网关和汇聚网关）信息</td>
</tr>
<tr>
<td>flows</td>
<td>dict</td>
<td>顺序流（节点连线）信息</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>全局变量信息，详情见下面</td>
</tr>
<tr>
<td>outputs</td>
<td>list</td>
<td>模板输出信息，标记 constants 中的输出字段</td>
</tr>
</tbody>
</table>
<h4 id="datapipeline_treeconstantskey">data.pipeline_tree.constants.KEY</h4>
<p>全局变量 KEY，${key} 格式</p>
<h4 id="datapipeline_treeconstantsvalue">data.pipeline_tree.constants.VALUE</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>同 KEY</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>变量名字</td>
</tr>
<tr>
<td>index</td>
<td>int</td>
<td>变量在模板中的显示顺序</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>变量说明</td>
</tr>
<tr>
<td>source_type</td>
<td>string</td>
<td>变量来源, 取值范围 custom: 自定义变量，component_inputs: 从原子输入参数勾选，component_outputs：从原子输出结果中勾选</td>
</tr>
<tr>
<td>custom_type</td>
<td>string</td>
<td>source_type=custom 时有效，自定义变量类型， 取值范围 input: 输入框，textarea: 文本框，datetime: 日期时间，int: 整数</td>
</tr>
<tr>
<td>source_tag</td>
<td>string</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源原子</td>
</tr>
<tr>
<td>source_info</td>
<td>dict</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源节点信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/fast_create_task/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建一次性任务</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>project_id</td>
<td>int</td>
<td>是</td>
<td>项目 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>任务名称</td>
</tr>
<tr>
<td>pipeline_tree</td>
<td>dict</td>
<td>是</td>
<td>任务实例树，详细信息请见下面说明</td>
</tr>
<tr>
<td>flow_type</td>
<td>string</td>
<td>否</td>
<td>任务流程类型，common: 常规流程，common_func：职能化流程，默认值为 common</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>否</td>
<td>任务描述</td>
</tr>
<tr>
<td>category</td>
<td>string</td>
<td>否</td>
<td>任务分类，详细信息请见下面说明</td>
</tr>
</tbody>
</table>
<h4 id="category">category</h4>
<table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>OpsTools</td>
<td>运维工具</td>
</tr>
<tr>
<td>MonitorAlarm</td>
<td>监控告警</td>
</tr>
<tr>
<td>ConfManage</td>
<td>配置管理</td>
</tr>
<tr>
<td>DevTools</td>
<td>开发工具</td>
</tr>
<tr>
<td>EnterpriseIT</td>
<td>企业 IT</td>
</tr>
<tr>
<td>OfficeApp</td>
<td>办公应用</td>
</tr>
<tr>
<td>Other</td>
<td>其它</td>
</tr>
</tbody>
</table>
<h4 id="pipeline_tree">pipeline_tree</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start_event</td>
<td>dict</td>
<td>是</td>
<td>开始节点，详细信息请见下面说明</td>
</tr>
<tr>
<td>end_event</td>
<td>dict</td>
<td>是</td>
<td>结束节点，详细信息请见下面说明</td>
</tr>
<tr>
<td>activities</td>
<td>dict</td>
<td>是</td>
<td>任务节点（标准插件和子流程），详细信息请见下面说明</td>
</tr>
<tr>
<td>flows</td>
<td>dict</td>
<td>是</td>
<td>顺序流（节点连线），详细信息请见下面说明</td>
</tr>
<tr>
<td>gateways</td>
<td>dict</td>
<td>否</td>
<td>网关节点（并行网关、分支网关和汇聚网关），详细信息请见下面说明</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>否</td>
<td>全局变量，详细信息请见下面说明</td>
</tr>
<tr>
<td>outputs</td>
<td>list</td>
<td>否</td>
<td>输出参数，标记 constants 中的输出字段</td>
</tr>
</tbody>
</table>
<h4 id="pipeline_treestart_event">pipeline_tree.start_event</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>是</td>
<td>开始节点 ID，在 pipeline_tree 所有 ID 中全局唯一</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>是</td>
<td>开始节点类型，当前只支持 EmptyStartEvent: 空开始类</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>开始节点名称，可为空</td>
</tr>
<tr>
<td>incoming</td>
<td>string</td>
<td>是</td>
<td>入度顺序流 ID，必须为空字符串</td>
</tr>
<tr>
<td>outgoing</td>
<td>string</td>
<td>是</td>
<td>出度顺序流 ID</td>
</tr>
</tbody>
</table>
<h4 id="pipeline_treeend_event">pipeline_tree.end_event</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>是</td>
<td>结束节点 ID，在 pipeline_tree 所有 ID 中全局唯一</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>是</td>
<td>结束节点类型，当前只支持 EmptyEndEvent：空结束类</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>结束节点名称，可为空</td>
</tr>
<tr>
<td>incoming</td>
<td>string</td>
<td>是</td>
<td>入度顺序流 ID</td>
</tr>
<tr>
<td>outgoing</td>
<td>string</td>
<td>是</td>
<td>出度顺序流 ID，必须为空字符串</td>
</tr>
</tbody>
</table>
<h4 id="pipeline_treeactivities-keypipeline_treeflows-keypipeline_treegateways-key">pipeline_tree.activities KEY、pipeline_tree.flows KEY、pipeline_tree.gateways KEY</h4>
<p>流程元素 ID，string 类型，在 pipeline_tree 所有 ID 中全局唯一，用来标识拓扑关系</p>
<h4 id="pipeline_treeactivities-value">pipeline_tree.activities VALUE</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>是</td>
<td>任务节点 ID，同 KEY 一致</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>是</td>
<td>任务节点类型，当前只支持 ServiceActivity：标准插件节点</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>任务节点名称</td>
</tr>
<tr>
<td>component</td>
<td>dict</td>
<td>是</td>
<td>插件配置，详细信息请见下面说明</td>
</tr>
<tr>
<td>error_ignorable</td>
<td>bool</td>
<td>是</td>
<td>节点失败是否自动忽略</td>
</tr>
<tr>
<td>retryable</td>
<td>bool</td>
<td>是</td>
<td>节点失败后是否可以重试，error_ignorable 为 true 时该参数无效</td>
</tr>
<tr>
<td>skippable</td>
<td>bool</td>
<td>是</td>
<td>节点失败后是否可以跳过，error_ignorable 为 true 时该参数无效</td>
</tr>
<tr>
<td>incoming</td>
<td>string</td>
<td>是</td>
<td>入度顺序流 ID</td>
</tr>
<tr>
<td>outgoing</td>
<td>string</td>
<td>是</td>
<td>出度顺序流 ID</td>
</tr>
<tr>
<td>stage_name</td>
<td>string</td>
<td>否</td>
<td>步骤分组名称</td>
</tr>
</tbody>
</table>
<h4 id="pipeline_treeactivities-valuecomponent">pipeline_tree.activities VALUE.component</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>string</td>
<td>是</td>
<td>标准插件编码</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>是</td>
<td>标准插件输入参数</td>
</tr>
</tbody>
</table>
<h4 id="pipeline_treeflows-value">pipeline_tree.flows VALUE</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>是</td>
<td>顺序流 ID，同 KEY 一致</td>
</tr>
<tr>
<td>is_default</td>
<td>bool</td>
<td>是</td>
<td>是否默认分支</td>
</tr>
<tr>
<td>source</td>
<td>string</td>
<td>是</td>
<td>来源节点 ID</td>
</tr>
<tr>
<td>target</td>
<td>string</td>
<td>是</td>
<td>目的节点 ID</td>
</tr>
</tbody>
</table>
<h4 id="pipeline_treegateways-value">pipeline_tree.gateways VALUE</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>是</td>
<td>网关节点 ID，同 KEY 一致</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>是</td>
<td>网关类型，ParallelGateway：并行网关，ExclusiveGateway：分支网关，ConvergeGateway：汇聚网关</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>网关节点名称，可为空</td>
</tr>
<tr>
<td>incoming</td>
<td>string/list</td>
<td>是</td>
<td>入度顺序流 ID，type 为 ConvergeGateway 时是 list，否则是 string</td>
</tr>
<tr>
<td>outgoing</td>
<td>string/list</td>
<td>是</td>
<td>出度顺序流 ID，type 为 ConvergeGateway 时是 string，否则是 list</td>
</tr>
<tr>
<td>conditions</td>
<td>dict</td>
<td>否</td>
<td>分支条件，type 为 ExclusiveGateway 必填， 详细信息请见下面说明</td>
</tr>
</tbody>
</table>
<h4 id="pipeline_treegateways-valueconditions-key">pipeline_tree.gateways VALUE.conditions KEY</h4>
<p>网关出度顺序流 ID，和 outgoing 列表中一一对应</p>
<h4 id="pipeline_treegateways-valueconditions-value">pipeline_tree.gateways VALUE.conditions VALUE</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>evaluate</td>
<td>string</td>
<td>是</td>
<td>分支表达式，支持的语法请参考产品白皮书等文档</td>
</tr>
</tbody>
</table>
<h4 id="pipeline_treeconstants-key">pipeline_tree.constants KEY</h4>
<p>全局变量 KEY，"${key}" 格式</p>
<h4 id="pipeline_treeconstants-value">pipeline_tree.constants VALUE</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>是</td>
<td>同 KEY 一致</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>变量名字</td>
</tr>
<tr>
<td>index</td>
<td>int</td>
<td>是</td>
<td>变量在任务中的显示顺序</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>是</td>
<td>变量说明</td>
</tr>
<tr>
<td>source_type</td>
<td>string</td>
<td>是</td>
<td>变量来源, 取值范围 custom: 自定义变量，component_inputs: 从标准插件输入参数勾选，component_outputs：从标准插件输出结果中勾选</td>
</tr>
<tr>
<td>custom_type</td>
<td>string</td>
<td>是</td>
<td>source_type=custom 时有效，自定义变量类型， 取值范围 input: 输入框，textarea: 文本框，datetime: 日期时间，int: 整数</td>
</tr>
<tr>
<td>source_tag</td>
<td>string</td>
<td>是</td>
<td>source_type=component_inputs 或 component_outputs 时有效，变量的来源插件和 Tag</td>
</tr>
<tr>
<td>source_info</td>
<td>dict</td>
<td>是</td>
<td>source_type=component_inputs 或 component_outputs 时有效，变量的来源节点信息</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;name&quot;: &quot;tasktest&quot;,
    &quot;flow_type&quot;: &quot;common&quot;,
    &quot;pipeline_tree&quot;：{
        &quot;start_event&quot;: {
            &quot;incoming&quot;: &quot;&quot;,
            &quot;outgoing&quot;: &quot;line7ed74aa679d19063b6d7037ce6db&quot;,
            &quot;type&quot;: &quot;EmptyStartEvent&quot;,
            &quot;id&quot;: &quot;node20cbeaa5379d08e8d8ed7bb44fdc&quot;,
            &quot;name&quot;: &quot;&quot;
        },
        &quot;activities&quot;: {
            &quot;node5310ec36c0364d3094d515f8f5ef&quot;: {
                &quot;outgoing&quot;: &quot;linec02d1e77e1076aa9c7c2c57238e4&quot;,
                &quot;incoming&quot;: &quot;line7ed74aa679d19063b6d7037ce6db&quot;,
                &quot;name&quot;: &quot;node1&quot;,
                &quot;error_ignorable&quot;: false,
                &quot;component&quot;: {
                    &quot;code&quot;: &quot;sleep_timer&quot;,
                    &quot;data&quot;: {
                        &quot;bk_timing&quot;: {
                            &quot;hook&quot;: true,
                            &quot;value&quot;: &quot;${bk_timing}&quot;
                        }
                    }
                },
                &quot;stage_name&quot;: &quot;stage1&quot;,
                &quot;retryable&quot;: true,
                &quot;skippable&quot;: true,
                &quot;type&quot;: &quot;ServiceActivity&quot;,
                &quot;id&quot;: &quot;node5310ec36c0364d3094d515f8f5ef&quot;
            },
            &quot;node2bf42efcebe266706c3e21326dc4&quot;: {
                &quot;outgoing&quot;: &quot;linef0deadac69f769440a1b0e32587e&quot;,
                &quot;incoming&quot;: &quot;line7587c8804d34a091dae3d321f081&quot;,
                &quot;name&quot;: &quot;node2&quot;,
                &quot;error_ignorable&quot;: false,
                &quot;component&quot;: {
                    &quot;code&quot;: &quot;sleep_timer&quot;,
                    &quot;data&quot;: {
                        &quot;bk_timing&quot;: {
                            &quot;hook&quot;: true,
                            &quot;value&quot;: &quot;${bk_timing}&quot;
                        }
                    }
                },
                &quot;stage_name&quot;: &quot;stage2&quot;,
                &quot;retryable&quot;: true,
                &quot;skippable&quot;: true,
                &quot;type&quot;: &quot;ServiceActivity&quot;,
                &quot;id&quot;: &quot;node2bf42efcebe266706c3e21326dc4&quot;
            },
            &quot;node3c7dcf31454c1e9bdc9cf1cdeacc&quot;: {
                &quot;outgoing&quot;: &quot;linebf8f91c96a8f4eb3794ca5eb9881&quot;,
                &quot;incoming&quot;: &quot;line429f64cdec5d20f368611e621ef5&quot;,
                &quot;name&quot;: &quot;node3&quot;,
                &quot;error_ignorable&quot;: false,
                &quot;component&quot;: {
                    &quot;code&quot;: &quot;sleep_timer&quot;,
                    &quot;data&quot;: {
                        &quot;bk_timing&quot;: {
                            &quot;hook&quot;: false,
                            &quot;value&quot;: &quot;3&quot;
                        }
                    }
                },
                &quot;stage_name&quot;: &quot;stage3&quot;,
                &quot;retryable&quot;: true,
                &quot;skippable&quot;: true,
                &quot;type&quot;: &quot;ServiceActivity&quot;,
                &quot;id&quot;: &quot;node3c7dcf31454c1e9bdc9cf1cdeacc&quot;
            },
            &quot;nodedb1478a75c13f90cc400f5379949&quot;: {
                &quot;outgoing&quot;: &quot;line24d28a3f9f80e23e4a4fab7c4ffd&quot;,
                &quot;incoming&quot;: &quot;linec43c77f26af408748a9c194dbcfe&quot;,
                &quot;name&quot;: &quot;node4&quot;,
                &quot;error_ignorable&quot;: false,
                &quot;component&quot;: {
                    &quot;code&quot;: &quot;sleep_timer&quot;,
                    &quot;data&quot;: {
                        &quot;bk_timing&quot;: {
                            &quot;hook&quot;: true,
                            &quot;value&quot;: &quot;${bk_timing}&quot;
                        }
                    }
                },
                &quot;stage_name&quot;: &quot;stage3&quot;,
                &quot;retryable&quot;: true,
                &quot;skippable&quot;: true,
                &quot;type&quot;: &quot;ServiceActivity&quot;,
                &quot;id&quot;: &quot;nodedb1478a75c13f90cc400f5379949&quot;
            }
        },
        &quot;end_event&quot;: {
            &quot;incoming&quot;: &quot;line6ea858554964a04d868cead4435a&quot;,
            &quot;outgoing&quot;: &quot;&quot;,
            &quot;type&quot;: &quot;EmptyEndEvent&quot;,
            &quot;id&quot;: &quot;nodebe0db4ad30cc1723c7ede37b4b5f&quot;,
            &quot;name&quot;: &quot;&quot;
        },
        &quot;flows&quot;: {
            &quot;line24d28a3f9f80e23e4a4fab7c4ffd&quot;: {
                &quot;is_default&quot;: false,
                &quot;source&quot;: &quot;nodedb1478a75c13f90cc400f5379949&quot;,
                &quot;id&quot;: &quot;line24d28a3f9f80e23e4a4fab7c4ffd&quot;,
                &quot;target&quot;: &quot;node947e423b22e49aeb77bc77528bc0&quot;
            },
            &quot;linebf8f91c96a8f4eb3794ca5eb9881&quot;: {
                &quot;is_default&quot;: false,
                &quot;source&quot;: &quot;node3c7dcf31454c1e9bdc9cf1cdeacc&quot;,
                &quot;id&quot;: &quot;linebf8f91c96a8f4eb3794ca5eb9881&quot;,
                &quot;target&quot;: &quot;node947e423b22e49aeb77bc77528bc0&quot;
            },
            &quot;line7587c8804d34a091dae3d321f081&quot;: {
                &quot;is_default&quot;: false,
                &quot;source&quot;: &quot;node0863aab8325b84cfa3e5db52dc61&quot;,
                &quot;id&quot;: &quot;line7587c8804d34a091dae3d321f081&quot;,
                &quot;target&quot;: &quot;node2bf42efcebe266706c3e21326dc4&quot;
            },
            &quot;line429f64cdec5d20f368611e621ef5&quot;: {
                &quot;is_default&quot;: false,
                &quot;source&quot;: &quot;node7e97af0f55fb64276e067951dd9d&quot;,
                &quot;id&quot;: &quot;line429f64cdec5d20f368611e621ef5&quot;,
                &quot;target&quot;: &quot;node3c7dcf31454c1e9bdc9cf1cdeacc&quot;
            },
            &quot;line6ea858554964a04d868cead4435a&quot;: {
                &quot;is_default&quot;: false,
                &quot;source&quot;: &quot;node2b6f3285cfb3961c72834bafbe1b&quot;,
                &quot;id&quot;: &quot;line6ea858554964a04d868cead4435a&quot;,
                &quot;target&quot;: &quot;nodebe0db4ad30cc1723c7ede37b4b5f&quot;
            },
            &quot;line9dd9c8dbbad90943f268442ab7e0&quot;: {
                &quot;is_default&quot;: false,
                &quot;source&quot;: &quot;node0863aab8325b84cfa3e5db52dc61&quot;,
                &quot;id&quot;: &quot;line9dd9c8dbbad90943f268442ab7e0&quot;,
                &quot;target&quot;: &quot;node7e97af0f55fb64276e067951dd9d&quot;
            },
            &quot;lineabc279d9be88eb98285132ba5b75&quot;: {
                &quot;is_default&quot;: false,
                &quot;source&quot;: &quot;node947e423b22e49aeb77bc77528bc0&quot;,
                &quot;id&quot;: &quot;lineabc279d9be88eb98285132ba5b75&quot;,
                &quot;target&quot;: &quot;node2b6f3285cfb3961c72834bafbe1b&quot;
            },
            &quot;linef0deadac69f769440a1b0e32587e&quot;: {
                &quot;is_default&quot;: false,
                &quot;source&quot;: &quot;node2bf42efcebe266706c3e21326dc4&quot;,
                &quot;id&quot;: &quot;linef0deadac69f769440a1b0e32587e&quot;,
                &quot;target&quot;: &quot;node2b6f3285cfb3961c72834bafbe1b&quot;
            },
            &quot;linec02d1e77e1076aa9c7c2c57238e4&quot;: {
                &quot;is_default&quot;: false,
                &quot;source&quot;: &quot;node5310ec36c0364d3094d515f8f5ef&quot;,
                &quot;id&quot;: &quot;linec02d1e77e1076aa9c7c2c57238e4&quot;,
                &quot;target&quot;: &quot;node0863aab8325b84cfa3e5db52dc61&quot;
            },
            &quot;line7ed74aa679d19063b6d7037ce6db&quot;: {
                &quot;is_default&quot;: false,
                &quot;source&quot;: &quot;node20cbeaa5379d08e8d8ed7bb44fdc&quot;,
                &quot;id&quot;: &quot;line7ed74aa679d19063b6d7037ce6db&quot;,
                &quot;target&quot;: &quot;node5310ec36c0364d3094d515f8f5ef&quot;
            },
            &quot;linec43c77f26af408748a9c194dbcfe&quot;: {
                &quot;is_default&quot;: false,
                &quot;source&quot;: &quot;node7e97af0f55fb64276e067951dd9d&quot;,
                &quot;id&quot;: &quot;linec43c77f26af408748a9c194dbcfe&quot;,
                &quot;target&quot;: &quot;nodedb1478a75c13f90cc400f5379949&quot;
            }
        },
        &quot;gateways&quot;: {
            &quot;node2b6f3285cfb3961c72834bafbe1b&quot;: {
                &quot;incoming&quot;: [&quot;linef0deadac69f769440a1b0e32587e&quot;, &quot;lineabc279d9be88eb98285132ba5b75&quot;],
                &quot;outgoing&quot;: &quot;line6ea858554964a04d868cead4435a&quot;,
                &quot;type&quot;: &quot;ConvergeGateway&quot;,
                &quot;id&quot;: &quot;node2b6f3285cfb3961c72834bafbe1b&quot;,
                &quot;name&quot;: &quot;&quot;
            },
            &quot;node0863aab8325b84cfa3e5db52dc61&quot;: {
                &quot;outgoing&quot;: [&quot;line7587c8804d34a091dae3d321f081&quot;, &quot;line9dd9c8dbbad90943f268442ab7e0&quot;],
                &quot;incoming&quot;: &quot;linec02d1e77e1076aa9c7c2c57238e4&quot;,
                &quot;name&quot;: &quot;&quot;,
                &quot;type&quot;: &quot;ExclusiveGateway&quot;,
                &quot;conditions&quot;: {
                    &quot;line9dd9c8dbbad90943f268442ab7e0&quot;: {
                        &quot;evaluate&quot;: &quot;${bk_timing} &lt;= 10&quot;
                    },
                    &quot;line7587c8804d34a091dae3d321f081&quot;: {
                        &quot;evaluate&quot;: &quot;${bk_timing} &gt; 10&quot;
                    }
                },
                &quot;id&quot;: &quot;node0863aab8325b84cfa3e5db52dc61&quot;
            },
            &quot;node947e423b22e49aeb77bc77528bc0&quot;: {
                &quot;incoming&quot;: [&quot;linebf8f91c96a8f4eb3794ca5eb9881&quot;, &quot;line24d28a3f9f80e23e4a4fab7c4ffd&quot;],
                &quot;outgoing&quot;: &quot;lineabc279d9be88eb98285132ba5b75&quot;,
                &quot;type&quot;: &quot;ConvergeGateway&quot;,
                &quot;id&quot;: &quot;node947e423b22e49aeb77bc77528bc0&quot;,
                &quot;name&quot;: &quot;&quot;
            },
            &quot;node7e97af0f55fb64276e067951dd9d&quot;: {
                &quot;incoming&quot;: &quot;line9dd9c8dbbad90943f268442ab7e0&quot;,
                &quot;outgoing&quot;: [&quot;line429f64cdec5d20f368611e621ef5&quot;, &quot;linec43c77f26af408748a9c194dbcfe&quot;],
                &quot;type&quot;: &quot;ParallelGateway&quot;,
                &quot;id&quot;: &quot;node7e97af0f55fb64276e067951dd9d&quot;,
                &quot;name&quot;: &quot;&quot;
            }
        },
        &quot;constants&quot;: {
            &quot;${bk_timing}&quot;: {
                &quot;source_tag&quot;: &quot;sleep_timer.bk_timing&quot;,
                &quot;source_info&quot;: {
                    &quot;node5310ec36c0364d3094d515f8f5ef&quot;: [&quot;bk_timing&quot;],
                    &quot;node2bf42efcebe266706c3e21326dc4&quot;: [&quot;bk_timing&quot;],
                    &quot;nodedb1478a75c13f90cc400f5379949&quot;: [&quot;bk_timing&quot;]
                },
                &quot;name&quot;: &quot;timing&quot;,
                &quot;index&quot;: 0,
                &quot;custom_type&quot;: &quot;&quot;,
                &quot;value&quot;: &quot;1&quot;,
                &quot;show_type&quot;: &quot;show&quot;,
                &quot;source_type&quot;: &quot;component_inputs&quot;,
                &quot;key&quot;: &quot;${bk_timing}&quot;,
                &quot;desc&quot;: &quot;&quot;
            }
        },
        &quot;outputs&quot;: [&quot;${bk_timing}&quot;]
    }
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;result&quot;: true,
    &quot;data&quot;: {
        &quot;task_id&quot;: 10,
        &quot;task_url&quot;: &quot;http://bk_sops_host/taskflow/execute/3/?instance_id=10&quot;,
        &quot;pipeline_tree&quot;: {
            &quot;start_event&quot;: {
                &quot;incoming&quot;: &quot;&quot;,
                &quot;outgoing&quot;: &quot;line7ed74aa679d19063b6d7037ce6db&quot;,
                &quot;type&quot;: &quot;EmptyStartEvent&quot;,
                &quot;id&quot;: &quot;node20cbeaa5379d08e8d8ed7bb44fdc&quot;,
                &quot;name&quot;: &quot;&quot;
            },
            &quot;activities&quot;: {
                &quot;node5310ec36c0364d3094d515f8f5ef&quot;: {
                    &quot;outgoing&quot;: &quot;linec02d1e77e1076aa9c7c2c57238e4&quot;,
                    &quot;incoming&quot;: &quot;line7ed74aa679d19063b6d7037ce6db&quot;,
                    &quot;name&quot;: &quot;node1&quot;,
                    &quot;error_ignorable&quot;: false,
                    &quot;component&quot;: {
                        &quot;code&quot;: &quot;sleep_timer&quot;,
                        &quot;data&quot;: {
                            &quot;bk_timing&quot;: {
                                &quot;hook&quot;: true,
                                &quot;value&quot;: &quot;${bk_timing}&quot;
                            }
                        }
                    },
                    &quot;stage_name&quot;: &quot;stage1&quot;,
                    &quot;retryable&quot;: true,
                    &quot;skippable&quot;: true,
                    &quot;type&quot;: &quot;ServiceActivity&quot;,
                    &quot;id&quot;: &quot;node5310ec36c0364d3094d515f8f5ef&quot;
                },
                &quot;node2bf42efcebe266706c3e21326dc4&quot;: {
                    &quot;outgoing&quot;: &quot;linef0deadac69f769440a1b0e32587e&quot;,
                    &quot;incoming&quot;: &quot;line7587c8804d34a091dae3d321f081&quot;,
                    &quot;name&quot;: &quot;node2&quot;,
                    &quot;error_ignorable&quot;: false,
                    &quot;component&quot;: {
                        &quot;code&quot;: &quot;sleep_timer&quot;,
                        &quot;data&quot;: {
                            &quot;bk_timing&quot;: {
                                &quot;hook&quot;: true,
                                &quot;value&quot;: &quot;${bk_timing}&quot;
                            }
                        }
                    },
                    &quot;stage_name&quot;: &quot;stage2&quot;,
                    &quot;retryable&quot;: true,
                    &quot;skippable&quot;: true,
                    &quot;type&quot;: &quot;ServiceActivity&quot;,
                    &quot;id&quot;: &quot;node2bf42efcebe266706c3e21326dc4&quot;
                },
                &quot;node3c7dcf31454c1e9bdc9cf1cdeacc&quot;: {
                    &quot;outgoing&quot;: &quot;linebf8f91c96a8f4eb3794ca5eb9881&quot;,
                    &quot;incoming&quot;: &quot;line429f64cdec5d20f368611e621ef5&quot;,
                    &quot;name&quot;: &quot;node3&quot;,
                    &quot;error_ignorable&quot;: false,
                    &quot;component&quot;: {
                        &quot;code&quot;: &quot;sleep_timer&quot;,
                        &quot;data&quot;: {
                            &quot;bk_timing&quot;: {
                                &quot;hook&quot;: false,
                                &quot;value&quot;: &quot;3&quot;
                            }
                        }
                    },
                    &quot;stage_name&quot;: &quot;stage3&quot;,
                    &quot;retryable&quot;: true,
                    &quot;skippable&quot;: true,
                    &quot;type&quot;: &quot;ServiceActivity&quot;,
                    &quot;id&quot;: &quot;node3c7dcf31454c1e9bdc9cf1cdeacc&quot;
                },
                &quot;nodedb1478a75c13f90cc400f5379949&quot;: {
                    &quot;outgoing&quot;: &quot;line24d28a3f9f80e23e4a4fab7c4ffd&quot;,
                    &quot;incoming&quot;: &quot;linec43c77f26af408748a9c194dbcfe&quot;,
                    &quot;name&quot;: &quot;node4&quot;,
                    &quot;error_ignorable&quot;: false,
                    &quot;component&quot;: {
                        &quot;code&quot;: &quot;sleep_timer&quot;,
                        &quot;data&quot;: {
                            &quot;bk_timing&quot;: {
                                &quot;hook&quot;: true,
                                &quot;value&quot;: &quot;${bk_timing}&quot;
                            }
                        }
                    },
                    &quot;stage_name&quot;: &quot;stage3&quot;,
                    &quot;retryable&quot;: true,
                    &quot;skippable&quot;: true,
                    &quot;type&quot;: &quot;ServiceActivity&quot;,
                    &quot;id&quot;: &quot;nodedb1478a75c13f90cc400f5379949&quot;
                }
            },
            &quot;end_event&quot;: {
                &quot;incoming&quot;: &quot;line6ea858554964a04d868cead4435a&quot;,
                &quot;outgoing&quot;: &quot;&quot;,
                &quot;type&quot;: &quot;EmptyEndEvent&quot;,
                &quot;id&quot;: &quot;nodebe0db4ad30cc1723c7ede37b4b5f&quot;,
                &quot;name&quot;: &quot;&quot;
            },
            &quot;flows&quot;: {
                &quot;line24d28a3f9f80e23e4a4fab7c4ffd&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;nodedb1478a75c13f90cc400f5379949&quot;,
                    &quot;id&quot;: &quot;line24d28a3f9f80e23e4a4fab7c4ffd&quot;,
                    &quot;target&quot;: &quot;node947e423b22e49aeb77bc77528bc0&quot;
                },
                &quot;linebf8f91c96a8f4eb3794ca5eb9881&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node3c7dcf31454c1e9bdc9cf1cdeacc&quot;,
                    &quot;id&quot;: &quot;linebf8f91c96a8f4eb3794ca5eb9881&quot;,
                    &quot;target&quot;: &quot;node947e423b22e49aeb77bc77528bc0&quot;
                },
                &quot;line7587c8804d34a091dae3d321f081&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node0863aab8325b84cfa3e5db52dc61&quot;,
                    &quot;id&quot;: &quot;line7587c8804d34a091dae3d321f081&quot;,
                    &quot;target&quot;: &quot;node2bf42efcebe266706c3e21326dc4&quot;
                },
                &quot;line429f64cdec5d20f368611e621ef5&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node7e97af0f55fb64276e067951dd9d&quot;,
                    &quot;id&quot;: &quot;line429f64cdec5d20f368611e621ef5&quot;,
                    &quot;target&quot;: &quot;node3c7dcf31454c1e9bdc9cf1cdeacc&quot;
                },
                &quot;line6ea858554964a04d868cead4435a&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node2b6f3285cfb3961c72834bafbe1b&quot;,
                    &quot;id&quot;: &quot;line6ea858554964a04d868cead4435a&quot;,
                    &quot;target&quot;: &quot;nodebe0db4ad30cc1723c7ede37b4b5f&quot;
                },
                &quot;line9dd9c8dbbad90943f268442ab7e0&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node0863aab8325b84cfa3e5db52dc61&quot;,
                    &quot;id&quot;: &quot;line9dd9c8dbbad90943f268442ab7e0&quot;,
                    &quot;target&quot;: &quot;node7e97af0f55fb64276e067951dd9d&quot;
                },
                &quot;lineabc279d9be88eb98285132ba5b75&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node947e423b22e49aeb77bc77528bc0&quot;,
                    &quot;id&quot;: &quot;lineabc279d9be88eb98285132ba5b75&quot;,
                    &quot;target&quot;: &quot;node2b6f3285cfb3961c72834bafbe1b&quot;
                },
                &quot;linef0deadac69f769440a1b0e32587e&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node2bf42efcebe266706c3e21326dc4&quot;,
                    &quot;id&quot;: &quot;linef0deadac69f769440a1b0e32587e&quot;,
                    &quot;target&quot;: &quot;node2b6f3285cfb3961c72834bafbe1b&quot;
                },
                &quot;linec02d1e77e1076aa9c7c2c57238e4&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node5310ec36c0364d3094d515f8f5ef&quot;,
                    &quot;id&quot;: &quot;linec02d1e77e1076aa9c7c2c57238e4&quot;,
                    &quot;target&quot;: &quot;node0863aab8325b84cfa3e5db52dc61&quot;
                },
                &quot;line7ed74aa679d19063b6d7037ce6db&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node20cbeaa5379d08e8d8ed7bb44fdc&quot;,
                    &quot;id&quot;: &quot;line7ed74aa679d19063b6d7037ce6db&quot;,
                    &quot;target&quot;: &quot;node5310ec36c0364d3094d515f8f5ef&quot;
                },
                &quot;linec43c77f26af408748a9c194dbcfe&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node7e97af0f55fb64276e067951dd9d&quot;,
                    &quot;id&quot;: &quot;linec43c77f26af408748a9c194dbcfe&quot;,
                    &quot;target&quot;: &quot;nodedb1478a75c13f90cc400f5379949&quot;
                }
            },
            &quot;gateways&quot;: {
                &quot;node2b6f3285cfb3961c72834bafbe1b&quot;: {
                    &quot;incoming&quot;: [&quot;linef0deadac69f769440a1b0e32587e&quot;, &quot;lineabc279d9be88eb98285132ba5b75&quot;],
                    &quot;outgoing&quot;: &quot;line6ea858554964a04d868cead4435a&quot;,
                    &quot;type&quot;: &quot;ConvergeGateway&quot;,
                    &quot;id&quot;: &quot;node2b6f3285cfb3961c72834bafbe1b&quot;,
                    &quot;name&quot;: &quot;&quot;
                },
                &quot;node0863aab8325b84cfa3e5db52dc61&quot;: {
                    &quot;outgoing&quot;: [&quot;line7587c8804d34a091dae3d321f081&quot;, &quot;line9dd9c8dbbad90943f268442ab7e0&quot;],
                    &quot;incoming&quot;: &quot;linec02d1e77e1076aa9c7c2c57238e4&quot;,
                    &quot;name&quot;: &quot;&quot;,
                    &quot;type&quot;: &quot;ExclusiveGateway&quot;,
                    &quot;conditions&quot;: {
                        &quot;line9dd9c8dbbad90943f268442ab7e0&quot;: {
                            &quot;evaluate&quot;: &quot;${bk_timing} &lt;= 10&quot;
                        },
                        &quot;line7587c8804d34a091dae3d321f081&quot;: {
                            &quot;evaluate&quot;: &quot;${bk_timing} &gt; 10&quot;
                        }
                    },
                    &quot;id&quot;: &quot;node0863aab8325b84cfa3e5db52dc61&quot;
                },
                &quot;node947e423b22e49aeb77bc77528bc0&quot;: {
                    &quot;incoming&quot;: [&quot;linebf8f91c96a8f4eb3794ca5eb9881&quot;, &quot;line24d28a3f9f80e23e4a4fab7c4ffd&quot;],
                    &quot;outgoing&quot;: &quot;lineabc279d9be88eb98285132ba5b75&quot;,
                    &quot;type&quot;: &quot;ConvergeGateway&quot;,
                    &quot;id&quot;: &quot;node947e423b22e49aeb77bc77528bc0&quot;,
                    &quot;name&quot;: &quot;&quot;
                },
                &quot;node7e97af0f55fb64276e067951dd9d&quot;: {
                    &quot;incoming&quot;: &quot;line9dd9c8dbbad90943f268442ab7e0&quot;,
                    &quot;outgoing&quot;: [&quot;line429f64cdec5d20f368611e621ef5&quot;, &quot;linec43c77f26af408748a9c194dbcfe&quot;],
                    &quot;type&quot;: &quot;ParallelGateway&quot;,
                    &quot;id&quot;: &quot;node7e97af0f55fb64276e067951dd9d&quot;,
                    &quot;name&quot;: &quot;&quot;
                }
            },
            &quot;constants&quot;: {
                &quot;${bk_timing}&quot;: {
                    &quot;source_tag&quot;: &quot;sleep_timer.bk_timing&quot;,
                    &quot;source_info&quot;: {
                        &quot;node5310ec36c0364d3094d515f8f5ef&quot;: [&quot;bk_timing&quot;],
                        &quot;node2bf42efcebe266706c3e21326dc4&quot;: [&quot;bk_timing&quot;],
                        &quot;nodedb1478a75c13f90cc400f5379949&quot;: [&quot;bk_timing&quot;]
                    },
                    &quot;name&quot;: &quot;timing&quot;,
                    &quot;index&quot;: 0,
                    &quot;custom_type&quot;: &quot;&quot;,
                    &quot;value&quot;: &quot;1&quot;,
                    &quot;show_type&quot;: &quot;show&quot;,
                    &quot;source_type&quot;: &quot;component_inputs&quot;,
                    &quot;key&quot;: &quot;${bk_timing}&quot;,
                    &quot;desc&quot;: &quot;&quot;
                }
            },
            &quot;outputs&quot;: [&quot;${bk_timing}&quot;]
        }
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时成功数据，详细信息请见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>task_id</td>
<td>int</td>
<td>任务实例 ID</td>
</tr>
<tr>
<td>task_url</td>
<td>string</td>
<td>任务实例链接</td>
</tr>
<tr>
<td>pipeline_tree</td>
<td>dict</td>
<td>任务实例树</td>
</tr>
</tbody>
</table>
<h4 id="datapipeline_tree">data.pipeline_tree</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>start_event</td>
<td>dict</td>
<td>开始节点信息</td>
</tr>
<tr>
<td>end_event</td>
<td>dict</td>
<td>结束节点信息</td>
</tr>
<tr>
<td>activities</td>
<td>dict</td>
<td>任务节点（原子和子流程）信息</td>
</tr>
<tr>
<td>gateways</td>
<td>dict</td>
<td>网关节点（并行网关、分支网关和汇聚网关）信息</td>
</tr>
<tr>
<td>flows</td>
<td>dict</td>
<td>顺序流（节点连线）信息</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>全局变量信息，详情见下面</td>
</tr>
<tr>
<td>outputs</td>
<td>list</td>
<td>模板输出信息，标记 constants 中的输出字段</td>
</tr>
</tbody>
</table>
<h4 id="dataformkey-datapipeline_treeconstantskey">data.form.KEY, data.pipeline_tree.constants.KEY</h4>
<p>全局变量 KEY，${key} 格式</p>
<h4 id="dataformvalue-datapipeline_treeconstantsvalue">data.form.VALUE, data.pipeline_tree.constants.VALUE</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>同 KEY</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>变量名字</td>
</tr>
<tr>
<td>index</td>
<td>int</td>
<td>变量在模板中的显示顺序</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>变量说明</td>
</tr>
<tr>
<td>source_type</td>
<td>string</td>
<td>变量来源, 取值范围 custom: 自定义变量，component_inputs: 从原子输入参数勾选，component_outputs：从原子输出结果中勾选</td>
</tr>
<tr>
<td>custom_type</td>
<td>string</td>
<td>source_type=custom 时有效，自定义变量类型， 取值范围 input: 输入框，textarea: 文本框，datetime: 日期时间，int: 整数</td>
</tr>
<tr>
<td>source_tag</td>
<td>string</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源原子</td>
</tr>
<tr>
<td>source_info</td>
<td>dict</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源节点信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_common_template_info/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询公共流程模板详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>template_id</td>
<td>string</td>
<td>是</td>
<td>模板 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;template_id&quot;: &quot;30&quot;,
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;result&quot;: true,
    &quot;data&quot;: {
        &quot;category&quot;: &quot;Other&quot;,
        &quot;edit_time&quot;: &quot;2018-04-27 16:24:24 +0800&quot;,
        &quot;create_time&quot;: &quot;2018-04-16 21:43:15 +0800&quot;,
        &quot;name&quot;: &quot;new20180416213944&quot;,
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;pipeline_tree&quot;: {
            &quot;activities&quot;: {
                &quot;631b6576cc5dfbdcaa4f510ce88a7e67&quot;: {
                    &quot;outgoing&quot;: &quot;44ab36ebf4cf119edaf2d20401da87e4&quot;,
                    &quot;incoming&quot;: &quot;fb2f3a8b533ca5c67e2440b4164f7632&quot;,
                    &quot;name&quot;: &quot;节点_1&quot;,
                    &quot;error_ignorable&quot;: false,
                    &quot;component&quot;: {
                        &quot;code&quot;: &quot;job_fast_execute_script&quot;,
                        &quot;data&quot;: {
                            &quot;account&quot;: {
                                &quot;hook&quot;: false,
                                &quot;value&quot;: &quot;root&quot;
                            },
                            &quot;ip_list&quot;: {
                                &quot;hook&quot;: false,
                                &quot;value&quot;: &quot;127.0.0.1&quot;
                            },
                            &quot;script_timeout&quot;: {
                                &quot;hook&quot;: true,
                                &quot;value&quot;: &quot;${script_timeout}&quot;
                            },
                            &quot;content&quot;: {
                                &quot;hook&quot;: false,
                                &quot;value&quot;: &quot;${content}&quot;
                            },
                            &quot;script_param&quot;: {
                                &quot;hook&quot;: false,
                                &quot;value&quot;: &quot;${params}&quot;
                            },
                            &quot;script_type&quot;: {
                                &quot;hook&quot;: true,
                                &quot;value&quot;: &quot;${script_type}&quot;
                            }
                        }
                    },
                    &quot;optional&quot;: false,
                    &quot;type&quot;: &quot;ServiceActivity&quot;,
                    &quot;id&quot;: &quot;631b6576cc5dfbdcaa4f510ce88a7e67&quot;,
                    &quot;loop&quot;: null
                }
            },
            &quot;end_event&quot;: {
                &quot;type&quot;: &quot;EmptyEndEvent&quot;,
                &quot;outgoing&quot;: &quot;&quot;,
                &quot;incoming&quot;: &quot;44ab36ebf4cf119edaf2d20401da87e4&quot;,
                &quot;id&quot;: &quot;60c81e383d048d8a3c574d3436e1b82c&quot;,
                &quot;name&quot;: &quot;&quot;
            },
            &quot;outputs&quot;: [],
            &quot;flows&quot;: {
                &quot;fb2f3a8b533ca5c67e2440b4164f7632&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;48afea1016ab70ee37179fa0eb1e1a14&quot;,
                    &quot;id&quot;: &quot;fb2f3a8b533ca5c67e2440b4164f7632&quot;,
                    &quot;target&quot;: &quot;631b6576cc5dfbdcaa4f510ce88a7e67&quot;
                },
                &quot;44ab36ebf4cf119edaf2d20401da87e4&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;631b6576cc5dfbdcaa4f510ce88a7e67&quot;,
                    &quot;id&quot;: &quot;44ab36ebf4cf119edaf2d20401da87e4&quot;,
                    &quot;target&quot;: &quot;60c81e383d048d8a3c574d3436e1b82c&quot;
                }
            },
            &quot;start_event&quot;: {
                &quot;type&quot;: &quot;EmptyStartEvent&quot;,
                &quot;outgoing&quot;: &quot;fb2f3a8b533ca5c67e2440b4164f7632&quot;,
                &quot;incoming&quot;: &quot;&quot;,
                &quot;id&quot;: &quot;48afea1016ab70ee37179fa0eb1e1a14&quot;,
                &quot;name&quot;: &quot;&quot;
            },
            &quot;constants&quot;: {
                &quot;${script_type}&quot;: {
                    &quot;source_tag&quot;: &quot;job_fast_execute_script.script_type&quot;,
                    &quot;source_info&quot;: {
                        &quot;631b6576cc5dfbdcaa4f510ce88a7e67&quot;: [
                            &quot;script_type&quot;
                        ]
                    },
                    &quot;name&quot;: &quot;脚本类型&quot;,
                    &quot;index&quot;: 0,
                    &quot;custom_type&quot;: &quot;radio&quot;,
                    &quot;value&quot;: &quot;4&quot;,
                    &quot;show_type&quot;: &quot;show&quot;,
                    &quot;source_type&quot;: &quot;component_inputs&quot;,
                    &quot;key&quot;: &quot;${script_type}&quot;,
                    &quot;validation&quot;: &quot;^.*$&quot;,
                    &quot;desc&quot;: &quot;&quot;
                },
                &quot;${content}&quot;: {
                    &quot;source_tag&quot;: &quot;&quot;,
                    &quot;source_info&quot;: {},
                    &quot;name&quot;: &quot;内容&quot;,
                    &quot;index&quot;: 2,
                    &quot;custom_type&quot;: &quot;textarea&quot;,
                    &quot;value&quot;: &quot;&quot;,
                    &quot;show_type&quot;: &quot;show&quot;,
                    &quot;source_type&quot;: &quot;custom&quot;,
                    &quot;key&quot;: &quot;${content}&quot;,
                    &quot;desc&quot;: &quot;&quot;
                },
                &quot;${script_timeout}&quot;: {
                    &quot;source_tag&quot;: &quot;job_fast_execute_script.script_timeout&quot;,
                    &quot;source_info&quot;: {
                        &quot;631b6576cc5dfbdcaa4f510ce88a7e67&quot;: [
                            &quot;script_timeout&quot;
                        ]
                    },
                    &quot;name&quot;: &quot;超时时间&quot;,
                    &quot;index&quot;: 1,
                    &quot;custom_type&quot;: &quot;input&quot;,
                    &quot;value&quot;: &quot;&quot;,
                    &quot;show_type&quot;: &quot;show&quot;,
                    &quot;source_type&quot;: &quot;component_inputs&quot;,
                    &quot;key&quot;: &quot;${script_timeout}&quot;,
                    &quot;validation&quot;: &quot;^.*$&quot;,
                    &quot;desc&quot;: &quot;&quot;
                },
                &quot;${params}&quot;: {
                    &quot;source_tag&quot;: &quot;&quot;,
                    &quot;source_info&quot;: {},
                    &quot;name&quot;: &quot;参数&quot;,
                    &quot;index&quot;: 3,
                    &quot;custom_type&quot;: &quot;input&quot;,
                    &quot;value&quot;: &quot;&quot;,
                    &quot;show_type&quot;: &quot;show&quot;,
                    &quot;source_type&quot;: &quot;custom&quot;,
                    &quot;key&quot;: &quot;${params}&quot;,
                    &quot;desc&quot;: &quot;&quot;
                }
            },
            &quot;gateways&quot;: {}
        },
        &quot;id&quot;: 30,
        &quot;editor&quot;: &quot;admin&quot;
    },
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 查询成功与否</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时模板详情，详细信息见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>模板 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>模板名称</td>
</tr>
<tr>
<td>category</td>
<td>string</td>
<td>模板分类，分类信息见下面说明</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>模板创建人</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>模板创建时间</td>
</tr>
<tr>
<td>editor</td>
<td>string 或者 null</td>
<td>模板编辑人</td>
</tr>
<tr>
<td>edit_time</td>
<td>string</td>
<td>模板最新编辑时间</td>
</tr>
<tr>
<td>pipeline_tree</td>
<td>dict</td>
<td>模板任务树信息，详细信息见下面说明</td>
</tr>
</tbody>
</table>
<h4 id="datacategory">data.category</h4>
<table>
<thead>
<tr>
<th>返回值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>OpsTools</td>
<td>运维工具</td>
</tr>
<tr>
<td>MonitorAlarm</td>
<td>监控告警</td>
</tr>
<tr>
<td>ConfManage</td>
<td>配置管理</td>
</tr>
<tr>
<td>DevTools</td>
<td>开发工具</td>
</tr>
<tr>
<td>EnterpriseIT</td>
<td>企业 IT</td>
</tr>
<tr>
<td>OfficeApp</td>
<td>办公应用</td>
</tr>
<tr>
<td>Other</td>
<td>其它</td>
</tr>
</tbody>
</table>
<h4 id="datapipeline_tree">data.pipeline_tree</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start_event</td>
<td>dict</td>
<td>开始节点信息</td>
</tr>
<tr>
<td>end_event</td>
<td>dict</td>
<td>结束节点信息</td>
</tr>
<tr>
<td>activities</td>
<td>dict</td>
<td>任务节点（原子和子流程）信息</td>
</tr>
<tr>
<td>gateways</td>
<td>dict</td>
<td>网关节点（并行网关、分支网关和汇聚网关）信息</td>
</tr>
<tr>
<td>flows</td>
<td>dict</td>
<td>顺序流（节点连线）信息</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>全局变量信息，详情见下面</td>
</tr>
<tr>
<td>outputs</td>
<td>list</td>
<td>模板输出信息，标记 constants 中的输出字段</td>
</tr>
</tbody>
</table>
<h4 id="datapipeline_treeconstantskey">data.pipeline_tree.constants.KEY</h4>
<p>全局变量 KEY，${key} 格式</p>
<h4 id="datapipeline_treeconstantsvalue">data.pipeline_tree.constants.VALUE</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>同 KEY</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>变量名字</td>
</tr>
<tr>
<td>index</td>
<td>int</td>
<td>变量在模板中的显示顺序</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>变量说明</td>
</tr>
<tr>
<td>source_type</td>
<td>string</td>
<td>变量来源, 取值范围 custom: 自定义变量，component_inputs: 从原子输入参数勾选，component_outputs：从原子输出结果中勾选</td>
</tr>
<tr>
<td>custom_type</td>
<td>string</td>
<td>source_type=custom 时有效，自定义变量类型， 取值范围 input: 输入框，textarea: 文本框，datetime: 日期时间，int: 整数</td>
</tr>
<tr>
<td>source_tag</td>
<td>string</td>
<td>source_type=component_inputs 或 component_outputs 时有效，变量的来源原子</td>
</tr>
<tr>
<td>source_info</td>
<td>dict</td>
<td>source_type=component_inputs 或 component_outputs 时有效，变量的来源节点信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_common_template_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询公共模板列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<p>无</p>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;data&quot;: [
        {
            &quot;category&quot;: &quot;Other&quot;,
            &quot;name&quot;: &quot;父流程&quot;,
            &quot;creator&quot;: &quot;admin&quot;,
            &quot;edit_time&quot;: &quot;2019-07-15 15:13:22 +0800&quot;,
            &quot;create_time&quot;: &quot;2019-07-15 15:13:22 +0800&quot;,
            &quot;editor&quot;: &quot;admin&quot;,
            &quot;id&quot;: 10014
        },
        {
            &quot;category&quot;: &quot;Other&quot;,
            &quot;name&quot;: &quot;子流程&quot;,
            &quot;creator&quot;: &quot;admin&quot;,
            &quot;edit_time&quot;: &quot;2019-07-15 15:13:22 +0800&quot;,
            &quot;create_time&quot;: &quot;2019-07-15 15:13:22 +0800&quot;,
            &quot;editor&quot;: &quot;admin&quot;,
            &quot;id&quot;: 10013
        },
    ],
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 查询成功与否</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>result=true 时模板列表，item 信息见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>模板 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>模板名称</td>
</tr>
<tr>
<td>category</td>
<td>string</td>
<td>模板分类，分类信息见下面说明</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>模板创建人</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>模板创建时间</td>
</tr>
<tr>
<td>editor</td>
<td>string 或者 null</td>
<td>模板编辑人</td>
</tr>
<tr>
<td>edit_time</td>
<td>string</td>
<td>模板最新编辑时间</td>
</tr>
</tbody>
</table>
<h4 id="datacategory">data.category</h4>
<table>
<thead>
<tr>
<th>返回值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>OpsTools</td>
<td>运维工具</td>
</tr>
<tr>
<td>MonitorAlarm</td>
<td>监控告警</td>
</tr>
<tr>
<td>ConfManage</td>
<td>配置管理</td>
</tr>
<tr>
<td>DevTools</td>
<td>开发工具</td>
</tr>
<tr>
<td>EnterpriseIT</td>
<td>企业 IT</td>
</tr>
<tr>
<td>OfficeApp</td>
<td>办公应用</td>
</tr>
<tr>
<td>Other</td>
<td>其它</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_periodic_task_info/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询某个周期任务的详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>周期任务 ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;task_id&quot;: &quot;8&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;cron&quot;: &quot;1,2,3-19/2 2 3 4 5 (m/h/d/dM/MY)&quot;,
        &quot;total_run_count&quot;: 0,
        &quot;name&quot;: &quot;定时2&quot;,
        &quot;form&quot;: {
            &quot;${bk_timing}&quot;: {
                &quot;source_tag&quot;: &quot;sleep_timer.bk_timing&quot;,
                &quot;source_info&quot;: {
                    &quot;node76393dcfedcf73dbc726f1c4786d&quot;: [
                        &quot;bk_timing&quot;
                    ]
                },
                &quot;name&quot;: &quot;定时时间&quot;,
                &quot;index&quot;: 0,
                &quot;custom_type&quot;: &quot;&quot;,
                &quot;value&quot;: &quot;2&quot;,
                &quot;show_type&quot;: &quot;show&quot;,
                &quot;source_type&quot;: &quot;component_inputs&quot;,
                &quot;key&quot;: &quot;${bk_timing}&quot;,
                &quot;validation&quot;: &quot;&quot;,
                &quot;desc&quot;: &quot;&quot;
            }
        },
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;pipeline_tree&quot;: {
            &quot;activities&quot;: {
                &quot;nodea5c396a3ef0f9f3cd7d4d7695f78&quot;: {
                    &quot;outgoing&quot;: &quot;linef69b59d165fb8c0061b46588c515&quot;,
                    &quot;incoming&quot;: &quot;linecf7b7f10c87187a88b72c5f91177&quot;,
                    &quot;name&quot;: &quot;暂停&quot;,
                    &quot;error_ignorable&quot;: false,
                    &quot;component&quot;: {
                        &quot;code&quot;: &quot;pause_node&quot;,
                        &quot;data&quot;: {}
                    },
                    &quot;stage_name&quot;: &quot;步骤1&quot;,
                    &quot;optional&quot;: false,
                    &quot;type&quot;: &quot;ServiceActivity&quot;,
                    &quot;id&quot;: &quot;nodea5c396a3ef0f9f3cd7d4d7695f78&quot;,
                    &quot;loop&quot;: {}
                },
                &quot;node76393dcfedcf73dbc726f1c4786d&quot;: {
                    &quot;outgoing&quot;: &quot;linecf7b7f10c87187a88b72c5f91177&quot;,
                    &quot;incoming&quot;: &quot;linecd597f19606c1455d661f71a582d&quot;,
                    &quot;name&quot;: &quot;定时&quot;,
                    &quot;error_ignorable&quot;: false,
                    &quot;component&quot;: {
                        &quot;code&quot;: &quot;sleep_timer&quot;,
                        &quot;data&quot;: {
                            &quot;bk_timing&quot;: {
                                &quot;hook&quot;: true,
                                &quot;value&quot;: &quot;${bk_timing}&quot;
                            }
                        }
                    },
                    &quot;stage_name&quot;: &quot;步骤1&quot;,
                    &quot;optional&quot;: false,
                    &quot;type&quot;: &quot;ServiceActivity&quot;,
                    &quot;id&quot;: &quot;node76393dcfedcf73dbc726f1c4786d&quot;,
                    &quot;loop&quot;: {}
                }
            },
            &quot;end_event&quot;: {
                &quot;incoming&quot;: &quot;linef69b59d165fb8c0061b46588c515&quot;,
                &quot;outgoing&quot;: &quot;&quot;,
                &quot;type&quot;: &quot;EmptyEndEvent&quot;,
                &quot;id&quot;: &quot;node375320830be9c46cd89f4069857d&quot;,
                &quot;name&quot;: &quot;&quot;
            },
            &quot;outputs&quot;: [],
            &quot;flows&quot;: {
                &quot;linef69b59d165fb8c0061b46588c515&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;nodea5c396a3ef0f9f3cd7d4d7695f78&quot;,
                    &quot;id&quot;: &quot;linef69b59d165fb8c0061b46588c515&quot;,
                    &quot;target&quot;: &quot;node375320830be9c46cd89f4069857d&quot;
                },
                &quot;linecd597f19606c1455d661f71a582d&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node4e87796ddd76b0d59337b08f385d&quot;,
                    &quot;id&quot;: &quot;linecd597f19606c1455d661f71a582d&quot;,
                    &quot;target&quot;: &quot;node76393dcfedcf73dbc726f1c4786d&quot;
                },
                &quot;linecf7b7f10c87187a88b72c5f91177&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node76393dcfedcf73dbc726f1c4786d&quot;,
                    &quot;id&quot;: &quot;linecf7b7f10c87187a88b72c5f91177&quot;,
                    &quot;target&quot;: &quot;nodea5c396a3ef0f9f3cd7d4d7695f78&quot;
                }
            },
            &quot;gateways&quot;: {},
            &quot;line&quot;: [
                {
                    &quot;source&quot;: {
                        &quot;id&quot;: &quot;nodea5c396a3ef0f9f3cd7d4d7695f78&quot;,
                        &quot;arrow&quot;: &quot;Right&quot;
                    },
                    &quot;target&quot;: {
                        &quot;id&quot;: &quot;node375320830be9c46cd89f4069857d&quot;,
                        &quot;arrow&quot;: &quot;Left&quot;
                    },
                    &quot;id&quot;: &quot;linef69b59d165fb8c0061b46588c515&quot;
                },
                {
                    &quot;source&quot;: {
                        &quot;id&quot;: &quot;node4e87796ddd76b0d59337b08f385d&quot;,
                        &quot;arrow&quot;: &quot;Right&quot;
                    },
                    &quot;id&quot;: &quot;linecd597f19606c1455d661f71a582d&quot;,
                    &quot;target&quot;: {
                        &quot;id&quot;: &quot;node76393dcfedcf73dbc726f1c4786d&quot;,
                        &quot;arrow&quot;: &quot;Left&quot;
                    }
                },
                {
                    &quot;source&quot;: {
                        &quot;id&quot;: &quot;node76393dcfedcf73dbc726f1c4786d&quot;,
                        &quot;arrow&quot;: &quot;Right&quot;
                    },
                    &quot;target&quot;: {
                        &quot;id&quot;: &quot;nodea5c396a3ef0f9f3cd7d4d7695f78&quot;,
                        &quot;arrow&quot;: &quot;Left&quot;
                    },
                    &quot;id&quot;: &quot;linecf7b7f10c87187a88b72c5f91177&quot;
                }
            ],
            &quot;start_event&quot;: {
                &quot;incoming&quot;: &quot;&quot;,
                &quot;outgoing&quot;: &quot;linecd597f19606c1455d661f71a582d&quot;,
                &quot;type&quot;: &quot;EmptyStartEvent&quot;,
                &quot;id&quot;: &quot;node4e87796ddd76b0d59337b08f385d&quot;,
                &quot;name&quot;: &quot;&quot;
            },
            &quot;constants&quot;: {
                &quot;${bk_timing}&quot;: {
                    &quot;source_tag&quot;: &quot;sleep_timer.bk_timing&quot;,
                    &quot;source_info&quot;: {
                        &quot;node76393dcfedcf73dbc726f1c4786d&quot;: [
                            &quot;bk_timing&quot;
                        ]
                    },
                    &quot;name&quot;: &quot;定时时间&quot;,
                    &quot;index&quot;: 0,
                    &quot;custom_type&quot;: &quot;&quot;,
                    &quot;value&quot;: &quot;2&quot;,
                    &quot;show_type&quot;: &quot;show&quot;,
                    &quot;source_type&quot;: &quot;component_inputs&quot;,
                    &quot;key&quot;: &quot;${bk_timing}&quot;,
                    &quot;validation&quot;: &quot;&quot;,
                    &quot;desc&quot;: &quot;&quot;
                }
            },
            &quot;location&quot;: [
                {
                    &quot;stage_name&quot;: &quot;步骤1&quot;,
                    &quot;name&quot;: &quot;暂停&quot;,
                    &quot;y&quot;: 133,
                    &quot;x&quot;: 631,
                    &quot;type&quot;: &quot;tasknode&quot;,
                    &quot;id&quot;: &quot;nodea5c396a3ef0f9f3cd7d4d7695f78&quot;
                },
                {
                    &quot;y&quot;: 150,
                    &quot;x&quot;: 80,
                    &quot;type&quot;: &quot;startpoint&quot;,
                    &quot;id&quot;: &quot;node4e87796ddd76b0d59337b08f385d&quot;
                },
                {
                    &quot;y&quot;: 149,
                    &quot;x&quot;: 1092,
                    &quot;type&quot;: &quot;endpoint&quot;,
                    &quot;id&quot;: &quot;node375320830be9c46cd89f4069857d&quot;
                },
                {
                    &quot;stage_name&quot;: &quot;步骤1&quot;,
                    &quot;name&quot;: &quot;定时&quot;,
                    &quot;y&quot;: 133,
                    &quot;x&quot;: 300,
                    &quot;type&quot;: &quot;tasknode&quot;,
                    &quot;id&quot;: &quot;node76393dcfedcf73dbc726f1c4786d&quot;
                }
            ]
        },
        &quot;last_run_at&quot;: &quot;&quot;,
        &quot;enabled&quot;: true,
        &quot;id&quot;: 5,
        &quot;template_id&quot;: &quot;2&quot;
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时成功数据，详细信息请见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>cron</td>
<td>string</td>
<td>周期调度表达式</td>
</tr>
<tr>
<td>total_run_count</td>
<td>int</td>
<td>周期任务运行次数</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>周期任务名</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>last_run_at</td>
<td>string</td>
<td>上次运行时间</td>
</tr>
<tr>
<td>enabled</td>
<td>bool</td>
<td>是否激活</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>周期任务 ID</td>
</tr>
<tr>
<td>template_id</td>
<td>string</td>
<td>用于创建该任务的模板 ID</td>
</tr>
<tr>
<td>form</td>
<td>dict</td>
<td>该周期任务的参数表单对象</td>
</tr>
<tr>
<td>pipeline_tree</td>
<td>dict</td>
<td>该周期任务的实例树</td>
</tr>
</tbody>
</table>
<h4 id="datapipeline_tree">data.pipeline_tree</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>start_event</td>
<td>dict</td>
<td>开始节点信息</td>
</tr>
<tr>
<td>end_event</td>
<td>dict</td>
<td>结束节点信息</td>
</tr>
<tr>
<td>activities</td>
<td>dict</td>
<td>任务节点（原子和子流程）信息</td>
</tr>
<tr>
<td>gateways</td>
<td>dict</td>
<td>网关节点（并行网关、分支网关和汇聚网关）信息</td>
</tr>
<tr>
<td>flows</td>
<td>dict</td>
<td>顺序流（节点连线）信息</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>全局变量信息，详情见下面</td>
</tr>
<tr>
<td>outputs</td>
<td>list</td>
<td>模板输出信息，标记 constants 中的输出字段</td>
</tr>
</tbody>
</table>
<h4 id="dataformkey-datapipeline_treeconstantskey">data.form.KEY, data.pipeline_tree.constants.KEY</h4>
<p>全局变量 KEY，${key} 格式</p>
<h4 id="dataformvalue-datapipeline_treeconstantsvalue">data.form.VALUE, data.pipeline_tree.constants.VALUE</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>同 KEY</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>变量名字</td>
</tr>
<tr>
<td>index</td>
<td>int</td>
<td>变量在模板中的显示顺序</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>变量说明</td>
</tr>
<tr>
<td>source_type</td>
<td>string</td>
<td>变量来源, 取值范围 custom: 自定义变量，component_inputs: 从原子输入参数勾选，component_outputs：从原子输出结果中勾选</td>
</tr>
<tr>
<td>custom_type</td>
<td>string</td>
<td>source_type=custom 时有效，自定义变量类型， 取值范围 input: 输入框，textarea: 文本框，datetime: 日期时间，int: 整数</td>
</tr>
<tr>
<td>source_tag</td>
<td>string</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源原子</td>
</tr>
<tr>
<td>source_info</td>
<td>dict</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源节点信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_periodic_task_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询某个业务下所有的周期任务</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>任务所属业务 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;data&quot;: [
        {
            &quot;cron&quot;: &quot;*/1 15 * * * (m/h/d/dM/MY)&quot;,
            &quot;total_run_count&quot;: 1,
            &quot;name&quot;: &quot;from api 3&quot;,
            &quot;creator&quot;: &quot;admin&quot;,
            &quot;last_run_at&quot;: &quot;2018-11-28 15:57:01 +0900&quot;,
            &quot;enabled&quot;: false,
            &quot;id&quot;: 11,
            &quot;template_id&quot;: &quot;2&quot;
        },
        {
            &quot;cron&quot;: &quot;1,2,3-19/2 2 3 4 5 (m/h/d/dM/MY)&quot;,
            &quot;total_run_count&quot;: 0,
            &quot;name&quot;: &quot;from api 1&quot;,
            &quot;creator&quot;: &quot;admin&quot;,
            &quot;last_run_at&quot;: &quot;&quot;,
            &quot;enabled&quot;: false,
            &quot;id&quot;: 6,
            &quot;template_id&quot;: &quot;2&quot;
        },
        {
            &quot;cron&quot;: &quot;*/5 * * * * (m/h/d/dM/MY)&quot;,
            &quot;total_run_count&quot;: 0,
            &quot;name&quot;: &quot;定时&quot;,
            &quot;creator&quot;: &quot;admin&quot;,
            &quot;last_run_at&quot;: &quot;&quot;,
            &quot;enabled&quot;: false,
            &quot;id&quot;: 4,
            &quot;template_id&quot;: &quot;2&quot;
        }
    ],
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时成功数据，详细信息请见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>cron</td>
<td>string</td>
<td>周期调度表达式</td>
</tr>
<tr>
<td>total_run_count</td>
<td>int</td>
<td>周期任务运行次数</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>周期任务名</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>last_run_at</td>
<td>string</td>
<td>上次运行时间</td>
</tr>
<tr>
<td>enabled</td>
<td>bool</td>
<td>是否激活</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>周期任务 ID</td>
</tr>
<tr>
<td>template_id</td>
<td>string</td>
<td>用于创建该任务的模板 ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_plugin_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取某个业务下所有的可用插件</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>必须</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>app_code</td>
<td>string</td>
<td>是</td>
<td>蓝鲸应用编码</td>
</tr>
<tr>
<td>app_secret</td>
<td>string</td>
<td>是</td>
<td>蓝鲸应用私密 key</td>
</tr>
<tr>
<td>access_token</td>
<td>string</td>
<td>否</td>
<td>用户登录票据，bk_token 为空时必填</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>用户登录票据，access_token 为空时必填</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>项目唯一 ID，项目 ID 或 CMDB 业务 ID</td>
</tr>
<tr>
<td>scope</td>
<td>string</td>
<td>否</td>
<td>唯一 ID 的范围，取值为 cmdb_biz 或 project，为 cmdb_biz 时 bk_biz_id 代表业务 ID，反之代表项目 ID，不传时默认为 cmdb_biz</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;result&quot;: true,
    &quot;data&quot;: [
        {
            &quot;inputs&quot;: [],
            &quot;outputs&quot;: [
                {
                    &quot;name&quot;: &quot;执行结果&quot;,
                    &quot;key&quot;: &quot;_result&quot;,
                    &quot;type&quot;: &quot;bool&quot;,
                    &quot;schema&quot;: {
                        &quot;type&quot;: &quot;boolean&quot;,
                        &quot;description&quot;: &quot;是否执行成功&quot;,
                        &quot;enum&quot;: []
                    }
                },
                {
                    &quot;name&quot;: &quot;循环次数&quot;,
                    &quot;key&quot;: &quot;_loop&quot;,
                    &quot;type&quot;: &quot;int&quot;,
                    &quot;schema&quot;: {
                        &quot;type&quot;: &quot;int&quot;,
                        &quot;description&quot;: &quot;循环执行次数&quot;,
                        &quot;enum&quot;: []
                    }
                }
            ],
            &quot;desc&quot;: &quot;&quot;,
            &quot;code&quot;: &quot;job_push_local_files&quot;,
            &quot;name&quot;: &quot;分发本地文件&quot;,
            &quot;group_name&quot;: &quot;作业平台(JOB)&quot;,
            &quot;version&quot;: &quot;1.0.0&quot;
        }
    ]
}</code></pre>


<h3 id="_9">返回结果说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时成功数据，详细信息请见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h5 id="dataitem">data[item]</h5>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>inputs</td>
<td>array</td>
<td>插件输入参数列表</td>
</tr>
<tr>
<td>outputs</td>
<td>array</td>
<td>插件输出参数列表</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>插件描述</td>
</tr>
<tr>
<td>code</td>
<td>string</td>
<td>插件代码</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>插件名</td>
</tr>
<tr>
<td>group_name</td>
<td>string</td>
<td>插件组名</td>
</tr>
<tr>
<td>version</td>
<td>name</td>
<td>插件版本</td>
</tr>
</tbody>
</table>
<h5 id="inputs">inputs</h5>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>required</td>
<td>bool</td>
<td>是否是必填参数</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>参数类型</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>参数名</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>参数唯一键</td>
</tr>
<tr>
<td>schema</td>
<td>dict</td>
<td>参数 schema</td>
</tr>
</tbody>
</table>
<h6 id="inputsschema">inputs.schema</h6>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>string</td>
<td>参数类型</td>
</tr>
<tr>
<td>enum</td>
<td>list</td>
<td>参数可选范围</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>参数描述</td>
</tr>
<tr>
<td>properties</td>
<td>dict</td>
<td>对象属性 schema，当 type 为 object 时，会存在该字段，该对象的属性的值为另一个 schema 对象</td>
</tr>
<tr>
<td>items</td>
<td>dict</td>
<td>列表元素 schema，当 type 为 array 时，会存在该字段</td>
</tr>
</tbody>
</table>
<h5 id="outputs">outputs</h5>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>string</td>
<td>参数类型</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>参数名</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>参数唯一键</td>
</tr>
<tr>
<td>schema</td>
<td>dict</td>
<td>参数 schema</td>
</tr>
</tbody>
</table>
<h6 id="outputsschema">outputs.schema</h6>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>string</td>
<td>参数类型</td>
</tr>
<tr>
<td>enum</td>
<td>list</td>
<td>参数可选范围</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>参数描述</td>
</tr>
<tr>
<td>properties</td>
<td>dict</td>
<td>对象属性 schema，当 type 为 object 时，会存在该字段，该对象的属性的值为另一个 schema 对象</td>
</tr>
<tr>
<td>items</td>
<td>dict</td>
<td>列表元素 schema，当 type 为 array 时，会存在该字段</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_task_detail/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询任务执行详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>所属业务 ID</td>
</tr>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>任务 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;task_id&quot;: &quot;10&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;data&quot;: {
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;outputs&quot;: [
            {
                &quot;value&quot;: &quot;1&quot;,
                &quot;key&quot;: &quot;${job_script_type}&quot;,
                &quot;name&quot;: &quot;脚本类型&quot;
            },
            {
                &quot;value&quot;: &quot;127.0.0.1&quot;,
                &quot;key&quot;: &quot;${IP}&quot;,
                &quot;name&quot;: &quot;IP&quot;
            },
            {
                &quot;value&quot;: &quot;0&quot;,
                &quot;key&quot;: &quot;${EXIT}&quot;,
                &quot;name&quot;: &quot;EXIT&quot;
            }
        ],
        &quot;start_time&quot;: &quot;2019-01-17 04:13:08&quot;,
        &quot;business_id&quot;: 2,
        &quot;create_time&quot;: &quot;2019-01-17 04:13:03&quot;,
        &quot;business_name&quot;: &quot;蓝鲸&quot;,
        &quot;id&quot;: 10,
        &quot;constants&quot;: {
            &quot;${IP}&quot;: {
                &quot;source_tag&quot;: &quot;var_ip_picker.ip_picker&quot;,
                &quot;source_info&quot;: {},
                &quot;name&quot;: &quot;IP&quot;,
                &quot;index&quot;: 2,
                &quot;custom_type&quot;: &quot;ip&quot;,
                &quot;value&quot;: {
                    &quot;var_ip_custom_value&quot;: &quot;127.0.0.1&quot;,
                    &quot;var_ip_method&quot;: &quot;custom&quot;,
                    &quot;var_ip_tree&quot;: []
                },
                &quot;show_type&quot;: &quot;show&quot;,
                &quot;source_type&quot;: &quot;custom&quot;,
                &quot;validator&quot;: [],
                &quot;key&quot;: &quot;${IP}&quot;,
                &quot;desc&quot;: &quot;&quot;,
                &quot;validation&quot;: &quot;&quot;,
                &quot;is_meta&quot;: false
            },
            &quot;${job_script_type}&quot;: {
                &quot;source_tag&quot;: &quot;job_fast_execute_script.job_script_type&quot;,
                &quot;source_info&quot;: {
                    &quot;node554316ea019a341f8c28cc6a7da9&quot;: [
                        &quot;job_script_type&quot;
                    ]
                },
                &quot;name&quot;: &quot;脚本类型&quot;,
                &quot;index&quot;: 0,
                &quot;custom_type&quot;: &quot;&quot;,
                &quot;value&quot;: &quot;1&quot;,
                &quot;show_type&quot;: &quot;show&quot;,
                &quot;source_type&quot;: &quot;component_inputs&quot;,
                &quot;key&quot;: &quot;${job_script_type}&quot;,
                &quot;validation&quot;: &quot;&quot;,
                &quot;desc&quot;: &quot;&quot;
            },
            &quot;${EXIT}&quot;: {
                &quot;source_tag&quot;: &quot;&quot;,
                &quot;source_info&quot;: {},
                &quot;name&quot;: &quot;EXIT&quot;,
                &quot;index&quot;: 1,
                &quot;custom_type&quot;: &quot;input&quot;,
                &quot;value&quot;: &quot;0&quot;,
                &quot;show_type&quot;: &quot;show&quot;,
                &quot;source_type&quot;: &quot;custom&quot;,
                &quot;validator&quot;: [],
                &quot;key&quot;: &quot;${EXIT}&quot;,
                &quot;validation&quot;: &quot;^.+$&quot;,
                &quot;desc&quot;: &quot;&quot;
            }
        },
        &quot;create_method&quot;: &quot;app&quot;,
        &quot;elapsed_time&quot;: 7,
        &quot;ex_data&quot;: &quot;&quot;,
        &quot;instance_name&quot;: &quot;job输出变量测试_20190117121300&quot;,
        &quot;end_time&quot;: &quot;2019-01-17 04:13:15&quot;,
        &quot;executor&quot;: &quot;admin&quot;,
        &quot;template_id&quot;: &quot;266&quot;,
        &quot;task_url&quot;: &quot;http://bk_sops_host/taskflow/execute/3/?instance_id=15364&quot;,
        &quot;pipeline_tree&quot;: {
            &quot;activities&quot;: {
                &quot;node9b5ae13799d63e179f0ce3088b62&quot;: {
                    &quot;outgoing&quot;: &quot;line27bc7b4ccbcf37ddb9d1f6572a04&quot;,
                    &quot;incoming&quot;: &quot;line490caa49d2a03e64829693281032&quot;,
                    &quot;name&quot;: &quot;timing&quot;,
                    &quot;error_ignorable&quot;: false,
                    &quot;component&quot;: {
                        &quot;code&quot;: &quot;sleep_timer&quot;,
                        &quot;data&quot;: {
                            &quot;bk_timing&quot;: {
                                &quot;hook&quot;: false,
                                &quot;value&quot;: &quot;2&quot;
                            }
                        }
                    },
                    &quot;stage_name&quot;: &quot;步骤1&quot;,
                    &quot;can_retry&quot;: true,
                    &quot;isSkipped&quot;: true,
                    &quot;type&quot;: &quot;ServiceActivity&quot;,
                    &quot;optional&quot;: false,
                    &quot;id&quot;: &quot;node9b5ae13799d63e179f0ce3088b62&quot;,
                    &quot;loop&quot;: null
                },
                &quot;node880ded556c6c3c269be3cedc64b6&quot;: {
                    &quot;outgoing&quot;: &quot;line490caa49d2a03e64829693281032&quot;,
                    &quot;incoming&quot;: &quot;lineb83161d6e0593ad68d9ec73a961b&quot;,
                    &quot;name&quot;: &quot;暂停&quot;,
                    &quot;error_ignorable&quot;: false,
                    &quot;component&quot;: {
                        &quot;code&quot;: &quot;pause_node&quot;,
                        &quot;data&quot;: {}
                    },
                    &quot;stage_name&quot;: &quot;步骤1&quot;,
                    &quot;can_retry&quot;: true,
                    &quot;isSkipped&quot;: true,
                    &quot;type&quot;: &quot;ServiceActivity&quot;,
                    &quot;optional&quot;: true,
                    &quot;id&quot;: &quot;node880ded556c6c3c269be3cedc64b6&quot;,
                    &quot;loop&quot;: null
                }
            },
            &quot;end_event&quot;: {
                &quot;type&quot;: &quot;EmptyEndEvent&quot;,
                &quot;outgoing&quot;: &quot;&quot;,
                &quot;incoming&quot;: &quot;line27bc7b4ccbcf37ddb9d1f6572a04&quot;,
                &quot;id&quot;: &quot;node5c48f37aa9f0351e8b43ab6a2295&quot;,
                &quot;name&quot;: &quot;&quot;
            },
            &quot;outputs&quot;: [],
            &quot;flows&quot;: {
                &quot;line490caa49d2a03e64829693281032&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node880ded556c6c3c269be3cedc64b6&quot;,
                    &quot;id&quot;: &quot;line490caa49d2a03e64829693281032&quot;,
                    &quot;target&quot;: &quot;node9b5ae13799d63e179f0ce3088b62&quot;
                },
                &quot;lineb83161d6e0593ad68d9ec73a961b&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;noded383bc1d7387391f889c6bab18b8&quot;,
                    &quot;id&quot;: &quot;lineb83161d6e0593ad68d9ec73a961b&quot;,
                    &quot;target&quot;: &quot;node880ded556c6c3c269be3cedc64b6&quot;
                },
                &quot;line27bc7b4ccbcf37ddb9d1f6572a04&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node9b5ae13799d63e179f0ce3088b62&quot;,
                    &quot;id&quot;: &quot;line27bc7b4ccbcf37ddb9d1f6572a04&quot;,
                    &quot;target&quot;: &quot;node5c48f37aa9f0351e8b43ab6a2295&quot;
                }
            },
            &quot;gateways&quot;: {},
            &quot;line&quot;: [
                {
                    &quot;source&quot;: {
                        &quot;id&quot;: &quot;node9b5ae13799d63e179f0ce3088b62&quot;,
                        &quot;arrow&quot;: &quot;Right&quot;
                    },
                    &quot;target&quot;: {
                        &quot;id&quot;: &quot;node5c48f37aa9f0351e8b43ab6a2295&quot;,
                        &quot;arrow&quot;: &quot;Left&quot;
                    },
                    &quot;id&quot;: &quot;line27bc7b4ccbcf37ddb9d1f6572a04&quot;
                },
                {
                    &quot;source&quot;: {
                        &quot;id&quot;: &quot;node880ded556c6c3c269be3cedc64b6&quot;,
                        &quot;arrow&quot;: &quot;Right&quot;
                    },
                    &quot;target&quot;: {
                        &quot;id&quot;: &quot;node9b5ae13799d63e179f0ce3088b62&quot;,
                        &quot;arrow&quot;: &quot;Left&quot;
                    },
                    &quot;id&quot;: &quot;line490caa49d2a03e64829693281032&quot;
                },
                {
                    &quot;source&quot;: {
                        &quot;id&quot;: &quot;noded383bc1d7387391f889c6bab18b8&quot;,
                        &quot;arrow&quot;: &quot;Right&quot;
                    },
                    &quot;id&quot;: &quot;lineb83161d6e0593ad68d9ec73a961b&quot;,
                    &quot;target&quot;: {
                        &quot;id&quot;: &quot;node880ded556c6c3c269be3cedc64b6&quot;,
                        &quot;arrow&quot;: &quot;Left&quot;
                    }
                }
            ],
            &quot;start_event&quot;: {
                &quot;type&quot;: &quot;EmptyStartEvent&quot;,
                &quot;outgoing&quot;: &quot;lineb83161d6e0593ad68d9ec73a961b&quot;,
                &quot;incoming&quot;: &quot;&quot;,
                &quot;id&quot;: &quot;noded383bc1d7387391f889c6bab18b8&quot;,
                &quot;name&quot;: &quot;&quot;
            },
            &quot;id&quot;: &quot;node7ef6970d06ad3bc092594cb5ec5f&quot;,
            &quot;constants&quot;: {},
            &quot;location&quot;: [
                {
                    &quot;stage_name&quot;: &quot;步骤1&quot;,
                    &quot;name&quot;: &quot;暂停&quot;,
                    &quot;y&quot;: 135,
                    &quot;x&quot;: 300,
                    &quot;type&quot;: &quot;tasknode&quot;,
                    &quot;id&quot;: &quot;node880ded556c6c3c269be3cedc64b6&quot;
                },
                {
                    &quot;y&quot;: 150,
                    &quot;x&quot;: 1000,
                    &quot;type&quot;: &quot;endpoint&quot;,
                    &quot;id&quot;: &quot;node5c48f37aa9f0351e8b43ab6a2295&quot;
                },
                {
                    &quot;stage_name&quot;: &quot;步骤1&quot;,
                    &quot;name&quot;: &quot;timing&quot;,
                    &quot;y&quot;: 135,
                    &quot;x&quot;: 595,
                    &quot;type&quot;: &quot;tasknode&quot;,
                    &quot;id&quot;: &quot;node9b5ae13799d63e179f0ce3088b62&quot;
                },
                {
                    &quot;y&quot;: 150,
                    &quot;x&quot;: 80,
                    &quot;type&quot;: &quot;startpoint&quot;,
                    &quot;id&quot;: &quot;noded383bc1d7387391f889c6bab18b8&quot;
                }
            ]
        }
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 查询成功与否</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时返回数据，详细信息见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>任务 ID，即 task_id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>任务名称</td>
</tr>
<tr>
<td>business_id</td>
<td>int</td>
<td>所属业务 ID</td>
</tr>
<tr>
<td>business_name</td>
<td>string</td>
<td>所属业务名称</td>
</tr>
<tr>
<td>template_id</td>
<td>int</td>
<td>创建任务所用的流程模板 ID</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>任务创建时间</td>
</tr>
<tr>
<td>create_method</td>
<td>string</td>
<td>任务创建方式</td>
</tr>
<tr>
<td>start_time</td>
<td>string</td>
<td>任务执行时间</td>
</tr>
<tr>
<td>finish_time</td>
<td>string</td>
<td>任务完成时间</td>
</tr>
<tr>
<td>elapsed_time</td>
<td>int</td>
<td>任务执行耗时(秒）</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>任务创建人</td>
</tr>
<tr>
<td>executor</td>
<td>string</td>
<td>任务执行人</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>输入的全局变量，详情见下面说明</td>
</tr>
<tr>
<td>outputs</td>
<td>list</td>
<td>任务输出参数，详情见下面说明</td>
</tr>
<tr>
<td>task_url</td>
<td>str</td>
<td>任务实例链接</td>
</tr>
<tr>
<td>pipeline_tree</td>
<td>dict</td>
<td>任务实例树</td>
</tr>
</tbody>
</table>
<h4 id="dataconstantskey">data.constants.KEY</h4>
<p>全局变量 KEY，${key} 格式</p>
<h4 id="dataconstantsvalue">data.constants.VALUE</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>同 KEY</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>变量名字</td>
</tr>
<tr>
<td>index</td>
<td>int</td>
<td>变量在模板中的显示顺序</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>变量说明</td>
</tr>
<tr>
<td>source_type</td>
<td>string</td>
<td>变量来源, 取值范围 custom: 自定义变量，component_inputs: 从标准插件输入参数勾选，component_outputs：从标准插件输出结果中勾选</td>
</tr>
<tr>
<td>custom_type</td>
<td>string</td>
<td>source_type=custom 时有效，自定义变量类型， 取值范围 input: 输入框，textarea: 文本框，datetime: 日期时间，int: 整数</td>
</tr>
<tr>
<td>source_tag</td>
<td>string</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源标准插件</td>
</tr>
<tr>
<td>source_info</td>
<td>dict</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源节点信息</td>
</tr>
</tbody>
</table>
<h4 id="dataoutputs">data.outputs[]</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>输出参数名称</td>
</tr>
<tr>
<td>value</td>
<td>string、int、bool、dict、list</td>
<td>输出参数值</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>输出参数 KEY</td>
</tr>
<tr>
<td>preset</td>
<td>bool</td>
<td>是否是标准插件定义中预设输出变量</td>
</tr>
</tbody>
</table>
<h4 id="datapipeline_tree">data.pipeline_tree</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start_event</td>
<td>dict</td>
<td>开始节点信息</td>
</tr>
<tr>
<td>end_event</td>
<td>dict</td>
<td>结束节点信息</td>
</tr>
<tr>
<td>activities</td>
<td>dict</td>
<td>任务节点（原子和子流程）信息</td>
</tr>
<tr>
<td>gateways</td>
<td>dict</td>
<td>网关节点（并行网关、分支网关和汇聚网关）信息</td>
</tr>
<tr>
<td>flows</td>
<td>dict</td>
<td>顺序流（节点连线）信息</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>全局变量信息，详情见下面</td>
</tr>
<tr>
<td>outputs</td>
<td>list</td>
<td>模板输出信息，标记 constants 中的输出字段</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_task_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取某个业务下的任务列表，支持任务名关键词搜索</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>项目唯一 ID，项目 ID 或 CMDB 业务 ID</td>
</tr>
<tr>
<td>scope</td>
<td>string</td>
<td>否</td>
<td>唯一 ID 的范围，取值为 cmdb_biz 或 project，为 cmdb_biz 时 bk_biz_id 代表业务 ID，反之代表项目 ID，不传时默认为 cmdb_biz</td>
</tr>
<tr>
<td>keyword</td>
<td>string</td>
<td>否</td>
<td>根据任务名关键词过滤任务列表，默认不过滤</td>
</tr>
<tr>
<td>is_started</td>
<td>bool</td>
<td>否</td>
<td>根据任务是否已开始过滤任务列表，默认不过滤</td>
</tr>
<tr>
<td>is_finished</td>
<td>bool</td>
<td>否</td>
<td>根据任务是否已结束过滤任务列表，默认不过滤</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>否</td>
<td>分页，返回任务列表任务数，默认为 15</td>
</tr>
<tr>
<td>offset</td>
<td>int</td>
<td>否</td>
<td>分页，返回任务列表起始任务下标，默认为 0</td>
</tr>
</tbody>
</table>
<h3 id="_6">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;keyword&quot;: &quot;定时&quot;,
    &quot;is_started&quot;: true,
    &quot;limit&quot;: 5,
}</code></pre>


<h3 id="_7">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;result&quot;: true,
    &quot;data&quot;: [
        {
            &quot;id&quot;: 1595,
            &quot;name&quot;: &quot;定时任务1_clone_20200907043931&quot;,
            &quot;category&quot;: &quot;其它&quot;,
            &quot;create_method&quot;: &quot;app&quot;,
            &quot;creator&quot;: &quot;admin&quot;,
            &quot;executor&quot;: &quot;admin&quot;,
            &quot;start_time&quot;: &quot;2020-09-15T06:24:00.840Z&quot;,
            &quot;finish_time&quot;: &quot;2020-09-15T07:12:51.128Z&quot;,
            &quot;is_started&quot;: true,
            &quot;is_finished&quot;: true,
            &quot;template_source&quot;: &quot;project&quot;,
            &quot;template_id&quot;: &quot;2&quot;,
            &quot;project_id&quot;: 1,
            &quot;project_name&quot;: &quot;蓝鲸&quot;,
            &quot;bk_biz_id&quot;: 2,
            &quot;bk_biz_name&quot;: &quot;蓝鲸&quot;
        },
        {
            &quot;id&quot;: 166,
            &quot;name&quot;: &quot;定时测试1_20200623072621&quot;,
            &quot;category&quot;: &quot;运维工具&quot;,
            &quot;create_method&quot;: &quot;app&quot;,
            &quot;creator&quot;: &quot;admin&quot;,
            &quot;executor&quot;: &quot;admin&quot;,
            &quot;start_time&quot;: &quot;2020-06-23T07:26:29.522Z&quot;,
            &quot;finish_time&quot;: null,
            &quot;is_started&quot;: true,
            &quot;is_finished&quot;: false,
            &quot;template_source&quot;: &quot;project&quot;,
            &quot;template_id&quot;: &quot;243&quot;,
            &quot;project_id&quot;: 1,
            &quot;project_name&quot;: &quot;蓝鲸&quot;,
            &quot;bk_biz_id&quot;: 2,
            &quot;bk_biz_name&quot;: &quot;蓝鲸&quot;
        },
        {
            &quot;id&quot;: 159,
            &quot;name&quot;: &quot;新定时_20200610033932_20200610200000&quot;,
            &quot;category&quot;: &quot;其它&quot;,
            &quot;create_method&quot;: &quot;periodic&quot;,
            &quot;creator&quot;: &quot;sops&quot;,
            &quot;executor&quot;: &quot;sops&quot;,
            &quot;start_time&quot;: &quot;2020-06-10T12:00:00.474Z&quot;,
            &quot;finish_time&quot;: null,
            &quot;is_started&quot;: true,
            &quot;is_finished&quot;: false,
            &quot;template_source&quot;: &quot;project&quot;,
            &quot;template_id&quot;: &quot;246&quot;,
            &quot;project_id&quot;: 1,
            &quot;project_name&quot;: &quot;蓝鲸&quot;,
            &quot;bk_biz_id&quot;: 2,
            &quot;bk_biz_name&quot;: &quot;蓝鲸&quot;
        },
        {
            &quot;id&quot;: 158,
            &quot;name&quot;: &quot;新定时_20200610033932_20200610195200&quot;,
            &quot;category&quot;: &quot;其它&quot;,
            &quot;create_method&quot;: &quot;periodic&quot;,
            &quot;creator&quot;: &quot;sops&quot;,
            &quot;executor&quot;: &quot;sops&quot;,
            &quot;start_time&quot;: &quot;2020-06-10T11:52:01.245Z&quot;,
            &quot;finish_time&quot;: null,
            &quot;is_started&quot;: true,
            &quot;is_finished&quot;: false,
            &quot;template_source&quot;: &quot;project&quot;,
            &quot;template_id&quot;: &quot;246&quot;,
            &quot;project_id&quot;: 1,
            &quot;project_name&quot;: &quot;蓝鲸&quot;,
            &quot;bk_biz_id&quot;: 2,
            &quot;bk_biz_name&quot;: &quot;蓝鲸&quot;
        },
        {
            &quot;id&quot;: 157,
            &quot;name&quot;: &quot;新定时_20200610033932_20200610193900&quot;,
            &quot;category&quot;: &quot;其它&quot;,
            &quot;create_method&quot;: &quot;periodic&quot;,
            &quot;creator&quot;: &quot;sops&quot;,
            &quot;executor&quot;: &quot;sops&quot;,
            &quot;start_time&quot;: &quot;2020-06-10T11:39:00.194Z&quot;,
            &quot;finish_time&quot;: null,
            &quot;is_started&quot;: true,
            &quot;is_finished&quot;: false,
            &quot;template_source&quot;: &quot;project&quot;,
            &quot;template_id&quot;: &quot;246&quot;,
            &quot;project_id&quot;: 1,
            &quot;project_name&quot;: &quot;蓝鲸&quot;,
            &quot;bk_biz_id&quot;: 2,
            &quot;bk_biz_name&quot;: &quot;蓝鲸&quot;
        }
    ]
}</code></pre>


<h3 id="_8">返回结果说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>result=true 时成功数据，详细信息请见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h5 id="dataitem">data[item]</h5>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>任务 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>任务名</td>
</tr>
<tr>
<td>category</td>
<td>string</td>
<td>任务类型</td>
</tr>
<tr>
<td>create_method</td>
<td>string</td>
<td>任务创建方式</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>任务创建者</td>
</tr>
<tr>
<td>executor</td>
<td>string</td>
<td>任务执行者</td>
</tr>
<tr>
<td>start_time</td>
<td>string</td>
<td>任务开始时间</td>
</tr>
<tr>
<td>finish_time</td>
<td>string</td>
<td>任务结束时间</td>
</tr>
<tr>
<td>is_started</td>
<td>bool</td>
<td>任务是否已开始</td>
</tr>
<tr>
<td>is_finished</td>
<td>bool</td>
<td>任务是否已结束</td>
</tr>
<tr>
<td>template_source</td>
<td>string</td>
<td>任务模版来源，如项目模版 project 和公共模版 common</td>
</tr>
<tr>
<td>template_id</td>
<td>string</td>
<td>任务模版 ID</td>
</tr>
<tr>
<td>project_id</td>
<td>int</td>
<td>项目 ID</td>
</tr>
<tr>
<td>project_name</td>
<td>string</td>
<td>项目名称</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务 ID</td>
</tr>
<tr>
<td>bk_biz_name</td>
<td>string</td>
<td>业务名称</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_task_node_data/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取任务节点的数据</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>必须</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>app_code</td>
<td>string</td>
<td>是</td>
<td>蓝鲸应用编码</td>
</tr>
<tr>
<td>app_secret</td>
<td>string</td>
<td>是</td>
<td>蓝鲸应用私密 key</td>
</tr>
<tr>
<td>access_token</td>
<td>string</td>
<td>否</td>
<td>用户登录票据，bk_token 为空时必填</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>用户登录票据，access_token 为空时必填</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>项目唯一 ID，项目 ID 或 CMDB 业务 ID</td>
</tr>
<tr>
<td>task_id</td>
<td>int</td>
<td>是</td>
<td>任务 ID</td>
</tr>
<tr>
<td>scope</td>
<td>string</td>
<td>否</td>
<td>唯一 ID 的范围，取值为 cmdb_biz 或 project，为 cmdb_biz 时 bk_biz_id 代表业务 ID，反之代表项目 ID，不传时默认为 cmdb_biz</td>
</tr>
<tr>
<td>node_id</td>
<td>string</td>
<td>是</td>
<td>节点 ID</td>
</tr>
<tr>
<td>component_code</td>
<td>string</td>
<td>是</td>
<td>原子编码</td>
</tr>
<tr>
<td>subprocess_stack</td>
<td>string</td>
<td>否</td>
<td>子流程堆栈，json 格式的列表</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;task_id&quot;: 11,
    &quot;node_id&quot;: &quot;ndfbcbdc77e9350ba18222dc4a0a435f&quot;,
    &quot;component_code&quot;: &quot;sleep_timer&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;result&quot;: true,
    &quot;data&quot;: {
        &quot;inputs&quot;: {
            &quot;bk_timing&quot;: &quot;123&quot;
        },
        &quot;outputs&quot;: [
            {
                &quot;name&quot;: &quot;执行结果&quot;,
                &quot;key&quot;: &quot;_result&quot;,
                &quot;value&quot;: &quot;&quot;,
                &quot;preset&quot;: true
            },
            {
                &quot;name&quot;: &quot;循环次数&quot;,
                &quot;key&quot;: &quot;_loop&quot;,
                &quot;value&quot;: &quot;&quot;,
                &quot;preset&quot;: true
            }
        ],
        &quot;ex_data&quot;: &quot;&quot;
    },
    &quot;message&quot;: &quot;&quot;,
    &quot;code&quot;: 0
}</code></pre>


<h3 id="_9">返回结果说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 成功与否</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>result=true 时返回数据，详情见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>inputs</td>
<td>object</td>
<td>输入参数，key：value 格式</td>
</tr>
<tr>
<td>outputs</td>
<td>array</td>
<td>输出参数，详情见下面说明</td>
</tr>
<tr>
<td>ex_data</td>
<td>string</td>
<td>节点执行失败详情，json 字符串或者 HTML 字符串、普通字符串</td>
</tr>
</tbody>
</table>
<h5 id="outputs">outputs[]</h5>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>输出参数名称</td>
</tr>
<tr>
<td>value</td>
<td>string、int、bool、dict、list</td>
<td>输出参数值</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>输出参数 KEY</td>
</tr>
<tr>
<td>preset</td>
<td>bool</td>
<td>是否是原子定义中预设输出变量</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_task_node_detail/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询任务节点执行详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>所属业务 ID</td>
</tr>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>任务 ID</td>
</tr>
<tr>
<td>node_id</td>
<td>string</td>
<td>是</td>
<td>节点 ID</td>
</tr>
<tr>
<td>component_code</td>
<td>string</td>
<td>否</td>
<td>标准插件编码，请求标准插件执行详情必填</td>
</tr>
<tr>
<td>subprocess_stack</td>
<td>string</td>
<td>否</td>
<td>子流程堆栈，json 格式的列表</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;task_id&quot;: &quot;10&quot;,
    &quot;node_id&quot;: &quot;node0df0431f8f553925af01a94854bd&quot;
    &quot;subprocess_stack&quot;: &quot;[\&quot;nodeaaa0ce51d2143aa9b0dbc27cb7df\&quot;]&quot;,
    &quot;component_code&quot;: &quot;job_fast_execute_script&quot;,
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: {
        &quot;inputs&quot;: {
            &quot;job_account&quot;: &quot;root&quot;,
            &quot;job_script_timeout&quot;: &quot;&quot;,
            &quot;job_script_source&quot;: &quot;manual&quot;,
            &quot;job_script_list_public&quot;: &quot;&quot;,
            &quot;job_content&quot;: &quot;echo 0\nexit 0&quot;,
            &quot;job_script_type&quot;: &quot;1&quot;,
            &quot;job_script_param&quot;: &quot;&quot;,
            &quot;job_script_list_general&quot;: &quot;&quot;,
            &quot;job_ip_list&quot;: &quot;127.0.0.1&quot;
        },
        &quot;retry&quot;: 0,
        &quot;name&quot;: &quot;&lt;class &quot;pipeline.core.flow.activity.ServiceActivity&quot;&gt;&quot;,
        &quot;finish_time&quot;: &quot;2019-01-17 22:02:46 +0800&quot;,
        &quot;skip&quot;: false,
        &quot;start_time&quot;: &quot;2019-01-17 22:02:37 +0800&quot;,
        &quot;children&quot;: {},
        &quot;histories&quot;: [],
        &quot;ex_data&quot;: null,
        &quot;elapsed_time&quot;: 9,
        &quot;outputs&quot;: [
            {
                &quot;value&quot;: 407584,
                &quot;name&quot;: &quot;JOB任务ID&quot;,
                &quot;key&quot;: &quot;job_inst_id&quot;
            },
            {
                &quot;value&quot;: &quot;&quot;,
                &quot;name&quot;: &quot;JOB任务链接&quot;,
                &quot;key&quot;: &quot;job_inst_url&quot;
            },
            {
                &quot;value&quot;: true,
                &quot;name&quot;: &quot;执行结果&quot;,
                &quot;key&quot;: &quot;_result&quot;
            }
        ],
        &quot;state&quot;: &quot;FINISHED&quot;,
        &quot;version&quot;: &quot;23ac8c29f62b3337aafcf1f538d277f8&quot;,
        &quot;error_ignorable&quot;: false,
        &quot;id&quot;: &quot;node0df0431f8f553925af01a94854bd&quot;,
        &quot;loop&quot;: 1
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 查询成功与否</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时返回数据，详细信息见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>节点 ID</td>
</tr>
<tr>
<td>start_time</td>
<td>string</td>
<td>最后一次执行开始时间</td>
</tr>
<tr>
<td>finish_time</td>
<td>string</td>
<td>最后一次执行结束时间</td>
</tr>
<tr>
<td>elapsed_time</td>
<td>int</td>
<td>最后一次执行耗时，单位秒</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>最后一次执行状态，CREATED：未执行，RUNNING：执行中，FAILED：失败，NODE_SUSPENDED：暂停，FINISHED：成功</td>
</tr>
<tr>
<td>skip</td>
<td>bool</td>
<td>是否手动跳过</td>
</tr>
<tr>
<td>retry</td>
<td>int</td>
<td>重试次数</td>
</tr>
<tr>
<td>inputs</td>
<td>dict</td>
<td>输入参数，key：value 格式</td>
</tr>
<tr>
<td>outputs</td>
<td>list</td>
<td>输出参数，详情见下面说明</td>
</tr>
<tr>
<td>ex_data</td>
<td>string</td>
<td>节点执行失败详情，json 字符串或者 HTML 字符串、普通字符串</td>
</tr>
<tr>
<td>histories</td>
<td>list</td>
<td>重试记录详情，详情见下面说明</td>
</tr>
</tbody>
</table>
<h4 id="outputs">outputs[]</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>输出字段</td>
</tr>
<tr>
<td>value</td>
<td>string、int、bool、dict、list</td>
<td>输出参数值</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>输出参数 KEY</td>
</tr>
<tr>
<td>preset</td>
<td>bool</td>
<td>是否是标准插件定义中预设输出变量</td>
</tr>
</tbody>
</table>
<h4 id="histories">histories[]</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>start_time</td>
<td>string</td>
<td>执行开始时间</td>
</tr>
<tr>
<td>finish_time</td>
<td>string</td>
<td>执行结束时间</td>
</tr>
<tr>
<td>elapsed_time</td>
<td>int</td>
<td>执行耗时</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>执行状态，CREATED：未执行，RUNNING：执行中，FAILED：失败，NODE_SUSPENDED：暂停，FINISHED：成功</td>
</tr>
<tr>
<td>skip</td>
<td>bool</td>
<td>是否手动跳过</td>
</tr>
<tr>
<td>retry</td>
<td>int</td>
<td>重试次数</td>
</tr>
<tr>
<td>histories</td>
<td>list</td>
<td>重试记录详情，详情见下面说明</td>
</tr>
<tr>
<td>inputs</td>
<td>dict</td>
<td>输入参数，key：value 格式</td>
</tr>
<tr>
<td>outputs</td>
<td>dict</td>
<td>输出参数，key：value 格式</td>
</tr>
<tr>
<td>ex_data</td>
<td>string</td>
<td>节点执行失败详情，json 字符串或者 HTML 字符串、普通字符串</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_task_status/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询任务或任务节点执行状态</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务 ID</td>
</tr>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>任务或节点 ID</td>
</tr>
<tr>
<td>subprocess_id</td>
<td>string</td>
<td>否</td>
<td>任务中的子流程节点 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;task_id&quot;: &quot;10&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;result&quot;: true,
    &quot;data&quot;: {
        &quot;retry&quot;: 0,
        &quot;name&quot;: &quot;&lt;class 'pipeline.core.pipeline.Pipeline'&gt;&quot;,
        &quot;finish_time&quot;: &quot;&quot;,
        &quot;skip&quot;: false,
        &quot;start_time&quot;: &quot;2018-04-26 16:08:34 +0800&quot;,
        &quot;children&quot;: {
            &quot;62d4784e20483f1585149ce90ed954c9&quot;: {
                &quot;retry&quot;: 0,
                &quot;name&quot;: &quot;&lt;class 'pipeline.core.flow.event.EmptyStartEvent'&gt;&quot;,
                &quot;finish_time&quot;: &quot;2018-04-26 16:08:34 +0800&quot;,
                &quot;skip&quot;: false,
                &quot;start_time&quot;: &quot;2018-04-26 16:08:34 +0800&quot;,
                &quot;children&quot;: {},
                &quot;state&quot;: &quot;FINISHED&quot;,
                &quot;version&quot;: &quot;7447cc2801b630f497768493c02fb488&quot;,
                &quot;id&quot;: &quot;62d4784e20483f1585149ce90ed954c9&quot;,
                &quot;loop&quot;: 1
            },
            &quot;e8b128dff46637368b9b1bd921abc14e&quot;: {
                &quot;retry&quot;: 0,
                &quot;name&quot;: &quot;&lt;class 'pipeline.core.flow.activity.ServiceActivity'&gt;&quot;,
                &quot;finish_time&quot;: &quot;2018-04-26 16:08:46 +0800&quot;,
                &quot;skip&quot;: false,
                &quot;start_time&quot;: &quot;2018-04-26 16:08:34 +0800&quot;,
                &quot;children&quot;: {},
                &quot;state&quot;: &quot;FAILED&quot;,
                &quot;version&quot;: &quot;914d35fe7d143c2186e6d3532870b37d&quot;,
                &quot;id&quot;: &quot;e8b128dff46637368b9b1bd921abc14e&quot;,
                &quot;loop&quot;: 1
            }
        },
        &quot;state&quot;: &quot;FAILED&quot;,
        &quot;version&quot;: &quot;&quot;,
        &quot;id&quot;: &quot;5a1622f9f43e3429acb604e18dbd100a&quot;,
        &quot;loop&quot;: 1
    }
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 查询成功与否</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时返回数据，详细信息见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>state</td>
<td>string</td>
<td>任务或节点状态，详细信息见下面说明</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>任务或节点执行态 ID，不等于 task_id</td>
</tr>
<tr>
<td>skip</td>
<td>bool</td>
<td>是否跳过执行</td>
</tr>
<tr>
<td>retry</td>
<td>int</td>
<td>重试和跳过总次数</td>
</tr>
<tr>
<td>start_time</td>
<td>string</td>
<td>任务或节点执行开始时间</td>
</tr>
<tr>
<td>finish_time</td>
<td>string</td>
<td>任务或节点执行结束时间</td>
</tr>
<tr>
<td>children</td>
<td>dict</td>
<td>任务节点执行详情，详细信息见下面说明</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>节点名称</td>
</tr>
</tbody>
</table>
<h4 id="datastate">data.state</h4>
<table>
<thead>
<tr>
<th>返回值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>CREATED</td>
<td>未执行</td>
</tr>
<tr>
<td>RUNNING</td>
<td>执行中</td>
</tr>
<tr>
<td>FAILED</td>
<td>失败</td>
</tr>
<tr>
<td>SUSPENDED</td>
<td>暂停</td>
</tr>
<tr>
<td>REVOKED</td>
<td>已终止</td>
</tr>
<tr>
<td>FINISHED</td>
<td>已完成</td>
</tr>
</tbody>
</table>
<h4 id="datachildrenkey">data.children.KEY</h4>
<p>任务节点执行态 ID</p>
<h4 id="datachildrenvalue">data.children.VALUE</h4>
<p>同 data 格式</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_tasks_status/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>批量查询任务执行状态</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>必须</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>app_code</td>
<td>string</td>
<td>是</td>
<td>蓝鲸应用编码</td>
</tr>
<tr>
<td>app_secret</td>
<td>string</td>
<td>是</td>
<td>蓝鲸应用私密 key</td>
</tr>
<tr>
<td>access_token</td>
<td>string</td>
<td>否</td>
<td>用户登录票据，bk_token 为空时必填</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>用户登录票据，access_token 为空时必填</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务 ID</td>
</tr>
<tr>
<td>task_id_list</td>
<td>array</td>
<td>是</td>
<td>任务 ID 列表</td>
</tr>
<tr>
<td>scope</td>
<td>string</td>
<td>否</td>
<td>唯一 ID 的范围，取值为 cmdb_biz 或 project，为 cmdb_biz 时 bk_biz_id 代表业务 ID，反之代表项目 ID，不传时默认为 cmdb_biz</td>
</tr>
<tr>
<td>include_children_status</td>
<td>bool</td>
<td>否</td>
<td>返回的结果中是否需要包含任务中节点的状态</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;result&quot;: true,
    &quot;data&quot;: [
        {
            &quot;id&quot;: 30000105,
            &quot;name&quot;: &quot;task test tree&quot;,
            &quot;status&quot;: {
                &quot;id&quot;: &quot;n580c9bf42a93bfc9a6cfe309bb3b418&quot;,
                &quot;state&quot;: &quot;FINISHED&quot;,
                &quot;name&quot;: &quot;&lt;class 'pipeline.core.pipeline.Pipeline'&gt;&quot;,
                &quot;retry&quot;: 0,
                &quot;loop&quot;: 1,
                &quot;skip&quot;: false,
                &quot;error_ignorable&quot;: false,
                &quot;version&quot;: &quot;&quot;,
                &quot;elapsed_time&quot;: 41,
                &quot;start_time&quot;: &quot;2020-03-18 17:22:05 +0800&quot;,
                &quot;finish_time&quot;: &quot;2020-03-18 17:22:46 +0800&quot;
            },
            &quot;create_time&quot;: &quot;2020-03-18 17:21:24 +0800&quot;,
            &quot;start_time&quot;: &quot;2020-03-18 17:22:04 +0800&quot;,
            &quot;finish_time&quot;: &quot;2020-03-18 17:22:46 +0800&quot;,
            &quot;url&quot;: &quot;url&quot;
        },
        {
            &quot;id&quot;: 30000101,
            &quot;name&quot;: &quot;task test1111&quot;,
            &quot;status&quot;: {
                &quot;id&quot;: &quot;nd68a418afd23d64a6f0e69338130787&quot;,
                &quot;state&quot;: &quot;FAILED&quot;,
                &quot;name&quot;: &quot;&lt;class 'pipeline.core.pipeline.Pipeline'&gt;&quot;,
                &quot;retry&quot;: 0,
                &quot;loop&quot;: 1,
                &quot;skip&quot;: false,
                &quot;error_ignorable&quot;: false,
                &quot;version&quot;: &quot;&quot;,
                &quot;elapsed_time&quot;: 1375959,
                &quot;start_time&quot;: &quot;2020-03-18 17:15:34 +0800&quot;,
                &quot;finish_time&quot;: &quot;&quot;
            },
            &quot;create_time&quot;: &quot;2020-03-18 17:14:44 +0800&quot;,
            &quot;start_time&quot;: &quot;2020-03-18 17:15:33 +0800&quot;,
            &quot;finish_time&quot;: &quot;&quot;,
            &quot;url&quot;: &quot;url&quot;
        },
        {
            &quot;id&quot;: 30000100,
            &quot;name&quot;: &quot;task_name&quot;,
            &quot;status&quot;: {
                &quot;id&quot;: &quot;nd14eca299643b958761e7a3e5e4b7de&quot;,
                &quot;state&quot;: &quot;RUNNING&quot;,
                &quot;name&quot;: &quot;&lt;class 'pipeline.core.pipeline.Pipeline'&gt;&quot;,
                &quot;retry&quot;: 0,
                &quot;loop&quot;: 1,
                &quot;skip&quot;: false,
                &quot;error_ignorable&quot;: false,
                &quot;version&quot;: &quot;&quot;,
                &quot;elapsed_time&quot;: 1381417,
                &quot;start_time&quot;: &quot;2020-03-18 15:44:36 +0800&quot;,
                &quot;finish_time&quot;: &quot;&quot;
            },
            &quot;create_time&quot;: &quot;2020-03-18 15:44:31 +0800&quot;,
            &quot;start_time&quot;: &quot;2020-03-18 15:44:35 +0800&quot;,
            &quot;finish_time&quot;: &quot;&quot;,
            &quot;url&quot;: &quot;url&quot;
        }
    ],
    &quot;code&quot;: 0
}</code></pre>


<h3 id="_8">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 查询成功与否</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时返回数据，详细信息见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data 说明</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>任务 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>任务名</td>
</tr>
<tr>
<td>status</td>
<td>dict</td>
<td>状态详情</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>任务创建时间</td>
</tr>
<tr>
<td>start_time</td>
<td>string</td>
<td>任务开始时间</td>
</tr>
<tr>
<td>finish_time</td>
<td>string</td>
<td>任务完成时间</td>
</tr>
<tr>
<td>children</td>
<td>dict</td>
<td>任务节点执行详情，详细信息见下面说明</td>
</tr>
</tbody>
</table>
<h4 id="datastatus">data.status 说明</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>节点 ID</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>执行状态，CREATED：未执行，RUNNING：执行中，FAILED：失败，NODE_SUSPENDED：暂停，FINISHED：成功</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>节点名</td>
</tr>
<tr>
<td>retry</td>
<td>int</td>
<td>重试次数</td>
</tr>
<tr>
<td>loop</td>
<td>int</td>
<td>循环次数</td>
</tr>
<tr>
<td>skip</td>
<td>bool</td>
<td>是否跳过</td>
</tr>
<tr>
<td>error_ignorable</td>
<td>bool</td>
<td>是否忽略错误</td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>节点版本</td>
</tr>
<tr>
<td>elapsed_time</td>
<td>int</td>
<td>节点耗时(秒)</td>
</tr>
<tr>
<td>start_time</td>
<td>string</td>
<td>节点开始时间</td>
</tr>
<tr>
<td>finish_time</td>
<td>string</td>
<td>节点完成时间</td>
</tr>
</tbody>
</table>
<h4 id="datachildren-key">data.children KEY</h4>
<p>任务节点 执行态 ID</p>
<h4 id="datachildren-value">data.children VALUE</h4>
<p>同 status 格式</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_template_info/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询业务下的单个模板详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务 ID</td>
</tr>
<tr>
<td>template_id</td>
<td>string</td>
<td>是</td>
<td>模板 ID</td>
</tr>
<tr>
<td>template_source</td>
<td>string</td>
<td>否</td>
<td>流程模板来源，business:默认值，业务流程，common：公共流程</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;1&quot;,
    &quot;template_id&quot;: &quot;30&quot;,
    &quot;template_source&quot;: &quot;business&quot;,
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;result&quot;: true,
    &quot;data&quot;: {
        &quot;category&quot;: &quot;Other&quot;,
        &quot;edit_time&quot;: &quot;2018-04-27 16:24:24 +0800&quot;,
        &quot;create_time&quot;: &quot;2018-04-16 21:43:15 +0800&quot;,
        &quot;name&quot;: &quot;new20180416213944&quot;,
        &quot;bk_biz_id&quot;: &quot;2&quot;,
        &quot;creator&quot;: &quot;admin&quot;,
        &quot;pipeline_tree&quot;: {
            &quot;activities&quot;: {
                &quot;631b6576cc5dfbdcaa4f510ce88a7e67&quot;: {
                    &quot;outgoing&quot;: &quot;44ab36ebf4cf119edaf2d20401da87e4&quot;,
                    &quot;incoming&quot;: &quot;fb2f3a8b533ca5c67e2440b4164f7632&quot;,
                    &quot;name&quot;: &quot;节点_1&quot;,
                    &quot;error_ignorable&quot;: false,
                    &quot;component&quot;: {
                        &quot;code&quot;: &quot;job_fast_execute_script&quot;,
                        &quot;data&quot;: {
                            &quot;account&quot;: {
                                &quot;hook&quot;: false,
                                &quot;value&quot;: &quot;root&quot;
                            },
                            &quot;ip_list&quot;: {
                                &quot;hook&quot;: false,
                                &quot;value&quot;: &quot;127.0.0.1&quot;
                            },
                            &quot;script_timeout&quot;: {
                                &quot;hook&quot;: true,
                                &quot;value&quot;: &quot;${script_timeout}&quot;
                            },
                            &quot;content&quot;: {
                                &quot;hook&quot;: false,
                                &quot;value&quot;: &quot;${content}&quot;
                            },
                            &quot;script_param&quot;: {
                                &quot;hook&quot;: false,
                                &quot;value&quot;: &quot;${params}&quot;
                            },
                            &quot;script_type&quot;: {
                                &quot;hook&quot;: true,
                                &quot;value&quot;: &quot;${script_type}&quot;
                            }
                        }
                    },
                    &quot;optional&quot;: false,
                    &quot;type&quot;: &quot;ServiceActivity&quot;,
                    &quot;id&quot;: &quot;631b6576cc5dfbdcaa4f510ce88a7e67&quot;,
                    &quot;loop&quot;: null
                }
            },
            &quot;end_event&quot;: {
                &quot;type&quot;: &quot;EmptyEndEvent&quot;,
                &quot;outgoing&quot;: &quot;&quot;,
                &quot;incoming&quot;: &quot;44ab36ebf4cf119edaf2d20401da87e4&quot;,
                &quot;id&quot;: &quot;60c81e383d048d8a3c574d3436e1b82c&quot;,
                &quot;name&quot;: &quot;&quot;
            },
            &quot;outputs&quot;: [],
            &quot;flows&quot;: {
                &quot;fb2f3a8b533ca5c67e2440b4164f7632&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;48afea1016ab70ee37179fa0eb1e1a14&quot;,
                    &quot;id&quot;: &quot;fb2f3a8b533ca5c67e2440b4164f7632&quot;,
                    &quot;target&quot;: &quot;631b6576cc5dfbdcaa4f510ce88a7e67&quot;
                },
                &quot;44ab36ebf4cf119edaf2d20401da87e4&quot;: {
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;631b6576cc5dfbdcaa4f510ce88a7e67&quot;,
                    &quot;id&quot;: &quot;44ab36ebf4cf119edaf2d20401da87e4&quot;,
                    &quot;target&quot;: &quot;60c81e383d048d8a3c574d3436e1b82c&quot;
                }
            },
            &quot;start_event&quot;: {
                &quot;type&quot;: &quot;EmptyStartEvent&quot;,
                &quot;outgoing&quot;: &quot;fb2f3a8b533ca5c67e2440b4164f7632&quot;,
                &quot;incoming&quot;: &quot;&quot;,
                &quot;id&quot;: &quot;48afea1016ab70ee37179fa0eb1e1a14&quot;,
                &quot;name&quot;: &quot;&quot;
            },
            &quot;constants&quot;: {
                &quot;${script_type}&quot;: {
                    &quot;source_tag&quot;: &quot;job_fast_execute_script.script_type&quot;,
                    &quot;source_info&quot;: {
                        &quot;631b6576cc5dfbdcaa4f510ce88a7e67&quot;: [
                            &quot;script_type&quot;
                        ]
                    },
                    &quot;name&quot;: &quot;脚本类型&quot;,
                    &quot;index&quot;: 0,
                    &quot;custom_type&quot;: &quot;radio&quot;,
                    &quot;value&quot;: &quot;4&quot;,
                    &quot;show_type&quot;: &quot;show&quot;,
                    &quot;source_type&quot;: &quot;component_inputs&quot;,
                    &quot;key&quot;: &quot;${script_type}&quot;,
                    &quot;validation&quot;: &quot;^.*$&quot;,
                    &quot;desc&quot;: &quot;&quot;
                },
                &quot;${content}&quot;: {
                    &quot;source_tag&quot;: &quot;&quot;,
                    &quot;source_info&quot;: {},
                    &quot;name&quot;: &quot;内容&quot;,
                    &quot;index&quot;: 2,
                    &quot;custom_type&quot;: &quot;textarea&quot;,
                    &quot;value&quot;: &quot;&quot;,
                    &quot;show_type&quot;: &quot;show&quot;,
                    &quot;source_type&quot;: &quot;custom&quot;,
                    &quot;key&quot;: &quot;${content}&quot;,
                    &quot;desc&quot;: &quot;&quot;
                },
                &quot;${script_timeout}&quot;: {
                    &quot;source_tag&quot;: &quot;job_fast_execute_script.script_timeout&quot;,
                    &quot;source_info&quot;: {
                        &quot;631b6576cc5dfbdcaa4f510ce88a7e67&quot;: [
                            &quot;script_timeout&quot;
                        ]
                    },
                    &quot;name&quot;: &quot;超时时间&quot;,
                    &quot;index&quot;: 1,
                    &quot;custom_type&quot;: &quot;input&quot;,
                    &quot;value&quot;: &quot;&quot;,
                    &quot;show_type&quot;: &quot;show&quot;,
                    &quot;source_type&quot;: &quot;component_inputs&quot;,
                    &quot;key&quot;: &quot;${script_timeout}&quot;,
                    &quot;validation&quot;: &quot;^.*$&quot;,
                    &quot;desc&quot;: &quot;&quot;
                },
                &quot;${params}&quot;: {
                    &quot;source_tag&quot;: &quot;&quot;,
                    &quot;source_info&quot;: {},
                    &quot;name&quot;: &quot;参数&quot;,
                    &quot;index&quot;: 3,
                    &quot;custom_type&quot;: &quot;input&quot;,
                    &quot;value&quot;: &quot;&quot;,
                    &quot;show_type&quot;: &quot;show&quot;,
                    &quot;source_type&quot;: &quot;custom&quot;,
                    &quot;key&quot;: &quot;${params}&quot;,
                    &quot;desc&quot;: &quot;&quot;
                }
            },
            &quot;gateways&quot;: {}
        },
        &quot;bk_biz_name&quot;: &quot;蓝鲸&quot;,
        &quot;id&quot;: 30,
        &quot;editor&quot;: &quot;admin&quot;
    },
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 查询成功与否</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时模板详情，详细信息见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>模板所属业务 ID</td>
</tr>
<tr>
<td>bk_biz_name</td>
<td>string</td>
<td>模板所属业务名称</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>模板 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>模板名称</td>
</tr>
<tr>
<td>category</td>
<td>string</td>
<td>模板分类，分类信息见下面说明</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>模板创建人</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>模板创建时间</td>
</tr>
<tr>
<td>editor</td>
<td>string 或者 null</td>
<td>模板编辑人</td>
</tr>
<tr>
<td>edit_time</td>
<td>string</td>
<td>模板最新编辑时间</td>
</tr>
<tr>
<td>pipeline_tree</td>
<td>dict</td>
<td>模板任务树信息，详细信息见下面说明</td>
</tr>
</tbody>
</table>
<h4 id="datacategory">data.category</h4>
<table>
<thead>
<tr>
<th>返回值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>OpsTools</td>
<td>运维工具</td>
</tr>
<tr>
<td>MonitorAlarm</td>
<td>监控告警</td>
</tr>
<tr>
<td>ConfManage</td>
<td>配置管理</td>
</tr>
<tr>
<td>DevTools</td>
<td>开发工具</td>
</tr>
<tr>
<td>EnterpriseIT</td>
<td>企业 IT</td>
</tr>
<tr>
<td>OfficeApp</td>
<td>办公应用</td>
</tr>
<tr>
<td>Other</td>
<td>其它</td>
</tr>
</tbody>
</table>
<h4 id="datapipeline_tree">data.pipeline_tree</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start_event</td>
<td>dict</td>
<td>开始节点信息</td>
</tr>
<tr>
<td>end_event</td>
<td>dict</td>
<td>结束节点信息</td>
</tr>
<tr>
<td>activities</td>
<td>dict</td>
<td>任务节点（原子和子流程）信息</td>
</tr>
<tr>
<td>gateways</td>
<td>dict</td>
<td>网关节点（并行网关、分支网关和汇聚网关）信息</td>
</tr>
<tr>
<td>flows</td>
<td>dict</td>
<td>顺序流（节点连线）信息</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>全局变量信息，详情见下面</td>
</tr>
<tr>
<td>outputs</td>
<td>list</td>
<td>模板输出信息，标记 constants 中的输出字段</td>
</tr>
</tbody>
</table>
<h4 id="datapipeline_treeconstantskey">data.pipeline_tree.constants.KEY</h4>
<p>全局变量 KEY，${key} 格式</p>
<h4 id="datapipeline_treeconstantsvalue">data.pipeline_tree.constants.VALUE</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>同 KEY</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>变量名字</td>
</tr>
<tr>
<td>index</td>
<td>int</td>
<td>变量在模板中的显示顺序</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>变量说明</td>
</tr>
<tr>
<td>source_type</td>
<td>string</td>
<td>变量来源, 取值范围 custom: 自定义变量，component_inputs: 从原子输入参数勾选，component_outputs：从原子输出结果中勾选</td>
</tr>
<tr>
<td>custom_type</td>
<td>string</td>
<td>source_type=custom 时有效，自定义变量类型， 取值范围 input: 输入框，textarea: 文本框，datetime: 日期时间，int: 整数</td>
</tr>
<tr>
<td>source_tag</td>
<td>string</td>
<td>source_type=component_inputs 或 component_outputs 时有效，变量的来源原子</td>
</tr>
<tr>
<td>source_info</td>
<td>dict</td>
<td>source_type=component_inputs 或 component_outputs 时有效，变量的来源节点信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_template_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询业务下的模板列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务 ID</td>
</tr>
<tr>
<td>template_source</td>
<td>string</td>
<td>否</td>
<td>流程模板来源，business:默认值，业务流程，common：公共流程</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;template_source&quot;: &quot;business&quot;,
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;result&quot;: true,
    &quot;data&quot;: [
        {
            &quot;category&quot;: &quot;Other&quot;,
            &quot;edit_time&quot;: &quot;2018-04-23 17:30:48 +0800&quot;,
            &quot;create_time&quot;: &quot;2018-04-23 17:26:40 +0800&quot;,
            &quot;name&quot;: &quot;快速执行脚本&quot;,
            &quot;bk_biz_id&quot;: &quot;2&quot;,
            &quot;creator&quot;: &quot;admin&quot;,
            &quot;bk_biz_name&quot;: &quot;蓝鲸&quot;,
            &quot;id&quot;: 32,
            &quot;editor&quot;: &quot;admin&quot;
        },
        {
            &quot;category&quot;: &quot;Other&quot;,
            &quot;edit_time&quot;: &quot;2018-04-19 12:04:42 +0800&quot;,
            &quot;create_time&quot;: &quot;2018-04-19 12:04:42 +0800&quot;,
            &quot;name&quot;: &quot;new201804191218&quot;,
            &quot;bk_biz_id&quot;: &quot;2&quot;,
            &quot;creator&quot;: &quot;admin&quot;,
            &quot;bk_biz_name&quot;: &quot;蓝鲸&quot;,
            &quot;id&quot;: 31,
            &quot;editor&quot;: null
        },
        {
            &quot;category&quot;: &quot;Other&quot;,
            &quot;edit_time&quot;: &quot;2018-04-18 17:09:39 +0800&quot;,
            &quot;create_time&quot;: &quot;2018-04-16 21:43:15 +0800&quot;,
            &quot;name&quot;: &quot;new20180416213944&quot;,
            &quot;bk_biz_id&quot;: &quot;2&quot;,
            &quot;creator&quot;: &quot;admin&quot;,
            &quot;bk_biz_name&quot;: &quot;蓝鲸&quot;,
            &quot;id&quot;: 30,
            &quot;editor&quot;: &quot;admin&quot;
        },
    ]
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 查询成功与否</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>result=true 时模板列表，item 信息见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>模板所属业务 ID</td>
</tr>
<tr>
<td>bk_biz_name</td>
<td>string</td>
<td>模板所属业务名称</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>模板 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>模板名称</td>
</tr>
<tr>
<td>category</td>
<td>string</td>
<td>模板分类，分类信息见下面说明</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>模板创建人</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>模板创建时间</td>
</tr>
<tr>
<td>editor</td>
<td>string 或者 null</td>
<td>模板编辑人</td>
</tr>
<tr>
<td>edit_time</td>
<td>string</td>
<td>模板最新编辑时间</td>
</tr>
</tbody>
</table>
<h4 id="datacategory">data.category</h4>
<table>
<thead>
<tr>
<th>返回值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>OpsTools</td>
<td>运维工具</td>
</tr>
<tr>
<td>MonitorAlarm</td>
<td>监控告警</td>
</tr>
<tr>
<td>ConfManage</td>
<td>配置管理</td>
</tr>
<tr>
<td>DevTools</td>
<td>开发工具</td>
</tr>
<tr>
<td>EnterpriseIT</td>
<td>企业 IT</td>
</tr>
<tr>
<td>OfficeApp</td>
<td>办公应用</td>
</tr>
<tr>
<td>Other</td>
<td>其它</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_template_schemes/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取模板的执行方案列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>必须</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>app_code</td>
<td>string</td>
<td>是</td>
<td>蓝鲸应用编码</td>
</tr>
<tr>
<td>app_secret</td>
<td>string</td>
<td>是</td>
<td>蓝鲸应用私密 key</td>
</tr>
<tr>
<td>access_token</td>
<td>string</td>
<td>否</td>
<td>用户登录票据，bk_token 为空时必填</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>用户登录票据，access_token 为空时必填</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>项目唯一 ID，项目 ID 或 CMDB 业务 ID</td>
</tr>
<tr>
<td>template_id</td>
<td>int</td>
<td>是</td>
<td>模板 ID</td>
</tr>
<tr>
<td>scope</td>
<td>string</td>
<td>否</td>
<td>唯一 ID 的范围，取值为 cmdb_biz 或 project，为 cmdb_biz 时 bk_biz_id 代表业务 ID，反之代表项目 ID，不传时默认为 cmdb_biz</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;template_id&quot;: &quot;12&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;result&quot;: true,
    &quot;data&quot;: [
        {
            &quot;id&quot;: &quot;47-1&quot;,
            &quot;name&quot;: &quot;1&quot;,
            &quot;data&quot;: &quot;[\&quot;node7082deed0725aed8c72ecff079ba\&quot;,\&quot;node88d9050f288765b94a15cbe023ab\&quot;]&quot;
        },
        {
            &quot;id&quot;: &quot;47-2&quot;,
            &quot;name&quot;: &quot;2&quot;,
            &quot;data&quot;: &quot;[\&quot;node7082deed0725aed8c72ecff079ba\&quot;]&quot;
        },
        {
            &quot;id&quot;: &quot;47-3&quot;,
            &quot;name&quot;: &quot;3&quot;,
            &quot;data&quot;: &quot;[\&quot;node88d9050f288765b94a15cbe023ab\&quot;]&quot;
        }
    ],
    &quot;code&quot;: 0
}</code></pre>


<h3 id="_9">返回结果说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 成功与否</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时返回数据，详情见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data 说明</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>执行方案 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>执行方案名</td>
</tr>
<tr>
<td>data</td>
<td>string</td>
<td>执行方案中包含的节点 ID 列表</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_user_project_detail/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取项目的详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>必须</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>app_code</td>
<td>string</td>
<td>是</td>
<td>蓝鲸应用编码</td>
</tr>
<tr>
<td>app_secret</td>
<td>string</td>
<td>是</td>
<td>蓝鲸应用私密 key</td>
</tr>
<tr>
<td>access_token</td>
<td>string</td>
<td>否</td>
<td>用户登录票据，bk_token 为空时必填</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>用户登录票据，access_token 为空时必填</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>项目唯一 ID，项目 ID 或 CMDB 业务 ID</td>
</tr>
<tr>
<td>scope</td>
<td>string</td>
<td>否</td>
<td>唯一 ID 的范围，取值为 cmdb_biz 或 project，为 cmdb_biz 时 bk_biz_id 代表业务 ID，反之代表项目 ID，不传时默认为 cmdb_biz</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;result&quot;: true,
    &quot;data&quot;: {
        &quot;project_id&quot;: 13,
        &quot;project_name&quot;: &quot;蓝鲸&quot;,
        &quot;bk_biz_id&quot;: 2,
        &quot;from_cmdb&quot;: true,
        &quot;bk_biz_name&quot;: &quot;蓝鲸&quot;,
        &quot;bk_biz_developer&quot;: &quot;&quot;,
        &quot;bk_biz_maintainer&quot;: &quot;admin,gcloudadmin&quot;,
        &quot;bk_biz_tester&quot;: &quot;&quot;,
        &quot;bk_biz_productor&quot;: &quot;&quot;
    },
    &quot;code&quot;: 0
}</code></pre>


<h3 id="_9">返回结果说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 成功与否</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时返回数据，详情见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>project_id</td>
<td>int</td>
<td>项目 ID</td>
</tr>
<tr>
<td>project_name</td>
<td>string</td>
<td>项目名</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>绑定的 CMDB 业务 ID</td>
</tr>
<tr>
<td>from_cmdb</td>
<td>bool</td>
<td>该项目是否是从 CMDB 业务同步的</td>
</tr>
<tr>
<td>bk_biz_name</td>
<td>string</td>
<td>项目名</td>
</tr>
<tr>
<td>bk_biz_developer</td>
<td>string</td>
<td>业务开发人员列表</td>
</tr>
<tr>
<td>bk_biz_maintainer</td>
<td>string</td>
<td>业务运维人员列表</td>
</tr>
<tr>
<td>bk_biz_tester</td>
<td>string</td>
<td>业务测试人员列表</td>
</tr>
<tr>
<td>bk_biz_productor</td>
<td>string</td>
<td>业务产品人员列表</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_user_project_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询用户有权限的项目列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>必须</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>app_code</td>
<td>string</td>
<td>是</td>
<td>蓝鲸应用编码</td>
</tr>
<tr>
<td>app_secret</td>
<td>string</td>
<td>是</td>
<td>蓝鲸应用私密 key</td>
</tr>
<tr>
<td>access_token</td>
<td>string</td>
<td>否</td>
<td>用户登录票据，bk_token 为空时必填</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>用户登录票据，access_token 为空时必填</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;result&quot;: true,
    &quot;data&quot;: [
        {
            &quot;project_id&quot;: 13,
            &quot;bk_biz_id&quot;: 2,
            &quot;name&quot;: &quot;蓝鲸&quot;
        },
        {
            &quot;project_id&quot;: 14,
            &quot;bk_biz_id&quot;: 3,
            &quot;name&quot;: &quot;la&quot;
        }
    ],
    &quot;code&quot;: 0
}</code></pre>


<h3 id="_9">返回结果说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 成功与否</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时返回数据，详情见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>project_id</td>
<td>int</td>
<td>项目 ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>绑定的 CMDB 业务 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>项目名</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/import_common_template/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>导入公共流程</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>参数类型</th>
<th>必须</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>template_data</td>
<td>string</td>
<td>是</td>
<td>公共流程数据，即从标准运维 - 公共流程 - 导出功能下载的文件的内容</td>
</tr>
<tr>
<td>override</td>
<td>bool</td>
<td>否</td>
<td>是否覆盖 ID 相同的流程</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;template_data&quot;: &quot;xxx&quot;,
    &quot;override&quot;: true,
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;message&quot;: &quot;Successfully imported 2 common flows&quot;,
    &quot;data&quot;: {
        &quot;count&quot;: 2
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 成功与否</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>返回数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>导入的流程数</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/import_project_template/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>导入项目流程</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>参数类型</th>
<th>必须</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>template_data</td>
<td>string</td>
<td>是</td>
<td>项目流程数据，即从标准运维 - 项目流程 - 导出功能下载的文件的内容</td>
</tr>
<tr>
<td>project_id</td>
<td>string</td>
<td>是</td>
<td>项目 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;template_data&quot;: &quot;xxx&quot;,
    &quot;project_id&quot;: &quot;3,
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;message&quot;: &quot;Successfully imported 2 flows&quot;,
    &quot;data&quot;: {
        &quot;count&quot;: 2
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 成功与否</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>返回数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>导入的流程数</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/modify_constants_for_periodic_task/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>修改周期任务的全局参数</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>周期任务 ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务 ID</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>否</td>
<td>任务全局参数，详细信息见下面说明</td>
</tr>
</tbody>
</table>
<h4 id="constantskey">constants.KEY</h4>
<p>变量 KEY，${key} 格式</p>
<h4 id="constantsvalue">constants.VALUE</h4>
<p>变量值</p>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;task_id&quot;: &quot;8&quot;,
    &quot;constants&quot;: {&quot;${bk_timing}&quot;: &quot;100&quot;},
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;data&quot;: {
        &quot;${bk_timing}&quot;: {
            &quot;source_tag&quot;: &quot;sleep_timer.bk_timing&quot;,
            &quot;source_info&quot;: {
                &quot;node76393dcfedcf73dbc726f1c4786d&quot;: [
                    &quot;bk_timing&quot;
                ]
            },
            &quot;name&quot;: &quot;定时时间&quot;,
            &quot;custom_type&quot;: &quot;&quot;,
            &quot;index&quot;: 0,
            &quot;value&quot;: &quot;15&quot;,
            &quot;show_type&quot;: &quot;show&quot;,
            &quot;source_type&quot;: &quot;component_inputs&quot;,
            &quot;key&quot;: &quot;${bk_timing}&quot;,
            &quot;validation&quot;: &quot;&quot;,
            &quot;desc&quot;: &quot;&quot;
        }
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时成功数据，详细信息请见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="datakey">data.KEY</h4>
<p>全局变量 KEY，${key} 格式</p>
<h4 id="datavalue">data.VALUE</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>同 KEY</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>变量名字</td>
</tr>
<tr>
<td>index</td>
<td>int</td>
<td>变量在模板中的显示顺序</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>变量说明</td>
</tr>
<tr>
<td>source_type</td>
<td>string</td>
<td>变量来源, 取值范围 custom: 自定义变量，component_inputs: 从原子输入参数勾选，component_outputs：从原子输出结果中勾选</td>
</tr>
<tr>
<td>custom_type</td>
<td>string</td>
<td>source_type=custom 时有效，自定义变量类型， 取值范围 input: 输入框，textarea: 文本框，datetime: 日期时间，int: 整数</td>
</tr>
<tr>
<td>source_tag</td>
<td>string</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源原子</td>
</tr>
<tr>
<td>source_info</td>
<td>dict</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源节点信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/modify_constants_for_task/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>修改任务名称和变量</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>任务 ID，需要任务状态是未开始的</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务 ID</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>是</td>
<td>任务全局参数，详细信息见下面说明</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>否</td>
<td>任务新名称</td>
</tr>
<tr>
<td>scope</td>
<td>string</td>
<td>否</td>
<td>bk_biz_id 检索的作用域。默认为 cmdb_biz，此时检索的是绑定的 CMDB 业务 ID 为 bk_biz_id 的项目；当值为 project 时则检索项目 ID 为 bk_biz_id 的项目</td>
</tr>
</tbody>
</table>
<h4 id="constants-key">constants KEY</h4>
<p>变量 KEY，${key} 格式</p>
<h4 id="constants-value">constants VALUE</h4>
<p>变量值</p>
<h3 id="_6">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;task_id&quot;: &quot;8&quot;,
    &quot;constants&quot;: {
        &quot;${bk_timing}&quot;: &quot;100&quot;
    }
}</code></pre>


<h3 id="_7">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;data&quot;: &quot;success&quot;,
    &quot;result&quot;: true
}</code></pre>


<h3 id="_8">返回结果说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>string</td>
<td>result=true 时成功数据, "success"</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/modify_cron_for_periodic_task/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>修改周期任务的调度策略</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>周期任务 ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务 ID</td>
</tr>
<tr>
<td>cron</td>
<td>dict</td>
<td>否</td>
<td>调度策略对象</td>
</tr>
</tbody>
</table>
<h4 id="cron">cron</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>必须</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>minute</td>
<td>string</td>
<td>否</td>
<td>分，默认为 *</td>
</tr>
<tr>
<td>hour</td>
<td>string</td>
<td>否</td>
<td>时，默认为 *</td>
</tr>
<tr>
<td>day_of_week</td>
<td>string</td>
<td>否</td>
<td>一周内的某些天，默认为 *</td>
</tr>
<tr>
<td>day_of_month</td>
<td>string</td>
<td>否</td>
<td>一个月中的某些天，默认为 *</td>
</tr>
<tr>
<td>month_of_year</td>
<td>string</td>
<td>否</td>
<td>一年中的某些月份，默认为 *</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;task_id&quot;: &quot;8&quot;,
    &quot;cron&quot; : {&quot;minute&quot;: &quot;*/1&quot;, &quot;hour&quot;: &quot;15&quot;, &quot;day_of_week&quot;:&quot;*&quot;, &quot;day_of_month&quot;:&quot;*&quot;, &quot;month_of_year&quot;:&quot;*&quot;},
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;data&quot;: {
        &quot;cron&quot;: &quot;*/1 15 * * * (m/h/d/dM/MY)&quot;
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时成功数据，详细信息请见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>cron</td>
<td>string</td>
<td>调度策略表达式</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/node_callback/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>回调指定的节点</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>参数类型</th>
<th>必须</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>所属业务 ID</td>
</tr>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>任务 ID</td>
</tr>
<tr>
<td>node_id</td>
<td>string</td>
<td>是</td>
<td>节点 ID</td>
</tr>
<tr>
<td>callback_data</td>
<td>dict</td>
<td>否</td>
<td>回调数据</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;app_code&quot;: &quot;app_code&quot;,
    &quot;app_secret&quot;: &quot;app_secret&quot;,
    &quot;access_token&quot;: &quot;access_token&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;task_id&quot;: &quot;10&quot;,
    &quot;node_id&quot;: &quot;node0df0431f8f553925af01a94854bd&quot;,
    &quot;callback_data&quot;: {&quot;data&quot;: &quot;data&quot;}
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;message&quot;: &quot;success&quot;,
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 成功与否</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/operate_node/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>操作节点</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>必须</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>app_code</td>
<td>string</td>
<td>是</td>
<td>蓝鲸应用编码</td>
</tr>
<tr>
<td>app_secret</td>
<td>string</td>
<td>是</td>
<td>蓝鲸应用私密 key</td>
</tr>
<tr>
<td>access_token</td>
<td>string</td>
<td>否</td>
<td>用户登录票据，bk_token 为空时必填</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>用户登录票据，access_token 为空时必填</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>项目唯一 ID，项目 ID 或 CMDB 业务 ID</td>
</tr>
<tr>
<td>task_id</td>
<td>int</td>
<td>是</td>
<td>任务 ID</td>
</tr>
<tr>
<td>scope</td>
<td>string</td>
<td>否</td>
<td>唯一 ID 的范围，取值为 cmdb_biz 或 project，为 cmdb_biz 时 bk_biz_id 代表业务 ID，反之代表项目 ID，不传时默认为 cmdb_biz</td>
</tr>
<tr>
<td>node_id</td>
<td>string</td>
<td>是</td>
<td>节点 ID</td>
</tr>
<tr>
<td>action</td>
<td>string</td>
<td>是</td>
<td>操作类型，可选值有：callback（节点回调）, skip_exg（跳过执行失败的分支网关）, retry（重试失败节点）, skip（跳过失败的节点）, pause_subproc（暂停正在执行的子流程）, resume_subproc（继续暂停的子流程）</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>否</td>
<td>action 为 callback 时传入的数据</td>
</tr>
<tr>
<td>inputs</td>
<td>object</td>
<td>否</td>
<td>action 为 retry 时重试节点时节点的输入数据</td>
</tr>
<tr>
<td>flow_id</td>
<td>string</td>
<td>否</td>
<td>action 为 skip_exg 时选择执行的分支 id</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;task_id&quot;: &quot;12&quot;,
    &quot;node_id&quot;: &quot;node_id&quot;,
    &quot;action&quot;: &quot;skip&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;result&quot;: true,
    &quot;data&quot;: &quot;success&quot;,
    &quot;code&quot;: 0
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 成功与否</td>
</tr>
<tr>
<td>data</td>
<td>string</td>
<td>result=true 时返回的信息</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/operate_task/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>操作任务，如开始、暂停、继续、终止等</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务 ID</td>
</tr>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>任务 ID</td>
</tr>
<tr>
<td>action</td>
<td>string</td>
<td>是</td>
<td>操作类型</td>
</tr>
</tbody>
</table>
<h4 id="action">action</h4>
<table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>开始任务，等效于调用 start_task 接口</td>
</tr>
<tr>
<td>pause</td>
<td>暂停任务，任务处于执行状态时调用</td>
</tr>
<tr>
<td>resume</td>
<td>继续任务，任务处于暂停状态时调用</td>
</tr>
<tr>
<td>revoke</td>
<td>终止任务</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;action&quot;: &quot;start&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;task_id&quot;: &quot;10&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;result&quot;: true,
    &quot;data&quot;: {}
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时返回数据</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/preview_task_tree/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>获取节点选择后新的任务树</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>必须</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>app_code</td>
<td>string</td>
<td>是</td>
<td>蓝鲸应用编码</td>
</tr>
<tr>
<td>app_secret</td>
<td>string</td>
<td>是</td>
<td>蓝鲸应用私密 key</td>
</tr>
<tr>
<td>access_token</td>
<td>string</td>
<td>否</td>
<td>用户登录票据，bk_token 为空时必填</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>用户登录票据，access_token 为空时必填</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>项目唯一 ID，项目 ID 或 CMDB 业务 ID</td>
</tr>
<tr>
<td>template_id</td>
<td>int</td>
<td>是</td>
<td>模板 ID</td>
</tr>
<tr>
<td>scope</td>
<td>string</td>
<td>否</td>
<td>唯一 ID 的范围，取值为 cmdb_biz 或 project，为 cmdb_biz 时 bk_biz_id 代表业务 ID，反之代表项目 ID，不传时默认为 cmdb_biz</td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>否</td>
<td>模板的版本，不填时默认为最新版本</td>
</tr>
<tr>
<td>exclude_task_nodes_id</td>
<td>否</td>
<td>需要移除的可选节点 ID 列表，不填时默认为 []</td>
<td></td>
</tr>
<tr>
<td>### 请求参数示例</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;template_id&quot;: &quot;12&quot;
}</code></pre>


<h3 id="_7">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;result&quot;: true,
    &quot;data&quot;: {
        &quot;pipeline_tree&quot;: {
            &quot;activities&quot;: {
                &quot;node7082deed0725aed8c72ecff079ba&quot;: {
                    &quot;component&quot;: {
                        &quot;code&quot;: &quot;pause_node&quot;,
                        &quot;data&quot;: {},
                        &quot;version&quot;: &quot;legacy&quot;
                    },
                    &quot;error_ignorable&quot;: false,
                    &quot;id&quot;: &quot;node7082deed0725aed8c72ecff079ba&quot;,
                    &quot;incoming&quot;: [
                        &quot;lineda60368b01cd8828a72585115f88&quot;
                    ],
                    &quot;loop&quot;: null,
                    &quot;name&quot;: &quot;暂停&quot;,
                    &quot;optional&quot;: true,
                    &quot;outgoing&quot;: &quot;line4598d41ef39573f7d7493f934bd8&quot;,
                    &quot;stage_name&quot;: &quot;步骤1&quot;,
                    &quot;type&quot;: &quot;ServiceActivity&quot;,
                    &quot;retryable&quot;: true,
                    &quot;skippable&quot;: true
                },
                &quot;node88d9050f288765b94a15cbe023ab&quot;: {
                    &quot;component&quot;: {
                        &quot;code&quot;: &quot;pause_node&quot;,
                        &quot;data&quot;: {},
                        &quot;version&quot;: &quot;legacy&quot;
                    },
                    &quot;error_ignorable&quot;: false,
                    &quot;id&quot;: &quot;node88d9050f288765b94a15cbe023ab&quot;,
                    &quot;incoming&quot;: [
                        &quot;line4598d41ef39573f7d7493f934bd8&quot;
                    ],
                    &quot;loop&quot;: null,
                    &quot;name&quot;: &quot;暂停&quot;,
                    &quot;optional&quot;: true,
                    &quot;outgoing&quot;: &quot;line9c757e214b4f2ff64437653b8408&quot;,
                    &quot;stage_name&quot;: &quot;步骤1&quot;,
                    &quot;type&quot;: &quot;ServiceActivity&quot;,
                    &quot;retryable&quot;: true,
                    &quot;skippable&quot;: true
                }
            },
            &quot;constants&quot;: {},
            &quot;end_event&quot;: {
                &quot;id&quot;: &quot;node253645bb6f162119e55b7352d8b2&quot;,
                &quot;incoming&quot;: [
                    &quot;line9c757e214b4f2ff64437653b8408&quot;
                ],
                &quot;name&quot;: &quot;&quot;,
                &quot;outgoing&quot;: &quot;&quot;,
                &quot;type&quot;: &quot;EmptyEndEvent&quot;
            },
            &quot;flows&quot;: {
                &quot;lineda60368b01cd8828a72585115f88&quot;: {
                    &quot;id&quot;: &quot;lineda60368b01cd8828a72585115f88&quot;,
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;nodeb9a3a2a32bb4cfe8761377b2270f&quot;,
                    &quot;target&quot;: &quot;node7082deed0725aed8c72ecff079ba&quot;
                },
                &quot;line4598d41ef39573f7d7493f934bd8&quot;: {
                    &quot;id&quot;: &quot;line4598d41ef39573f7d7493f934bd8&quot;,
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node7082deed0725aed8c72ecff079ba&quot;,
                    &quot;target&quot;: &quot;node88d9050f288765b94a15cbe023ab&quot;
                },
                &quot;line9c757e214b4f2ff64437653b8408&quot;: {
                    &quot;id&quot;: &quot;line9c757e214b4f2ff64437653b8408&quot;,
                    &quot;is_default&quot;: false,
                    &quot;source&quot;: &quot;node88d9050f288765b94a15cbe023ab&quot;,
                    &quot;target&quot;: &quot;node253645bb6f162119e55b7352d8b2&quot;
                }
            },
            &quot;gateways&quot;: {},
            &quot;line&quot;: [
                {
                    &quot;id&quot;: &quot;lineda60368b01cd8828a72585115f88&quot;,
                    &quot;source&quot;: {
                        &quot;arrow&quot;: &quot;Right&quot;,
                        &quot;id&quot;: &quot;nodeb9a3a2a32bb4cfe8761377b2270f&quot;
                    },
                    &quot;target&quot;: {
                        &quot;arrow&quot;: &quot;Left&quot;,
                        &quot;id&quot;: &quot;node7082deed0725aed8c72ecff079ba&quot;
                    }
                },
                {
                    &quot;source&quot;: {
                        &quot;arrow&quot;: &quot;Right&quot;,
                        &quot;id&quot;: &quot;node7082deed0725aed8c72ecff079ba&quot;
                    },
                    &quot;target&quot;: {
                        &quot;id&quot;: &quot;node88d9050f288765b94a15cbe023ab&quot;,
                        &quot;arrow&quot;: &quot;Left&quot;
                    },
                    &quot;id&quot;: &quot;line4598d41ef39573f7d7493f934bd8&quot;
                },
                {
                    &quot;source&quot;: {
                        &quot;arrow&quot;: &quot;Right&quot;,
                        &quot;id&quot;: &quot;node88d9050f288765b94a15cbe023ab&quot;
                    },
                    &quot;target&quot;: {
                        &quot;id&quot;: &quot;node253645bb6f162119e55b7352d8b2&quot;,
                        &quot;arrow&quot;: &quot;Left&quot;
                    },
                    &quot;id&quot;: &quot;line9c757e214b4f2ff64437653b8408&quot;
                }
            ],
            &quot;location&quot;: [
                {
                    &quot;id&quot;: &quot;nodeb9a3a2a32bb4cfe8761377b2270f&quot;,
                    &quot;type&quot;: &quot;startpoint&quot;,
                    &quot;x&quot;: 80,
                    &quot;y&quot;: 150
                },
                {
                    &quot;id&quot;: &quot;node7082deed0725aed8c72ecff079ba&quot;,
                    &quot;type&quot;: &quot;tasknode&quot;,
                    &quot;name&quot;: &quot;暂停&quot;,
                    &quot;stage_name&quot;: &quot;步骤1&quot;,
                    &quot;x&quot;: 300,
                    &quot;y&quot;: 150,
                    &quot;group&quot;: &quot;蓝鲸服务(BK)&quot;,
                    &quot;icon&quot;: &quot;&quot;
                },
                {
                    &quot;id&quot;: &quot;node253645bb6f162119e55b7352d8b2&quot;,
                    &quot;type&quot;: &quot;endpoint&quot;,
                    &quot;x&quot;: 820,
                    &quot;y&quot;: 150
                },
                {
                    &quot;id&quot;: &quot;node88d9050f288765b94a15cbe023ab&quot;,
                    &quot;type&quot;: &quot;tasknode&quot;,
                    &quot;name&quot;: &quot;暂停&quot;,
                    &quot;stage_name&quot;: &quot;步骤1&quot;,
                    &quot;x&quot;: 500,
                    &quot;y&quot;: 150,
                    &quot;group&quot;: &quot;蓝鲸服务(BK)&quot;,
                    &quot;icon&quot;: &quot;&quot;
                }
            ],
            &quot;outputs&quot;: [],
            &quot;start_event&quot;: {
                &quot;id&quot;: &quot;nodeb9a3a2a32bb4cfe8761377b2270f&quot;,
                &quot;incoming&quot;: &quot;&quot;,
                &quot;name&quot;: &quot;&quot;,
                &quot;outgoing&quot;: &quot;lineda60368b01cd8828a72585115f88&quot;,
                &quot;type&quot;: &quot;EmptyStartEvent&quot;
            }
        },
        &quot;constants_not_referred&quot;: {}
    },
    &quot;code&quot;: 0
}</code></pre>


<h3 id="_8">返回结果说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 成功与否</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时返回数据，详情见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data 说明</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>pipeline_tree</td>
<td>dict</td>
<td>模板任务树信息，详细信息见下面说明</td>
</tr>
<tr>
<td>constants_not_referred</td>
<td>dict</td>
<td>流程模板中未引用的全局变量，数据结构同 pepeline[constants]</td>
</tr>
</tbody>
</table>
<h5 id="datapipeline_tree">data[pipeline_tree]</h5>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>start_event</td>
<td>dict</td>
<td>开始节点信息</td>
</tr>
<tr>
<td>end_event</td>
<td>dict</td>
<td>结束节点信息</td>
</tr>
<tr>
<td>activities</td>
<td>dict</td>
<td>任务节点（原子和子流程）信息</td>
</tr>
<tr>
<td>gateways</td>
<td>dict</td>
<td>网关节点（并行网关、分支网关和汇聚网关）信息</td>
</tr>
<tr>
<td>flows</td>
<td>dict</td>
<td>顺序流（节点连线）信息</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>全局变量信息，详情见下面</td>
</tr>
<tr>
<td>outputs</td>
<td>list</td>
<td>模板输出信息，标记 constants 中的输出字段</td>
</tr>
</tbody>
</table>
<h6 id="datapipeline_treeconstantskey">data.pipeline_tree.constants.KEY</h6>
<p>全局变量 KEY，${key} 格式</p>
<h6 id="datapipeline_treeconstantsvalue">data.pipeline_tree.constants.VALUE</h6>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>同 KEY</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>变量名字</td>
</tr>
<tr>
<td>index</td>
<td>int</td>
<td>变量在模板中的显示顺序</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>变量说明</td>
</tr>
<tr>
<td>source_type</td>
<td>string</td>
<td>变量来源, 取值范围 custom: 自定义变量，component_inputs: 从原子输入参数勾选，component_outputs：从原子输出结果中勾选</td>
</tr>
<tr>
<td>custom_type</td>
<td>string</td>
<td>source_type=custom 时有效，自定义变量类型， 取值范围 input: 输入框，textarea: 文本框，datetime: 日期时间，int: 整数</td>
</tr>
<tr>
<td>source_tag</td>
<td>string</td>
<td>source_type=component_inputs</td>
</tr>
<tr>
<td>source_info</td>
<td>dict</td>
<td>source_type=component_inputs</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/query_task_count/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询任务实例分类统计总数</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务 ID</td>
</tr>
<tr>
<td>group_by</td>
<td>string</td>
<td>是</td>
<td>分类统计维度，status：按任务状态（未执行、执行中、已完成）统计，category：按照任务类型统计，flow_type：按照流程类型统计，create_method：按照创建方式</td>
</tr>
<tr>
<td>conditions</td>
<td>dict</td>
<td>否</td>
<td>任务过滤条件</td>
</tr>
</tbody>
</table>
<h4 id="conditions">conditions</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>template_id</td>
<td>string</td>
<td>创建任务的模板 ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>任务名称</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建人</td>
</tr>
<tr>
<td>create_time__gte</td>
<td>string</td>
<td>任务创建时间起始时间</td>
</tr>
<tr>
<td>create_time__lte</td>
<td>string</td>
<td>任务创建时间截止时间</td>
</tr>
<tr>
<td>executor</td>
<td>string</td>
<td>执行人</td>
</tr>
<tr>
<td>start_time__gte</td>
<td>string</td>
<td>任务执行时间起始时间</td>
</tr>
<tr>
<td>start_time__lte</td>
<td>string</td>
<td>任务执行时间截止时间</td>
</tr>
<tr>
<td>is_started</td>
<td>bool</td>
<td>任务是否启动</td>
</tr>
<tr>
<td>is_finished</td>
<td>bool</td>
<td>任务是否完成</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;conditions&quot;: {
        &quot;create_time__lte&quot;: &quot;2018-07-12 10:00:00&quot;,
        &quot;is_started&quot;: true
    },
    &quot;group_by&quot;: &quot;flow_type&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;data&quot;: {
        &quot;total&quot;: 180,
        &quot;groups&quot;: [
            {
                &quot;code&quot;: &quot;common&quot;,
                &quot;name&quot;: &quot;默认任务流程&quot;,
                &quot;value&quot;: 166
            },
            {
                &quot;code&quot;: &quot;common_func&quot;,
                &quot;name&quot;: &quot;职能化任务流程&quot;,
                &quot;value&quot;: 14
            }
        ]
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时返回分类统计信息，详细信息见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>total</td>
<td>int</td>
<td>按照过滤条件获取的任务总数</td>
</tr>
<tr>
<td>groups</td>
<td>list</td>
<td>按照过滤条件分类分类统计详情</td>
</tr>
</tbody>
</table>
<h4 id="datagroups">data.groups[]</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>string</td>
<td>分类统计类型编码</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>分类统计类型名称</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>当前分类任务数量</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/set_periodic_task_enabled/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>设置某个周期任务是否激活</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>周期任务 ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>任务所属业务 ID</td>
</tr>
<tr>
<td>enabled</td>
<td>bool</td>
<td>否</td>
<td>该周期任务是否激活，不传则为 false</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;task_id&quot;: &quot;8&quot;,
    &quot;enabled&quot;: false
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;data&quot;: {
        &quot;enabled&quot;: false
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时成功数据，详细信息请见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>enabled</td>
<td>bool</td>
<td>当前周期任务是否已经激活</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/start_task/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>开始执行任务</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务 ID</td>
</tr>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>任务 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;task_id&quot;: &quot;10&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-bash">{
    &quot;result&quot;: true,
    &quot;data&quot;: {}
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时返回数据</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table><h2 id="api">蓝鲸文档中心 API 简介</h2>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="./get_doc_link_by_path.md">get_doc_link_by_path</a></td>
<td>查询文档链接</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/bk_docs_center/get_doc_link_by_path/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据 md 文档名查询文档链接</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>version</td>
<td>string</td>
<td>是</td>
<td>查询版本</td>
</tr>
<tr>
<td>md_path</td>
<td>string</td>
<td>是</td>
<td>md 文档所在结构路径（如：流程服务/产品白皮书/FAQ/FAQ.md）</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;version&quot;:&quot;6.0&quot;,
    &quot;md_path&quot;: &quot;流程服务/产品白皮书/FAQ/FAQ.md&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;result&quot;: true,
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;data&quot;: &quot;document/6.0/2/1&quot;
}</code></pre><h1 id="api">API 下线及变更</h1>
<p>以下部分 API 预计于下一个版本下线及变更（2020 年 10 月之后）。</p>
<h2 id="cmdb">CMDB</h2>
<h3 id="_1">下线接口</h3>
<table>
<thead>
<tr>
<th>要下线的 API</th>
<th>要下线 API 对应的地址</th>
<th>替换使用地址</th>
</tr>
</thead>
<tbody>
<tr>
<td>/api/App/getapplist</td>
<td>/api/c/compapi/cc/get_app_list/</td>
<td>/api/c/compapi/v2/cc/search_business/</td>
</tr>
<tr>
<td>/api/App/getAppByID</td>
<td>/api/c/compapi/cc/get_app_by_id/</td>
<td>/api/c/compapi/v2/cc/search_business/</td>
</tr>
<tr>
<td>/api/App/getappbyuin</td>
<td>/api/c/compapi/cc/get_app_by_user/</td>
<td>/api/c/compapi/v2/cc/search_business/</td>
</tr>
<tr>
<td>/api/User/getUserRoleApp</td>
<td>/api/c/compapi/cc/get_app_by_user_role/</td>
<td>/api/c/compapi/v2/cc/search_business/</td>
</tr>
<tr>
<td>/api/TopSetModule/getappsetmoduletreebyappid</td>
<td>/api/c/compapi/cc/get_topo_tree_by_app_id/</td>
<td>查询业务下的主机          /v2/cc/list_biz_hosts/          在所有业务中主机查询          /v2/cc/list_hosts_without_biz/          获取主机与拓扑的关系          /v2/cc/find_host_topo_relation</td>
</tr>
<tr>
<td>/api/app/addApp</td>
<td>/api/c/compapi/cc/add_app/</td>
<td>/api/c/compapi/v2/cc/create_business/</td>
</tr>
<tr>
<td>/api/app/deleteApp</td>
<td>/api/c/compapi/cc/del_app/</td>
<td>/api/c/compapi/v2/cc/delete_business/</td>
</tr>
<tr>
<td>/api/App/getHostAppByCompanyId</td>
<td>/api/c/compapi/cc/get_host_by_company_id/</td>
<td>查询业务下的主机          /v2/cc/list_biz_hosts/          在所有业务中主机查询          /v2/cc/list_hosts_without_biz/          获取主机与拓扑的关系          /v2/cc/find_host_topo_relation</td>
</tr>
<tr>
<td>/api/app/editApp</td>
<td>/api/c/compapi/cc/edit_app/</td>
<td>/api/c/compapi/v2/cc/update_business/</td>
</tr>
<tr>
<td>/api/Module/getmodules</td>
<td>/api/c/compapi/cc/get_modules/</td>
<td>/api/c/compapi/v2/cc/search_module/</td>
</tr>
<tr>
<td>/api/module/editmodule</td>
<td>/api/c/compapi/cc/update_module_property/</td>
<td>/api/c/compapi/v2/cc/update_module/</td>
</tr>
<tr>
<td>/api/module/delModule</td>
<td>/api/c/compapi/cc/del_module/</td>
<td>/api/c/compapi/v2/cc/delete_module/</td>
</tr>
<tr>
<td>/api/Set/getsetsbyproperty</td>
<td>/api/c/compapi/cc/get_sets_by_property/</td>
<td>/api/c/compapi/v2/cc/search_set/</td>
</tr>
<tr>
<td>/api/Set/getsetproperty</td>
<td>/api/c/compapi/cc/get_set_property/</td>
<td>/api/c/compapi/v2/cc/search_object_attribute/</td>
</tr>
<tr>
<td>/api/Set/getmodulesbyproperty</td>
<td>/api/c/compapi/cc/get_modules_by_property/</td>
<td>/api/c/compapi/v2/cc/search_module/</td>
</tr>
<tr>
<td>/api/set/addset</td>
<td>/api/c/compapi/cc/add_set</td>
<td>/api/c/compapi/v2/cc/create_set/</td>
</tr>
<tr>
<td>/api/set/updateset</td>
<td>/api/c/compapi/cc/update_set/</td>
<td>/api/c/compapi/v2/cc/update_set/</td>
</tr>
<tr>
<td>/api/set/updateSetServiceStatus</td>
<td>/api/c/compapi/cc/update_set_service_status/</td>
<td>/api/c/compapi/v2/cc/update_set/</td>
</tr>
<tr>
<td>/api/set/delset</td>
<td>/api/c/compapi/cc/del_set/</td>
<td>批量删除:  /api/c/compapi/v2/cc/batch_delete_set/     删除单个: /api/c/compapi/v2/cc/delete_set/</td>
</tr>
<tr>
<td>/api/set/delSetHost</td>
<td>/api/c/compapi/cc/del_set_host/</td>
<td></td>
</tr>
<tr>
<td>/api/host/addhost</td>
<td>无</td>
<td></td>
</tr>
<tr>
<td>/api/host/enterIp</td>
<td>无</td>
<td></td>
</tr>
<tr>
<td>/api/Host/gethostlistbyip</td>
<td>/api/c/compapi/cc/get_host_list_by_ip/</td>
<td>查询业务下的主机          /v2/cc/list_biz_hosts/          在所有业务中主机查询          /v2/cc/list_hosts_without_biz/          获取主机与拓扑的关系          /v2/cc/find_host_topo_relation</td>
</tr>
<tr>
<td>/api/Host/getsethostlist</td>
<td>/api/c/compapi/cc/get_set_host_list/</td>
<td>查询业务下的主机          /v2/cc/list_biz_hosts/          在所有业务中主机查询          /v2/cc/list_hosts_without_biz/          获取主机与拓扑的关系          /v2/cc/find_host_topo_relation</td>
</tr>
<tr>
<td>/api/host/getmodulehostlist</td>
<td>/api/c/compapi/cc/get_module_host_list/</td>
<td>查询业务下的主机          /v2/cc/list_biz_hosts/          在所有业务中主机查询          /v2/cc/list_hosts_without_biz/          获取主机与拓扑的关系          /v2/cc/find_host_topo_relation</td>
</tr>
<tr>
<td>/api/host/getapphostlist</td>
<td>/api/c/compapi/cc/get_app_host_list/</td>
<td>查询业务下的主机          /v2/cc/list_biz_hosts/          在所有业务中主机查询          /v2/cc/list_hosts_without_biz/          获取主机与拓扑的关系          /v2/cc/find_host_topo_relation</td>
</tr>
<tr>
<td>/api/set/gethostsbyproperty</td>
<td>/api/c/compapi/cc/get_hosts_by_property/</td>
<td>查询业务下的主机          /v2/cc/list_biz_hosts/          在所有业务中主机查询          /v2/cc/list_hosts_without_biz/          获取主机与拓扑的关系          /v2/cc/find_host_topo_relation</td>
</tr>
<tr>
<td>/api/Host/updateHostStatus</td>
<td>/api/c/compapi/cc/update_gse_proxy_status/</td>
<td>查询业务下的主机          /v2/cc/list_biz_hosts/          在所有业务中主机查询          /v2/cc/list_hosts_without_biz/          获取主机与拓扑的关系          /v2/cc/find_host_topo_relation</td>
</tr>
<tr>
<td>/api/Host/updateHostByAppId</td>
<td>/api/c/compapi/cc/update_host_by_app_id/</td>
<td>查询业务下的主机     /v2/cc/list_biz_hosts/     在所有业务中主机查询     /v2/cc/list_hosts_without_biz/     获取主机与拓扑的关系     /v2/cc/find_host_topo_relation</td>
</tr>
<tr>
<td>/api/Host/getCompanyIdByIps</td>
<td>/api/c/compapi/cc/get_host_company_id/</td>
<td>查询业务下的主机          /v2/cc/list_biz_hosts/          在所有业务中主机查询          /v2/cc/list_hosts_without_biz/          获取主机与拓扑的关系          /v2/cc/find_host_topo_relation</td>
</tr>
<tr>
<td>/api/Host/getHostListByAppidAndField</td>
<td>/api/c/compapi/cc/get_host_list_by_field/</td>
<td>查询业务下的主机          /v2/cc/list_biz_hosts/          在所有业务中主机查询          /v2/cc/list_hosts_without_biz/          获取主机与拓扑的关系          /v2/cc/find_host_topo_relation</td>
</tr>
<tr>
<td>/api/Host/getIPAndProxyByCompany</td>
<td>/api/c/compapi/cc/get_ip_and_proxy_by_company/</td>
<td>查询业务下的主机          /v2/cc/list_biz_hosts/          在所有业务中主机查询          /v2/cc/list_hosts_without_biz/          获取主机与拓扑的关系          /v2/cc/find_host_topo_relation</td>
</tr>
<tr>
<td>/api/Host/updatehostmodule</td>
<td>/api/c/compapi/cc/update_host_module/</td>
<td>分情况替换：     在业务用户创建的模块做转移：      /api/c/compapi/v2/cc/transfer_host_module/       转移到故障机：     /api/c/compapi/v2/cc/transfer_host_to_faultmodule/     转移到空闲机：     /api/c/compapi/v2/cc/transfer_host_to_idlemodule/</td>
</tr>
<tr>
<td>/api/host/updateCustomProperty</td>
<td>/api/c/compapi/cc/update_custom_property/</td>
<td>/api/c/compapi/v2/cc/update_host/</td>
</tr>
<tr>
<td>/api/host/cloneHostProperty</td>
<td>/api/c/compapi/cc/clone_host_property/</td>
<td>/api/c/compapi/v2/cc/clone_host_property/</td>
</tr>
<tr>
<td>/api/host/delHostInApp</td>
<td>/api/c/compapi/cc/del_host_in_app/</td>
<td></td>
</tr>
<tr>
<td>/api/host/getgitServerIp</td>
<td>/api/c/compapi/cc/get_git_server_ip/</td>
<td></td>
</tr>
<tr>
<td>/api/host/hardinfo</td>
<td>无</td>
<td>查询业务下的主机          /v2/cc/list_biz_hosts/          在所有业务中主机查询          /v2/cc/list_hosts_without_biz/          获取主机与拓扑的关系          /v2/cc/find_host_topo_relation</td>
</tr>
<tr>
<td>/api/CustomerGroup/getContentByCustomerGroupID</td>
<td>/api/c/compapi/cc/get_content_by_customer_group_id/</td>
<td>/api/c/compapi/v2/cc/get_custom_query_data/</td>
</tr>
<tr>
<td>/api/CustomerGroup/getCustomerGroupList</td>
<td>/api/c/compapi/cc/get_customer_group_list</td>
<td>/api/c/compapi/v2/cc/get_custom_query_detail/</td>
</tr>
<tr>
<td>/api/Plat/updateHost</td>
<td>/api/c/compapi/cc/update_host_plat</td>
<td>/api/c/compapi/v2/cc/update_host/</td>
</tr>
<tr>
<td>/api/Plat/get</td>
<td>/api/c/compapi/cc/get_plat_id/</td>
<td>/v2/cc/search_cloud_area</td>
</tr>
<tr>
<td>/api/Plat/delete</td>
<td>/api/c/compapi/cc/del_plat/</td>
<td>/v2/cc/delete_cloud_area</td>
</tr>
<tr>
<td>/api/Plat/add</td>
<td>/api/c/compapi/cc/add_plat_id/</td>
<td>/v2/cc/create_cloud_area</td>
</tr>
<tr>
<td>/api/process/getProcessPortByApplicationID</td>
<td>/api/c/compapi/cc/get_process_port_by_app_id/</td>
<td></td>
</tr>
<tr>
<td>/api/process/getProcessPortByIP</td>
<td>/api/c/compapi/cc/get_process_port_by_ip/</td>
<td></td>
</tr>
<tr>
<td>/api/Property/getList</td>
<td>/api/c/compapi/cc/get_property_list/</td>
<td>/api/c/compapi/v2/cc/search_object_attribute/</td>
</tr>
<tr>
<td>/api/Host/getAppOwnerHostList</td>
<td>/api/c/compapi/cc/get_property_list/</td>
<td>查询业务下的主机          /v2/cc/list_biz_hosts/          在所有业务中主机查询          /v2/cc/list_hosts_without_biz/          获取主机与拓扑的关系          /v2/cc/find_host_topo_relation</td>
</tr>
<tr>
<td>/api/App/getAppByUinExt</td>
<td>无</td>
<td>/api/c/compapi/v2/cc/search_business/</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>接口名</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bind_process_module</td>
<td>绑定进程到模块</td>
</tr>
<tr>
<td>bind_role_privilege</td>
<td>绑定角色权限</td>
</tr>
<tr>
<td>create_user_group</td>
<td>新建用户分组</td>
</tr>
<tr>
<td>delete_process_module_bind</td>
<td>解绑进程模块</td>
</tr>
<tr>
<td>delete_user_group</td>
<td>删除用户分组</td>
</tr>
<tr>
<td>find_host_by_module</td>
<td>根据模块查询主机</td>
</tr>
<tr>
<td>search_custom_query</td>
<td>查询自定义查询</td>
</tr>
<tr>
<td>search_group_privilege</td>
<td>查询分组权限</td>
</tr>
<tr>
<td>search_host</td>
<td>根据条件查询主机</td>
</tr>
<tr>
<td>get_custom_query_data</td>
<td>根据自定义查询获取数据</td>
</tr>
<tr>
<td>get_custom_query_detail</td>
<td>获取自定义查询详情</td>
</tr>
<tr>
<td>get_operation_log</td>
<td>获取操作日志</td>
</tr>
<tr>
<td>get_process_bind_module</td>
<td>查询进程绑定模块</td>
</tr>
<tr>
<td>get_role_privilege</td>
<td>获取角色绑定权限</td>
</tr>
<tr>
<td>get_user_privilege</td>
<td>查询用户权限</td>
</tr>
<tr>
<td>search_object_topo_graphics</td>
<td>查询拓扑图</td>
</tr>
<tr>
<td>search_user_group</td>
<td>查询用户分组</td>
</tr>
<tr>
<td>testing_connection</td>
<td>测试推送（只测试连通性）</td>
</tr>
<tr>
<td>update_user_group</td>
<td>更新用户分组</td>
</tr>
</tbody>
</table>
<h3 id="_2">变更接口协议 (输入或输出有调整)</h3>
<table>
<thead>
<tr>
<th>接口名</th>
<th>功能描述</th>
<th>变更信息类型</th>
<th>变更信息</th>
</tr>
</thead>
<tbody>
<tr>
<td>add_host_lock</td>
<td>新加主机锁</td>
<td>减少请求参数</td>
<td>bk_cloud_id</td>
</tr>
<tr>
<td>batch_create_proc_template</td>
<td>批量创建进程模板</td>
<td>参数结构变更</td>
<td>进程的 ip、端口等属性的层次结构发生变化</td>
</tr>
<tr>
<td>create_business</td>
<td>新建业务</td>
<td>新增请求参数</td>
<td>language</td>
</tr>
<tr>
<td>create_process_instance</td>
<td>创建进程实例</td>
<td>参数结构变更</td>
<td>进程的 ip、端口等属性的层次结构发生变化</td>
</tr>
<tr>
<td>create_set</td>
<td>创建集群</td>
<td>新增请求参数</td>
<td>set_template_id</td>
</tr>
<tr>
<td>delete_host_lock</td>
<td>删除主机锁</td>
<td>减少请求参数</td>
<td>bk_cloud_id</td>
</tr>
<tr>
<td>delete_object_attribute</td>
<td>删除对象模型属性</td>
<td>新增功能</td>
<td>删除自定义字段</td>
</tr>
<tr>
<td>find_object_association</td>
<td>查询模型之间的关联关系</td>
<td>减少请求参数</td>
<td>metadata</td>
</tr>
<tr>
<td>get_service_template</td>
<td>获取服务模板</td>
<td>请求参数变更</td>
<td>metadata 变更为 service_template_id</td>
</tr>
<tr>
<td>list_process_instance</td>
<td>查询进程实例列表</td>
<td>参数结构变更</td>
<td>进程的 ip、端口等属性的层次结构发生变化</td>
</tr>
<tr>
<td>list_proc_template</td>
<td>查询进程模板列表</td>
<td>参数结构变更</td>
<td>进程的 ip、端口等属性的层次结构发生变化</td>
</tr>
<tr>
<td>list_service_instance_detail</td>
<td>获取服务实例详细信息</td>
<td>新增请求参数</td>
<td>page</td>
</tr>
<tr>
<td>search_cloud_area</td>
<td>查询云区域</td>
<td>减少返回参数</td>
<td>data.page</td>
</tr>
<tr>
<td>search_host_lock</td>
<td>查询主机锁</td>
<td>减少请求参数</td>
<td>bk_cloud_id</td>
</tr>
<tr>
<td>search_object_attribute</td>
<td>查询对象模型属性</td>
<td>新增功能</td>
<td>可以业务 id 查询</td>
</tr>
<tr>
<td>search_subscription</td>
<td>查询订阅</td>
<td>减少请求参数</td>
<td>bk_biz_id</td>
</tr>
<tr>
<td>update_custom_query</td>
<td>更新自定义 API</td>
<td>减少请求参数</td>
<td>bk_biz_id</td>
</tr>
<tr>
<td>update_process_instance</td>
<td>更新进程实例</td>
<td>参数结构变更</td>
<td>进程的 ip、端口等属性的层次结构发生变化</td>
</tr>
<tr>
<td>update_proc_template</td>
<td>更新进程模板</td>
<td>参数结构变更</td>
<td>进程的 ip、端口等属性的层次结构发生变化</td>
</tr>
<tr>
<td>update_process_instance</td>
<td>更新进程实例</td>
<td>参数结构变更</td>
<td>进程的 ip、端口等属性的层次结构发生变化</td>
</tr>
<tr>
<td>update_proc_template</td>
<td>更新进程模板</td>
<td>参数结构变更</td>
<td>进程的 ip、端口等属性的层次结构发生变化</td>
</tr>
<tr>
<td>get_proc_template</td>
<td>获取单个进程模板信息，url 参数中指定进程模板 ID</td>
<td>参数结构变更</td>
<td>进程的 ip、端口等属性的层次结构发生变化</td>
</tr>
</tbody>
</table>
<h3 id="_3">新增接口</h3>
<table>
<thead>
<tr>
<th>接口名</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>create_biz_custom_field</td>
<td>创建业务自定义模型属性</td>
</tr>
<tr>
<td>create_set_template</td>
<td>新建集群模板</td>
</tr>
<tr>
<td>delete_related_inst_asso</td>
<td>删除某实例所有的关联关系（包含其作为关联关系原模型和关联关系目标模型的情况）</td>
</tr>
<tr>
<td>delete_set_template</td>
<td>删除集群模板</td>
</tr>
<tr>
<td>find_host_biz_relations</td>
<td>查询主机业务关系信息</td>
</tr>
<tr>
<td>find_host_by_service_template</td>
<td>查询服务模板下的主机</td>
</tr>
<tr>
<td>find_host_by_set_template</td>
<td>查询集群模板下的主机</td>
</tr>
<tr>
<td>find_host_by_topo</td>
<td>查询拓扑节点下的主机</td>
</tr>
<tr>
<td>find_host_snapshot_batch</td>
<td>批量查询主机快照</td>
</tr>
<tr>
<td>find_module_batch</td>
<td>批量查询某业务的模块详情</td>
</tr>
<tr>
<td>find_module_host_relation</td>
<td>根据模块 ID 查询主机和模块的关系</td>
</tr>
<tr>
<td>find_set_batch</td>
<td>批量查询某业务的集群详情</td>
</tr>
<tr>
<td>find_topo_node_paths</td>
<td>查询业务拓扑节点的拓扑路径</td>
</tr>
<tr>
<td>list_resource_pool_hosts</td>
<td>查询资源池中的主机</td>
</tr>
<tr>
<td>list_set_template</td>
<td>查询集群模板</td>
</tr>
<tr>
<td>list_set_template_related_service_template</td>
<td>获取某集群模版下的服务模版列表</td>
</tr>
<tr>
<td>resource_watch</td>
<td>监听资源变化事件</td>
</tr>
<tr>
<td>search_hostidentifier</td>
<td>根据条件查询主机身份</td>
</tr>
<tr>
<td>search_related_inst_asso</td>
<td>查询某实例所有的关联关系（包含其作为关联关系原模型和关联关系目标模型的情况）</td>
</tr>
<tr>
<td>search_topo_tree</td>
<td>搜索业务拓扑树</td>
</tr>
<tr>
<td>sync_set_template_to_set</td>
<td>集群模板同步</td>
</tr>
<tr>
<td>update_biz_custom_field</td>
<td>更新业务自定义模型属性</td>
</tr>
<tr>
<td>update_set_template</td>
<td>编辑集群模板</td>
</tr>
</tbody>
</table>
<h2 id="gse">GSE</h2>
<table>
    <tr>
        <th> GSE 接口</th>
        <th>任务结果协议格式规范化</th>
        <th>描述</th>
    </tr>
    <tr>
        <td>getTaskRst</td>
        <td rowspan="7">"规范化前  --> 规范化后 <br>
            errcode  -> error_code<br>
            errmsg -> error_msg<br>
            starttime -> start_time<br>
            endtime  -> end_time<br>
            screenkey -> screen_key <br>
            screenctx -> screen_all"
        </td>
        <td rowspan="7">
            " GSE 任务结果的协议字段中，<br>
            将规范化前的 key，转化为规范后的 key
        </td>
    </tr>
    <tr>
        <td>getTaskDetailRst</td>
    </tr>
    <tr>
        <td>getTaskInfo</td>
    </tr>
    <tr>
        <td>getPushFileRst</td>
    </tr>
    <tr>
        <td>getCopyFileRst</td>
    </tr>
    <tr>
        <td>getProcStatus</td>
    </tr>
</table>

<h2 id="job">JOB</h2>
<h3 id="_4">下线接口</h3>
<table>
<thead>
<tr>
<th>要下线 job api 对应的 esb api 地址</th>
<th>替换使用 esb api 地址</th>
</tr>
</thead>
<tbody>
<tr>
<td>/api/c/compapi/job/execute_task/</td>
<td>/api/v2/execute_job</td>
</tr>
<tr>
<td>/api/c/compapi/job/change_cron_status/</td>
<td>/api/v2/update_cron_status</td>
</tr>
<tr>
<td>/api/c/compapi/job/execute_platform_task/</td>
<td>/api/v2/execute_platform_job</td>
</tr>
<tr>
<td>/api/c/compapi/job/execute_task_ext/</td>
<td>/api/v2/execute_job</td>
</tr>
<tr>
<td>/api/c/compapi/job/fast_execute_script/</td>
<td>/api/v2/fast_execute_script</td>
</tr>
<tr>
<td>/api/c/compapi/job/fast_push_file/</td>
<td>/api/v2/fast_push_file</td>
</tr>
<tr>
<td>/api/c/compapi/job/get_agent_status/</td>
<td>无</td>
</tr>
<tr>
<td>/api/c/compapi/job/get_cron/</td>
<td>/api/v2/get_cron_list</td>
</tr>
<tr>
<td>/api/c/compapi/job/get_proc_result/</td>
<td>/api/v2/get_proc_result</td>
</tr>
<tr>
<td>/api/c/compapi/job/get_task/</td>
<td>/api/v2/get_job_list</td>
</tr>
<tr>
<td>/api/c/compapi/job/get_task_detail/</td>
<td>/api/v2/get_job_detail</td>
</tr>
<tr>
<td>/api/c/compapi/job/get_task_ip_log/</td>
<td>/api/v2/get_job_instance_log</td>
</tr>
<tr>
<td>/api/c/compapi/job/get_task_result/</td>
<td>/api/v2/get_job_instance_status</td>
</tr>
<tr>
<td>/api/c/compapi/job/gse_proc_operate/</td>
<td>/api/v2/operate_process</td>
</tr>
<tr>
<td>/api/c/compapi/job/gse_push_file/</td>
<td>/api/v2/push_config_file</td>
</tr>
<tr>
<td>/api/c/compapi/job/gse_set_base_report/</td>
<td>/api/v2/set_base_report</td>
</tr>
<tr>
<td>/api/c/compapi/job/save_cron/</td>
<td>/api/v2/save_cron</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>接口名</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>callback_protocol</td>
<td>作业类回调报文描述</td>
</tr>
</tbody>
</table>
<h3 id="_5">变更接口协议 (输入或输出有调整)</h3>
<table>
<thead>
<tr>
<th>接口名</th>
<th>功能描述</th>
<th>变更信息</th>
</tr>
</thead>
<tbody>
<tr>
<td>execute_job</td>
<td>功能不兼容</td>
<td>出于产品设计和系统安全考虑，执行时不允许传入步骤(steps)参数，覆盖作业模板的参数<br>统一目标服务器参数(target_server)，用于替换之前的 custom_query_id/ip_list 参数传递目标服务器</td>
</tr>
<tr>
<td>fast_execute_script</td>
<td>新增传递参数</td>
<td>统一目标服务器参数(target_server)，用于替换之前的 custom_query_id/ip_list 参数传递目标服务器</td>
</tr>
<tr>
<td>fast_push_file</td>
<td>新增传递参数</td>
<td>统一目标服务器参数(target_server)，用于替换之前的 custom_query_id/ip_list 参数传递目标服务器</td>
</tr>
<tr>
<td>get_job_detail</td>
<td>新增返回参数</td>
<td>统一目标服务器参数(target_server)，用于替换之前的 custom_query_id/ip_list 参数返回目标服务器</td>
</tr>
<tr>
<td>get_job_instance_status</td>
<td>减少返回参数</td>
<td>减少返回参数 block_order、block_name、operation_list</td>
</tr>
<tr>
<td>get_job_list</td>
<td>减少传递返回参数</td>
<td>不用传递 tag_id 参数，减少返回参数 step_num、tag_id</td>
</tr>
<tr>
<td>get_step_instance_status</td>
<td>参数类型变更</td>
<td>bk_biz_id 参数 int 变更为 long</td>
</tr>
<tr>
<td>save_cron</td>
<td>参数类型变更</td>
<td>bk_biz_id、bk_job_id、cron_id 参数 int 变更为 long</td>
</tr>
<tr>
<td>update_cron_status</td>
<td>参数类型变更</td>
<td>bk_biz_id、cron_id 参数 int 变更为 long</td>
</tr>
</tbody>
</table>
<h3 id="_6">新增接口</h3>
<table>
<thead>
<tr>
<th>接口名</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>fast_execute_sql</td>
<td>快速执行 SQL</td>
</tr>
<tr>
<td>get_public_script_list</td>
<td>查询公共脚本列表</td>
</tr>
<tr>
<td>operate_job_instance</td>
<td>作业实例操作</td>
</tr>
<tr>
<td>operate_step_instance</td>
<td>步骤实例操作</td>
</tr>
<tr>
<td>push_config_file</td>
<td>分发配置文件</td>
</tr>
</tbody>
</table>
<h2 id="_7">监控平台</h2>
<h3 id="_8">下线接口</h3>
<table>
<thead>
<tr>
<th>接口名</th>
<th>功能描述</th>
<th>替换 API</th>
<th>替换 API 功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>alarm_instance</td>
<td>返回指定告警</td>
<td>search_event</td>
<td>查询事件</td>
</tr>
<tr>
<td>get_alarms</td>
<td>通过筛选条件获取指定告警</td>
<td>search_event</td>
<td>查询事件</td>
</tr>
<tr>
<td>list_alarm_instance</td>
<td>批量筛选告警</td>
<td>search_event</td>
<td>查询事件</td>
</tr>
<tr>
<td>query_data</td>
<td>图表数据查询</td>
<td>get_ts_data</td>
<td>获取 ES 数据</td>
</tr>
<tr>
<td>component_instance</td>
<td>返回指定组件</td>
<td>废弃</td>
<td></td>
</tr>
<tr>
<td>deploy_script_collector</td>
<td>下发脚本采集配置</td>
<td>废弃</td>
<td></td>
</tr>
<tr>
<td>export_alarm_strategy</td>
<td>导出监控策略</td>
<td>废弃</td>
<td></td>
</tr>
<tr>
<td>export_log_collector</td>
<td>导出日志采集配置</td>
<td>废弃</td>
<td></td>
</tr>
<tr>
<td>export_script_collector</td>
<td>导出脚本采集配置</td>
<td>废弃</td>
<td></td>
</tr>
<tr>
<td>import_alarm_strategy</td>
<td>导入监控策略</td>
<td>废弃</td>
<td></td>
</tr>
<tr>
<td>import_log_collector</td>
<td>导入日志采集配置</td>
<td>废弃</td>
<td></td>
</tr>
<tr>
<td>import_script_collector</td>
<td>导入脚本采集配置</td>
<td>废弃</td>
<td></td>
</tr>
<tr>
<td>list_component_instance</td>
<td>批量筛选组件</td>
<td>废弃</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="_9">新增接口</h3>
<table>
<thead>
<tr>
<th>接口名</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>add_shield</td>
<td>新增告警屏蔽</td>
</tr>
<tr>
<td>delete_alarm_strategy</td>
<td>删除告警策略</td>
</tr>
<tr>
<td>delete_notice_group</td>
<td>删除通知组</td>
</tr>
<tr>
<td>disable_shield</td>
<td>解除告警屏蔽</td>
</tr>
<tr>
<td>edit_shield</td>
<td>编辑告警屏蔽</td>
</tr>
<tr>
<td>get_collect_config_list</td>
<td>采集配置列表</td>
</tr>
<tr>
<td>get_collect_status</td>
<td>查询采集配置节点状态</td>
</tr>
<tr>
<td>get_es_data</td>
<td>获取监控链路时序数据</td>
</tr>
<tr>
<td>get_event_log</td>
<td>查询事件流转记录</td>
</tr>
<tr>
<td>get_shield</td>
<td>获取告警屏蔽</td>
</tr>
<tr>
<td>get_ts_data</td>
<td>获取 ES 数据</td>
</tr>
<tr>
<td>get_uptime_check_node_list</td>
<td>拨测节点列表</td>
</tr>
<tr>
<td>get_uptime_check_task_list</td>
<td>拨测任务列表</td>
</tr>
<tr>
<td>list_shield</td>
<td>获取告警屏蔽列表</td>
</tr>
<tr>
<td>metadata_create_cluster_info</td>
<td>创建存储集群信息</td>
</tr>
<tr>
<td>metadata_create_data_id</td>
<td>创建监控数据源</td>
</tr>
<tr>
<td>metadata_create_event_group</td>
<td>创建事件分组</td>
</tr>
<tr>
<td>metadata_create_result_table</td>
<td>创建监控结果表</td>
</tr>
<tr>
<td>metadata_create_result_table_metric_split</td>
<td>创建结果表的维度拆分配置</td>
</tr>
<tr>
<td>metadata_create_time_series_group</td>
<td>创建自定义时序分组</td>
</tr>
<tr>
<td>metadata_delete_event_group</td>
<td>删除事件分组</td>
</tr>
<tr>
<td>metadata_delete_time_series_group</td>
<td>删除自定义时序分组</td>
</tr>
<tr>
<td>metadata_get_cluster_info</td>
<td>查询指定存储集群信息</td>
</tr>
<tr>
<td>metadata_get_data_id</td>
<td>获取监控数据源具体信息</td>
</tr>
<tr>
<td>metadata_get_event_group</td>
<td>查询事件分组具体内容</td>
</tr>
<tr>
<td>metadata_get_result_table</td>
<td>获取监控结果表具体信息</td>
</tr>
<tr>
<td>metadata_get_result_table_storage</td>
<td>查询指定结果表的指定存储信息</td>
</tr>
<tr>
<td>metadata_get_time_series_group</td>
<td>获取自定义时序分组具体内容</td>
</tr>
<tr>
<td>metadata_get_time_series_metrics</td>
<td>获取自定义时序结果表的 metrics 信息</td>
</tr>
<tr>
<td>metadata_list_label</td>
<td>查询当前已有的标签信息</td>
</tr>
<tr>
<td>metadata_list_result_table</td>
<td>查询监控结果表</td>
</tr>
<tr>
<td>metadata_modify_cluster_info</td>
<td>修改存储集群信息</td>
</tr>
<tr>
<td>metadata_modify_data_id</td>
<td>修改指定数据源的配置信息</td>
</tr>
<tr>
<td>metadata_modify_event_group</td>
<td>修改事件分组</td>
</tr>
<tr>
<td>metadata_modify_result_table</td>
<td>修改监控结果表</td>
</tr>
<tr>
<td>metadata_modify_time_series_group</td>
<td>修改自定义时序分组</td>
</tr>
<tr>
<td>metadata_query_event_group</td>
<td>创建事件分组</td>
</tr>
<tr>
<td>metadata_query_tag_values</td>
<td>获取自定义时序分组具体内容</td>
</tr>
<tr>
<td>metadata_query_time_series_group</td>
<td>查询事件分组</td>
</tr>
<tr>
<td>metadata_upgrade_result_table</td>
<td>将指定的监控单业务结果表升级为全业务结果表</td>
</tr>
<tr>
<td>query_collect_config</td>
<td>查询采集配置</td>
</tr>
<tr>
<td>save_alarm_strategy</td>
<td>保存告警策略</td>
</tr>
<tr>
<td>save_collect_config</td>
<td>创建/保存采集配置</td>
</tr>
<tr>
<td>save_notice_group</td>
<td>保存通知组</td>
</tr>
<tr>
<td>search_alarm_strategy</td>
<td>查询告警策略</td>
</tr>
<tr>
<td>search_event</td>
<td>查询事件</td>
</tr>
<tr>
<td>search_notice_group</td>
<td>查询通知组</td>
</tr>
<tr>
<td>switch_alarm_strategy</td>
<td>启停告警策略</td>
</tr>
</tbody>
</table>
<h2 id="_10">标准运维</h2>
<h3 id="_11">新增接口</h3>
<table>
<thead>
<tr>
<th>接口名</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>fast_create_task</td>
<td>快速新建一次性任务</td>
</tr>
<tr>
<td>get_plugin_list</td>
<td>查询某个业务下的插件列表</td>
</tr>
<tr>
<td>get_tasks_status</td>
<td>批量查询任务状态</td>
</tr>
<tr>
<td>get_task_node_data</td>
<td>获取节点执行数据</td>
</tr>
<tr>
<td>get_template_schemes</td>
<td>获取模板执行方案列表</td>
</tr>
<tr>
<td>get_user_project_detail</td>
<td>获取项目详情</td>
</tr>
<tr>
<td>get_user_project_list</td>
<td>获取用户有权限的项目列表</td>
</tr>
<tr>
<td>import_project_template</td>
<td>导入业务流程模板</td>
</tr>
<tr>
<td>operate_node</td>
<td>操作任务中的节点</td>
</tr>
<tr>
<td>preview_task_tree</td>
<td>获取节点选择后新的任务树</td>
</tr>
</tbody>
</table>
    </body>
    </html>
    