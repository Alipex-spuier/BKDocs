# 集群节点管理

> 注：通过KubeConfig导入的集群无法进行添加节点操作。

## 添加节点

### 前提条件

- 已登录蓝鲸平台。
- 当前用户在权限中心已被授予容器管理平台（bk_bcs_app）中对应项目的**项目查看**以及对应集群的**集群查看**和**集群管理**权限。
- 若从已有服务器添加节点，用户需在容器项目关联的CMDB业务中担任**业务运维**角色，或为主机的主负责人或备份负责人。

### 腾讯云TKE集群

- **节点来源**：已有服务器或从节点池添加
- **已有服务器**：
    - **选择节点**：从CMDB业务主机拓扑中选择已有服务器。
    - **登录方式**：
        - **密码登录**：设置root密码。
        - **SSH密钥登录**：选择公钥并配置私钥。公钥保存在 `~/.ssh/authorized_keys`，私钥用于安装gse_agent。
- **从节点池添加**：
    - **节点池**：选择已有节点池（节点池创建可参考[集群弹性伸缩](./CA.md)）。
    - **添加节点数量**：根据节点池配额决定可添加的节点上限。

完成配置后，点击**确认**按钮启动TKE节点添加流程。节点状态会实时显示在集群列表中，可通过日志查看添加进度。如果节点上架失败，可针对失败节点进行重试操作。

## 节点运维

- **允许/停止调度**：控制节点的调度状态。
- **设置标签**：为节点添加自定义标签。
- **设置污点**：配置节点污点以影响Pod调度。
- **Pod驱逐**：驱逐节点上的Pod至其他节点。
- **删除节点**：停止调度后，允许删除节点。对于上架失败的节点，可直接销毁。