# 导入外部集群

容器管理平台支持导入公有云K8S集群，如腾讯云和谷歌云，同时也支持通过Kubeconfig文件导入其他任意K8S集群。

## 前提条件

- 已登录蓝鲸平台。
- 当前用户在权限中心已被授予容器管理平台（bk_bcs_app）的**项目查看**和**集群创建**权限。
- 用户在容器项目关联的CMDB业务中为**业务运维**角色。

## 导入方式

### 1. 通过云凭证导入

此方式通过各云服务商的云凭证对集群进行导入。不同云服务商提供不同的云凭证，目前支持腾讯云，谷歌云。
- **优点**：
  - 支持扩展对云资源的管控。
  - 能够实现集群管理、节点添加、负载均衡等操作。

### 2. 通过Kubeconfig文件导入

此方式通过集群的Kubeconfig文件实现集群接入。
- **优点**：
  - 兼容各种K8S集群，不限于云服务商。
  - 可实现对K8S集群内资源的控制。
- **缺点**：
  - 无法对云平台上的其他资源进行管理，如集群本身、节点管理、负载均衡配置等。

## 导入步骤

### 1. 进入导入集群界面

顶部导航栏中，选择**集群管理**进入集群管理页面。点击页面中的**添加集群**按钮。

### 2. 填写导入集群信息

#### 通过云凭证导入

在导入外部集群的分类中，点击**公有云集群**。此时可以看到多个云厂商（如腾讯云、谷歌云等）的选择项。选中一个公有云厂商开始填写信息。

- **集群名称**：为导入的集群设置一个易于识别的名称。
- **集群描述**：填写集群的相关描述，便于理解和管理。
- **云凭证**：选择项目管理中已配置的[云凭证](../ProjectManager/CloudToken.md)。
- **所属区域**：选择云厂商支持的地域。
- **云集群ID**：通过云凭证获取的集群ID。
- **集群访问网络**（腾讯云特有）：选择内网访问或外网访问方式。
- **管控区域**：选择蓝鲸节点管理（GSEAgent）的管控区域。

#### 通过KubeConfig文件导入步骤

- **集群名称**：填写集群名称
- **集群描述**：填写集群描述
- **集群KubeConfig**：可通过文件上传，或直接在文本框中粘贴Kubeconfig文件的内容

### 3. 可用性测试并导入

点击**可用性测试**按钮，系统将验证所填写的导入集群信息。通过测试后，点击**导入**按钮启动集群导入流程。


