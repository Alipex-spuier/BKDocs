# 1   样本管理

场景化建模中需要使用样本管理功能，场景化建模包括下列步骤：

1)   确认场景：根据需求确认建模场景；

2)   样本准备：构建样本数据、并进行标注；

3)   特征工程：模型构建时和模型应用时，不同的数据流都会经过相同的步骤；

4)   模型训练&评估：选择算法进行训练，根据评估结果调整超参；

5)   发布模型：包括模型记录的发布、管理；

6)   应用模型：将业务数据应用到已发布的模型；

7)   样本闭环：在场景化建模中将为模型应用者提供应用数据的标注反馈功能。经过人工确认、修改后的模型检测结果将作为已标注的样本数据反馈至样本集，以供模型后续优化升级，形成闭环。在单指标异常检测场景中，从样本集的构建到样本集的使用（模型构建），用流程图表示如下，其中红框部分需要依赖样本集管理：

![image-20210508162319135](./assets/00.png)

 

# 2   功能介绍

## 2.1    创建样本集

用户可在自己的项目下创建样本集，入口位于用户中心。目前仅支持自定义场景的样本集管理。

![image-20210508162337118](./assets/image-20210508162337118.png)

## 2.2    添加样本数据

在样本数据 tab 可添加样本数据，首先选择待添加样本所在的结果数据，如下图所示：

![image-20210508162345376](./assets/image-20210508162345376.png)

可以根据需要对结果数据进行分组。

![image-20210508162351221](./assets/image-20210508162351221.png)

选择完结果数据后，可以配置/映射该结果数据的其他特征字段。首次添加样本数据时将以该结果数据的字段和数据频率作为样本集的原始字段和数据频率标准，不可再修改，后续添加的其他结果数据都必须满足此标准。

![image-20210508162401588](./assets/image-20210508162401588.png)

确认时序属性，如果与样本集数据频率不一致则需要进行聚合。

![image-20210508162407097](./assets/image-20210508162407097.png)

打开自动添加样本，以将数据自动导入样本集。

![image-20210508162412668](./assets/image-20210508162412668.png)

## 2.3    标注样本数据

首先选择【全部曲线】，进行标注定义。

![image-20210508162417215](./assets/image-20210508162417215.png)

![image-20210508162517203](./assets/image-20210508162517203.png)

目前仅支持通过标注映射的方式进行样本数据标注。可以通过值映射、脚本映射两种方式进行。

![image-20210508162525078](./assets/image-20210508162525078.png)

![image-20210508162529457](./assets/image-20210508162529457.png)

 

## 2.4    提交样本集

完成样本集的编辑后，即可提交。

![image-20210508162538180](./assets/image-20210508162538180.png)

等待计算任务执行完成，即可进行数据预览。

![image-20210508162629314](./assets/image-20210508162629314.png)

基本信息 tab 也可查看当前样本集的各种属性和概览。

![image-20210508162633895](./assets/image-20210508162633895.png)