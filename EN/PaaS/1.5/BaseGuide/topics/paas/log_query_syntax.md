# Log Query Syntax

## Introduction

BlueKing Logs use Elasticsearch for storage, and you can query logs using Elasticsearch's syntax. This article introduces common query syntax.

### Keyword Query

Search for records containing a specific keyword, such as `error msg`

- Exact Query: By default, the search keyword will be tokenized. For exact matching, please enclose the keyword in English double quotes, e.g., `"error msg"`

### Field Name Query

Query based on the specified field name

- Query logs with error level: `json.levelname:ERROR`
- Query logs containing Traceback or error: `json.message:Traceback error`

### Wildcard Query

Use wildcard characters to query, where ? represents a single character and * represents 0 or more characters

- Query logs generated by functions starting with get_staff: `json.funcName:get_staff*`

### Boolean Operators

Support operators AND, OR, NOT (also written as &&, ||, !), NOT takes precedence over AND, and AND takes precedence over OR.

- Query logs that are not of ERROR level: `NOT json.levelname:ERROR`
- Query logs with ERROR or CRITICAL level: `json.levelname:(ERROR OR CRITICAL)`
- Query logs with ERROR level or messages containing error: `json.levelname:ERROR OR json.message:error`
- Query logs with ERROR level and function name get_staff_info: `json.levelname: ERROR AND json.funcName: get_staff_info`

**Note**:

- If the search content contains special characters such as `\ + - && || ! () {} [] ^" ~ * ? : \` etc., they need to be escaped with a backslash \, e.g., `\"keyword`.
- The above query syntax are commonly used queries. For other queries, refer to: [Elasticsearch Query String Syntax Documentation](https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax)